/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@walletconnect";
exports.ids = ["vendor-chunks/@walletconnect"];
exports.modules = {

/***/ "(ssr)/./node_modules/@walletconnect/core/dist/index.es.js":
/*!***********************************************************!*\
  !*** ./node_modules/@walletconnect/core/dist/index.es.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CORE_CONTEXT: () => (/* binding */ pe),\n/* harmony export */   CORE_DEFAULT: () => (/* binding */ It),\n/* harmony export */   CORE_PROTOCOL: () => (/* binding */ Ue),\n/* harmony export */   CORE_STORAGE_OPTIONS: () => (/* binding */ Tt),\n/* harmony export */   CORE_STORAGE_PREFIX: () => (/* binding */ W),\n/* harmony export */   CORE_VERSION: () => (/* binding */ Fe),\n/* harmony export */   CRYPTO_CLIENT_SEED: () => (/* binding */ Me),\n/* harmony export */   CRYPTO_CONTEXT: () => (/* binding */ Ct),\n/* harmony export */   CRYPTO_JWT_TTL: () => (/* binding */ Pt),\n/* harmony export */   Core: () => (/* binding */ ta),\n/* harmony export */   Crypto: () => (/* binding */ Ei),\n/* harmony export */   ECHO_CONTEXT: () => (/* binding */ Qt),\n/* harmony export */   ECHO_URL: () => (/* binding */ ei),\n/* harmony export */   EVENTS_CLIENT_API_URL: () => (/* binding */ ri),\n/* harmony export */   EVENTS_STORAGE_CLEANUP_INTERVAL: () => (/* binding */ si),\n/* harmony export */   EVENTS_STORAGE_CONTEXT: () => (/* binding */ ii),\n/* harmony export */   EVENTS_STORAGE_VERSION: () => (/* binding */ ti),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_ERRORS: () => (/* binding */ ar),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_TRACES: () => (/* binding */ or),\n/* harmony export */   EVENT_CLIENT_CONTEXT: () => (/* binding */ sr),\n/* harmony export */   EVENT_CLIENT_PAIRING_ERRORS: () => (/* binding */ X),\n/* harmony export */   EVENT_CLIENT_PAIRING_TRACES: () => (/* binding */ Y),\n/* harmony export */   EVENT_CLIENT_SESSION_ERRORS: () => (/* binding */ nr),\n/* harmony export */   EVENT_CLIENT_SESSION_TRACES: () => (/* binding */ rr),\n/* harmony export */   EXPIRER_CONTEXT: () => (/* binding */ Wt),\n/* harmony export */   EXPIRER_DEFAULT_TTL: () => (/* binding */ tr),\n/* harmony export */   EXPIRER_EVENTS: () => (/* binding */ q),\n/* harmony export */   EXPIRER_STORAGE_VERSION: () => (/* binding */ Ht),\n/* harmony export */   EchoClient: () => (/* binding */ qi),\n/* harmony export */   EventClient: () => (/* binding */ Wi),\n/* harmony export */   Expirer: () => (/* binding */ Ki),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ qt),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ V),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Gt),\n/* harmony export */   JsonRpcHistory: () => (/* binding */ Mi),\n/* harmony export */   KEYCHAIN_CONTEXT: () => (/* binding */ St),\n/* harmony export */   KEYCHAIN_STORAGE_VERSION: () => (/* binding */ Ot),\n/* harmony export */   KeyChain: () => (/* binding */ _i),\n/* harmony export */   MESSAGES_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   MESSAGES_STORAGE_VERSION: () => (/* binding */ At),\n/* harmony export */   MESSAGE_DIRECTION: () => (/* binding */ ye),\n/* harmony export */   MessageTracker: () => (/* binding */ Ti),\n/* harmony export */   PAIRING_CONTEXT: () => (/* binding */ Bt),\n/* harmony export */   PAIRING_DEFAULT_TTL: () => (/* binding */ er),\n/* harmony export */   PAIRING_EVENTS: () => (/* binding */ ae),\n/* harmony export */   PAIRING_RPC_OPTS: () => (/* binding */ oe),\n/* harmony export */   PAIRING_STORAGE_VERSION: () => (/* binding */ Vt),\n/* harmony export */   PENDING_SUB_RESOLUTION_TIMEOUT: () => (/* binding */ Qs),\n/* harmony export */   PUBLISHER_CONTEXT: () => (/* binding */ Nt),\n/* harmony export */   PUBLISHER_DEFAULT_TTL: () => (/* binding */ xt),\n/* harmony export */   Pairing: () => (/* binding */ Fi),\n/* harmony export */   RELAYER_CONTEXT: () => (/* binding */ Lt),\n/* harmony export */   RELAYER_DEFAULT_LOGGER: () => (/* binding */ zt),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ $t),\n/* harmony export */   RELAYER_DEFAULT_RELAY_URL: () => (/* binding */ Ke),\n/* harmony export */   RELAYER_EVENTS: () => (/* binding */ C),\n/* harmony export */   RELAYER_PROVIDER_EVENTS: () => (/* binding */ M),\n/* harmony export */   RELAYER_RECONNECT_TIMEOUT: () => (/* binding */ jt),\n/* harmony export */   RELAYER_SDK_VERSION: () => (/* binding */ Pe),\n/* harmony export */   RELAYER_STORAGE_OPTIONS: () => (/* binding */ Js),\n/* harmony export */   RELAYER_SUBSCRIBER_SUFFIX: () => (/* binding */ kt),\n/* harmony export */   RELAYER_TRANSPORT_CUTOFF: () => (/* binding */ Xs),\n/* harmony export */   Relayer: () => (/* binding */ xi),\n/* harmony export */   STORE_STORAGE_VERSION: () => (/* binding */ Ut),\n/* harmony export */   SUBSCRIBER_CONTEXT: () => (/* binding */ Mt),\n/* harmony export */   SUBSCRIBER_DEFAULT_TTL: () => (/* binding */ Zs),\n/* harmony export */   SUBSCRIBER_EVENTS: () => (/* binding */ U),\n/* harmony export */   SUBSCRIBER_STORAGE_VERSION: () => (/* binding */ Kt),\n/* harmony export */   Store: () => (/* binding */ Ui),\n/* harmony export */   Subscriber: () => (/* binding */ Oi),\n/* harmony export */   TRANSPORT_TYPES: () => (/* binding */ ee),\n/* harmony export */   TRUSTED_VERIFY_URLS: () => (/* binding */ Zt),\n/* harmony export */   VERIFY_CONTEXT: () => (/* binding */ Yt),\n/* harmony export */   VERIFY_SERVER: () => (/* binding */ be),\n/* harmony export */   VERIFY_SERVER_V3: () => (/* binding */ Xt),\n/* harmony export */   Verify: () => (/* binding */ Bi),\n/* harmony export */   WALLETCONNECT_CLIENT_ID: () => (/* binding */ Ft),\n/* harmony export */   WALLETCONNECT_LINK_MODE_APPS: () => (/* binding */ Be),\n/* harmony export */   \"default\": () => (/* binding */ Oe)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/heartbeat */ \"(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\");\n/* harmony import */ var _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/keyvaluestorage */ \"(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @walletconnect/jsonrpc-ws-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nconst Ue=\"wc\",Fe=2,pe=\"core\",W=`${Ue}@2:${pe}:`,It={name:pe,logger:\"error\"},Tt={database:\":memory:\"},Ct=\"crypto\",Me=\"client_ed25519_seed\",Pt=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,St=\"keychain\",Ot=\"0.3\",Rt=\"messages\",At=\"0.3\",xt=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.SIX_HOURS,Nt=\"publisher\",$t=\"irn\",zt=\"error\",Ke=\"wss://relay.walletconnect.org\",Lt=\"relayer\",C={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},kt=\"_subscription\",M={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},jt=.1,Js={database:\":memory:\"},Pe=\"2.21.8\",Xs=1e4,ee={link_mode:\"link_mode\",relay:\"relay\"},ye={inbound:\"inbound\",outbound:\"outbound\"},Ut=\"0.3\",Ft=\"WALLETCONNECT_CLIENT_ID\",Be=\"WALLETCONNECT_LINK_MODE_APPS\",U={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},Zs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,Mt=\"subscription\",Kt=\"0.3\",Qs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS*1e3,Bt=\"pairing\",Vt=\"0.3\",er=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,oe={wc_pairingDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0}}},ae={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},V={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},qt=\"history\",Gt=\"0.3\",Wt=\"expirer\",q={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},Ht=\"0.3\",tr=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Yt=\"verify-api\",ir=\"https://verify.walletconnect.com\",Jt=\"https://verify.walletconnect.org\",be=Jt,Xt=`${be}/v3`,Zt=[ir,Jt],Qt=\"echo\",ei=\"https://echo.walletconnect.com\",sr=\"event-client\",Y={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},X={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},rr={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\"},nr={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\"},or={authenticated_session_approve_started:\"authenticated_session_approve_started\",authenticated_session_not_expired:\"authenticated_session_not_expired\",chains_caip2_compliant:\"chains_caip2_compliant\",chains_evm_compliant:\"chains_evm_compliant\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\",authenticated_session_approve_publish_success:\"authenticated_session_approve_publish_success\"},ar={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",missing_session_authenticate_request:\"missing_session_authenticate_request\",session_authenticate_request_expired:\"session_authenticate_request_expired\",chains_caip2_compliant_failure:\"chains_caip2_compliant_failure\",chains_evm_compliant_failure:\"chains_evm_compliant_failure\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},ti=.1,ii=\"event-client\",si=86400,ri=\"https://pulse.walletconnect.org/batch\";function cr(r,e){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+\" is ambiguous\");t[o]=s}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function p(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(u.length===0)return\"\";for(var m=0,D=0,_=0,E=u.length;_!==E&&u[_]===0;)_++,m++;for(var L=(E-_)*l+1>>>0,I=new Uint8Array(L);_!==E;){for(var k=u[_],T=0,S=L-1;(k!==0||T<D)&&S!==-1;S--,T++)k+=256*I[S]>>>0,I[S]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error(\"Non-zero carry\");D=T,_++}for(var O=L-D;O!==L&&I[O]===0;)O++;for(var te=c.repeat(m);O<L;++O)te+=r.charAt(I[O]);return te}function y(u){if(typeof u!=\"string\")throw new TypeError(\"Expected String\");if(u.length===0)return new Uint8Array;var m=0;if(u[m]!==\" \"){for(var D=0,_=0;u[m]===c;)D++,m++;for(var E=(u.length-m)*h+1>>>0,L=new Uint8Array(E);u[m];){var I=t[u.charCodeAt(m)];if(I===255)return;for(var k=0,T=E-1;(I!==0||k<_)&&T!==-1;T--,k++)I+=a*L[T]>>>0,L[T]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error(\"Non-zero carry\");_=k,m++}if(u[m]!==\" \"){for(var S=E-_;S!==E&&L[S]===0;)S++;for(var O=new Uint8Array(D+(E-S)),te=D;S!==E;)O[te++]=L[S++];return O}}}function w(u){var m=y(u);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:y,decode:w}}var hr=cr,lr=hr;const ni=r=>{if(r instanceof Uint8Array&&r.constructor.name===\"Uint8Array\")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error(\"Unknown type, must be binary type\")},ur=r=>new TextEncoder().encode(r),dr=r=>new TextDecoder().decode(r);class gr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class pr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return oi(this,e)}}class yr{constructor(e){this.decoders=e}or(e){return oi(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const oi=(r,e)=>new yr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class br{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new gr(e,t,i),this.decoder=new pr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Se=({name:r,prefix:e,encode:t,decode:i})=>new br(r,e,t,i),me=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=lr(t,e);return Se({prefix:r,name:e,encode:i,decode:n=>ni(s(n))})},mr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]===\"=\";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const p=s[r[l]];if(p===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|p,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},fr=(r,e,t)=>{const i=e[e.length-1]===\"=\",s=(1<<t)-1;let n=\"\",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+=\"=\";return n},A=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Se({prefix:e,name:r,encode(s){return fr(s,i,t)},decode(s){return mr(s,i,t,r)}}),Dr=Se({prefix:\"\\0\",name:\"identity\",encode:r=>dr(r),decode:r=>ur(r)});var vr=Object.freeze({__proto__:null,identity:Dr});const wr=A({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var _r=Object.freeze({__proto__:null,base2:wr});const Er=A({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Ir=Object.freeze({__proto__:null,base8:Er});const Tr=me({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var Cr=Object.freeze({__proto__:null,base10:Tr});const Pr=A({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Sr=A({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Or=Object.freeze({__proto__:null,base16:Pr,base16upper:Sr});const Rr=A({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Ar=A({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),xr=A({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),Nr=A({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),$r=A({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),zr=A({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),Lr=A({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),kr=A({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),jr=A({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var Ur=Object.freeze({__proto__:null,base32:Rr,base32upper:Ar,base32pad:xr,base32padupper:Nr,base32hex:$r,base32hexupper:zr,base32hexpad:Lr,base32hexpadupper:kr,base32z:jr});const Fr=me({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),Mr=me({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var Kr=Object.freeze({__proto__:null,base36:Fr,base36upper:Mr});const Br=me({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Vr=me({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var qr=Object.freeze({__proto__:null,base58btc:Br,base58flickr:Vr});const Gr=A({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),Wr=A({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),Hr=A({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),Yr=A({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var Jr=Object.freeze({__proto__:null,base64:Gr,base64pad:Wr,base64url:Hr,base64urlpad:Yr});const ai=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),Xr=ai.reduce((r,e,t)=>(r[t]=e,r),[]),Zr=ai.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Qr(r){return r.reduce((e,t)=>(e+=Xr[t],e),\"\")}function en(r){const e=[];for(const t of r){const i=Zr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const tn=Se({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:Qr,decode:en});var sn=Object.freeze({__proto__:null,base256emoji:tn}),rn=hi,ci=128,nn=127,on=~nn,an=Math.pow(2,31);function hi(r,e,t){e=e||[],t=t||0;for(var i=t;r>=an;)e[t++]=r&255|ci,r/=128;for(;r&on;)e[t++]=r&255|ci,r>>>=7;return e[t]=r|0,hi.bytes=t-i+1,e}var cn=Ve,hn=128,li=127;function Ve(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Ve.bytes=0,new RangeError(\"Could not decode varint\");o=r[n++],t+=s<28?(o&li)<<s:(o&li)*Math.pow(2,s),s+=7}while(o>=hn);return Ve.bytes=n-i,t}var ln=Math.pow(2,7),un=Math.pow(2,14),dn=Math.pow(2,21),gn=Math.pow(2,28),pn=Math.pow(2,35),yn=Math.pow(2,42),bn=Math.pow(2,49),mn=Math.pow(2,56),fn=Math.pow(2,63),Dn=function(r){return r<ln?1:r<un?2:r<dn?3:r<gn?4:r<pn?5:r<yn?6:r<bn?7:r<mn?8:r<fn?9:10},vn={encode:rn,decode:cn,encodingLength:Dn},ui=vn;const di=(r,e,t=0)=>(ui.encode(r,e,t),e),gi=r=>ui.encodingLength(r),qe=(r,e)=>{const t=e.byteLength,i=gi(r),s=i+gi(t),n=new Uint8Array(s+t);return di(r,n,0),di(t,n,i),n.set(e,s),new wn(r,t,e,n)};class wn{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const pi=({name:r,code:e,encode:t})=>new _n(r,e,t);class _n{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?qe(this.code,t):t.then(i=>qe(this.code,i))}else throw Error(\"Unknown type, must be binary type\")}}const yi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),En=pi({name:\"sha2-256\",code:18,encode:yi(\"SHA-256\")}),In=pi({name:\"sha2-512\",code:19,encode:yi(\"SHA-512\")});var Tn=Object.freeze({__proto__:null,sha256:En,sha512:In});const bi=0,Cn=\"identity\",mi=ni,Pn=r=>qe(bi,mi(r)),Sn={code:bi,name:Cn,encode:mi,digest:Pn};var On=Object.freeze({__proto__:null,identity:Sn});new TextEncoder,new TextDecoder;const fi={...vr,..._r,...Ir,...Cr,...Or,...Ur,...Kr,...qr,...Jr,...sn};({...Tn,...On});function Di(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Rn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Di(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function vi(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const wi=vi(\"utf8\",\"u\",r=>\"u\"+new TextDecoder(\"utf8\").decode(r),r=>new TextEncoder().encode(r.substring(1))),Ge=vi(\"ascii\",\"a\",r=>{let e=\"a\";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Rn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),An={utf8:wi,\"utf-8\":wi,hex:fi.base16,latin1:Ge,ascii:Ge,binary:Ge,...fi};function xn(r,e=\"utf8\"){const t=An[e];if(!t)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Di(globalThis.Buffer.from(r,\"utf-8\")):t.decoder.decode(`${t.prefix}${r}`)}var Nn=Object.defineProperty,$n=(r,e,t)=>e in r?Nn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J=(r,e,t)=>$n(r,typeof e!=\"symbol\"?e+\"\":e,t);class _i{constructor(e,t){this.core=e,this.logger=t,J(this,\"keychain\",new Map),J(this,\"name\",St),J(this,\"version\",Ot),J(this,\"initialized\",!1),J(this,\"storagePrefix\",W),J(this,\"init\",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<\"u\"&&(this.keychain=i),this.initialized=!0}}),J(this,\"has\",i=>(this.isInitialized(),this.keychain.has(i))),J(this,\"set\",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),J(this,\"get\",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>\"u\"){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${i}`);throw new Error(n)}return s}),J(this,\"del\",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var zn=Object.defineProperty,Ln=(r,e,t)=>e in r?zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,x=(r,e,t)=>Ln(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ei{constructor(e,t,i){this.core=e,this.logger=t,x(this,\"name\",Ct),x(this,\"keychain\"),x(this,\"randomSessionIdentifier\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)()),x(this,\"initialized\",!1),x(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),x(this,\"hasKeys\",s=>(this.isInitialized(),this.keychain.has(s))),x(this,\"getClientId\",async()=>{this.isInitialized();const s=await this.getClientSeed(),n=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(s);return _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.encodeIss(n.publicKey)}),x(this,\"generateKeyPair\",()=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateKeyPair)();return this.setPrivateKey(s.publicKey,s.privateKey)}),x(this,\"signJWT\",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(n),a=this.randomSessionIdentifier,c=Pt;return await _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.signJWT(a,s,c,o)}),x(this,\"generateSharedKey\",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deriveSymKey)(a,n);return this.setSymKey(c,o)}),x(this,\"setSymKey\",async(s,n)=>{this.isInitialized();const o=n||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashKey)(s);return await this.keychain.set(o,s),o}),x(this,\"deleteKeyPair\",async s=>{this.isInitialized(),await this.keychain.del(s)}),x(this,\"deleteSymKey\",async s=>{this.isInitialized(),await this.keychain.del(s)}),x(this,\"encode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateEncoding)(o),c=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonStringify)(n);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a))return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encodeTypeTwoEnvelope)(c,o?.encoding);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const y=a.senderPublicKey,w=a.receiverPublicKey;s=await this.generateSharedKey(y,w)}const h=this.getSymKey(s),{type:l,senderPublicKey:p}=a;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encrypt)({type:l,symKey:h,message:c,senderPublicKey:p,encoding:o?.encoding})}),x(this,\"decode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateDecoding)(n,o);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a)){const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeTwoEnvelope)(n,o?.encoding);return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(c)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(s),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decrypt)({symKey:c,encoded:n,encoding:o?.encoding});return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),x(this,\"getPayloadType\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeByte)(o.type)}),x(this,\"getPayloadSenderPublicKey\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return o.senderPublicKey?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_7__.toString)(o.senderPublicKey,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE16):void 0}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.keychain=i||new _i(this.core,this.logger)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(Me)}catch{e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),await this.keychain.set(Me,e)}return xn(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var kn=Object.defineProperty,jn=Object.defineProperties,Un=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,We=(r,e,t)=>e in r?kn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kn=(r,e)=>{for(var t in e||(e={}))Fn.call(e,t)&&We(r,t,e[t]);if(Ii)for(var t of Ii(e))Mn.call(e,t)&&We(r,t,e[t]);return r},Bn=(r,e)=>jn(r,Un(e)),K=(r,e,t)=>We(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ti extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,K(this,\"messages\",new Map),K(this,\"messagesWithoutClientAck\",new Map),K(this,\"name\",Rt),K(this,\"version\",At),K(this,\"initialized\",!1),K(this,\"storagePrefix\",W),K(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const i=await this.getRelayerMessages();typeof i<\"u\"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<\"u\"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),K(this,\"set\",async(i,s,n)=>{this.isInitialized();const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);let a=this.messages.get(i);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=s,this.messages.set(i,a),n===ye.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,Bn(Kn({},c),{[o]:s}))}return await this.persist(),o}),K(this,\"get\",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>\"u\"&&(s={}),s}),K(this,\"getWithoutAck\",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),K(this,\"has\",(i,s)=>{this.isInitialized();const n=this.get(i),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);return typeof n[o]<\"u\"}),K(this,\"ack\",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>\"u\")return;const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),K(this,\"del\",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e,this.name),this.core=t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Vn=Object.defineProperty,qn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,Ci=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,He=(r,e,t)=>e in r?Vn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ce=(r,e)=>{for(var t in e||(e={}))Wn.call(e,t)&&He(r,t,e[t]);if(Ci)for(var t of Ci(e))Hn.call(e,t)&&He(r,t,e[t]);return r},Pi=(r,e)=>qn(r,Gn(e)),G=(r,e,t)=>He(r,typeof e!=\"symbol\"?e+\"\":e,t);class Yn extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,G(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),G(this,\"name\",Nt),G(this,\"queue\",new Map),G(this,\"publishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),G(this,\"initialPublishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),G(this,\"needsTransportRestart\",!1),G(this,\"publish\",async(i,s,n)=>{var o,a,c,h,l;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:i,message:s,opts:n}});const p=n?.ttl||xt,y=n?.prompt||!1,w=n?.tag||0,u=n?.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),m=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol),D={id:u,method:n?.publishMethod||m.publish,params:ce({topic:i,message:s,ttl:p,prompt:y,tag:w,attestation:n?.attestation},n?.tvf&&{tvf:n.tvf})},_=`Failed to publish payload, please try again. id:${u} tag:${w}`;try{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((o=D.params)==null?void 0:o.prompt)&&((a=D.params)==null||delete a.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((c=D.params)==null?void 0:c.tag)&&((h=D.params)==null||delete h.tag);const E=new Promise(async L=>{const I=({id:T})=>{var S;((S=D.id)==null?void 0:S.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(C.publish,I),L())};this.relayer.events.on(C.publish,I);const k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((T,S)=>{this.rpcPublish(D,n).then(T).catch(O=>{this.logger.warn(O,O?.message),S(O)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${w}`);try{await k,this.events.removeListener(C.publish,I)}catch(T){this.queue.set(u,{request:D,opts:n,attempt:1}),this.logger.warn(T,T?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:u,topic:i,message:s,opts:n}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(E,this.publishTimeout,_)}catch(E){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(E),(l=n?.internal)!=null&&l.throwOnFailedPublish)throw E}finally{this.queue.delete(u)}}),G(this,\"publishCustom\",async i=>{var s,n,o,a,c;this.logger.debug(\"Publishing custom payload\"),this.logger.trace({type:\"method\",method:\"publishCustom\",params:i});const{payload:h,opts:l={}}=i,{attestation:p,tvf:y,publishMethod:w,prompt:u,tag:m,ttl:D=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES}=l,_=l.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),E=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol),L=w||E.publish,I={id:_,method:L,params:ce(Pi(ce({},h),{ttl:D,prompt:u,tag:m,attestation:p}),y)},k=`Failed to publish custom payload, please try again. id:${_} tag:${m}`;try{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((s=I.params)==null?void 0:s.prompt)&&((n=I.params)==null||delete n.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((o=I.params)==null?void 0:o.tag)&&((a=I.params)==null||delete a.tag);const T=new Promise(async S=>{const O=({id:Z})=>{var _e;((_e=I.id)==null?void 0:_e.toString())===Z.toString()&&(this.removeRequestFromQueue(Z),this.relayer.events.removeListener(C.publish,O),S())};this.relayer.events.on(C.publish,O);const te=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((Z,_e)=>{this.rpcPublish(I,l).then(Z).catch(Ee=>{this.logger.warn(Ee,Ee?.message),_e(Ee)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${L} id:${_} tag:${m}`);try{await te,this.events.removeListener(C.publish,O)}catch(Z){this.queue.set(_,{request:I,opts:l,attempt:1}),this.logger.warn(Z,Z?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:_,payload:h,opts:l}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(T,this.publishTimeout,k)}catch(T){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(T),(c=l?.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(_)}}),G(this,\"on\",(i,s)=>{this.events.on(i,s)}),G(this,\"once\",(i,s)=>{this.events.once(i,s)}),G(this,\"off\",(i,s)=>{this.events.off(i,s)}),G(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async rpcPublish(e,t){this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:e});const i=await this.relayer.request(e);return this.relayer.events.emit(C.publish,ce(ce({},e),t)),this.logger.debug(\"Successfully Published Payload\"),i}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var i;const s=e.attempt+1;this.queue.set(t,Pi(ce({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(i=e.request.params)==null?void 0:i.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Jn=Object.defineProperty,Xn=(r,e,t)=>e in r?Jn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,he=(r,e,t)=>Xn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Zn{constructor(){he(this,\"map\",new Map),he(this,\"set\",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),he(this,\"get\",e=>this.map.get(e)||[]),he(this,\"exists\",(e,t)=>this.get(e).includes(t)),he(this,\"delete\",(e,t)=>{if(typeof t>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),he(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Qn=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,Si=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,Ye=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fe=(r,e)=>{for(var t in e||(e={}))io.call(e,t)&&Ye(r,t,e[t]);if(Si)for(var t of Si(e))so.call(e,t)&&Ye(r,t,e[t]);return r},Je=(r,e)=>eo(r,to(e)),f=(r,e,t)=>Ye(r,typeof e!=\"symbol\"?e+\"\":e,t);class Oi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f(this,\"subscriptions\",new Map),f(this,\"topicMap\",new Zn),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"name\",Mt),f(this,\"version\",Kt),f(this,\"pending\",new Map),f(this,\"cached\",[]),f(this,\"initialized\",!1),f(this,\"storagePrefix\",W),f(this,\"subscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),f(this,\"initialSubscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),f(this,\"clientId\"),f(this,\"batchSubscribeTopicsLimit\",500),f(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,\"subscribe\",async(i,s)=>{var n;this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}});try{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(s),a={topic:i,relay:o,transportType:s?.transportType};(n=s?.internal)!=null&&n.skipSubscribe||this.pending.set(i,a);const c=await this.rpcSubscribe(i,o,s);return typeof c==\"string\"&&(this.onSubscribe(c,a),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}})),c}catch(o){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(o),o}}),f(this,\"unsubscribe\",async(i,s)=>{this.isInitialized(),typeof s?.id<\"u\"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),f(this,\"isSubscribed\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),f(this,\"isKnownTopic\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),f(this,\"on\",(i,s)=>{this.events.on(i,s)}),f(this,\"once\",(i,s)=>{this.events.once(i,s)}),f(this,\"off\",(i,s)=>{this.events.off(i,s)}),f(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),f(this,\"start\",async()=>{await this.onConnect()}),f(this,\"stop\",async()=>{await this.onDisconnect()}),f(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),f(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),f(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(U.created,async i=>{const s=U.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()}),this.events.on(U.deleted,async i=>{const s=U.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.clientId=\"\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,i){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}});try{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s,n;const o=await this.getSubscriptionId(e);if((s=i?.internal)!=null&&s.skipSubscribe)return o;(!i||i?.transportType===ee.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const a={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:a});const c=(n=i?.internal)==null?void 0:n.throwOnFailedPublish;try{if(i?.transportType===ee.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(p=>this.logger.warn(p))},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),o;const h=new Promise(async p=>{const y=w=>{w.topic===e&&(this.events.removeListener(U.created,y),p(w.id))};this.events.on(U.created,y);try{const w=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((u,m)=>{this.relayer.request(a).catch(D=>{this.logger.warn(D,D?.message),m(D)}).then(u)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(U.created,y),p(w)}catch{}}),l=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(h,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return l?o:null}catch(h){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(C.connection_stalled),c)throw h}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});try{await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});let s;try{s=await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}return s}rpcUnsubscribe(e,t,i){const s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,Je(fe({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,fe({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,fe({},t)),this.topicMap.set(t.topic,e),this.events.emit(U.created,t)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(U.deleted,Je(fe({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(U.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(U.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size&&!e.every(t=>{var i;return t.topic===((i=this.subscriptions.get(t.id))==null?void 0:i.topic)})){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>Je(fe({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.sleep)((0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(e+await this.getClientId())}}var ro=Object.defineProperty,Ri=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?ro(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ai=(r,e)=>{for(var t in e||(e={}))no.call(e,t)&&Xe(r,t,e[t]);if(Ri)for(var t of Ri(e))oo.call(e,t)&&Xe(r,t,e[t]);return r},g=(r,e,t)=>Xe(r,typeof e!=\"symbol\"?e+\"\":e,t);class xi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IRelayer{constructor(e){super(e),g(this,\"protocol\",\"wc\"),g(this,\"version\",2),g(this,\"core\"),g(this,\"logger\"),g(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),g(this,\"provider\"),g(this,\"messages\"),g(this,\"subscriber\"),g(this,\"publisher\"),g(this,\"name\",Lt),g(this,\"transportExplicitlyClosed\",!1),g(this,\"initialized\",!1),g(this,\"connectionAttemptInProgress\",!1),g(this,\"relayUrl\"),g(this,\"projectId\"),g(this,\"packageName\"),g(this,\"bundleId\"),g(this,\"hasExperiencedNetworkDisruption\",!1),g(this,\"pingTimeout\"),g(this,\"heartBeatTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS+_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS)),g(this,\"reconnectTimeout\"),g(this,\"connectPromise\"),g(this,\"reconnectInProgress\",!1),g(this,\"requestsInFlight\",[]),g(this,\"connectTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),g(this,\"request\",async t=>{var i,s;this.logger.debug(\"Publishing Request Payload\");const n=t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(i=t.params)==null?void 0:i.topic},\"relayer.request - publishing...\");const o=`${n}:${((s=t.params)==null?void 0:s.tag)||\"\"}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),g(this,\"resetPingTimeout\",()=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,s,n;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(n=(s=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||n.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),g(this,\"onPayloadHandler\",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),g(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \\u{1F6DC}\"),this.startPingTimeout(),this.events.emit(C.connect)}),g(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \\u{1F6D1}\"),this.requestsInFlight=[],this.onProviderDisconnect()}),g(this,\"onProviderErrorHandler\",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(C.error,t),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),g(this,\"registerProviderListeners\",()=>{this.provider.on(M.payload,this.onPayloadHandler),this.provider.on(M.connect,this.onConnectHandler),this.provider.on(M.disconnect,this.onDisconnectHandler),this.provider.on(M.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<\"u\"&&typeof e.logger!=\"string\"?(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e.logger,this.name):(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:e.logger||zt})),this.messages=new Ti(this.logger,e.core),this.subscriber=new Oi(this,this.logger),this.publisher=new Yn(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ke,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAndroid)()?this.packageName=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)():(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isIos)()&&(this.bundleId=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)()),this.provider={}}async init(){this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:ee.relay},ye.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType===\"relay\")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>\"u\"?!0:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||\"\",c;const h=l=>{l.topic===e&&(this.subscriber.off(U.created,h),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(U.created,h)}),new Promise(async(l,p)=>{a=await this.subscriber.subscribe(e,Ai({internal:{throwOnFailedPublish:o}},t)).catch(y=>{o&&p(y)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,\"Error while processing batch message event: \"+s?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(C.message,e),await this.recordMessageEvent(e,ye.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error(\"Connection interrupted while trying to connect\"))};this.provider.once(M.disconnect,n),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(M.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(M.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(M.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,i,s,n;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__.JsonRpcProvider(new _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__[\"default\"]((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatRelayRpcUrl)({sdkVersion:Pe,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(e)){if(!e.method.endsWith(kt))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:ee.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(Ai({type:\"event\",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(e)&&this.events.emit(C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,ye.inbound),this.events.emit(C.message,e))}async acknowledgePayload(e){const t=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(M.payload,this.onPayloadHandler),this.provider.off(M.connect,this.onConnectHandler),this.provider.off(M.disconnect,this.onDisconnectHandler),this.provider.off(M.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)();(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.subscribeToNetworkChange)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAppVisible)())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(jt)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ao(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function Ni(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function $i(r){return r==null?r===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(r)}const co=\"[object RegExp]\",ho=\"[object String]\",lo=\"[object Number]\",uo=\"[object Boolean]\",zi=\"[object Arguments]\",go=\"[object Symbol]\",po=\"[object Date]\",yo=\"[object Map]\",bo=\"[object Set]\",mo=\"[object Array]\",fo=\"[object Function]\",Do=\"[object ArrayBuffer]\",Ze=\"[object Object]\",vo=\"[object Error]\",wo=\"[object DataView]\",_o=\"[object Uint8Array]\",Eo=\"[object Uint8ClampedArray]\",Io=\"[object Uint16Array]\",To=\"[object Uint32Array]\",Co=\"[object BigUint64Array]\",Po=\"[object Int8Array]\",So=\"[object Int16Array]\",Oo=\"[object Int32Array]\",Ro=\"[object BigInt64Array]\",Ao=\"[object Float32Array]\",xo=\"[object Float64Array]\";function No(){}function Li(r){if(!r||typeof r!=\"object\")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)===\"[object Object]\":!1}function $o(r,e,t){return De(r,e,void 0,void 0,void 0,void 0,t)}function De(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return r===e;case\"number\":return r===e||Object.is(r,e);case\"function\":return r===e;case\"object\":return ve(r,e,n,o)}return ve(r,e,n,o)}function ve(r,e,t,i){if(Object.is(r,e))return!0;let s=$i(r),n=$i(e);if(s===zi&&(s=Ze),n===zi&&(n=Ze),s!==n)return!1;switch(s){case ho:return r.toString()===e.toString();case lo:{const c=r.valueOf(),h=e.valueOf();return ao(c,h)}case uo:case po:case go:return Object.is(r.valueOf(),e.valueOf());case co:return r.source===e.source&&r.flags===e.flags;case fo:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case yo:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!De(h,e.get(c),c,r,e,t,i))return!1;return!0}case bo:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const p=c[l],y=h.findIndex(w=>De(p,w,void 0,r,e,t,i));if(y===-1)return!1;h.splice(y,1)}return!0}case mo:case _o:case Eo:case Io:case To:case Co:case Po:case So:case Oo:case Ro:case Ao:case xo:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!De(r[c],e[c],c,r,e,t,i))return!1;return!0}case Do:return r.byteLength!==e.byteLength?!1:ve(new Uint8Array(r),new Uint8Array(e),t,i);case wo:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ve(new Uint8Array(r),new Uint8Array(e),t,i);case vo:return r.name===e.name&&r.message===e.message;case Ze:{if(!(ve(r.constructor,e.constructor,t,i)||Li(r)&&Li(e)))return!1;const h=[...Object.keys(r),...Ni(r)],l=[...Object.keys(e),...Ni(e)];if(h.length!==l.length)return!1;for(let p=0;p<h.length;p++){const y=h[p],w=r[y];if(!Object.hasOwn(e,y))return!1;const u=e[y];if(!De(w,u,y,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function zo(r,e){return $o(r,e,No)}var Lo=Object.defineProperty,ki=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,Qe=(r,e,t)=>e in r?Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ji=(r,e)=>{for(var t in e||(e={}))ko.call(e,t)&&Qe(r,t,e[t]);if(ki)for(var t of ki(e))jo.call(e,t)&&Qe(r,t,e[t]);return r},F=(r,e,t)=>Qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ui extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IStore{constructor(e,t,i,s=W,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,F(this,\"map\",new Map),F(this,\"version\",Ut),F(this,\"cached\",[]),F(this,\"initialized\",!1),F(this,\"getKey\"),F(this,\"storagePrefix\",W),F(this,\"recentlyDeleted\",[]),F(this,\"recentlyDeletedLimit\",200),F(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)(o)?this.map.set(this.getKey(o),o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isProposalStruct)(o)?this.map.set(o.id,o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isSessionStruct)(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),F(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),F(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),F(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>zo(a[c],o[c]))):this.values)),F(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=ji(ji({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),F(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Uo=Object.defineProperty,Fo=(r,e,t)=>e in r?Uo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,d=(r,e,t)=>Fo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Fi{constructor(e,t){this.core=e,this.logger=t,d(this,\"name\",Bt),d(this,\"version\",Vt),d(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_0___default())),d(this,\"pairings\"),d(this,\"initialized\",!1),d(this,\"storagePrefix\",W),d(this,\"ignoredPayloadTypes\",[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.TYPE_1]),d(this,\"registeredMethods\",[]),d(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),d(this,\"register\",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),d(this,\"create\",async i=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),n=await this.core.crypto.setSymKey(s),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),a={protocol:$t},c={topic:n,expiry:o,relay:a,active:!1,methods:i?.methods},h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(ae.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType,internal:i?.internal}),{topic:n,uri:h}}),d(this,\"pair\",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[Y.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i.uri);s.props.properties.topic=n,s.addTrace(Y.pairing_uri_validation_success),s.addTrace(Y.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(Y.existing_pairing),l.active)throw s.setError(X.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(Y.pairing_not_expired)}const p=c||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),y={topic:n,relay:a,expiry:p,active:!1,methods:h};this.core.expirer.set(n,p),await this.pairings.set(n,y),s.addTrace(Y.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(ae.create,y),s.addTrace(Y.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(Y.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(X.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(w){throw s.setError(X.subscribe_pairing_topic_failure),w}return s.addTrace(Y.subscribe_pairing_topic_success),y}),d(this,\"activate\",async({topic:i})=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),d(this,\"ping\",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),({error:h})=>{h?c(h):a()}),await o()}}),d(this,\"updateExpiry\",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),d(this,\"updateMetadata\",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),d(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),d(this,\"disconnect\",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,\"wc_pairingDelete\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),await this.deletePairing(s))}),d(this,\"formatUriFromPairing\",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),d(this,\"sendRequest\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(s,n),a=await this.core.crypto.encode(i,o),c=oe[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),d(this,\"sendResult\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=oe[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),d(this,\"sendError\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcError)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=oe[c]?oe[c].res:oe.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),d(this,\"deletePairing\",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),d(this,\"cleanup\",async()=>{const i=this.pairings.getAll().filter(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),d(this,\"onRelayEventRequest\",async i=>{const{topic:s,payload:n}=i;switch(n.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(s,n);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),d(this,\"onRelayEventResponse\",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),d(this,\"onPairingPingRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(ae.ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),d(this,\"onPairingPingResponse\",(i,s)=>{const{id:n}=s;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{error:s.error})},500)}),d(this,\"onPairingDeleteRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(ae.delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),d(this,\"onUnknownRpcMethodRequest\",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}}),d(this,\"onUnknownRpcMethodResponse\",i=>{this.registeredMethods.includes(i)||this.logger.error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",i))}),d(this,\"isValidPair\",(i,s)=>{var n;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() params: ${i}`);throw s.setError(X.malformed_pairing_uri),new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(i.uri)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() uri: ${i.uri}`);throw s.setError(X.malformed_pairing_uri),new Error(a)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw s.setError(X.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw s.setError(X.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o?.expiryTimestamp)<Date.now()){s.setError(X.pairing_expired);const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),d(this,\"isValidPing\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),d(this,\"isValidDisconnect\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),d(this,\"isValidPairingTopic\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidString)(i,!1)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.pairings=new Ui(this.core,this.logger,this.name,this.storagePrefix)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==ee.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(q.expired,async e=>{const{topic:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(ae.expire,{topic:t}))})}}var Mo=Object.defineProperty,Ko=(r,e,t)=>e in r?Mo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N=(r,e,t)=>Ko(r,typeof e!=\"symbol\"?e+\"\":e,t);class Mi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,N(this,\"records\",new Map),N(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),N(this,\"name\",qt),N(this,\"version\",Gt),N(this,\"cached\",[]),N(this,\"initialized\",!1),N(this,\"storagePrefix\",W),N(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),N(this,\"set\",(i,s,n)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(V.created,o)}),N(this,\"resolve\",async i=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>\"u\"&&(s.response=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(V.updated,s))}),N(this,\"get\",async(i,s)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:i,id:s}),await this.getRecord(s))),N(this,\"delete\",(i,s)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<\"u\"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(V.deleted,n)}}),this.persist()}),N(this,\"exists\",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),N(this,\"on\",(i,s)=>{this.events.on(i,s)}),N(this,\"once\",(i,s)=>{this.events.once(i,s)}),N(this,\"off\",(i,s)=>{this.events.off(i,s)}),N(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<\"u\")return;const i={topic:t.topic,request:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(V.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(V.created,e=>{const t=V.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(V.updated,e=>{const t=V.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(V.deleted,e=>{const t=V.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(V.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Bo=Object.defineProperty,Vo=(r,e,t)=>e in r?Bo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,z=(r,e,t)=>Vo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ki extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,z(this,\"expirations\",new Map),z(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),z(this,\"name\",Wt),z(this,\"version\",Ht),z(this,\"cached\",[]),z(this,\"initialized\",!1),z(this,\"storagePrefix\",W),z(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),z(this,\"has\",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<\"u\"}catch{return!1}}),z(this,\"set\",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(q.created,{target:n,expiration:o})}),z(this,\"get\",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),z(this,\"del\",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(q.deleted,{target:s,expiration:n})}}),z(this,\"on\",(i,s)=>{this.events.on(i,s)}),z(this,\"once\",(i,s)=>{this.events.once(i,s)}),z(this,\"off\",(i,s)=>{this.events.off(i,s)}),z(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatTopicTarget)(e);if(typeof e==\"number\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatIdTarget)(e);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(q.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(q.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(q.created,e=>{const t=q.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(q.expired,e=>{const t=q.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(q.deleted,e=>{const t=q.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var qo=Object.defineProperty,Go=(r,e,t)=>e in r?qo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e,t)=>Go(r,typeof e!=\"symbol\"?e+\"\":e,t);class Bi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IVerify{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,P(this,\"name\",Yt),P(this,\"abortController\"),P(this,\"isDevEnv\"),P(this,\"verifyUrlV3\",Xt),P(this,\"storagePrefix\",W),P(this,\"version\",Fe),P(this,\"publicKey\"),P(this,\"fetchPromise\"),P(this,\"init\",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),P(this,\"register\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isBrowser)()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__.getDocument)(),l=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),p=await new Promise((y,w)=>{const u=()=>{window.removeEventListener(\"message\",D),h.body.removeChild(m),w(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",u);const m=h.createElement(\"iframe\");m.src=c,m.style.display=\"none\",m.addEventListener(\"error\",u,{signal:this.abortController.signal});const D=_=>{if(_.data&&typeof _.data==\"string\")try{const E=JSON.parse(_.data);if(E.type===\"verify_attestation\"){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(E.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(m),this.abortController.signal.removeEventListener(\"abort\",u),window.removeEventListener(\"message\",D),y(E.attestation===null?\"\":E.attestation)}}catch(E){this.logger.warn(E)}};h.body.appendChild(m),window.addEventListener(\"message\",D,{signal:this.abortController.signal})});return this.logger.debug(\"jwt attestation\",p),p}catch(h){this.logger.warn(h)}return\"\"}),P(this,\"resolve\",async s=>{if(this.isDevEnv)return\"\";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(n){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),P(this,\"fetchAttestation\",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),P(this,\"getVerifyUrl\",s=>{let n=s||be;return Zt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${be}`),n=be),n}),P(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),P(this,\"persistPublicKey\",async s=>{this.logger.debug(\"persisting public key to local storage\",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),P(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),P(this,\"isValidJwtAttestation\",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),P(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),P(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),P(this,\"validateAttestation\",(s,n)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.verifyP256Jwt)(s,n.publicKey),a={hasExpired:(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(e))}}var Wo=Object.defineProperty,Ho=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vi=(r,e,t)=>Ho(r,typeof e!=\"symbol\"?e+\"\":e,t);class qi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEchoClient{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Vi(this,\"context\",Qt),Vi(this,\"registerDeviceToken\",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,c=`${ei}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context)}}var Yo=Object.defineProperty,Gi=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,et=(r,e,t)=>e in r?Yo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,we=(r,e)=>{for(var t in e||(e={}))Jo.call(e,t)&&et(r,t,e[t]);if(Gi)for(var t of Gi(e))Xo.call(e,t)&&et(r,t,e[t]);return r},R=(r,e,t)=>et(r,typeof e!=\"symbol\"?e+\"\":e,t);class Wi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEventClient{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,R(this,\"context\",ii),R(this,\"storagePrefix\",W),R(this,\"storageVersion\",ti),R(this,\"events\",new Map),R(this,\"shouldPersist\",!1),R(this,\"init\",async()=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)())try{const s={eventId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUA)(this.core.relayer.protocol,this.core.relayer.version,Pe)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),R(this,\"createEvent\",s=>{const{event:n=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=s,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),l=this.core.projectId||\"\",p=Date.now(),y=we({eventId:h,timestamp:p,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,y),this.shouldPersist=!0),y}),R(this,\"getEvent\",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return we(we({},a),this.setMethods(a.eventId))}),R(this,\"deleteEvent\",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),R(this,\"setEventListeners\",()=>{this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(Date.now())-(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(s.timestamp)>si&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),R(this,\"setMethods\",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),R(this,\"addTrace\",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),R(this,\"setError\",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),R(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),R(this,\"restore\",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,we(we({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),R(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),R(this,\"sendEvent\",async s=>{const n=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${ri}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Pe}${n}`,{method:\"POST\",body:JSON.stringify(s)})}),R(this,\"getAppDomain\",()=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppMetadata)().url),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var Zo=Object.defineProperty,Hi=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,tt=(r,e,t)=>e in r?Zo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Yi=(r,e)=>{for(var t in e||(e={}))Qo.call(e,t)&&tt(r,t,e[t]);if(Hi)for(var t of Hi(e))ea.call(e,t)&&tt(r,t,e[t]);return r},v=(r,e,t)=>tt(r,typeof e!=\"symbol\"?e+\"\":e,t);class Oe extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ICore{constructor(e){var t;super(e),v(this,\"protocol\",Ue),v(this,\"version\",Fe),v(this,\"name\",pe),v(this,\"relayUrl\"),v(this,\"projectId\"),v(this,\"customStoragePrefix\"),v(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),v(this,\"logger\"),v(this,\"heartbeat\"),v(this,\"relayer\"),v(this,\"crypto\"),v(this,\"storage\"),v(this,\"history\"),v(this,\"expirer\"),v(this,\"pairing\"),v(this,\"verify\"),v(this,\"echoClient\"),v(this,\"linkModeSupportedApps\"),v(this,\"eventClient\"),v(this,\"initialized\",!1),v(this,\"logChunkController\"),v(this,\"on\",(a,c)=>this.events.on(a,c)),v(this,\"once\",(a,c)=>this.events.once(a,c)),v(this,\"off\",(a,c)=>this.events.off(a,c)),v(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),v(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:ee.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ke,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const s=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:typeof e?.logger==\"string\"&&e.logger?e.logger:It.logger,name:pe}),{logger:n,chunkLoggerController:o}=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generatePlatformLogger)({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(n,this.name),this.heartbeat=new _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HeartBeat,this.crypto=new Ei(this,this.logger,e?.keychain),this.history=new Mi(this,this.logger),this.expirer=new Ki(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"](Yi(Yi({},Tt),e?.storageOptions)),this.relayer=new xi({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Fi(this,this.logger),this.verify=new Bi(this,this.logger,this.storage),this.echoClient=new qi(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Wi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Oe(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(Ft,i),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Be,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Be)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn(\"Failed to get global WalletConnect core\",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||\"\"}`;globalThis[i]=e}catch(i){console.warn(\"Failed to set global WalletConnect core\",i)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&process.env.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}}const ta=Oe;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW83RSxrQ0FBa0MsR0FBRyxLQUFLLEdBQUcsT0FBTyx1QkFBdUIsS0FBSyxvQkFBb0IseUNBQXlDLHdEQUFFLGtEQUFrRCwwREFBRSx1RkFBdUYsa1FBQWtRLHVCQUF1QiwwRUFBMEUsV0FBVyxvQkFBb0Isd0JBQXdCLG9DQUFvQyxLQUFLLHNDQUFzQyw0RUFBNEUsZ01BQWdNLElBQUksNERBQUUsK0JBQStCLDZEQUFFLDhCQUE4Qiw0REFBRSxLQUFLLGtCQUFrQixLQUFLLElBQUksd0RBQUUsbUJBQW1CLE1BQU0sSUFBSSx3REFBRSxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSwrREFBRSxvQkFBb0IsTUFBTSxJQUFJLCtEQUFFLHFCQUFxQixzQkFBc0IsS0FBSyxJQUFJLHdEQUFFLGlCQUFpQixNQUFNLElBQUksd0RBQUUsbUJBQW1CLEtBQUssNEZBQTRGLElBQUksa0dBQWtHLHVDQUF1QyxrR0FBa0csYUFBYSx3REFBRSx5R0FBeUcsR0FBRyxtRkFBbUYsd2hCQUF3aEIsSUFBSSxvWUFBb1ksS0FBSyw4bEJBQThsQixLQUFLLGtjQUFrYyxLQUFLLHN2QkFBc3ZCLEtBQUssc3FCQUFzcUIsNkVBQTZFLGlCQUFpQiwwREFBMEQsa0NBQWtDLFdBQVcsYUFBYSxZQUFZLFdBQVcsS0FBSyxvQ0FBb0MscURBQXFELE9BQU8scUZBQXFGLGNBQWMsd05BQXdOLHlCQUF5QiwrQkFBK0IsZ0JBQWdCLFNBQVMsNENBQTRDLE1BQU0sRUFBRSx5QkFBeUIscUJBQXFCLCtDQUErQywyQ0FBMkMsUUFBUSxjQUFjLGdCQUFnQixLQUFLLHVCQUF1QixJQUFJLHVCQUF1QixVQUFV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LE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLHFCQUFxQixNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdB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Qyx5RUFBeUUsNkNBQTZDLGlCQUFpQixpQkFBaUIsK0ZBQStGLG9LQUFvSyxrREFBa0Qsb0JBQW9CLHFCQUFxQiw2QkFBNkIsb0RBQW9ELFNBQVMsOENBQThDLGlCQUFpQix3REFBRSxDQUFDLGVBQWUsTUFBTSwrSkFBK0osZ0RBQUUsOGZBQThmLGtDQUFrQyxJQUFJLGlCQUFpQixTQUFTLHFFQUFxRSxtQ0FBbUMsZ0JBQWdCLEVBQUUsRUFBRSxtREFBbUQsU0FBUyxnY0FBZ2MsU0FBUyw2Q0FBNkMsc0hBQXNILHNCQUFzQixLQUFLLFFBQVEsOEVBQUUsRUFBRSxzRUFBc0UsR0FBRyxpQ0FBaUMsQ0FBQyw2RUFBRSxFQUFFLHdFQUF3RSxFQUFFLHNJQUFzSSxRQUFRLGlJQUFpSSx5Q0FBeUMsR0FBRyxjQUFjLDBFQUFDLGlDQUFpQywrREFBRSw0S0FBNEssc0VBQUUsU0FBUyw4Q0FBOEMsNkVBQTZFLHNRQUFzUSxxQkFBcUIsa0JBQWtCLHFCQUFxQixxQ0FBcUMsdUNBQXVDLGNBQWMsT0FBTyx1RUFBQyxjQUFjLGNBQWMsMENBQTBDLG9CQUFvQixNQUFNLDZEQUE2RCx5Q0FBeUMsRUFBRSxpQ0FBaUMsdUlBQXVJLG1CQUFtQixpQ0FBaUMsSUFBSSwrUkFBK1IsU0FBUywrREFBK0QsV0FBVyxxQ0FBcUMsb0JBQW9CLElBQUksc0NBQXNDLDhCQUE4QixFQUFFLE9BQU8sRUFBRSxRQUFRLHdNQUF3TSxlQUFlLHVCQUF1QixTQUFTLDBEQUEwRCxRQUFRLGlCQUFpQixNQUFNLElBQUksc0NBQXNDLDhCQUE4QixvREFBb0QsRUFBRSxnQkFBZ0IsU0FBUywyREFBMkQsdUJBQXVCLElBQUksb0VBQW9FLE1BQU0sV0FBVyxZQUFpN0Q7QUFDNzQ1RiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguZXMuanM/ZGMzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSmkse0V2ZW50RW1pdHRlciBhcyBpZX1mcm9tXCJldmVudHNcIjtpbXBvcnR7SEVBUlRCRUFUX0VWRU5UUyBhcyBzZSxIZWFydEJlYXQgYXMgWGl9ZnJvbVwiQHdhbGxldGNvbm5lY3QvaGVhcnRiZWF0XCI7aW1wb3J0IFppIGZyb21cIkB3YWxsZXRjb25uZWN0L2tleXZhbHVlc3RvcmFnZVwiO2ltcG9ydHtnZW5lcmF0ZUNoaWxkTG9nZ2VyIGFzIGosZ2V0TG9nZ2VyQ29udGV4dCBhcyBCLHBpbm8gYXMgUWksZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgYXMgaXQsZ2VuZXJhdGVQbGF0Zm9ybUxvZ2dlciBhcyBlc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtpbXBvcnR7SU1lc3NhZ2VUcmFja2VyIGFzIHRzLElQdWJsaXNoZXIgYXMgaXMsSVN1YnNjcmliZXIgYXMgc3MsSVJlbGF5ZXIgYXMgcnMsSVN0b3JlIGFzIG5zLElKc29uUnBjSGlzdG9yeSBhcyBvcyxJRXhwaXJlciBhcyBhcyxJVmVyaWZ5IGFzIGNzLElFY2hvQ2xpZW50IGFzIGhzLElFdmVudENsaWVudCBhcyBscyxJQ29yZSBhcyB1c31mcm9tXCJAd2FsbGV0Y29ubmVjdC90eXBlc1wiO2ltcG9ydHtPTkVfREFZIGFzIHJlLFNJWF9IT1VSUyBhcyBkcyxUSElSVFlfREFZUyBhcyBSZSxGSVZFX1NFQ09ORFMgYXMgQWUsVEhJUlRZX1NFQ09ORFMgYXMgeGUsdG9NaWxpc2Vjb25kcyBhcyAkLE9ORV9NSU5VVEUgYXMgc3QsT05FX1NFQ09ORCBhcyBRLEZJVkVfTUlOVVRFUyBhcyBsZSxmcm9tTWlsaXNlY29uZHMgYXMgcnR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdGltZVwiO2ltcG9ydHtzYWZlSnNvblN0cmluZ2lmeSBhcyBncyxzYWZlSnNvblBhcnNlIGFzIG50fWZyb21cIkB3YWxsZXRjb25uZWN0L3NhZmUtanNvblwiO2ltcG9ydCphcyBJZSBmcm9tXCJAd2FsbGV0Y29ubmVjdC9yZWxheS1hdXRoXCI7aW1wb3J0e2RlY29kZUpXVCBhcyBvdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9yZWxheS1hdXRoXCI7aW1wb3J0e21hcFRvT2JqIGFzIE5lLG9ialRvTWFwIGFzICRlLGdldEludGVybmFsRXJyb3IgYXMgYixnZW5lcmF0ZVJhbmRvbUJ5dGVzMzIgYXMgemUsZ2VuZXJhdGVLZXlQYWlyIGFzIHBzLGRlcml2ZVN5bUtleSBhcyB5cyxoYXNoS2V5IGFzIGJzLHZhbGlkYXRlRW5jb2RpbmcgYXMgbXMsaXNUeXBlVHdvRW52ZWxvcGUgYXMgYXQsZW5jb2RlVHlwZVR3b0VudmVsb3BlIGFzIGZzLGlzVHlwZU9uZUVudmVsb3BlIGFzIGN0LGVuY3J5cHQgYXMgRHMsdmFsaWRhdGVEZWNvZGluZyBhcyB2cyxkZWNvZGVUeXBlVHdvRW52ZWxvcGUgYXMgd3MsZGVjcnlwdCBhcyBfcyxkZXNlcmlhbGl6ZSBhcyBodCxkZWNvZGVUeXBlQnl0ZSBhcyBFcyxCQVNFNjQgYXMgbHQsQkFTRTE2IGFzIElzLGhhc2hNZXNzYWdlIGFzIFRlLGdldFJlbGF5UHJvdG9jb2xBcGkgYXMgbmUsZ2V0UmVsYXlQcm90b2NvbE5hbWUgYXMgQ2UsaXNVbmRlZmluZWQgYXMgdWUsY3JlYXRlRXhwaXJpbmdQcm9taXNlIGFzIEgsZ2V0U2RrRXJyb3IgYXMgZGUsc2xlZXAgYXMgVHMsaXNBbmRyb2lkIGFzIENzLGdldEFwcElkIGFzIHV0LGlzSW9zIGFzIFBzLGlzT25saW5lIGFzIGR0LGNhbGNFeHBpcnkgYXMgZ2UsaXNOb2RlIGFzIGd0LGZvcm1hdFJlbGF5UnBjVXJsIGFzIFNzLHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSBhcyBPcyxpc0FwcFZpc2libGUgYXMgUnMsaXNQcm9wb3NhbFN0cnVjdCBhcyBBcyxpc1Nlc3Npb25TdHJ1Y3QgYXMgeHMscGFyc2VFeHBpcmVyVGFyZ2V0IGFzIE5zLFRZUEVfMSBhcyAkcyxmb3JtYXRVcmkgYXMgcHQscGFyc2VVcmkgYXMgeXQsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgenMsZW5naW5lRXZlbnQgYXMgTGUsaXNFeHBpcmVkIGFzIGJ0LGlzVmFsaWRQYXJhbXMgYXMga2UsaXNWYWxpZFVybCBhcyBMcyxpc1ZhbGlkU3RyaW5nIGFzIGtzLGZvcm1hdFRvcGljVGFyZ2V0IGFzIGpzLGZvcm1hdElkVGFyZ2V0IGFzIFVzLGlzVGVzdFJ1biBhcyBtdCxpc0Jyb3dzZXIgYXMgRnMsdmVyaWZ5UDI1Nkp3dCBhcyBNcyx1dWlkdjQgYXMgZnQsZm9ybWF0VUEgYXMgS3MsZ2V0QXBwTWV0YWRhdGEgYXMgQnN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7dG9TdHJpbmcgYXMgVnN9ZnJvbVwidWludDhhcnJheXNcIjtpbXBvcnR7SnNvblJwY1Byb3ZpZGVyIGFzIHFzfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtcHJvdmlkZXJcIjtpbXBvcnR7Z2V0QmlnSW50UnBjSWQgYXMgamUsaXNKc29uUnBjUmVxdWVzdCBhcyBEdCxpc0pzb25ScGNSZXNwb25zZSBhcyB2dCxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIHd0LGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIF90LGZvcm1hdEpzb25ScGNFcnJvciBhcyBHcyxpc0pzb25ScGNSZXN1bHQgYXMgV3MsaXNKc29uUnBjRXJyb3IgYXMgRXR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2ltcG9ydCBIcyBmcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb25cIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgWXN9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnNcIjtjb25zdCBVZT1cIndjXCIsRmU9MixwZT1cImNvcmVcIixXPWAke1VlfUAyOiR7cGV9OmAsSXQ9e25hbWU6cGUsbG9nZ2VyOlwiZXJyb3JcIn0sVHQ9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sQ3Q9XCJjcnlwdG9cIixNZT1cImNsaWVudF9lZDI1NTE5X3NlZWRcIixQdD1yZSxTdD1cImtleWNoYWluXCIsT3Q9XCIwLjNcIixSdD1cIm1lc3NhZ2VzXCIsQXQ9XCIwLjNcIix4dD1kcyxOdD1cInB1Ymxpc2hlclwiLCR0PVwiaXJuXCIsenQ9XCJlcnJvclwiLEtlPVwid3NzOi8vcmVsYXkud2FsbGV0Y29ubmVjdC5vcmdcIixMdD1cInJlbGF5ZXJcIixDPXttZXNzYWdlOlwicmVsYXllcl9tZXNzYWdlXCIsbWVzc2FnZV9hY2s6XCJyZWxheWVyX21lc3NhZ2VfYWNrXCIsY29ubmVjdDpcInJlbGF5ZXJfY29ubmVjdFwiLGRpc2Nvbm5lY3Q6XCJyZWxheWVyX2Rpc2Nvbm5lY3RcIixlcnJvcjpcInJlbGF5ZXJfZXJyb3JcIixjb25uZWN0aW9uX3N0YWxsZWQ6XCJyZWxheWVyX2Nvbm5lY3Rpb25fc3RhbGxlZFwiLHRyYW5zcG9ydF9jbG9zZWQ6XCJyZWxheWVyX3RyYW5zcG9ydF9jbG9zZWRcIixwdWJsaXNoOlwicmVsYXllcl9wdWJsaXNoXCJ9LGt0PVwiX3N1YnNjcmlwdGlvblwiLE09e3BheWxvYWQ6XCJwYXlsb2FkXCIsY29ubmVjdDpcImNvbm5lY3RcIixkaXNjb25uZWN0OlwiZGlzY29ubmVjdFwiLGVycm9yOlwiZXJyb3JcIn0sanQ9LjEsSnM9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sUGU9XCIyLjIxLjhcIixYcz0xZTQsZWU9e2xpbmtfbW9kZTpcImxpbmtfbW9kZVwiLHJlbGF5OlwicmVsYXlcIn0seWU9e2luYm91bmQ6XCJpbmJvdW5kXCIsb3V0Ym91bmQ6XCJvdXRib3VuZFwifSxVdD1cIjAuM1wiLEZ0PVwiV0FMTEVUQ09OTkVDVF9DTElFTlRfSURcIixCZT1cIldBTExFVENPTk5FQ1RfTElOS19NT0RFX0FQUFNcIixVPXtjcmVhdGVkOlwic3Vic2NyaXB0aW9uX2NyZWF0ZWRcIixkZWxldGVkOlwic3Vic2NyaXB0aW9uX2RlbGV0ZWRcIixleHBpcmVkOlwic3Vic2NyaXB0aW9uX2V4cGlyZWRcIixkaXNhYmxlZDpcInN1YnNjcmlwdGlvbl9kaXNhYmxlZFwiLHN5bmM6XCJzdWJzY3JpcHRpb25fc3luY1wiLHJlc3Vic2NyaWJlZDpcInN1YnNjcmlwdGlvbl9yZXN1YnNjcmliZWRcIn0sWnM9UmUsTXQ9XCJzdWJzY3JpcHRpb25cIixLdD1cIjAuM1wiLFFzPUFlKjFlMyxCdD1cInBhaXJpbmdcIixWdD1cIjAuM1wiLGVyPVJlLG9lPXt3Y19wYWlyaW5nRGVsZXRlOntyZXE6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjFlM30scmVzOnt0dGw6cmUscHJvbXB0OiExLHRhZzoxMDAxfX0sd2NfcGFpcmluZ1Bpbmc6e3JlcTp7dHRsOnhlLHByb21wdDohMSx0YWc6MTAwMn0scmVzOnt0dGw6eGUscHJvbXB0OiExLHRhZzoxMDAzfX0sdW5yZWdpc3RlcmVkX21ldGhvZDp7cmVxOnt0dGw6cmUscHJvbXB0OiExLHRhZzowfSxyZXM6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjB9fX0sYWU9e2NyZWF0ZTpcInBhaXJpbmdfY3JlYXRlXCIsZXhwaXJlOlwicGFpcmluZ19leHBpcmVcIixkZWxldGU6XCJwYWlyaW5nX2RlbGV0ZVwiLHBpbmc6XCJwYWlyaW5nX3BpbmdcIn0sVj17Y3JlYXRlZDpcImhpc3RvcnlfY3JlYXRlZFwiLHVwZGF0ZWQ6XCJoaXN0b3J5X3VwZGF0ZWRcIixkZWxldGVkOlwiaGlzdG9yeV9kZWxldGVkXCIsc3luYzpcImhpc3Rvcnlfc3luY1wifSxxdD1cImhpc3RvcnlcIixHdD1cIjAuM1wiLFd0PVwiZXhwaXJlclwiLHE9e2NyZWF0ZWQ6XCJleHBpcmVyX2NyZWF0ZWRcIixkZWxldGVkOlwiZXhwaXJlcl9kZWxldGVkXCIsZXhwaXJlZDpcImV4cGlyZXJfZXhwaXJlZFwiLHN5bmM6XCJleHBpcmVyX3N5bmNcIn0sSHQ9XCIwLjNcIix0cj1yZSxZdD1cInZlcmlmeS1hcGlcIixpcj1cImh0dHBzOi8vdmVyaWZ5LndhbGxldGNvbm5lY3QuY29tXCIsSnQ9XCJodHRwczovL3ZlcmlmeS53YWxsZXRjb25uZWN0Lm9yZ1wiLGJlPUp0LFh0PWAke2JlfS92M2AsWnQ9W2lyLEp0XSxRdD1cImVjaG9cIixlaT1cImh0dHBzOi8vZWNoby53YWxsZXRjb25uZWN0LmNvbVwiLHNyPVwiZXZlbnQtY2xpZW50XCIsWT17cGFpcmluZ19zdGFydGVkOlwicGFpcmluZ19zdGFydGVkXCIscGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzOlwicGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzXCIscGFpcmluZ191cmlfbm90X2V4cGlyZWQ6XCJwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZFwiLHN0b3JlX25ld19wYWlyaW5nOlwic3RvcmVfbmV3X3BhaXJpbmdcIixzdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljOlwic3Vic2NyaWJpbmdfcGFpcmluZ190b3BpY1wiLHN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3M6XCJzdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzXCIsZXhpc3RpbmdfcGFpcmluZzpcImV4aXN0aW5nX3BhaXJpbmdcIixwYWlyaW5nX25vdF9leHBpcmVkOlwicGFpcmluZ19ub3RfZXhwaXJlZFwiLGVtaXRfaW5hY3RpdmVfcGFpcmluZzpcImVtaXRfaW5hY3RpdmVfcGFpcmluZ1wiLGVtaXRfc2Vzc2lvbl9wcm9wb3NhbDpcImVtaXRfc2Vzc2lvbl9wcm9wb3NhbFwiLHN1YnNjcmliaW5nX3RvX3BhaXJpbmdfdG9waWM6XCJzdWJzY3JpYmluZ190b19wYWlyaW5nX3RvcGljXCJ9LFg9e25vX3dzc19jb25uZWN0aW9uOlwibm9fd3NzX2Nvbm5lY3Rpb25cIixub19pbnRlcm5ldF9jb25uZWN0aW9uOlwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLG1hbGZvcm1lZF9wYWlyaW5nX3VyaTpcIm1hbGZvcm1lZF9wYWlyaW5nX3VyaVwiLGFjdGl2ZV9wYWlyaW5nX2FscmVhZHlfZXhpc3RzOlwiYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHNcIixzdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlOlwic3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfZmFpbHVyZVwiLHBhaXJpbmdfZXhwaXJlZDpcInBhaXJpbmdfZXhwaXJlZFwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIscHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kOlwicHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kXCJ9LHJyPXtzZXNzaW9uX2FwcHJvdmVfc3RhcnRlZDpcInNlc3Npb25fYXBwcm92ZV9zdGFydGVkXCIscHJvcG9zYWxfbm90X2V4cGlyZWQ6XCJwcm9wb3NhbF9ub3RfZXhwaXJlZFwiLHNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3M6XCJzZXNzaW9uX25hbWVzcGFjZXNfdmFsaWRhdGlvbl9zdWNjZXNzXCIsY3JlYXRlX3Nlc3Npb25fdG9waWM6XCJjcmVhdGVfc2Vzc2lvbl90b3BpY1wiLHN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWM6XCJzdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2VzczpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX3N1Y2Nlc3NcIixwdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZTpcInB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlXCIsc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2VzczpcInNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIixzdG9yZV9zZXNzaW9uOlwic3RvcmVfc2Vzc2lvblwiLHB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGU6XCJwdWJsaXNoaW5nX3Nlc3Npb25fc2V0dGxlXCIsc2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzOlwic2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzXCJ9LG5yPXtub19pbnRlcm5ldF9jb25uZWN0aW9uOlwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLG5vX3dzc19jb25uZWN0aW9uOlwibm9fd3NzX2Nvbm5lY3Rpb25cIixwcm9wb3NhbF9leHBpcmVkOlwicHJvcG9zYWxfZXhwaXJlZFwiLHN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19mYWlsdXJlXCIsc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZTpcInNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmVcIixzZXNzaW9uX3NldHRsZV9wdWJsaXNoX2ZhaWx1cmU6XCJzZXNzaW9uX3NldHRsZV9wdWJsaXNoX2ZhaWx1cmVcIixzZXNzaW9uX2FwcHJvdmVfbmFtZXNwYWNlX3ZhbGlkYXRpb25fZmFpbHVyZTpcInNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlXCIscHJvcG9zYWxfbm90X2ZvdW5kOlwicHJvcG9zYWxfbm90X2ZvdW5kXCJ9LG9yPXthdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZFwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZFwiLGNoYWluc19jYWlwMl9jb21wbGlhbnQ6XCJjaGFpbnNfY2FpcDJfY29tcGxpYW50XCIsY2hhaW5zX2V2bV9jb21wbGlhbnQ6XCJjaGFpbnNfZXZtX2NvbXBsaWFudFwiLGNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWM6XCJjcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljXCIsY2FjYW9zX3ZlcmlmaWVkOlwiY2FjYW9zX3ZlcmlmaWVkXCIsc3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uOlwic3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uXCIsc3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljOlwic3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzOlwic3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzXCIscHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZTpcInB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3M6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIn0sYXI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLG1pc3Npbmdfc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdDpcIm1pc3Npbmdfc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdFwiLHNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZDpcInNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZFwiLGNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZTpcImNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZVwiLGNoYWluc19ldm1fY29tcGxpYW50X2ZhaWx1cmU6XCJjaGFpbnNfZXZtX2NvbXBsaWFudF9mYWlsdXJlXCIsaW52YWxpZF9jYWNhbzpcImludmFsaWRfY2FjYW9cIixzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmU6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kXCJ9LHRpPS4xLGlpPVwiZXZlbnQtY2xpZW50XCIsc2k9ODY0MDAscmk9XCJodHRwczovL3B1bHNlLndhbGxldGNvbm5lY3Qub3JnL2JhdGNoXCI7ZnVuY3Rpb24gY3IocixlKXtpZihyLmxlbmd0aD49MjU1KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHBoYWJldCB0b28gbG9uZ1wiKTtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoMjU2KSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXT0yNTU7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXIuY2hhckF0KHMpLG89bi5jaGFyQ29kZUF0KDApO2lmKHRbb10hPT0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihuK1wiIGlzIGFtYmlndW91c1wiKTt0W29dPXN9dmFyIGE9ci5sZW5ndGgsYz1yLmNoYXJBdCgwKSxoPU1hdGgubG9nKGEpL01hdGgubG9nKDI1NiksbD1NYXRoLmxvZygyNTYpL01hdGgubG9nKGEpO2Z1bmN0aW9uIHAodSl7aWYodSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fChBcnJheUJ1ZmZlci5pc1ZpZXcodSk/dT1uZXcgVWludDhBcnJheSh1LmJ1ZmZlcix1LmJ5dGVPZmZzZXQsdS5ieXRlTGVuZ3RoKTpBcnJheS5pc0FycmF5KHUpJiYodT1VaW50OEFycmF5LmZyb20odSkpKSwhKHUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgVWludDhBcnJheVwiKTtpZih1Lmxlbmd0aD09PTApcmV0dXJuXCJcIjtmb3IodmFyIG09MCxEPTAsXz0wLEU9dS5sZW5ndGg7XyE9PUUmJnVbX109PT0wOylfKyssbSsrO2Zvcih2YXIgTD0oRS1fKSpsKzE+Pj4wLEk9bmV3IFVpbnQ4QXJyYXkoTCk7XyE9PUU7KXtmb3IodmFyIGs9dVtfXSxUPTAsUz1MLTE7KGshPT0wfHxUPEQpJiZTIT09LTE7Uy0tLFQrKylrKz0yNTYqSVtTXT4+PjAsSVtTXT1rJWE+Pj4wLGs9ay9hPj4+MDtpZihrIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTtEPVQsXysrfWZvcih2YXIgTz1MLUQ7TyE9PUwmJklbT109PT0wOylPKys7Zm9yKHZhciB0ZT1jLnJlcGVhdChtKTtPPEw7KytPKXRlKz1yLmNoYXJBdChJW09dKTtyZXR1cm4gdGV9ZnVuY3Rpb24geSh1KXtpZih0eXBlb2YgdSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgU3RyaW5nXCIpO2lmKHUubGVuZ3RoPT09MClyZXR1cm4gbmV3IFVpbnQ4QXJyYXk7dmFyIG09MDtpZih1W21dIT09XCIgXCIpe2Zvcih2YXIgRD0wLF89MDt1W21dPT09YzspRCsrLG0rKztmb3IodmFyIEU9KHUubGVuZ3RoLW0pKmgrMT4+PjAsTD1uZXcgVWludDhBcnJheShFKTt1W21dOyl7dmFyIEk9dFt1LmNoYXJDb2RlQXQobSldO2lmKEk9PT0yNTUpcmV0dXJuO2Zvcih2YXIgaz0wLFQ9RS0xOyhJIT09MHx8azxfKSYmVCE9PS0xO1QtLSxrKyspSSs9YSpMW1RdPj4+MCxMW1RdPUklMjU2Pj4+MCxJPUkvMjU2Pj4+MDtpZihJIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTtfPWssbSsrfWlmKHVbbV0hPT1cIiBcIil7Zm9yKHZhciBTPUUtXztTIT09RSYmTFtTXT09PTA7KVMrKztmb3IodmFyIE89bmV3IFVpbnQ4QXJyYXkoRCsoRS1TKSksdGU9RDtTIT09RTspT1t0ZSsrXT1MW1MrK107cmV0dXJuIE99fX1mdW5jdGlvbiB3KHUpe3ZhciBtPXkodSk7aWYobSlyZXR1cm4gbTt0aHJvdyBuZXcgRXJyb3IoYE5vbi0ke2V9IGNoYXJhY3RlcmApfXJldHVybntlbmNvZGU6cCxkZWNvZGVVbnNhZmU6eSxkZWNvZGU6d319dmFyIGhyPWNyLGxyPWhyO2NvbnN0IG5pPXI9PntpZihyIGluc3RhbmNlb2YgVWludDhBcnJheSYmci5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCIpcmV0dXJuIHI7aWYociBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgVWludDhBcnJheShyKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcocikpcmV0dXJuIG5ldyBVaW50OEFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgpO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX0sdXI9cj0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIpLGRyPXI9Pm5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShyKTtjbGFzcyBncntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0aGlzLmJhc2VFbmNvZGU9aX1lbmNvZGUoZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuYCR7dGhpcy5wcmVmaXh9JHt0aGlzLmJhc2VFbmNvZGUoZSl9YDt0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y2xhc3MgcHJ7Y29uc3RydWN0b3IoZSx0LGkpe2lmKHRoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdC5jb2RlUG9pbnRBdCgwKT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByZWZpeCBjaGFyYWN0ZXJcIik7dGhpcy5wcmVmaXhDb2RlUG9pbnQ9dC5jb2RlUG9pbnRBdCgwKSx0aGlzLmJhc2VEZWNvZGU9aX1kZWNvZGUoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe2lmKGUuY29kZVBvaW50QXQoMCkhPT10aGlzLnByZWZpeENvZGVQb2ludCl0aHJvdyBFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCAke3RoaXMubmFtZX0gZGVjb2RlciBvbmx5IHN1cHBvcnRzIGlucHV0cyBwcmVmaXhlZCB3aXRoICR7dGhpcy5wcmVmaXh9YCk7cmV0dXJuIHRoaXMuYmFzZURlY29kZShlLnNsaWNlKHRoaXMucHJlZml4Lmxlbmd0aCkpfWVsc2UgdGhyb3cgRXJyb3IoXCJDYW4gb25seSBtdWx0aWJhc2UgZGVjb2RlIHN0cmluZ3NcIil9b3IoZSl7cmV0dXJuIG9pKHRoaXMsZSl9fWNsYXNzIHlye2NvbnN0cnVjdG9yKGUpe3RoaXMuZGVjb2RlcnM9ZX1vcihlKXtyZXR1cm4gb2kodGhpcyxlKX1kZWNvZGUoZSl7Y29uc3QgdD1lWzBdLGk9dGhpcy5kZWNvZGVyc1t0XTtpZihpKXJldHVybiBpLmRlY29kZShlKTt0aHJvdyBSYW5nZUVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sIG9ubHkgaW5wdXRzIHByZWZpeGVkIHdpdGggJHtPYmplY3Qua2V5cyh0aGlzLmRlY29kZXJzKX0gYXJlIHN1cHBvcnRlZGApfX1jb25zdCBvaT0ocixlKT0+bmV3IHlyKHsuLi5yLmRlY29kZXJzfHx7W3IucHJlZml4XTpyfSwuLi5lLmRlY29kZXJzfHx7W2UucHJlZml4XTplfX0pO2NsYXNzIGJye2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdGhpcy5iYXNlRW5jb2RlPWksdGhpcy5iYXNlRGVjb2RlPXMsdGhpcy5lbmNvZGVyPW5ldyBncihlLHQsaSksdGhpcy5kZWNvZGVyPW5ldyBwcihlLHQscyl9ZW5jb2RlKGUpe3JldHVybiB0aGlzLmVuY29kZXIuZW5jb2RlKGUpfWRlY29kZShlKXtyZXR1cm4gdGhpcy5kZWNvZGVyLmRlY29kZShlKX19Y29uc3QgU2U9KHtuYW1lOnIscHJlZml4OmUsZW5jb2RlOnQsZGVjb2RlOml9KT0+bmV3IGJyKHIsZSx0LGkpLG1lPSh7cHJlZml4OnIsbmFtZTplLGFscGhhYmV0OnR9KT0+e2NvbnN0e2VuY29kZTppLGRlY29kZTpzfT1scih0LGUpO3JldHVybiBTZSh7cHJlZml4OnIsbmFtZTplLGVuY29kZTppLGRlY29kZTpuPT5uaShzKG4pKX0pfSxtcj0ocixlLHQsaSk9Pntjb25zdCBzPXt9O2ZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7KytsKXNbZVtsXV09bDtsZXQgbj1yLmxlbmd0aDtmb3IoO3Jbbi0xXT09PVwiPVwiOyktLW47Y29uc3Qgbz1uZXcgVWludDhBcnJheShuKnQvOHwwKTtsZXQgYT0wLGM9MCxoPTA7Zm9yKGxldCBsPTA7bDxuOysrbCl7Y29uc3QgcD1zW3JbbF1dO2lmKHA9PT12b2lkIDApdGhyb3cgbmV3IFN5bnRheEVycm9yKGBOb24tJHtpfSBjaGFyYWN0ZXJgKTtjPWM8PHR8cCxhKz10LGE+PTgmJihhLT04LG9baCsrXT0yNTUmYz4+YSl9aWYoYT49dHx8MjU1JmM8PDgtYSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBkYXRhXCIpO3JldHVybiBvfSxmcj0ocixlLHQpPT57Y29uc3QgaT1lW2UubGVuZ3RoLTFdPT09XCI9XCIscz0oMTw8dCktMTtsZXQgbj1cIlwiLG89MCxhPTA7Zm9yKGxldCBjPTA7YzxyLmxlbmd0aDsrK2MpZm9yKGE9YTw8OHxyW2NdLG8rPTg7bz50OylvLT10LG4rPWVbcyZhPj5vXTtpZihvJiYobis9ZVtzJmE8PHQtb10pLGkpZm9yKDtuLmxlbmd0aCp0Jjc7KW4rPVwiPVwiO3JldHVybiBufSxBPSh7bmFtZTpyLHByZWZpeDplLGJpdHNQZXJDaGFyOnQsYWxwaGFiZXQ6aX0pPT5TZSh7cHJlZml4OmUsbmFtZTpyLGVuY29kZShzKXtyZXR1cm4gZnIocyxpLHQpfSxkZWNvZGUocyl7cmV0dXJuIG1yKHMsaSx0LHIpfX0pLERyPVNlKHtwcmVmaXg6XCJcXDBcIixuYW1lOlwiaWRlbnRpdHlcIixlbmNvZGU6cj0+ZHIociksZGVjb2RlOnI9PnVyKHIpfSk7dmFyIHZyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGlkZW50aXR5OkRyfSk7Y29uc3Qgd3I9QSh7cHJlZml4OlwiMFwiLG5hbWU6XCJiYXNlMlwiLGFscGhhYmV0OlwiMDFcIixiaXRzUGVyQ2hhcjoxfSk7dmFyIF9yPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyOndyfSk7Y29uc3QgRXI9QSh7cHJlZml4OlwiN1wiLG5hbWU6XCJiYXNlOFwiLGFscGhhYmV0OlwiMDEyMzQ1NjdcIixiaXRzUGVyQ2hhcjozfSk7dmFyIElyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U4OkVyfSk7Y29uc3QgVHI9bWUoe3ByZWZpeDpcIjlcIixuYW1lOlwiYmFzZTEwXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5XCJ9KTt2YXIgQ3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTEwOlRyfSk7Y29uc3QgUHI9QSh7cHJlZml4OlwiZlwiLG5hbWU6XCJiYXNlMTZcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZcIixiaXRzUGVyQ2hhcjo0fSksU3I9QSh7cHJlZml4OlwiRlwiLG5hbWU6XCJiYXNlMTZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRlwiLGJpdHNQZXJDaGFyOjR9KTt2YXIgT3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTE2OlByLGJhc2UxNnVwcGVyOlNyfSk7Y29uc3QgUnI9QSh7cHJlZml4OlwiYlwiLG5hbWU6XCJiYXNlMzJcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLEFyPUEoe3ByZWZpeDpcIkJcIixuYW1lOlwiYmFzZTMydXBwZXJcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLHhyPUEoe3ByZWZpeDpcImNcIixuYW1lOlwiYmFzZTMycGFkXCIsYWxwaGFiZXQ6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksTnI9QSh7cHJlZml4OlwiQ1wiLG5hbWU6XCJiYXNlMzJwYWR1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1Njc9XCIsYml0c1BlckNoYXI6NX0pLCRyPUEoe3ByZWZpeDpcInZcIixuYW1lOlwiYmFzZTMyaGV4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dlwiLGJpdHNQZXJDaGFyOjV9KSx6cj1BKHtwcmVmaXg6XCJWXCIsbmFtZTpcImJhc2UzMmhleHVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVlwiLGJpdHNQZXJDaGFyOjV9KSxMcj1BKHtwcmVmaXg6XCJ0XCIsbmFtZTpcImJhc2UzMmhleHBhZFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXY9XCIsYml0c1BlckNoYXI6NX0pLGtyPUEoe3ByZWZpeDpcIlRcIixuYW1lOlwiYmFzZTMyaGV4cGFkdXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWPVwiLGJpdHNQZXJDaGFyOjV9KSxqcj1BKHtwcmVmaXg6XCJoXCIsbmFtZTpcImJhc2UzMnpcIixhbHBoYWJldDpcInlibmRyZmc4ZWprbWNwcXhvdDF1d2lzemEzNDVoNzY5XCIsYml0c1BlckNoYXI6NX0pO3ZhciBVcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzI6UnIsYmFzZTMydXBwZXI6QXIsYmFzZTMycGFkOnhyLGJhc2UzMnBhZHVwcGVyOk5yLGJhc2UzMmhleDokcixiYXNlMzJoZXh1cHBlcjp6cixiYXNlMzJoZXhwYWQ6THIsYmFzZTMyaGV4cGFkdXBwZXI6a3IsYmFzZTMyejpqcn0pO2NvbnN0IEZyPW1lKHtwcmVmaXg6XCJrXCIsbmFtZTpcImJhc2UzNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCJ9KSxNcj1tZSh7cHJlZml4OlwiS1wiLG5hbWU6XCJiYXNlMzZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJ9KTt2YXIgS3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTM2OkZyLGJhc2UzNnVwcGVyOk1yfSk7Y29uc3QgQnI9bWUoe25hbWU6XCJiYXNlNThidGNcIixwcmVmaXg6XCJ6XCIsYWxwaGFiZXQ6XCIxMjM0NTY3ODlBQkNERUZHSEpLTE1OUFFSU1RVVldYWVphYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6XCJ9KSxWcj1tZSh7bmFtZTpcImJhc2U1OGZsaWNrclwiLHByZWZpeDpcIlpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OWFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpBQkNERUZHSEpLTE1OUFFSU1RVVldYWVpcIn0pO3ZhciBxcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNThidGM6QnIsYmFzZTU4ZmxpY2tyOlZyfSk7Y29uc3QgR3I9QSh7cHJlZml4OlwibVwiLG5hbWU6XCJiYXNlNjRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixiaXRzUGVyQ2hhcjo2fSksV3I9QSh7cHJlZml4OlwiTVwiLG5hbWU6XCJiYXNlNjRwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYml0c1BlckNoYXI6Nn0pLEhyPUEoe3ByZWZpeDpcInVcIixuYW1lOlwiYmFzZTY0dXJsXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fXCIsYml0c1BlckNoYXI6Nn0pLFlyPUEoe3ByZWZpeDpcIlVcIixuYW1lOlwiYmFzZTY0dXJscGFkXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fPVwiLGJpdHNQZXJDaGFyOjZ9KTt2YXIgSnI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTY0OkdyLGJhc2U2NHBhZDpXcixiYXNlNjR1cmw6SHIsYmFzZTY0dXJscGFkOllyfSk7Y29uc3QgYWk9QXJyYXkuZnJvbShcIlxcdXsxRjY4MH1cXHV7MUZBOTB9XFx1MjYwNFxcdXsxRjZGMH1cXHV7MUYzMEN9XFx1ezFGMzExfVxcdXsxRjMxMn1cXHV7MUYzMTN9XFx1ezFGMzE0fVxcdXsxRjMxNX1cXHV7MUYzMTZ9XFx1ezFGMzE3fVxcdXsxRjMxOH1cXHV7MUYzMER9XFx1ezFGMzBGfVxcdXsxRjMwRX1cXHV7MUY0MDl9XFx1MjYwMFxcdXsxRjRCQn1cXHV7MUY1QTV9XFx1ezFGNEJFfVxcdXsxRjRCRn1cXHV7MUY2MDJ9XFx1Mjc2NFxcdXsxRjYwRH1cXHV7MUY5MjN9XFx1ezFGNjBBfVxcdXsxRjY0Rn1cXHV7MUY0OTV9XFx1ezFGNjJEfVxcdXsxRjYxOH1cXHV7MUY0NER9XFx1ezFGNjA1fVxcdXsxRjQ0Rn1cXHV7MUY2MDF9XFx1ezFGNTI1fVxcdXsxRjk3MH1cXHV7MUY0OTR9XFx1ezFGNDk2fVxcdXsxRjQ5OX1cXHV7MUY2MjJ9XFx1ezFGOTE0fVxcdXsxRjYwNn1cXHV7MUY2NDR9XFx1ezFGNEFBfVxcdXsxRjYwOX1cXHUyNjNBXFx1ezFGNDRDfVxcdXsxRjkxN31cXHV7MUY0OUN9XFx1ezFGNjE0fVxcdXsxRjYwRX1cXHV7MUY2MDd9XFx1ezFGMzM5fVxcdXsxRjkyNn1cXHV7MUYzODl9XFx1ezFGNDlFfVxcdTI3MENcXHUyNzI4XFx1ezFGOTM3fVxcdXsxRjYzMX1cXHV7MUY2MEN9XFx1ezFGMzM4fVxcdXsxRjY0Q31cXHV7MUY2MEJ9XFx1ezFGNDk3fVxcdXsxRjQ5QX1cXHV7MUY2MEZ9XFx1ezFGNDlCfVxcdXsxRjY0Mn1cXHV7MUY0OTN9XFx1ezFGOTI5fVxcdXsxRjYwNH1cXHV7MUY2MDB9XFx1ezFGNUE0fVxcdXsxRjYwM31cXHV7MUY0QUZ9XFx1ezFGNjQ4fVxcdXsxRjQ0N31cXHV7MUYzQjZ9XFx1ezFGNjEyfVxcdXsxRjkyRH1cXHUyNzYzXFx1ezFGNjFDfVxcdXsxRjQ4Qn1cXHV7MUY0NDB9XFx1ezFGNjJBfVxcdXsxRjYxMX1cXHV7MUY0QTV9XFx1ezFGNjRCfVxcdXsxRjYxRX1cXHV7MUY2Mjl9XFx1ezFGNjIxfVxcdXsxRjkyQX1cXHV7MUY0NEF9XFx1ezFGOTczfVxcdXsxRjYyNX1cXHV7MUY5MjR9XFx1ezFGNDQ5fVxcdXsxRjQ4M31cXHV7MUY2MzN9XFx1MjcwQlxcdXsxRjYxQX1cXHV7MUY2MUR9XFx1ezFGNjM0fVxcdXsxRjMxRn1cXHV7MUY2MkN9XFx1ezFGNjQzfVxcdXsxRjM0MH1cXHV7MUYzMzd9XFx1ezFGNjNCfVxcdXsxRjYxM31cXHUyQjUwXFx1MjcwNVxcdXsxRjk3QX1cXHV7MUYzMDh9XFx1ezFGNjA4fVxcdXsxRjkxOH1cXHV7MUY0QTZ9XFx1MjcxNFxcdXsxRjYyM31cXHV7MUYzQzN9XFx1ezFGNDkwfVxcdTI2MzlcXHV7MUYzOEF9XFx1ezFGNDk4fVxcdXsxRjYyMH1cXHUyNjFEXFx1ezFGNjE1fVxcdXsxRjMzQX1cXHV7MUYzODJ9XFx1ezFGMzNCfVxcdXsxRjYxMH1cXHV7MUY1OTV9XFx1ezFGNDlEfVxcdXsxRjY0QX1cXHV7MUY2Mzl9XFx1ezFGNUUzfVxcdXsxRjRBQn1cXHV7MUY0ODB9XFx1ezFGNDUxfVxcdXsxRjNCNX1cXHV7MUY5MUV9XFx1ezFGNjFCfVxcdXsxRjUzNH1cXHV7MUY2MjR9XFx1ezFGMzNDfVxcdXsxRjYyQn1cXHUyNkJEXFx1ezFGOTE5fVxcdTI2MTVcXHV7MUYzQzZ9XFx1ezFGOTJCfVxcdXsxRjQ0OH1cXHV7MUY2MkV9XFx1ezFGNjQ2fVxcdXsxRjM3Qn1cXHV7MUYzNDN9XFx1ezFGNDM2fVxcdXsxRjQ4MX1cXHV7MUY2MzJ9XFx1ezFGMzNGfVxcdXsxRjlFMX1cXHV7MUYzODF9XFx1MjZBMVxcdXsxRjMxRX1cXHV7MUYzODh9XFx1Mjc0Q1xcdTI3MEFcXHV7MUY0NEJ9XFx1ezFGNjMwfVxcdXsxRjkyOH1cXHV7MUY2MzZ9XFx1ezFGOTFEfVxcdXsxRjZCNn1cXHV7MUY0QjB9XFx1ezFGMzUzfVxcdXsxRjRBMn1cXHV7MUY5MUZ9XFx1ezFGNjQxfVxcdXsxRjZBOH1cXHV7MUY0QTh9XFx1ezFGOTJDfVxcdTI3MDhcXHV7MUYzODB9XFx1ezFGMzdBfVxcdXsxRjkxM31cXHV7MUY2MTl9XFx1ezFGNDlGfVxcdXsxRjMzMX1cXHV7MUY2MTZ9XFx1ezFGNDc2fVxcdXsxRjk3NH1cXHUyNUI2XFx1MjdBMVxcdTI3NTNcXHV7MUY0OEV9XFx1ezFGNEI4fVxcdTJCMDdcXHV7MUY2Mjh9XFx1ezFGMzFBfVxcdXsxRjk4Qn1cXHV7MUY2Mzd9XFx1ezFGNTdBfVxcdTI2QTBcXHV7MUY2NDV9XFx1ezFGNjFGfVxcdXsxRjYzNX1cXHV7MUY0NEV9XFx1ezFGOTMyfVxcdXsxRjkyMH1cXHV7MUY5Mjd9XFx1ezFGNENDfVxcdXsxRjUzNX1cXHV7MUY0ODV9XFx1ezFGOUQwfVxcdXsxRjQzRX1cXHV7MUYzNTJ9XFx1ezFGNjE3fVxcdXsxRjkxMX1cXHV7MUYzMEF9XFx1ezFGOTJGfVxcdXsxRjQzN31cXHUyNjBFXFx1ezFGNEE3fVxcdXsxRjYyRn1cXHV7MUY0ODZ9XFx1ezFGNDQ2fVxcdXsxRjNBNH1cXHV7MUY2NDd9XFx1ezFGMzUxfVxcdTI3NDRcXHV7MUYzMzR9XFx1ezFGNEEzfVxcdXsxRjQzOH1cXHV7MUY0OEN9XFx1ezFGNENEfVxcdXsxRjk0MH1cXHV7MUY5MjJ9XFx1ezFGNDQ1fVxcdXsxRjRBMX1cXHV7MUY0QTl9XFx1ezFGNDUwfVxcdXsxRjRGOH1cXHV7MUY0N0J9XFx1ezFGOTEwfVxcdXsxRjkyRX1cXHV7MUYzQkN9XFx1ezFGOTc1fVxcdXsxRjZBOX1cXHV7MUYzNEV9XFx1ezFGMzRBfVxcdXsxRjQ3Q31cXHV7MUY0OER9XFx1ezFGNEUzfVxcdXsxRjk0Mn1cIiksWHI9YWkucmVkdWNlKChyLGUsdCk9PihyW3RdPWUsciksW10pLFpyPWFpLnJlZHVjZSgocixlLHQpPT4ocltlLmNvZGVQb2ludEF0KDApXT10LHIpLFtdKTtmdW5jdGlvbiBRcihyKXtyZXR1cm4gci5yZWR1Y2UoKGUsdCk9PihlKz1Yclt0XSxlKSxcIlwiKX1mdW5jdGlvbiBlbihyKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHIpe2NvbnN0IGk9WnJbdC5jb2RlUG9pbnRBdCgwKV07aWYoaT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYE5vbi1iYXNlMjU2ZW1vamkgY2hhcmFjdGVyOiAke3R9YCk7ZS5wdXNoKGkpfXJldHVybiBuZXcgVWludDhBcnJheShlKX1jb25zdCB0bj1TZSh7cHJlZml4OlwiXFx1ezFGNjgwfVwiLG5hbWU6XCJiYXNlMjU2ZW1vamlcIixlbmNvZGU6UXIsZGVjb2RlOmVufSk7dmFyIHNuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyNTZlbW9qaTp0bn0pLHJuPWhpLGNpPTEyOCxubj0xMjcsb249fm5uLGFuPU1hdGgucG93KDIsMzEpO2Z1bmN0aW9uIGhpKHIsZSx0KXtlPWV8fFtdLHQ9dHx8MDtmb3IodmFyIGk9dDtyPj1hbjspZVt0KytdPXImMjU1fGNpLHIvPTEyODtmb3IoO3Imb247KWVbdCsrXT1yJjI1NXxjaSxyPj4+PTc7cmV0dXJuIGVbdF09cnwwLGhpLmJ5dGVzPXQtaSsxLGV9dmFyIGNuPVZlLGhuPTEyOCxsaT0xMjc7ZnVuY3Rpb24gVmUocixpKXt2YXIgdD0wLGk9aXx8MCxzPTAsbj1pLG8sYT1yLmxlbmd0aDtkb3tpZihuPj1hKXRocm93IFZlLmJ5dGVzPTAsbmV3IFJhbmdlRXJyb3IoXCJDb3VsZCBub3QgZGVjb2RlIHZhcmludFwiKTtvPXJbbisrXSx0Kz1zPDI4PyhvJmxpKTw8czoobyZsaSkqTWF0aC5wb3coMixzKSxzKz03fXdoaWxlKG8+PWhuKTtyZXR1cm4gVmUuYnl0ZXM9bi1pLHR9dmFyIGxuPU1hdGgucG93KDIsNyksdW49TWF0aC5wb3coMiwxNCksZG49TWF0aC5wb3coMiwyMSksZ249TWF0aC5wb3coMiwyOCkscG49TWF0aC5wb3coMiwzNSkseW49TWF0aC5wb3coMiw0MiksYm49TWF0aC5wb3coMiw0OSksbW49TWF0aC5wb3coMiw1NiksZm49TWF0aC5wb3coMiw2MyksRG49ZnVuY3Rpb24ocil7cmV0dXJuIHI8bG4/MTpyPHVuPzI6cjxkbj8zOnI8Z24/NDpyPHBuPzU6cjx5bj82OnI8Ym4/NzpyPG1uPzg6cjxmbj85OjEwfSx2bj17ZW5jb2RlOnJuLGRlY29kZTpjbixlbmNvZGluZ0xlbmd0aDpEbn0sdWk9dm47Y29uc3QgZGk9KHIsZSx0PTApPT4odWkuZW5jb2RlKHIsZSx0KSxlKSxnaT1yPT51aS5lbmNvZGluZ0xlbmd0aChyKSxxZT0ocixlKT0+e2NvbnN0IHQ9ZS5ieXRlTGVuZ3RoLGk9Z2kocikscz1pK2dpKHQpLG49bmV3IFVpbnQ4QXJyYXkocyt0KTtyZXR1cm4gZGkocixuLDApLGRpKHQsbixpKSxuLnNldChlLHMpLG5ldyB3bihyLHQsZSxuKX07Y2xhc3Mgd257Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5jb2RlPWUsdGhpcy5zaXplPXQsdGhpcy5kaWdlc3Q9aSx0aGlzLmJ5dGVzPXN9fWNvbnN0IHBpPSh7bmFtZTpyLGNvZGU6ZSxlbmNvZGU6dH0pPT5uZXcgX24ocixlLHQpO2NsYXNzIF9ue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLm5hbWU9ZSx0aGlzLmNvZGU9dCx0aGlzLmVuY29kZT1pfWRpZ2VzdChlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSl7Y29uc3QgdD10aGlzLmVuY29kZShlKTtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/cWUodGhpcy5jb2RlLHQpOnQudGhlbihpPT5xZSh0aGlzLmNvZGUsaSkpfWVsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9fWNvbnN0IHlpPXI9PmFzeW5jIGU9Pm5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KHIsZSkpLEVuPXBpKHtuYW1lOlwic2hhMi0yNTZcIixjb2RlOjE4LGVuY29kZTp5aShcIlNIQS0yNTZcIil9KSxJbj1waSh7bmFtZTpcInNoYTItNTEyXCIsY29kZToxOSxlbmNvZGU6eWkoXCJTSEEtNTEyXCIpfSk7dmFyIFRuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNoYTI1NjpFbixzaGE1MTI6SW59KTtjb25zdCBiaT0wLENuPVwiaWRlbnRpdHlcIixtaT1uaSxQbj1yPT5xZShiaSxtaShyKSksU249e2NvZGU6YmksbmFtZTpDbixlbmNvZGU6bWksZGlnZXN0OlBufTt2YXIgT249T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6U259KTtuZXcgVGV4dEVuY29kZXIsbmV3IFRleHREZWNvZGVyO2NvbnN0IGZpPXsuLi52ciwuLi5fciwuLi5JciwuLi5DciwuLi5PciwuLi5VciwuLi5LciwuLi5xciwuLi5KciwuLi5zbn07KHsuLi5UbiwuLi5Pbn0pO2Z1bmN0aW9uIERpKHIpe3JldHVybiBnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbD9uZXcgVWludDhBcnJheShyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKTpyfWZ1bmN0aW9uIFJuKHI9MCl7cmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZSE9bnVsbD9EaShnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZShyKSk6bmV3IFVpbnQ4QXJyYXkocil9ZnVuY3Rpb24gdmkocixlLHQsaSl7cmV0dXJue25hbWU6cixwcmVmaXg6ZSxlbmNvZGVyOntuYW1lOnIscHJlZml4OmUsZW5jb2RlOnR9LGRlY29kZXI6e2RlY29kZTppfX19Y29uc3Qgd2k9dmkoXCJ1dGY4XCIsXCJ1XCIscj0+XCJ1XCIrbmV3IFRleHREZWNvZGVyKFwidXRmOFwiKS5kZWNvZGUocikscj0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIuc3Vic3RyaW5nKDEpKSksR2U9dmkoXCJhc2NpaVwiLFwiYVwiLHI9PntsZXQgZT1cImFcIjtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbdF0pO3JldHVybiBlfSxyPT57cj1yLnN1YnN0cmluZygxKTtjb25zdCBlPVJuKHIubGVuZ3RoKTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyllW3RdPXIuY2hhckNvZGVBdCh0KTtyZXR1cm4gZX0pLEFuPXt1dGY4OndpLFwidXRmLThcIjp3aSxoZXg6ZmkuYmFzZTE2LGxhdGluMTpHZSxhc2NpaTpHZSxiaW5hcnk6R2UsLi4uZml9O2Z1bmN0aW9uIHhuKHIsZT1cInV0ZjhcIil7Y29uc3QgdD1BbltlXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHtlfVwiYCk7cmV0dXJuKGU9PT1cInV0ZjhcInx8ZT09PVwidXRmLThcIikmJmdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tIT1udWxsP0RpKGdsb2JhbFRoaXMuQnVmZmVyLmZyb20ocixcInV0Zi04XCIpKTp0LmRlY29kZXIuZGVjb2RlKGAke3QucHJlZml4fSR7cn1gKX12YXIgTm49T2JqZWN0LmRlZmluZVByb3BlcnR5LCRuPShyLGUsdCk9PmUgaW4gcj9ObihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsSj0ocixlLHQpPT4kbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIF9pe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxKKHRoaXMsXCJrZXljaGFpblwiLG5ldyBNYXApLEoodGhpcyxcIm5hbWVcIixTdCksSih0aGlzLFwidmVyc2lvblwiLE90KSxKKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxKKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksSih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3QgaT1hd2FpdCB0aGlzLmdldEtleUNoYWluKCk7dHlwZW9mIGk8XCJ1XCImJih0aGlzLmtleWNoYWluPWkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9fSksSih0aGlzLFwiaGFzXCIsaT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uaGFzKGkpKSksSih0aGlzLFwic2V0XCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uc2V0KGkscyksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSxKKHRoaXMsXCJnZXRcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmtleWNoYWluLmdldChpKTtpZih0eXBlb2Ygcz5cInVcIil7Y29uc3R7bWVzc2FnZTpufT1iKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1yZXR1cm4gc30pLEoodGhpcyxcImRlbFwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLmRlbGV0ZShpKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPWoodCx0aGlzLm5hbWUpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1hc3luYyBzZXRLZXlDaGFpbihlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxOZShlKSl9YXN5bmMgZ2V0S2V5Q2hhaW4oKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/JGUoZSk6dm9pZCAwfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldEtleUNoYWluKHRoaXMua2V5Y2hhaW4pfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgem49T2JqZWN0LmRlZmluZVByb3BlcnR5LExuPShyLGUsdCk9PmUgaW4gcj96bihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQseD0ocixlLHQpPT5MbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIEVpe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHgodGhpcyxcIm5hbWVcIixDdCkseCh0aGlzLFwia2V5Y2hhaW5cIikseCh0aGlzLFwicmFuZG9tU2Vzc2lvbklkZW50aWZpZXJcIix6ZSgpKSx4KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx4KHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fChhd2FpdCB0aGlzLmtleWNoYWluLmluaXQoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLHgodGhpcyxcImhhc0tleXNcIixzPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5oYXMocykpKSx4KHRoaXMsXCJnZXRDbGllbnRJZFwiLGFzeW5jKCk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0Q2xpZW50U2VlZCgpLG49SWUuZ2VuZXJhdGVLZXlQYWlyKHMpO3JldHVybiBJZS5lbmNvZGVJc3Mobi5wdWJsaWNLZXkpfSkseCh0aGlzLFwiZ2VuZXJhdGVLZXlQYWlyXCIsKCk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXBzKCk7cmV0dXJuIHRoaXMuc2V0UHJpdmF0ZUtleShzLnB1YmxpY0tleSxzLnByaXZhdGVLZXkpfSkseCh0aGlzLFwic2lnbkpXVFwiLGFzeW5jIHM9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPWF3YWl0IHRoaXMuZ2V0Q2xpZW50U2VlZCgpLG89SWUuZ2VuZXJhdGVLZXlQYWlyKG4pLGE9dGhpcy5yYW5kb21TZXNzaW9uSWRlbnRpZmllcixjPVB0O3JldHVybiBhd2FpdCBJZS5zaWduSldUKGEscyxjLG8pfSkseCh0aGlzLFwiZ2VuZXJhdGVTaGFyZWRLZXlcIiwocyxuLG8pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgYT10aGlzLmdldFByaXZhdGVLZXkocyksYz15cyhhLG4pO3JldHVybiB0aGlzLnNldFN5bUtleShjLG8pfSkseCh0aGlzLFwic2V0U3ltS2V5XCIsYXN5bmMocyxuKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG89bnx8YnMocyk7cmV0dXJuIGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KG8scyksb30pLHgodGhpcyxcImRlbGV0ZUtleVBhaXJcIixhc3luYyBzPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5rZXljaGFpbi5kZWwocyl9KSx4KHRoaXMsXCJkZWxldGVTeW1LZXlcIixhc3luYyBzPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5rZXljaGFpbi5kZWwocyl9KSx4KHRoaXMsXCJlbmNvZGVcIixhc3luYyhzLG4sbyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBhPW1zKG8pLGM9Z3Mobik7aWYoYXQoYSkpcmV0dXJuIGZzKGMsbz8uZW5jb2RpbmcpO2lmKGN0KGEpKXtjb25zdCB5PWEuc2VuZGVyUHVibGljS2V5LHc9YS5yZWNlaXZlclB1YmxpY0tleTtzPWF3YWl0IHRoaXMuZ2VuZXJhdGVTaGFyZWRLZXkoeSx3KX1jb25zdCBoPXRoaXMuZ2V0U3ltS2V5KHMpLHt0eXBlOmwsc2VuZGVyUHVibGljS2V5OnB9PWE7cmV0dXJuIERzKHt0eXBlOmwsc3ltS2V5OmgsbWVzc2FnZTpjLHNlbmRlclB1YmxpY0tleTpwLGVuY29kaW5nOm8/LmVuY29kaW5nfSl9KSx4KHRoaXMsXCJkZWNvZGVcIixhc3luYyhzLG4sbyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBhPXZzKG4sbyk7aWYoYXQoYSkpe2NvbnN0IGM9d3MobixvPy5lbmNvZGluZyk7cmV0dXJuIG50KGMpfWlmKGN0KGEpKXtjb25zdCBjPWEucmVjZWl2ZXJQdWJsaWNLZXksaD1hLnNlbmRlclB1YmxpY0tleTtzPWF3YWl0IHRoaXMuZ2VuZXJhdGVTaGFyZWRLZXkoYyxoKX10cnl7Y29uc3QgYz10aGlzLmdldFN5bUtleShzKSxoPV9zKHtzeW1LZXk6YyxlbmNvZGVkOm4sZW5jb2Rpbmc6bz8uZW5jb2Rpbmd9KTtyZXR1cm4gbnQoaCl9Y2F0Y2goYyl7dGhpcy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBkZWNvZGUgbWVzc2FnZSBmcm9tIHRvcGljOiAnJHtzfScsIGNsaWVudElkOiAnJHthd2FpdCB0aGlzLmdldENsaWVudElkKCl9J2ApLHRoaXMubG9nZ2VyLmVycm9yKGMpfX0pLHgodGhpcyxcImdldFBheWxvYWRUeXBlXCIsKHMsbj1sdCk9Pntjb25zdCBvPWh0KHtlbmNvZGVkOnMsZW5jb2Rpbmc6bn0pO3JldHVybiBFcyhvLnR5cGUpfSkseCh0aGlzLFwiZ2V0UGF5bG9hZFNlbmRlclB1YmxpY0tleVwiLChzLG49bHQpPT57Y29uc3Qgbz1odCh7ZW5jb2RlZDpzLGVuY29kaW5nOm59KTtyZXR1cm4gby5zZW5kZXJQdWJsaWNLZXk/VnMoby5zZW5kZXJQdWJsaWNLZXksSXMpOnZvaWQgMH0pLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPWoodCx0aGlzLm5hbWUpLHRoaXMua2V5Y2hhaW49aXx8bmV3IF9pKHRoaXMuY29yZSx0aGlzLmxvZ2dlcil9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9YXN5bmMgc2V0UHJpdmF0ZUtleShlLHQpe3JldHVybiBhd2FpdCB0aGlzLmtleWNoYWluLnNldChlLHQpLGV9Z2V0UHJpdmF0ZUtleShlKXtyZXR1cm4gdGhpcy5rZXljaGFpbi5nZXQoZSl9YXN5bmMgZ2V0Q2xpZW50U2VlZCgpe2xldCBlPVwiXCI7dHJ5e2U9dGhpcy5rZXljaGFpbi5nZXQoTWUpfWNhdGNoe2U9emUoKSxhd2FpdCB0aGlzLmtleWNoYWluLnNldChNZSxlKX1yZXR1cm4geG4oZSxcImJhc2UxNlwiKX1nZXRTeW1LZXkoZSl7cmV0dXJuIHRoaXMua2V5Y2hhaW4uZ2V0KGUpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIga249T2JqZWN0LmRlZmluZVByb3BlcnR5LGpuPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFVuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLElpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsRm49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxNbj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFdlPShyLGUsdCk9PmUgaW4gcj9rbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsS249KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKUZuLmNhbGwoZSx0KSYmV2Uocix0LGVbdF0pO2lmKElpKWZvcih2YXIgdCBvZiBJaShlKSlNbi5jYWxsKGUsdCkmJldlKHIsdCxlW3RdKTtyZXR1cm4gcn0sQm49KHIsZSk9PmpuKHIsVW4oZSkpLEs9KHIsZSx0KT0+V2Uocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBUaSBleHRlbmRzIHRze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmxvZ2dlcj1lLHRoaXMuY29yZT10LEsodGhpcyxcIm1lc3NhZ2VzXCIsbmV3IE1hcCksSyh0aGlzLFwibWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrXCIsbmV3IE1hcCksSyh0aGlzLFwibmFtZVwiLFJ0KSxLKHRoaXMsXCJ2ZXJzaW9uXCIsQXQpLEsodGhpcyxcImluaXRpYWxpemVkXCIsITEpLEsodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixXKSxLKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCF0aGlzLmluaXRpYWxpemVkKXt0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpO3RyeXtjb25zdCBpPWF3YWl0IHRoaXMuZ2V0UmVsYXllck1lc3NhZ2VzKCk7dHlwZW9mIGk8XCJ1XCImJih0aGlzLm1lc3NhZ2VzPWkpO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKCk7dHlwZW9mIHM8XCJ1XCImJih0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjaz1zKSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHNpemU6dGhpcy5tZXNzYWdlcy5zaXplfSl9Y2F0Y2goaSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGkpfWZpbmFsbHl7dGhpcy5pbml0aWFsaXplZD0hMH19fSksSyh0aGlzLFwic2V0XCIsYXN5bmMoaSxzLG4pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbz1UZShzKTtsZXQgYT10aGlzLm1lc3NhZ2VzLmdldChpKTtpZih0eXBlb2YgYT5cInVcIiYmKGE9e30pLHR5cGVvZiBhW29dPFwidVwiKXJldHVybiBvO2lmKGFbb109cyx0aGlzLm1lc3NhZ2VzLnNldChpLGEpLG49PT15ZS5pbmJvdW5kKXtjb25zdCBjPXRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmdldChpKXx8e307dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suc2V0KGksQm4oS24oe30sYykse1tvXTpzfSkpfXJldHVybiBhd2FpdCB0aGlzLnBlcnNpc3QoKSxvfSksSyh0aGlzLFwiZ2V0XCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2xldCBzPXRoaXMubWVzc2FnZXMuZ2V0KGkpO3JldHVybiB0eXBlb2Ygcz5cInVcIiYmKHM9e30pLHN9KSxLKHRoaXMsXCJnZXRXaXRob3V0QWNrXCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9e307Zm9yKGNvbnN0IG4gb2YgaSl7Y29uc3Qgbz10aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5nZXQobil8fHt9O3Nbbl09T2JqZWN0LnZhbHVlcyhvKX1yZXR1cm4gc30pLEsodGhpcyxcImhhc1wiLChpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj10aGlzLmdldChpKSxvPVRlKHMpO3JldHVybiB0eXBlb2YgbltvXTxcInVcIn0pLEsodGhpcyxcImFja1wiLGFzeW5jKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPXRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmdldChpKTtpZih0eXBlb2Ygbj5cInVcIilyZXR1cm47Y29uc3Qgbz1UZShzKTtkZWxldGUgbltvXSxPYmplY3Qua2V5cyhuKS5sZW5ndGg9PT0wP3RoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmRlbGV0ZShpKTp0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5zZXQoaSxuKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLEsodGhpcyxcImRlbFwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLm1lc3NhZ2VzLmRlbGV0ZShpKSx0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5kZWxldGUoaSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmxvZ2dlcj1qKGUsdGhpcy5uYW1lKSx0aGlzLmNvcmU9dH1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IHN0b3JhZ2VLZXlXaXRob3V0Q2xpZW50QWNrKCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZStcIl93aXRob3V0Q2xpZW50QWNrXCJ9YXN5bmMgc2V0UmVsYXllck1lc3NhZ2VzKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LE5lKGUpKX1hc3luYyBzZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5V2l0aG91dENsaWVudEFjayxOZShlKSl9YXN5bmMgZ2V0UmVsYXllck1lc3NhZ2VzKCl7Y29uc3QgZT1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSk7cmV0dXJuIHR5cGVvZiBlPFwidVwiPyRlKGUpOnZvaWQgMH1hc3luYyBnZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKCl7Y29uc3QgZT1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleVdpdGhvdXRDbGllbnRBY2spO3JldHVybiB0eXBlb2YgZTxcInVcIj8kZShlKTp2b2lkIDB9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0UmVsYXllck1lc3NhZ2VzKHRoaXMubWVzc2FnZXMpLGF3YWl0IHRoaXMuc2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjayh0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjayl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBWbj1PYmplY3QuZGVmaW5lUHJvcGVydHkscW49T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsR249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsQ2k9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxXbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEhuPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsSGU9KHIsZSx0KT0+ZSBpbiByP1ZuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxjZT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpV24uY2FsbChlLHQpJiZIZShyLHQsZVt0XSk7aWYoQ2kpZm9yKHZhciB0IG9mIENpKGUpKUhuLmNhbGwoZSx0KSYmSGUocix0LGVbdF0pO3JldHVybiByfSxQaT0ocixlKT0+cW4ocixHbihlKSksRz0ocixlLHQpPT5IZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFluIGV4dGVuZHMgaXN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPXQsRyh0aGlzLFwiZXZlbnRzXCIsbmV3IGllKSxHKHRoaXMsXCJuYW1lXCIsTnQpLEcodGhpcyxcInF1ZXVlXCIsbmV3IE1hcCksRyh0aGlzLFwicHVibGlzaFRpbWVvdXRcIiwkKHN0KSksRyh0aGlzLFwiaW5pdGlhbFB1Ymxpc2hUaW1lb3V0XCIsJChRKjE1KSksRyh0aGlzLFwibmVlZHNUcmFuc3BvcnRSZXN0YXJ0XCIsITEpLEcodGhpcyxcInB1Ymxpc2hcIixhc3luYyhpLHMsbik9Pnt2YXIgbyxhLGMsaCxsO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicHVibGlzaFwiLHBhcmFtczp7dG9waWM6aSxtZXNzYWdlOnMsb3B0czpufX0pO2NvbnN0IHA9bj8udHRsfHx4dCx5PW4/LnByb21wdHx8ITEsdz1uPy50YWd8fDAsdT1uPy5pZHx8amUoKS50b1N0cmluZygpLG09bmUoQ2UoKS5wcm90b2NvbCksRD17aWQ6dSxtZXRob2Q6bj8ucHVibGlzaE1ldGhvZHx8bS5wdWJsaXNoLHBhcmFtczpjZSh7dG9waWM6aSxtZXNzYWdlOnMsdHRsOnAscHJvbXB0OnksdGFnOncsYXR0ZXN0YXRpb246bj8uYXR0ZXN0YXRpb259LG4/LnR2ZiYme3R2ZjpuLnR2Zn0pfSxfPWBGYWlsZWQgdG8gcHVibGlzaCBwYXlsb2FkLCBwbGVhc2UgdHJ5IGFnYWluLiBpZDoke3V9IHRhZzoke3d9YDt0cnl7dWUoKG89RC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpvLnByb21wdCkmJigoYT1ELnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBhLnByb21wdCksdWUoKGM9RC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpjLnRhZykmJigoaD1ELnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBoLnRhZyk7Y29uc3QgRT1uZXcgUHJvbWlzZShhc3luYyBMPT57Y29uc3QgST0oe2lkOlR9KT0+e3ZhciBTOygoUz1ELmlkKT09bnVsbD92b2lkIDA6Uy50b1N0cmluZygpKT09PVQudG9TdHJpbmcoKSYmKHRoaXMucmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShUKSx0aGlzLnJlbGF5ZXIuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCxJKSxMKCkpfTt0aGlzLnJlbGF5ZXIuZXZlbnRzLm9uKEMucHVibGlzaCxJKTtjb25zdCBrPUgobmV3IFByb21pc2UoKFQsUyk9Pnt0aGlzLnJwY1B1Ymxpc2goRCxuKS50aGVuKFQpLmNhdGNoKE89Pnt0aGlzLmxvZ2dlci53YXJuKE8sTz8ubWVzc2FnZSksUyhPKX0pfSksdGhpcy5pbml0aWFsUHVibGlzaFRpbWVvdXQsYEZhaWxlZCBpbml0aWFsIHB1Ymxpc2gsIHJldHJ5aW5nLi4uLiBpZDoke3V9IHRhZzoke3d9YCk7dHJ5e2F3YWl0IGssdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoQy5wdWJsaXNoLEkpfWNhdGNoKFQpe3RoaXMucXVldWUuc2V0KHUse3JlcXVlc3Q6RCxvcHRzOm4sYXR0ZW1wdDoxfSksdGhpcy5sb2dnZXIud2FybihULFQ/Lm1lc3NhZ2UpfX0pO3RoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicHVibGlzaFwiLHBhcmFtczp7aWQ6dSx0b3BpYzppLG1lc3NhZ2U6cyxvcHRzOm59fSksYXdhaXQgSChFLHRoaXMucHVibGlzaFRpbWVvdXQsXyl9Y2F0Y2goRSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gUHVibGlzaCBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLmVycm9yKEUpLChsPW4/LmludGVybmFsKSE9bnVsbCYmbC50aHJvd09uRmFpbGVkUHVibGlzaCl0aHJvdyBFfWZpbmFsbHl7dGhpcy5xdWV1ZS5kZWxldGUodSl9fSksRyh0aGlzLFwicHVibGlzaEN1c3RvbVwiLGFzeW5jIGk9Pnt2YXIgcyxuLG8sYSxjO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBjdXN0b20gcGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hDdXN0b21cIixwYXJhbXM6aX0pO2NvbnN0e3BheWxvYWQ6aCxvcHRzOmw9e319PWkse2F0dGVzdGF0aW9uOnAsdHZmOnkscHVibGlzaE1ldGhvZDp3LHByb21wdDp1LHRhZzptLHR0bDpEPWxlfT1sLF89bC5pZHx8amUoKS50b1N0cmluZygpLEU9bmUoQ2UoKS5wcm90b2NvbCksTD13fHxFLnB1Ymxpc2gsST17aWQ6XyxtZXRob2Q6TCxwYXJhbXM6Y2UoUGkoY2Uoe30saCkse3R0bDpELHByb21wdDp1LHRhZzptLGF0dGVzdGF0aW9uOnB9KSx5KX0saz1gRmFpbGVkIHRvIHB1Ymxpc2ggY3VzdG9tIHBheWxvYWQsIHBsZWFzZSB0cnkgYWdhaW4uIGlkOiR7X30gdGFnOiR7bX1gO3RyeXt1ZSgocz1JLnBhcmFtcyk9PW51bGw/dm9pZCAwOnMucHJvbXB0KSYmKChuPUkucGFyYW1zKT09bnVsbHx8ZGVsZXRlIG4ucHJvbXB0KSx1ZSgobz1JLnBhcmFtcyk9PW51bGw/dm9pZCAwOm8udGFnKSYmKChhPUkucGFyYW1zKT09bnVsbHx8ZGVsZXRlIGEudGFnKTtjb25zdCBUPW5ldyBQcm9taXNlKGFzeW5jIFM9Pntjb25zdCBPPSh7aWQ6Wn0pPT57dmFyIF9lOygoX2U9SS5pZCk9PW51bGw/dm9pZCAwOl9lLnRvU3RyaW5nKCkpPT09Wi50b1N0cmluZygpJiYodGhpcy5yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKFopLHRoaXMucmVsYXllci5ldmVudHMucmVtb3ZlTGlzdGVuZXIoQy5wdWJsaXNoLE8pLFMoKSl9O3RoaXMucmVsYXllci5ldmVudHMub24oQy5wdWJsaXNoLE8pO2NvbnN0IHRlPUgobmV3IFByb21pc2UoKFosX2UpPT57dGhpcy5ycGNQdWJsaXNoKEksbCkudGhlbihaKS5jYXRjaChFZT0+e3RoaXMubG9nZ2VyLndhcm4oRWUsRWU/Lm1lc3NhZ2UpLF9lKEVlKX0pfSksdGhpcy5pbml0aWFsUHVibGlzaFRpbWVvdXQsYEZhaWxlZCBpbml0aWFsIGN1c3RvbSBwYXlsb2FkIHB1Ymxpc2gsIHJldHJ5aW5nLi4uLiBtZXRob2Q6JHtMfSBpZDoke199IHRhZzoke219YCk7dHJ5e2F3YWl0IHRlLHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCxPKX1jYXRjaChaKXt0aGlzLnF1ZXVlLnNldChfLHtyZXF1ZXN0Okksb3B0czpsLGF0dGVtcHQ6MX0pLHRoaXMubG9nZ2VyLndhcm4oWixaPy5tZXNzYWdlKX19KTt0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hcIixwYXJhbXM6e2lkOl8scGF5bG9hZDpoLG9wdHM6bH19KSxhd2FpdCBIKFQsdGhpcy5wdWJsaXNoVGltZW91dCxrKX1jYXRjaChUKXtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBQdWJsaXNoIFBheWxvYWRcIiksdGhpcy5sb2dnZXIuZXJyb3IoVCksKGM9bD8uaW50ZXJuYWwpIT1udWxsJiZjLnRocm93T25GYWlsZWRQdWJsaXNoKXRocm93IFR9ZmluYWxseXt0aGlzLnF1ZXVlLmRlbGV0ZShfKX19KSxHKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLEcodGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLEcodGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxHKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPWoodCx0aGlzLm5hbWUpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWFzeW5jIHJwY1B1Ymxpc2goZSx0KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXNzYWdlXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0OmV9KTtjb25zdCBpPWF3YWl0IHRoaXMucmVsYXllci5yZXF1ZXN0KGUpO3JldHVybiB0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5wdWJsaXNoLGNlKGNlKHt9LGUpLHQpKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBQdWJsaXNoZWQgUGF5bG9hZFwiKSxpfXJlbW92ZVJlcXVlc3RGcm9tUXVldWUoZSl7dGhpcy5xdWV1ZS5kZWxldGUoZSl9Y2hlY2tRdWV1ZSgpe3RoaXMucXVldWUuZm9yRWFjaChhc3luYyhlLHQpPT57dmFyIGk7Y29uc3Qgcz1lLmF0dGVtcHQrMTt0aGlzLnF1ZXVlLnNldCh0LFBpKGNlKHt9LGUpLHthdHRlbXB0OnN9KSksdGhpcy5sb2dnZXIud2Fybih7fSxgUHVibGlzaGVyOiBxdWV1ZS0+cHVibGlzaGluZzogJHtlLnJlcXVlc3QuaWR9LCB0YWc6ICR7KGk9ZS5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmkudGFnfSwgYXR0ZW1wdDogJHtzfWApLGF3YWl0IHRoaXMucnBjUHVibGlzaChlLnJlcXVlc3QsZS5vcHRzKSx0aGlzLmxvZ2dlci53YXJuKHt9LGBQdWJsaXNoZXI6IHF1ZXVlLT5wdWJsaXNoZWQ6ICR7ZS5yZXF1ZXN0LmlkfWApfSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMucmVsYXllci5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+e2lmKHRoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0KXt0aGlzLm5lZWRzVHJhbnNwb3J0UmVzdGFydD0hMSx0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpO3JldHVybn10aGlzLmNoZWNrUXVldWUoKX0pLHRoaXMucmVsYXllci5vbihDLm1lc3NhZ2VfYWNrLGU9Pnt0aGlzLnJlbW92ZVJlcXVlc3RGcm9tUXVldWUoZS5pZC50b1N0cmluZygpKX0pfX12YXIgSm49T2JqZWN0LmRlZmluZVByb3BlcnR5LFhuPShyLGUsdCk9PmUgaW4gcj9KbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsaGU9KHIsZSx0KT0+WG4ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBabntjb25zdHJ1Y3Rvcigpe2hlKHRoaXMsXCJtYXBcIixuZXcgTWFwKSxoZSh0aGlzLFwic2V0XCIsKGUsdCk9Pntjb25zdCBpPXRoaXMuZ2V0KGUpO3RoaXMuZXhpc3RzKGUsdCl8fHRoaXMubWFwLnNldChlLFsuLi5pLHRdKX0pLGhlKHRoaXMsXCJnZXRcIixlPT50aGlzLm1hcC5nZXQoZSl8fFtdKSxoZSh0aGlzLFwiZXhpc3RzXCIsKGUsdCk9PnRoaXMuZ2V0KGUpLmluY2x1ZGVzKHQpKSxoZSh0aGlzLFwiZGVsZXRlXCIsKGUsdCk9PntpZih0eXBlb2YgdD5cInVcIil7dGhpcy5tYXAuZGVsZXRlKGUpO3JldHVybn1pZighdGhpcy5tYXAuaGFzKGUpKXJldHVybjtjb25zdCBpPXRoaXMuZ2V0KGUpO2lmKCF0aGlzLmV4aXN0cyhlLHQpKXJldHVybjtjb25zdCBzPWkuZmlsdGVyKG49Pm4hPT10KTtpZighcy5sZW5ndGgpe3RoaXMubWFwLmRlbGV0ZShlKTtyZXR1cm59dGhpcy5tYXAuc2V0KGUscyl9KSxoZSh0aGlzLFwiY2xlYXJcIiwoKT0+e3RoaXMubWFwLmNsZWFyKCl9KX1nZXQgdG9waWNzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX19dmFyIFFuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxlbz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx0bz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxTaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGlvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksc289T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxZZT0ocixlLHQpPT5lIGluIHI/UW4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGZlPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlpby5jYWxsKGUsdCkmJlllKHIsdCxlW3RdKTtpZihTaSlmb3IodmFyIHQgb2YgU2koZSkpc28uY2FsbChlLHQpJiZZZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEplPShyLGUpPT5lbyhyLHRvKGUpKSxmPShyLGUsdCk9PlllKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgT2kgZXh0ZW5kcyBzc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9dCxmKHRoaXMsXCJzdWJzY3JpcHRpb25zXCIsbmV3IE1hcCksZih0aGlzLFwidG9waWNNYXBcIixuZXcgWm4pLGYodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksZih0aGlzLFwibmFtZVwiLE10KSxmKHRoaXMsXCJ2ZXJzaW9uXCIsS3QpLGYodGhpcyxcInBlbmRpbmdcIixuZXcgTWFwKSxmKHRoaXMsXCJjYWNoZWRcIixbXSksZih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksZih0aGlzLFwic3RvcmFnZVByZWZpeFwiLFcpLGYodGhpcyxcInN1YnNjcmliZVRpbWVvdXRcIiwkKHN0KSksZih0aGlzLFwiaW5pdGlhbFN1YnNjcmliZVRpbWVvdXRcIiwkKFEqMTUpKSxmKHRoaXMsXCJjbGllbnRJZFwiKSxmKHRoaXMsXCJiYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0XCIsNTAwKSxmKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IHRoaXMucmVzdG9yZSgpKSx0aGlzLmluaXRpYWxpemVkPSEwfSksZih0aGlzLFwic3Vic2NyaWJlXCIsYXN5bmMoaSxzKT0+e3ZhciBuO3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3Vic2NyaWJpbmcgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmksb3B0czpzfX0pO3RyeXtjb25zdCBvPUNlKHMpLGE9e3RvcGljOmkscmVsYXk6byx0cmFuc3BvcnRUeXBlOnM/LnRyYW5zcG9ydFR5cGV9OyhuPXM/LmludGVybmFsKSE9bnVsbCYmbi5za2lwU3Vic2NyaWJlfHx0aGlzLnBlbmRpbmcuc2V0KGksYSk7Y29uc3QgYz1hd2FpdCB0aGlzLnJwY1N1YnNjcmliZShpLG8scyk7cmV0dXJuIHR5cGVvZiBjPT1cInN0cmluZ1wiJiYodGhpcy5vblN1YnNjcmliZShjLGEpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFN1YnNjcmliZWQgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmksb3B0czpzfX0pKSxjfWNhdGNoKG8pe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFN1YnNjcmliZSBUb3BpY1wiKSx0aGlzLmxvZ2dlci5lcnJvcihvKSxvfX0pLGYodGhpcyxcInVuc3Vic2NyaWJlXCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHR5cGVvZiBzPy5pZDxcInVcIj9hd2FpdCB0aGlzLnVuc3Vic2NyaWJlQnlJZChpLHMuaWQscyk6YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5VG9waWMoaSxzKX0pLGYodGhpcyxcImlzU3Vic2NyaWJlZFwiLGk9Pm5ldyBQcm9taXNlKHM9PntzKHRoaXMudG9waWNNYXAudG9waWNzLmluY2x1ZGVzKGkpKX0pKSxmKHRoaXMsXCJpc0tub3duVG9waWNcIixpPT5uZXcgUHJvbWlzZShzPT57cyh0aGlzLnRvcGljTWFwLnRvcGljcy5pbmNsdWRlcyhpKXx8dGhpcy5wZW5kaW5nLmhhcyhpKXx8dGhpcy5jYWNoZWQuc29tZShuPT5uLnRvcGljPT09aSkpfSkpLGYodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSksZih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSksZih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLGYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksZih0aGlzLFwic3RhcnRcIixhc3luYygpPT57YXdhaXQgdGhpcy5vbkNvbm5lY3QoKX0pLGYodGhpcyxcInN0b3BcIixhc3luYygpPT57YXdhaXQgdGhpcy5vbkRpc2Nvbm5lY3QoKX0pLGYodGhpcyxcInJlc3RhcnRcIixhc3luYygpPT57YXdhaXQgdGhpcy5yZXN0b3JlKCksYXdhaXQgdGhpcy5vblJlc3RhcnQoKX0pLGYodGhpcyxcImNoZWNrUGVuZGluZ1wiLGFzeW5jKCk9PntpZih0aGlzLnBlbmRpbmcuc2l6ZT09PTAmJighdGhpcy5pbml0aWFsaXplZHx8IXRoaXMucmVsYXllci5jb25uZWN0ZWQpKXJldHVybjtjb25zdCBpPVtdO3RoaXMucGVuZGluZy5mb3JFYWNoKHM9PntpLnB1c2gocyl9KSxhd2FpdCB0aGlzLmJhdGNoU3Vic2NyaWJlKGkpfSksZih0aGlzLFwicmVnaXN0ZXJFdmVudExpc3RlbmVyc1wiLCgpPT57dGhpcy5yZWxheWVyLmNvcmUuaGVhcnRiZWF0Lm9uKHNlLnB1bHNlLGFzeW5jKCk9Pnthd2FpdCB0aGlzLmNoZWNrUGVuZGluZygpfSksdGhpcy5ldmVudHMub24oVS5jcmVhdGVkLGFzeW5jIGk9Pntjb25zdCBzPVUuY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3N9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnMsZGF0YTppfSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihVLmRlbGV0ZWQsYXN5bmMgaT0+e2NvbnN0IHM9VS5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7c31gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6cyxkYXRhOml9KSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pfSksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9aih0LHRoaXMubmFtZSksdGhpcy5jbGllbnRJZD1cIlwifWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5yZWxheWVyLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnNpemV9Z2V0IGlkcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuc3Vic2NyaXB0aW9ucy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMudmFsdWVzKCkpfWdldCB0b3BpY3MoKXtyZXR1cm4gdGhpcy50b3BpY01hcC50b3BpY3N9Z2V0IGhhc0FueVRvcGljcygpe3JldHVybiB0aGlzLnRvcGljTWFwLnRvcGljcy5sZW5ndGg+MHx8dGhpcy5wZW5kaW5nLnNpemU+MHx8dGhpcy5jYWNoZWQubGVuZ3RoPjB8fHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplPjB9aGFzU3Vic2NyaXB0aW9uKGUsdCl7bGV0IGk9ITE7dHJ5e2k9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSkudG9waWM9PT10fWNhdGNoe31yZXR1cm4gaX1yZXNldCgpe3RoaXMuY2FjaGVkPVtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9b25EaXNhYmxlKCl7dGhpcy52YWx1ZXMubGVuZ3RoPjAmJih0aGlzLmNhY2hlZD10aGlzLnZhbHVlcyksdGhpcy5zdWJzY3JpcHRpb25zLmNsZWFyKCksdGhpcy50b3BpY01hcC5jbGVhcigpfWFzeW5jIHVuc3Vic2NyaWJlQnlUb3BpYyhlLHQpe2NvbnN0IGk9dGhpcy50b3BpY01hcC5nZXQoZSk7YXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAoYXN5bmMgcz0+YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQoZSxzLHQpKSl9YXN5bmMgdW5zdWJzY3JpYmVCeUlkKGUsdCxpKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVuc3Vic2NyaWJpbmcgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1bnN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6ZSxpZDp0LG9wdHM6aX19KTt0cnl7Y29uc3Qgcz1DZShpKTthd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOnQscmVsYXk6c30pLGF3YWl0IHRoaXMucnBjVW5zdWJzY3JpYmUoZSx0LHMpO2NvbnN0IG49ZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiLGAke3RoaXMubmFtZX0sICR7ZX1gKTthd2FpdCB0aGlzLm9uVW5zdWJzY3JpYmUoZSx0LG4pLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFVuc3Vic2NyaWJlZCBUb3BpY1wiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVuc3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzplLGlkOnQsb3B0czppfX0pfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFVuc3Vic2NyaWJlIFRvcGljXCIpLHRoaXMubG9nZ2VyLmVycm9yKHMpLHN9fWFzeW5jIHJwY1N1YnNjcmliZShlLHQsaSl7dmFyIHMsbjtjb25zdCBvPWF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQoZSk7aWYoKHM9aT8uaW50ZXJuYWwpIT1udWxsJiZzLnNraXBTdWJzY3JpYmUpcmV0dXJuIG87KCFpfHxpPy50cmFuc3BvcnRUeXBlPT09ZWUucmVsYXkpJiZhd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOmUscmVsYXk6dH0pO2NvbnN0IGE9e21ldGhvZDpuZSh0LnByb3RvY29sKS5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDphfSk7Y29uc3QgYz0obj1pPy5pbnRlcm5hbCk9PW51bGw/dm9pZCAwOm4udGhyb3dPbkZhaWxlZFB1Ymxpc2g7dHJ5e2lmKGk/LnRyYW5zcG9ydFR5cGU9PT1lZS5saW5rX21vZGUpcmV0dXJuIHNldFRpbWVvdXQoKCk9PnsodGhpcy5yZWxheWVyLmNvbm5lY3RlZHx8dGhpcy5yZWxheWVyLmNvbm5lY3RpbmcpJiZ0aGlzLnJlbGF5ZXIucmVxdWVzdChhKS5jYXRjaChwPT50aGlzLmxvZ2dlci53YXJuKHApKX0sJChRKSksbztjb25zdCBoPW5ldyBQcm9taXNlKGFzeW5jIHA9Pntjb25zdCB5PXc9Pnt3LnRvcGljPT09ZSYmKHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKFUuY3JlYXRlZCx5KSxwKHcuaWQpKX07dGhpcy5ldmVudHMub24oVS5jcmVhdGVkLHkpO3RyeXtjb25zdCB3PWF3YWl0IEgobmV3IFByb21pc2UoKHUsbSk9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChhKS5jYXRjaChEPT57dGhpcy5sb2dnZXIud2FybihELEQ/Lm1lc3NhZ2UpLG0oRCl9KS50aGVuKHUpfSksdGhpcy5pbml0aWFsU3Vic2NyaWJlVGltZW91dCxgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihVLmNyZWF0ZWQseSkscCh3KX1jYXRjaHt9fSksbD1hd2FpdCBIKGgsdGhpcy5zdWJzY3JpYmVUaW1lb3V0LGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO2lmKCFsJiZjKXRocm93IG5ldyBFcnJvcihgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTtyZXR1cm4gbD9vOm51bGx9Y2F0Y2goaCl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBTdWJzY3JpYmUgUGF5bG9hZCBzdGFsbGVkXCIpLHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCksYyl0aHJvdyBofXJldHVybiBudWxsfWFzeW5jIHJwY0JhdGNoU3Vic2NyaWJlKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47Y29uc3QgdD1lWzBdLnJlbGF5LGk9e21ldGhvZDpuZSh0LnByb3RvY29sKS5iYXRjaFN1YnNjcmliZSxwYXJhbXM6e3RvcGljczplLm1hcChzPT5zLnRvcGljKX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6aX0pO3RyeXthd2FpdCBhd2FpdCBIKG5ldyBQcm9taXNlKHM9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChpKS5jYXRjaChuPT50aGlzLmxvZ2dlci53YXJuKG4pKS50aGVuKHMpfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hTdWJzY3JpYmUgZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluXCIpfWNhdGNoe3RoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCl9fWFzeW5jIHJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKXtpZighZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZVswXS5yZWxheSxpPXttZXRob2Q6bmUodC5wcm90b2NvbCkuYmF0Y2hGZXRjaE1lc3NhZ2VzLHBhcmFtczp7dG9waWNzOmUubWFwKG49Pm4udG9waWMpfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDppfSk7bGV0IHM7dHJ5e3M9YXdhaXQgYXdhaXQgSChuZXcgUHJvbWlzZSgobixvKT0+e3RoaXMucmVsYXllci5yZXF1ZXN0KGkpLmNhdGNoKGE9Pnt0aGlzLmxvZ2dlci53YXJuKGEpLG8oYSl9KS50aGVuKG4pfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hGZXRjaE1lc3NhZ2VzIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpblwiKX1jYXRjaHt0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpfXJldHVybiBzfXJwY1Vuc3Vic2NyaWJlKGUsdCxpKXtjb25zdCBzPXttZXRob2Q6bmUoaS5wcm90b2NvbCkudW5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplLGlkOnR9fTtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDpzfSksdGhpcy5yZWxheWVyLnJlcXVlc3Qocyl9b25TdWJzY3JpYmUoZSx0KXt0aGlzLnNldFN1YnNjcmlwdGlvbihlLEplKGZlKHt9LHQpLHtpZDplfSkpLHRoaXMucGVuZGluZy5kZWxldGUodC50b3BpYyl9b25CYXRjaFN1YnNjcmliZShlKXtlLmxlbmd0aCYmZS5mb3JFYWNoKHQ9Pnt0aGlzLnNldFN1YnNjcmlwdGlvbih0LmlkLGZlKHt9LHQpKSx0aGlzLnBlbmRpbmcuZGVsZXRlKHQudG9waWMpfSl9YXN5bmMgb25VbnN1YnNjcmliZShlLHQsaSl7dGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpLHRoaXMuaGFzU3Vic2NyaXB0aW9uKHQsZSkmJnRoaXMuZGVsZXRlU3Vic2NyaXB0aW9uKHQsaSksYXdhaXQgdGhpcy5yZWxheWVyLm1lc3NhZ2VzLmRlbChlKX1hc3luYyBzZXRSZWxheWVyU3Vic2NyaXB0aW9ucyhlKXthd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMucmVsYXllci5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfXNldFN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRTdWJzY3JpcHRpb25cIixpZDplLHN1YnNjcmlwdGlvbjp0fSksdGhpcy5hZGRTdWJzY3JpcHRpb24oZSx0KX1hZGRTdWJzY3JpcHRpb24oZSx0KXt0aGlzLnN1YnNjcmlwdGlvbnMuc2V0KGUsZmUoe30sdCkpLHRoaXMudG9waWNNYXAuc2V0KHQudG9waWMsZSksdGhpcy5ldmVudHMuZW1pdChVLmNyZWF0ZWQsdCl9Z2V0U3Vic2NyaXB0aW9uKGUpe3RoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRTdWJzY3JpcHRpb25cIixpZDplfSk7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGkpfXJldHVybiB0fWRlbGV0ZVN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZGVsZXRlU3Vic2NyaXB0aW9uXCIsaWQ6ZSxyZWFzb246dH0pO2NvbnN0IGk9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSk7dGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKSx0aGlzLnRvcGljTWFwLmRlbGV0ZShpLnRvcGljLGUpLHRoaXMuZXZlbnRzLmVtaXQoVS5kZWxldGVkLEplKGZlKHt9LGkpLHtyZWFzb246dH0pKX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRSZWxheWVyU3Vic2NyaXB0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChVLnN5bmMpfWFzeW5jIG9uUmVzdGFydCgpe2lmKHRoaXMuY2FjaGVkLmxlbmd0aCl7Y29uc3QgZT1bLi4udGhpcy5jYWNoZWRdLHQ9TWF0aC5jZWlsKHRoaXMuY2FjaGVkLmxlbmd0aC90aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2ZvcihsZXQgaT0wO2k8dDtpKyspe2NvbnN0IHM9ZS5zcGxpY2UoMCx0aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2F3YWl0IHRoaXMuYmF0Y2hTdWJzY3JpYmUocyl9fXRoaXMuZXZlbnRzLmVtaXQoVS5yZXN1YnNjcmliZWQpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5zdWJzY3JpcHRpb25zLnNpemUmJiFlLmV2ZXJ5KHQ9Pnt2YXIgaTtyZXR1cm4gdC50b3BpYz09PSgoaT10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KHQuaWQpKT09bnVsbD92b2lkIDA6aS50b3BpYyl9KSl7Y29uc3R7bWVzc2FnZTp0fT1iKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSx0aGlzLmxvZ2dlci5lcnJvcihgJHt0aGlzLm5hbWV9OiAke0pTT04uc3RyaW5naWZ5KHRoaXMudmFsdWVzKX1gKSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHN1YnNjcmlwdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHN1YnNjcmlwdGlvbnM6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgc3Vic2NyaXB0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWFzeW5jIGJhdGNoU3Vic2NyaWJlKGUpe2UubGVuZ3RoJiYoYXdhaXQgdGhpcy5ycGNCYXRjaFN1YnNjcmliZShlKSx0aGlzLm9uQmF0Y2hTdWJzY3JpYmUoYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoYXN5bmMgdD0+SmUoZmUoe30sdCkse2lkOmF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQodC50b3BpYyl9KSkpKSl9YXN5bmMgYmF0Y2hGZXRjaE1lc3NhZ2VzKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47dGhpcy5sb2dnZXIudHJhY2UoYEZldGNoaW5nIGJhdGNoIG1lc3NhZ2VzIGZvciAke2UubGVuZ3RofSBzdWJzY3JpcHRpb25zYCk7Y29uc3QgdD1hd2FpdCB0aGlzLnJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKTt0JiZ0Lm1lc3NhZ2VzJiYoYXdhaXQgVHMoJChRKSksYXdhaXQgdGhpcy5yZWxheWVyLmhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyh0Lm1lc3NhZ2VzKSl9YXN5bmMgb25Db25uZWN0KCl7YXdhaXQgdGhpcy5yZXN0YXJ0KCksdGhpcy5yZXNldCgpfW9uRGlzY29ubmVjdCgpe3RoaXMub25EaXNhYmxlKCl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgcmVzdGFydFRvQ29tcGxldGUoZSl7IXRoaXMucmVsYXllci5jb25uZWN0ZWQmJiF0aGlzLnJlbGF5ZXIuY29ubmVjdGluZyYmKHRoaXMuY2FjaGVkLnB1c2goZSksYXdhaXQgdGhpcy5yZWxheWVyLnRyYW5zcG9ydE9wZW4oKSl9YXN5bmMgZ2V0Q2xpZW50SWQoKXtyZXR1cm4gdGhpcy5jbGllbnRJZHx8KHRoaXMuY2xpZW50SWQ9YXdhaXQgdGhpcy5yZWxheWVyLmNvcmUuY3J5cHRvLmdldENsaWVudElkKCkpLHRoaXMuY2xpZW50SWR9YXN5bmMgZ2V0U3Vic2NyaXB0aW9uSWQoZSl7cmV0dXJuIFRlKGUrYXdhaXQgdGhpcy5nZXRDbGllbnRJZCgpKX19dmFyIHJvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxSaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLG5vPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksb289T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxYZT0ocixlLHQpPT5lIGluIHI/cm8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LEFpPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSluby5jYWxsKGUsdCkmJlhlKHIsdCxlW3RdKTtpZihSaSlmb3IodmFyIHQgb2YgUmkoZSkpb28uY2FsbChlLHQpJiZYZShyLHQsZVt0XSk7cmV0dXJuIHJ9LGc9KHIsZSx0KT0+WGUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyB4aSBleHRlbmRzIHJze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLGcodGhpcyxcInByb3RvY29sXCIsXCJ3Y1wiKSxnKHRoaXMsXCJ2ZXJzaW9uXCIsMiksZyh0aGlzLFwiY29yZVwiKSxnKHRoaXMsXCJsb2dnZXJcIiksZyh0aGlzLFwiZXZlbnRzXCIsbmV3IGllKSxnKHRoaXMsXCJwcm92aWRlclwiKSxnKHRoaXMsXCJtZXNzYWdlc1wiKSxnKHRoaXMsXCJzdWJzY3JpYmVyXCIpLGcodGhpcyxcInB1Ymxpc2hlclwiKSxnKHRoaXMsXCJuYW1lXCIsTHQpLGcodGhpcyxcInRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWRcIiwhMSksZyh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksZyh0aGlzLFwiY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzXCIsITEpLGcodGhpcyxcInJlbGF5VXJsXCIpLGcodGhpcyxcInByb2plY3RJZFwiKSxnKHRoaXMsXCJwYWNrYWdlTmFtZVwiKSxnKHRoaXMsXCJidW5kbGVJZFwiKSxnKHRoaXMsXCJoYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uXCIsITEpLGcodGhpcyxcInBpbmdUaW1lb3V0XCIpLGcodGhpcyxcImhlYXJ0QmVhdFRpbWVvdXRcIiwkKHhlK0FlKSksZyh0aGlzLFwicmVjb25uZWN0VGltZW91dFwiKSxnKHRoaXMsXCJjb25uZWN0UHJvbWlzZVwiKSxnKHRoaXMsXCJyZWNvbm5lY3RJblByb2dyZXNzXCIsITEpLGcodGhpcyxcInJlcXVlc3RzSW5GbGlnaHRcIixbXSksZyh0aGlzLFwiY29ubmVjdFRpbWVvdXRcIiwkKFEqMTUpKSxnKHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgdD0+e3ZhciBpLHM7dGhpcy5sb2dnZXIuZGVidWcoXCJQdWJsaXNoaW5nIFJlcXVlc3QgUGF5bG9hZFwiKTtjb25zdCBuPXQuaWR8fGplKCkudG9TdHJpbmcoKTthd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO3RyeXt0aGlzLmxvZ2dlci50cmFjZSh7aWQ6bixtZXRob2Q6dC5tZXRob2QsdG9waWM6KGk9dC5wYXJhbXMpPT1udWxsP3ZvaWQgMDppLnRvcGljfSxcInJlbGF5ZXIucmVxdWVzdCAtIHB1Ymxpc2hpbmcuLi5cIik7Y29uc3Qgbz1gJHtufTokeygocz10LnBhcmFtcyk9PW51bGw/dm9pZCAwOnMudGFnKXx8XCJcIn1gO3RoaXMucmVxdWVzdHNJbkZsaWdodC5wdXNoKG8pO2NvbnN0IGE9YXdhaXQgdGhpcy5wcm92aWRlci5yZXF1ZXN0KHQpO3JldHVybiB0aGlzLnJlcXVlc3RzSW5GbGlnaHQ9dGhpcy5yZXF1ZXN0c0luRmxpZ2h0LmZpbHRlcihjPT5jIT09byksYX1jYXRjaChvKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFB1Ymxpc2ggUmVxdWVzdDogJHtufWApLG99fSksZyh0aGlzLFwicmVzZXRQaW5nVGltZW91dFwiLCgpPT57Z3QoKSYmKGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KSx0aGlzLnBpbmdUaW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt2YXIgdCxpLHMsbjt0cnl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJwaW5nVGltZW91dDogQ29ubmVjdGlvbiBzdGFsbGVkLCB0ZXJtaW5hdGluZy4uLlwiKSwobj0ocz0oaT0odD10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6dC5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6aS5zb2NrZXQpPT1udWxsP3ZvaWQgMDpzLnRlcm1pbmF0ZSk9PW51bGx8fG4uY2FsbChzKX1jYXRjaChvKXt0aGlzLmxvZ2dlci53YXJuKG8sbz8ubWVzc2FnZSl9fSx0aGlzLmhlYXJ0QmVhdFRpbWVvdXQpKX0pLGcodGhpcyxcIm9uUGF5bG9hZEhhbmRsZXJcIix0PT57dGhpcy5vblByb3ZpZGVyUGF5bG9hZCh0KSx0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKX0pLGcodGhpcyxcIm9uQ29ubmVjdEhhbmRsZXJcIiwoKT0+e3RoaXMubG9nZ2VyLndhcm4oe30sXCJSZWxheWVyIGNvbm5lY3RlZCBcXHV7MUY2REN9XCIpLHRoaXMuc3RhcnRQaW5nVGltZW91dCgpLHRoaXMuZXZlbnRzLmVtaXQoQy5jb25uZWN0KX0pLGcodGhpcyxcIm9uRGlzY29ubmVjdEhhbmRsZXJcIiwoKT0+e3RoaXMubG9nZ2VyLndhcm4oe30sXCJSZWxheWVyIGRpc2Nvbm5lY3RlZCBcXHV7MUY2RDF9XCIpLHRoaXMucmVxdWVzdHNJbkZsaWdodD1bXSx0aGlzLm9uUHJvdmlkZXJEaXNjb25uZWN0KCl9KSxnKHRoaXMsXCJvblByb3ZpZGVyRXJyb3JIYW5kbGVyXCIsdD0+e3RoaXMubG9nZ2VyLmZhdGFsKGBGYXRhbCBzb2NrZXQgZXJyb3I6ICR7dC5tZXNzYWdlfWApLHRoaXMuZXZlbnRzLmVtaXQoQy5lcnJvcix0KSx0aGlzLmxvZ2dlci5mYXRhbChcIkZhdGFsIHNvY2tldCBlcnJvciByZWNlaXZlZCwgY2xvc2luZyB0cmFuc3BvcnRcIiksdGhpcy50cmFuc3BvcnRDbG9zZSgpfSksZyh0aGlzLFwicmVnaXN0ZXJQcm92aWRlckxpc3RlbmVyc1wiLCgpPT57dGhpcy5wcm92aWRlci5vbihNLnBheWxvYWQsdGhpcy5vblBheWxvYWRIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9uKE0uY29ubmVjdCx0aGlzLm9uQ29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub24oTS5kaXNjb25uZWN0LHRoaXMub25EaXNjb25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vbihNLmVycm9yLHRoaXMub25Qcm92aWRlckVycm9ySGFuZGxlcil9KSx0aGlzLmNvcmU9ZS5jb3JlLHRoaXMubG9nZ2VyPXR5cGVvZiBlLmxvZ2dlcjxcInVcIiYmdHlwZW9mIGUubG9nZ2VyIT1cInN0cmluZ1wiP2ooZS5sb2dnZXIsdGhpcy5uYW1lKTpRaShpdCh7bGV2ZWw6ZS5sb2dnZXJ8fHp0fSkpLHRoaXMubWVzc2FnZXM9bmV3IFRpKHRoaXMubG9nZ2VyLGUuY29yZSksdGhpcy5zdWJzY3JpYmVyPW5ldyBPaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnB1Ymxpc2hlcj1uZXcgWW4odGhpcyx0aGlzLmxvZ2dlciksdGhpcy5wcm9qZWN0SWQ9ZT8ucHJvamVjdElkLHRoaXMucmVsYXlVcmw9ZT8ucmVsYXlVcmx8fEtlLENzKCk/dGhpcy5wYWNrYWdlTmFtZT11dCgpOlBzKCkmJih0aGlzLmJ1bmRsZUlkPXV0KCkpLHRoaXMucHJvdmlkZXI9e319YXN5bmMgaW5pdCgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMubWVzc2FnZXMuaW5pdCgpLHRoaXMuc3Vic2NyaWJlci5pbml0KCldKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMudHJhbnNwb3J0T3BlbigpLmNhdGNoKGU9PnRoaXMubG9nZ2VyLndhcm4oZSxlPy5tZXNzYWdlKSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IGNvbm5lY3RlZCgpe3ZhciBlLHQsaTtyZXR1cm4oKGk9KHQ9KGU9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmUuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQuc29ja2V0KT09bnVsbD92b2lkIDA6aS5yZWFkeVN0YXRlKT09PTF8fCExfWdldCBjb25uZWN0aW5nKCl7dmFyIGUsdCxpO3JldHVybigoaT0odD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6dC5zb2NrZXQpPT1udWxsP3ZvaWQgMDppLnJlYWR5U3RhdGUpPT09MHx8dGhpcy5jb25uZWN0UHJvbWlzZSE9PXZvaWQgMHx8ITF9YXN5bmMgcHVibGlzaChlLHQsaSl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wdWJsaXNoZXIucHVibGlzaChlLHQsaSksYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoe3RvcGljOmUsbWVzc2FnZTp0LHB1Ymxpc2hlZEF0OkRhdGUubm93KCksdHJhbnNwb3J0VHlwZTplZS5yZWxheX0seWUub3V0Ym91bmQpfWFzeW5jIHB1Ymxpc2hDdXN0b20oZSl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wdWJsaXNoZXIucHVibGlzaEN1c3RvbShlKX1hc3luYyBzdWJzY3JpYmUoZSx0KXt2YXIgaSxzLG47dGhpcy5pc0luaXRpYWxpemVkKCksKCEodCE9bnVsbCYmdC50cmFuc3BvcnRUeXBlKXx8dD8udHJhbnNwb3J0VHlwZT09PVwicmVsYXlcIikmJmF3YWl0IHRoaXMudG9Fc3RhYmxpc2hDb25uZWN0aW9uKCk7Y29uc3Qgbz10eXBlb2YoKGk9dD8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDppLnRocm93T25GYWlsZWRQdWJsaXNoKT5cInVcIj8hMDoocz10Py5pbnRlcm5hbCk9PW51bGw/dm9pZCAwOnMudGhyb3dPbkZhaWxlZFB1Ymxpc2g7bGV0IGE9KChuPXRoaXMuc3Vic2NyaWJlci50b3BpY01hcC5nZXQoZSkpPT1udWxsP3ZvaWQgMDpuWzBdKXx8XCJcIixjO2NvbnN0IGg9bD0+e2wudG9waWM9PT1lJiYodGhpcy5zdWJzY3JpYmVyLm9mZihVLmNyZWF0ZWQsaCksYygpKX07cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKFtuZXcgUHJvbWlzZShsPT57Yz1sLHRoaXMuc3Vic2NyaWJlci5vbihVLmNyZWF0ZWQsaCl9KSxuZXcgUHJvbWlzZShhc3luYyhsLHApPT57YT1hd2FpdCB0aGlzLnN1YnNjcmliZXIuc3Vic2NyaWJlKGUsQWkoe2ludGVybmFsOnt0aHJvd09uRmFpbGVkUHVibGlzaDpvfX0sdCkpLmNhdGNoKHk9PntvJiZwKHkpfSl8fGEsbCgpfSldKSxhfWFzeW5jIHVuc3Vic2NyaWJlKGUsdCl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKGUsdCl9b24oZSx0KXt0aGlzLmV2ZW50cy5vbihlLHQpfW9uY2UoZSx0KXt0aGlzLmV2ZW50cy5vbmNlKGUsdCl9b2ZmKGUsdCl7dGhpcy5ldmVudHMub2ZmKGUsdCl9cmVtb3ZlTGlzdGVuZXIoZSx0KXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlLHQpfWFzeW5jIHRyYW5zcG9ydERpc2Nvbm5lY3QoKXt0aGlzLnByb3ZpZGVyLmRpc2Nvbm5lY3QmJih0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb258fHRoaXMuY29ubmVjdGVkKT9hd2FpdCBIKHRoaXMucHJvdmlkZXIuZGlzY29ubmVjdCgpLDJlMyxcInByb3ZpZGVyLmRpc2Nvbm5lY3QoKVwiKS5jYXRjaCgoKT0+dGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpKTp0aGlzLm9uUHJvdmlkZXJEaXNjb25uZWN0KCl9YXN5bmMgdHJhbnNwb3J0Q2xvc2UoKXt0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQ9ITAsYXdhaXQgdGhpcy50cmFuc3BvcnREaXNjb25uZWN0KCl9YXN5bmMgdHJhbnNwb3J0T3BlbihlKXtpZighdGhpcy5zdWJzY3JpYmVyLmhhc0FueVRvcGljcyl7dGhpcy5sb2dnZXIuaW5mbyhcIlN0YXJ0aW5nIFdTIGNvbm5lY3Rpb24gc2tpcHBlZCBiZWNhdXNlIHRoZSBjbGllbnQgaGFzIG5vIHRvcGljcyB0byB3b3JrIHdpdGguXCIpO3JldHVybn1pZih0aGlzLmNvbm5lY3RQcm9taXNlPyh0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxcIldhaXRpbmcgZm9yIGV4aXN0aW5nIGNvbm5lY3Rpb24gYXR0ZW1wdCB0byByZXNvbHZlLi4uXCIpLGF3YWl0IHRoaXMuY29ubmVjdFByb21pc2UsdGhpcy5sb2dnZXIuZGVidWcoe30sXCJFeGlzdGluZyBjb25uZWN0aW9uIGF0dGVtcHQgcmVzb2x2ZWRcIikpOih0aGlzLmNvbm5lY3RQcm9taXNlPW5ldyBQcm9taXNlKGFzeW5jKHQsaSk9Pnthd2FpdCB0aGlzLmNvbm5lY3QoZSkudGhlbih0KS5jYXRjaChpKS5maW5hbGx5KCgpPT57dGhpcy5jb25uZWN0UHJvbWlzZT12b2lkIDB9KX0pLGF3YWl0IHRoaXMuY29ubmVjdFByb21pc2UpLCF0aGlzLmNvbm5lY3RlZCl0aHJvdyBuZXcgRXJyb3IoYENvdWxkbid0IGVzdGFibGlzaCBzb2NrZXQgY29ubmVjdGlvbiB0byB0aGUgcmVsYXkgc2VydmVyOiAke3RoaXMucmVsYXlVcmx9YCl9YXN5bmMgcmVzdGFydFRyYW5zcG9ydChlKXt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxcIlJlc3RhcnRpbmcgdHJhbnNwb3J0Li4uXCIpLCF0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcyYmKHRoaXMucmVsYXlVcmw9ZXx8dGhpcy5yZWxheVVybCxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxhd2FpdCB0aGlzLnRyYW5zcG9ydENsb3NlKCksYXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkpfWFzeW5jIGNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKXtpZighYXdhaXQgZHQoKSl0aHJvdyBuZXcgRXJyb3IoXCJObyBpbnRlcm5ldCBjb25uZWN0aW9uIGRldGVjdGVkLiBQbGVhc2UgcmVzdGFydCB5b3VyIG5ldHdvcmsgYW5kIHRyeSBhZ2Fpbi5cIil9YXN5bmMgaGFuZGxlQmF0Y2hNZXNzYWdlRXZlbnRzKGUpe2lmKGU/Lmxlbmd0aD09PTApe3RoaXMubG9nZ2VyLnRyYWNlKFwiQmF0Y2ggbWVzc2FnZSBldmVudHMgaXMgZW1wdHkuIElnbm9yaW5nLi4uXCIpO3JldHVybn1jb25zdCB0PWUuc29ydCgoaSxzKT0+aS5wdWJsaXNoZWRBdC1zLnB1Ymxpc2hlZEF0KTt0aGlzLmxvZ2dlci5kZWJ1ZyhgQmF0Y2ggb2YgJHt0Lmxlbmd0aH0gbWVzc2FnZSBldmVudHMgc29ydGVkYCk7Zm9yKGNvbnN0IGkgb2YgdCl0cnl7YXdhaXQgdGhpcy5vbk1lc3NhZ2VFdmVudChpKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMsXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGJhdGNoIG1lc3NhZ2UgZXZlbnQ6IFwiK3M/Lm1lc3NhZ2UpfXRoaXMubG9nZ2VyLnRyYWNlKGBCYXRjaCBvZiAke3QubGVuZ3RofSBtZXNzYWdlIGV2ZW50cyBwcm9jZXNzZWRgKX1hc3luYyBvbkxpbmtNZXNzYWdlRXZlbnQoZSx0KXtjb25zdHt0b3BpYzppfT1lO2lmKCF0LnNlc3Npb25FeGlzdHMpe2NvbnN0IHM9Z2UobGUpLG49e3RvcGljOmksZXhwaXJ5OnMscmVsYXk6e3Byb3RvY29sOlwiaXJuXCJ9LGFjdGl2ZTohMX07YXdhaXQgdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3Muc2V0KGksbil9dGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2UsZSksYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoZSx5ZS5pbmJvdW5kKX1hc3luYyBjb25uZWN0KGUpe2F3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGUmJmUhPT10aGlzLnJlbGF5VXJsJiYodGhpcy5yZWxheVVybD1lLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpKSx0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcz0hMCx0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQ9ITE7bGV0IHQ9MTtmb3IoO3Q8Njspe3RyeXtpZih0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQpYnJlYWs7dGhpcy5sb2dnZXIuZGVidWcoe30sYENvbm5lY3RpbmcgdG8gJHt0aGlzLnJlbGF5VXJsfSwgYXR0ZW1wdDogJHt0fS4uLmApLGF3YWl0IHRoaXMuY3JlYXRlUHJvdmlkZXIoKSxhd2FpdCBuZXcgUHJvbWlzZShhc3luYyhpLHMpPT57Y29uc3Qgbj0oKT0+e3MobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBpbnRlcnJ1cHRlZCB3aGlsZSB0cnlpbmcgdG8gY29ubmVjdFwiKSl9O3RoaXMucHJvdmlkZXIub25jZShNLmRpc2Nvbm5lY3QsbiksYXdhaXQgSChuZXcgUHJvbWlzZSgobyxhKT0+e3RoaXMucHJvdmlkZXIuY29ubmVjdCgpLnRoZW4obykuY2F0Y2goYSl9KSx0aGlzLmNvbm5lY3RUaW1lb3V0LGBTb2NrZXQgc3RhbGxlZCB3aGVuIHRyeWluZyB0byBjb25uZWN0IHRvICR7dGhpcy5yZWxheVVybH1gKS5jYXRjaChvPT57cyhvKX0pLmZpbmFsbHkoKCk9Pnt0aGlzLnByb3ZpZGVyLm9mZihNLmRpc2Nvbm5lY3QsbiksY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZW91dCl9KSxhd2FpdCBuZXcgUHJvbWlzZShhc3luYyhvLGEpPT57Y29uc3QgYz0oKT0+e3MobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBpbnRlcnJ1cHRlZCB3aGlsZSB0cnlpbmcgdG8gc3Vic2NyaWJlXCIpKX07dGhpcy5wcm92aWRlci5vbmNlKE0uZGlzY29ubmVjdCxjKSxhd2FpdCB0aGlzLnN1YnNjcmliZXIuc3RhcnQoKS50aGVuKG8pLmNhdGNoKGEpLmZpbmFsbHkoKCk9Pnt0aGlzLnByb3ZpZGVyLm9mZihNLmRpc2Nvbm5lY3QsYyl9KX0pLHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMSxpKCl9KX1jYXRjaChpKXthd2FpdCB0aGlzLnN1YnNjcmliZXIuc3RvcCgpO2NvbnN0IHM9aTt0aGlzLmxvZ2dlci53YXJuKHt9LHMubWVzc2FnZSksdGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uPSEwfWZpbmFsbHl7dGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3M9ITF9aWYodGhpcy5jb25uZWN0ZWQpe3RoaXMubG9nZ2VyLmRlYnVnKHt9LGBDb25uZWN0ZWQgdG8gJHt0aGlzLnJlbGF5VXJsfSBzdWNjZXNzZnVsbHkgb24gYXR0ZW1wdDogJHt0fWApO2JyZWFrfWF3YWl0IG5ldyBQcm9taXNlKGk9PnNldFRpbWVvdXQoaSwkKHQqMSkpKSx0Kyt9fXN0YXJ0UGluZ1RpbWVvdXQoKXt2YXIgZSx0LGkscyxuO2lmKGd0KCkpdHJ5eyh0PShlPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDplLmNvbm5lY3Rpb24pIT1udWxsJiZ0LnNvY2tldCYmKChuPShzPShpPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDppLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpzLnNvY2tldCk9PW51bGx8fG4ub24oXCJwaW5nXCIsKCk9Pnt0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKX0pKSx0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKX1jYXRjaChvKXt0aGlzLmxvZ2dlci53YXJuKG8sbz8ubWVzc2FnZSl9fWFzeW5jIGNyZWF0ZVByb3ZpZGVyKCl7dGhpcy5wcm92aWRlci5jb25uZWN0aW9uJiZ0aGlzLnVucmVnaXN0ZXJQcm92aWRlckxpc3RlbmVycygpO2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5zaWduSldUKHRoaXMucmVsYXlVcmwpO3RoaXMucHJvdmlkZXI9bmV3IHFzKG5ldyBIcyhTcyh7c2RrVmVyc2lvbjpQZSxwcm90b2NvbDp0aGlzLnByb3RvY29sLHZlcnNpb246dGhpcy52ZXJzaW9uLHJlbGF5VXJsOnRoaXMucmVsYXlVcmwscHJvamVjdElkOnRoaXMucHJvamVjdElkLGF1dGg6ZSx1c2VPbkNsb3NlRXZlbnQ6ITAsYnVuZGxlSWQ6dGhpcy5idW5kbGVJZCxwYWNrYWdlTmFtZTp0aGlzLnBhY2thZ2VOYW1lfSkpKSx0aGlzLnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKX1hc3luYyByZWNvcmRNZXNzYWdlRXZlbnQoZSx0KXtjb25zdHt0b3BpYzppLG1lc3NhZ2U6c309ZTthd2FpdCB0aGlzLm1lc3NhZ2VzLnNldChpLHMsdCl9YXN5bmMgc2hvdWxkSWdub3JlTWVzc2FnZUV2ZW50KGUpe2NvbnN0e3RvcGljOnQsbWVzc2FnZTppfT1lO2lmKCFpfHxpLmxlbmd0aD09PTApcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oYElnbm9yaW5nIGludmFsaWQvZW1wdHkgbWVzc2FnZTogJHtpfWApLCEwO2lmKCFhd2FpdCB0aGlzLnN1YnNjcmliZXIuaXNLbm93blRvcGljKHQpKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBtZXNzYWdlIGZvciB1bmtub3duIHRvcGljICR7dH1gKSwhMDtjb25zdCBzPXRoaXMubWVzc2FnZXMuaGFzKHQsaSk7cmV0dXJuIHMmJnRoaXMubG9nZ2VyLndhcm4oYElnbm9yaW5nIGR1cGxpY2F0ZSBtZXNzYWdlOiAke2l9YCksc31hc3luYyBvblByb3ZpZGVyUGF5bG9hZChlKXtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIkluY29taW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJwYXlsb2FkXCIsZGlyZWN0aW9uOlwiaW5jb21pbmdcIixwYXlsb2FkOmV9KSxEdChlKSl7aWYoIWUubWV0aG9kLmVuZHNXaXRoKGt0KSlyZXR1cm47Y29uc3QgdD1lLnBhcmFtcyx7dG9waWM6aSxtZXNzYWdlOnMscHVibGlzaGVkQXQ6bixhdHRlc3RhdGlvbjpvfT10LmRhdGEsYT17dG9waWM6aSxtZXNzYWdlOnMscHVibGlzaGVkQXQ6bix0cmFuc3BvcnRUeXBlOmVlLnJlbGF5LGF0dGVzdGF0aW9uOm99O3RoaXMubG9nZ2VyLmRlYnVnKFwiRW1pdHRpbmcgUmVsYXllciBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKEFpKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LmlkfSxhKSksdGhpcy5ldmVudHMuZW1pdCh0LmlkLGEpLGF3YWl0IHRoaXMuYWNrbm93bGVkZ2VQYXlsb2FkKGUpLGF3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoYSl9ZWxzZSB2dChlKSYmdGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2VfYWNrLGUpfWFzeW5jIG9uTWVzc2FnZUV2ZW50KGUpe2F3YWl0IHRoaXMuc2hvdWxkSWdub3JlTWVzc2FnZUV2ZW50KGUpfHwoYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoZSx5ZS5pbmJvdW5kKSx0aGlzLmV2ZW50cy5lbWl0KEMubWVzc2FnZSxlKSl9YXN5bmMgYWNrbm93bGVkZ2VQYXlsb2FkKGUpe2NvbnN0IHQ9d3QoZS5pZCwhMCk7YXdhaXQgdGhpcy5wcm92aWRlci5jb25uZWN0aW9uLnNlbmQodCl9dW5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCl7dGhpcy5wcm92aWRlci5vZmYoTS5wYXlsb2FkLHRoaXMub25QYXlsb2FkSGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTS5jb25uZWN0LHRoaXMub25Db25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTS5kaXNjb25uZWN0LHRoaXMub25EaXNjb25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTS5lcnJvcix0aGlzLm9uUHJvdmlkZXJFcnJvckhhbmRsZXIpLGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KX1hc3luYyByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7bGV0IGU9YXdhaXQgZHQoKTtPcyhhc3luYyB0PT57ZSE9PXQmJihlPXQsdD9hd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChpPT50aGlzLmxvZ2dlci5lcnJvcihpLGk/Lm1lc3NhZ2UpKToodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uPSEwLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpLHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZD0hMSkpfSksdGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSxhc3luYygpPT57aWYoIXRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZCYmIXRoaXMuY29ubmVjdGVkJiZScygpKXRyeXthd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxhd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKX1jYXRjaCh0KXt0aGlzLmxvZ2dlci53YXJuKHQsdD8ubWVzc2FnZSl9fSl9YXN5bmMgb25Qcm92aWRlckRpc2Nvbm5lY3QoKXtjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCksdGhpcy5ldmVudHMuZW1pdChDLmRpc2Nvbm5lY3QpLHRoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSExLCF0aGlzLnJlY29ubmVjdEluUHJvZ3Jlc3MmJih0aGlzLnJlY29ubmVjdEluUHJvZ3Jlc3M9ITAsYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKSx0aGlzLnN1YnNjcmliZXIuaGFzQW55VG9waWNzJiYodGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkfHwodGhpcy5yZWNvbm5lY3RUaW1lb3V0PXNldFRpbWVvdXQoYXN5bmMoKT0+e2F3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpLmNhdGNoKGU9PnRoaXMubG9nZ2VyLmVycm9yKGUsZT8ubWVzc2FnZSkpLHRoaXMucmVjb25uZWN0VGltZW91dD12b2lkIDAsdGhpcy5yZWNvbm5lY3RJblByb2dyZXNzPSExfSwkKGp0KSkpKSl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgdG9Fc3RhYmxpc2hDb25uZWN0aW9uKCl7aWYoYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksIXRoaXMuY29ubmVjdGVkKXtpZih0aGlzLmNvbm5lY3RQcm9taXNlKXthd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlO3JldHVybn1hd2FpdCB0aGlzLmNvbm5lY3QoKX19fWZ1bmN0aW9uIGFvKHIsZSl7cmV0dXJuIHI9PT1lfHxOdW1iZXIuaXNOYU4ocikmJk51bWJlci5pc05hTihlKX1mdW5jdGlvbiBOaShyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhyKS5maWx0ZXIoZT0+T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHIsZSkpfWZ1bmN0aW9uICRpKHIpe3JldHVybiByPT1udWxsP3I9PT12b2lkIDA/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocil9Y29uc3QgY289XCJbb2JqZWN0IFJlZ0V4cF1cIixobz1cIltvYmplY3QgU3RyaW5nXVwiLGxvPVwiW29iamVjdCBOdW1iZXJdXCIsdW89XCJbb2JqZWN0IEJvb2xlYW5dXCIsemk9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixnbz1cIltvYmplY3QgU3ltYm9sXVwiLHBvPVwiW29iamVjdCBEYXRlXVwiLHlvPVwiW29iamVjdCBNYXBdXCIsYm89XCJbb2JqZWN0IFNldF1cIixtbz1cIltvYmplY3QgQXJyYXldXCIsZm89XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLERvPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixaZT1cIltvYmplY3QgT2JqZWN0XVwiLHZvPVwiW29iamVjdCBFcnJvcl1cIix3bz1cIltvYmplY3QgRGF0YVZpZXddXCIsX289XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsRW89XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLElvPVwiW29iamVjdCBVaW50MTZBcnJheV1cIixUbz1cIltvYmplY3QgVWludDMyQXJyYXldXCIsQ289XCJbb2JqZWN0IEJpZ1VpbnQ2NEFycmF5XVwiLFBvPVwiW29iamVjdCBJbnQ4QXJyYXldXCIsU289XCJbb2JqZWN0IEludDE2QXJyYXldXCIsT289XCJbb2JqZWN0IEludDMyQXJyYXldXCIsUm89XCJbb2JqZWN0IEJpZ0ludDY0QXJyYXldXCIsQW89XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIix4bz1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiO2Z1bmN0aW9uIE5vKCl7fWZ1bmN0aW9uIExpKHIpe2lmKCFyfHx0eXBlb2YgciE9XCJvYmplY3RcIilyZXR1cm4hMTtjb25zdCBlPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtyZXR1cm4gZT09PW51bGx8fGU9PT1PYmplY3QucHJvdG90eXBlfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1udWxsP09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKT09PVwiW29iamVjdCBPYmplY3RdXCI6ITF9ZnVuY3Rpb24gJG8ocixlLHQpe3JldHVybiBEZShyLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQpfWZ1bmN0aW9uIERlKHIsZSx0LGkscyxuLG8pe2NvbnN0IGE9byhyLGUsdCxpLHMsbik7aWYoYSE9PXZvaWQgMClyZXR1cm4gYTtpZih0eXBlb2Ygcj09dHlwZW9mIGUpc3dpdGNoKHR5cGVvZiByKXtjYXNlXCJiaWdpbnRcIjpjYXNlXCJzdHJpbmdcIjpjYXNlXCJib29sZWFuXCI6Y2FzZVwic3ltYm9sXCI6Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIHI9PT1lO2Nhc2VcIm51bWJlclwiOnJldHVybiByPT09ZXx8T2JqZWN0LmlzKHIsZSk7Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm4gcj09PWU7Y2FzZVwib2JqZWN0XCI6cmV0dXJuIHZlKHIsZSxuLG8pfXJldHVybiB2ZShyLGUsbixvKX1mdW5jdGlvbiB2ZShyLGUsdCxpKXtpZihPYmplY3QuaXMocixlKSlyZXR1cm4hMDtsZXQgcz0kaShyKSxuPSRpKGUpO2lmKHM9PT16aSYmKHM9WmUpLG49PT16aSYmKG49WmUpLHMhPT1uKXJldHVybiExO3N3aXRjaChzKXtjYXNlIGhvOnJldHVybiByLnRvU3RyaW5nKCk9PT1lLnRvU3RyaW5nKCk7Y2FzZSBsbzp7Y29uc3QgYz1yLnZhbHVlT2YoKSxoPWUudmFsdWVPZigpO3JldHVybiBhbyhjLGgpfWNhc2UgdW86Y2FzZSBwbzpjYXNlIGdvOnJldHVybiBPYmplY3QuaXMoci52YWx1ZU9mKCksZS52YWx1ZU9mKCkpO2Nhc2UgY286cmV0dXJuIHIuc291cmNlPT09ZS5zb3VyY2UmJnIuZmxhZ3M9PT1lLmZsYWdzO2Nhc2UgZm86cmV0dXJuIHI9PT1lfXQ9dD8/bmV3IE1hcDtjb25zdCBvPXQuZ2V0KHIpLGE9dC5nZXQoZSk7aWYobyE9bnVsbCYmYSE9bnVsbClyZXR1cm4gbz09PWU7dC5zZXQocixlKSx0LnNldChlLHIpO3RyeXtzd2l0Y2gocyl7Y2FzZSB5bzp7aWYoci5zaXplIT09ZS5zaXplKXJldHVybiExO2Zvcihjb25zdFtjLGhdb2Ygci5lbnRyaWVzKCkpaWYoIWUuaGFzKGMpfHwhRGUoaCxlLmdldChjKSxjLHIsZSx0LGkpKXJldHVybiExO3JldHVybiEwfWNhc2UgYm86e2lmKHIuc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMTtjb25zdCBjPUFycmF5LmZyb20oci52YWx1ZXMoKSksaD1BcnJheS5mcm9tKGUudmFsdWVzKCkpO2ZvcihsZXQgbD0wO2w8Yy5sZW5ndGg7bCsrKXtjb25zdCBwPWNbbF0seT1oLmZpbmRJbmRleCh3PT5EZShwLHcsdm9pZCAwLHIsZSx0LGkpKTtpZih5PT09LTEpcmV0dXJuITE7aC5zcGxpY2UoeSwxKX1yZXR1cm4hMH1jYXNlIG1vOmNhc2UgX286Y2FzZSBFbzpjYXNlIElvOmNhc2UgVG86Y2FzZSBDbzpjYXNlIFBvOmNhc2UgU286Y2FzZSBPbzpjYXNlIFJvOmNhc2UgQW86Y2FzZSB4bzp7aWYodHlwZW9mIEJ1ZmZlcjxcInVcIiYmQnVmZmVyLmlzQnVmZmVyKHIpIT09QnVmZmVyLmlzQnVmZmVyKGUpfHxyLmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgYz0wO2M8ci5sZW5ndGg7YysrKWlmKCFEZShyW2NdLGVbY10sYyxyLGUsdCxpKSlyZXR1cm4hMTtyZXR1cm4hMH1jYXNlIERvOnJldHVybiByLmJ5dGVMZW5ndGghPT1lLmJ5dGVMZW5ndGg/ITE6dmUobmV3IFVpbnQ4QXJyYXkociksbmV3IFVpbnQ4QXJyYXkoZSksdCxpKTtjYXNlIHdvOnJldHVybiByLmJ5dGVMZW5ndGghPT1lLmJ5dGVMZW5ndGh8fHIuYnl0ZU9mZnNldCE9PWUuYnl0ZU9mZnNldD8hMTp2ZShuZXcgVWludDhBcnJheShyKSxuZXcgVWludDhBcnJheShlKSx0LGkpO2Nhc2Ugdm86cmV0dXJuIHIubmFtZT09PWUubmFtZSYmci5tZXNzYWdlPT09ZS5tZXNzYWdlO2Nhc2UgWmU6e2lmKCEodmUoci5jb25zdHJ1Y3RvcixlLmNvbnN0cnVjdG9yLHQsaSl8fExpKHIpJiZMaShlKSkpcmV0dXJuITE7Y29uc3QgaD1bLi4uT2JqZWN0LmtleXMociksLi4uTmkocildLGw9Wy4uLk9iamVjdC5rZXlzKGUpLC4uLk5pKGUpXTtpZihoLmxlbmd0aCE9PWwubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcD0wO3A8aC5sZW5ndGg7cCsrKXtjb25zdCB5PWhbcF0sdz1yW3ldO2lmKCFPYmplY3QuaGFzT3duKGUseSkpcmV0dXJuITE7Y29uc3QgdT1lW3ldO2lmKCFEZSh3LHUseSxyLGUsdCxpKSlyZXR1cm4hMX1yZXR1cm4hMH1kZWZhdWx0OnJldHVybiExfX1maW5hbGx5e3QuZGVsZXRlKHIpLHQuZGVsZXRlKGUpfX1mdW5jdGlvbiB6byhyLGUpe3JldHVybiAkbyhyLGUsTm8pfXZhciBMbz1PYmplY3QuZGVmaW5lUHJvcGVydHksa2k9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxrbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGpvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsUWU9KHIsZSx0KT0+ZSBpbiByP0xvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxqaT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpa28uY2FsbChlLHQpJiZRZShyLHQsZVt0XSk7aWYoa2kpZm9yKHZhciB0IG9mIGtpKGUpKWpvLmNhbGwoZSx0KSYmUWUocix0LGVbdF0pO3JldHVybiByfSxGPShyLGUsdCk9PlFlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgVWkgZXh0ZW5kcyBuc3tjb25zdHJ1Y3RvcihlLHQsaSxzPVcsbj12b2lkIDApe3N1cGVyKGUsdCxpLHMpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsdGhpcy5uYW1lPWksRih0aGlzLFwibWFwXCIsbmV3IE1hcCksRih0aGlzLFwidmVyc2lvblwiLFV0KSxGKHRoaXMsXCJjYWNoZWRcIixbXSksRih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksRih0aGlzLFwiZ2V0S2V5XCIpLEYodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixXKSxGKHRoaXMsXCJyZWNlbnRseURlbGV0ZWRcIixbXSksRih0aGlzLFwicmVjZW50bHlEZWxldGVkTGltaXRcIiwyMDApLEYodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChvPT57dGhpcy5nZXRLZXkmJm8hPT1udWxsJiYhdWUobyk/dGhpcy5tYXAuc2V0KHRoaXMuZ2V0S2V5KG8pLG8pOkFzKG8pP3RoaXMubWFwLnNldChvLmlkLG8pOnhzKG8pJiZ0aGlzLm1hcC5zZXQoby50b3BpYyxvKX0pLHRoaXMuY2FjaGVkPVtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSksRih0aGlzLFwic2V0XCIsYXN5bmMobyxhKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWFwLmhhcyhvKT9hd2FpdCB0aGlzLnVwZGF0ZShvLGEpOih0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRcIixrZXk6byx2YWx1ZTphfSksdGhpcy5tYXAuc2V0KG8sYSksYXdhaXQgdGhpcy5wZXJzaXN0KCkpfSksRih0aGlzLFwiZ2V0XCIsbz0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImdldFwiLGtleTpvfSksdGhpcy5nZXREYXRhKG8pKSksRih0aGlzLFwiZ2V0QWxsXCIsbz0+KHRoaXMuaXNJbml0aWFsaXplZCgpLG8/dGhpcy52YWx1ZXMuZmlsdGVyKGE9Pk9iamVjdC5rZXlzKG8pLmV2ZXJ5KGM9PnpvKGFbY10sb1tjXSkpKTp0aGlzLnZhbHVlcykpLEYodGhpcyxcInVwZGF0ZVwiLGFzeW5jKG8sYSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVwZGF0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidXBkYXRlXCIsa2V5Om8sdXBkYXRlOmF9KTtjb25zdCBjPWppKGppKHt9LHRoaXMuZ2V0RGF0YShvKSksYSk7dGhpcy5tYXAuc2V0KG8sYyksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSxGKHRoaXMsXCJkZWxldGVcIixhc3luYyhvLGEpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5tYXAuaGFzKG8pJiYodGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImRlbGV0ZVwiLGtleTpvLHJlYXNvbjphfSksdGhpcy5tYXAuZGVsZXRlKG8pLHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQobyksYXdhaXQgdGhpcy5wZXJzaXN0KCkpfSksdGhpcy5sb2dnZXI9aih0LHRoaXMubmFtZSksdGhpcy5zdG9yYWdlUHJlZml4PXMsdGhpcy5nZXRLZXk9bn1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLm1hcC5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAudmFsdWVzKCkpfWFkZFRvUmVjZW50bHlEZWxldGVkKGUpe3RoaXMucmVjZW50bHlEZWxldGVkLnB1c2goZSksdGhpcy5yZWNlbnRseURlbGV0ZWQubGVuZ3RoPj10aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0JiZ0aGlzLnJlY2VudGx5RGVsZXRlZC5zcGxpY2UoMCx0aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0LzIpfWFzeW5jIHNldERhdGFTdG9yZShlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXREYXRhU3RvcmUoKXtyZXR1cm4gYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfWdldERhdGEoZSl7Y29uc3QgdD10aGlzLm1hcC5nZXQoZSk7aWYoIXQpe2lmKHRoaXMucmVjZW50bHlEZWxldGVkLmluY2x1ZGVzKGUpKXtjb25zdHttZXNzYWdlOnN9PWIoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgUmVjb3JkIHdhcyByZWNlbnRseSBkZWxldGVkIC0gJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IocyksbmV3IEVycm9yKHMpfWNvbnN0e21lc3NhZ2U6aX09YihcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihpKSxuZXcgRXJyb3IoaSl9cmV0dXJuIHR9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0RGF0YVN0b3JlKHRoaXMudmFsdWVzKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXREYXRhU3RvcmUoKTtpZih0eXBlb2YgZT5cInVcInx8IWUubGVuZ3RoKXJldHVybjtpZih0aGlzLm1hcC5zaXplKXtjb25zdHttZXNzYWdlOnR9PWIoXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgdmFsdWUgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHZhbHVlOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHZhbHVlIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBVbz1PYmplY3QuZGVmaW5lUHJvcGVydHksRm89KHIsZSx0KT0+ZSBpbiByP1VvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxkPShyLGUsdCk9PkZvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgRml7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LGQodGhpcyxcIm5hbWVcIixCdCksZCh0aGlzLFwidmVyc2lvblwiLFZ0KSxkKHRoaXMsXCJldmVudHNcIixuZXcgSmkpLGQodGhpcyxcInBhaXJpbmdzXCIpLGQodGhpcyxcImluaXRpYWxpemVkXCIsITEpLGQodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixXKSxkKHRoaXMsXCJpZ25vcmVkUGF5bG9hZFR5cGVzXCIsWyRzXSksZCh0aGlzLFwicmVnaXN0ZXJlZE1ldGhvZHNcIixbXSksZCh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwoYXdhaXQgdGhpcy5wYWlyaW5ncy5pbml0KCksYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5yZWdpc3RlclJlbGF5ZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyRXhwaXJlckV2ZW50cygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSl9KSxkKHRoaXMsXCJyZWdpc3RlclwiLCh7bWV0aG9kczppfSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnJlZ2lzdGVyZWRNZXRob2RzPVsuLi5uZXcgU2V0KFsuLi50aGlzLnJlZ2lzdGVyZWRNZXRob2RzLC4uLmldKV19KSxkKHRoaXMsXCJjcmVhdGVcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz16ZSgpLG49YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5zZXRTeW1LZXkocyksbz1nZShsZSksYT17cHJvdG9jb2w6JHR9LGM9e3RvcGljOm4sZXhwaXJ5Om8scmVsYXk6YSxhY3RpdmU6ITEsbWV0aG9kczppPy5tZXRob2RzfSxoPXB0KHtwcm90b2NvbDp0aGlzLmNvcmUucHJvdG9jb2wsdmVyc2lvbjp0aGlzLmNvcmUudmVyc2lvbix0b3BpYzpuLHN5bUtleTpzLHJlbGF5OmEsZXhwaXJ5VGltZXN0YW1wOm8sbWV0aG9kczppPy5tZXRob2RzfSk7cmV0dXJuIHRoaXMuZXZlbnRzLmVtaXQoYWUuY3JlYXRlLGMpLHRoaXMuY29yZS5leHBpcmVyLnNldChuLG8pLGF3YWl0IHRoaXMucGFpcmluZ3Muc2V0KG4sYyksYXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKG4se3RyYW5zcG9ydFR5cGU6aT8udHJhbnNwb3J0VHlwZSxpbnRlcm5hbDppPy5pbnRlcm5hbH0pLHt0b3BpYzpuLHVyaTpofX0pLGQodGhpcyxcInBhaXJcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOmk/LnVyaSx0cmFjZTpbWS5wYWlyaW5nX3N0YXJ0ZWRdfX0pO3RoaXMuaXNWYWxpZFBhaXIoaSxzKTtjb25zdHt0b3BpYzpuLHN5bUtleTpvLHJlbGF5OmEsZXhwaXJ5VGltZXN0YW1wOmMsbWV0aG9kczpofT15dChpLnVyaSk7cy5wcm9wcy5wcm9wZXJ0aWVzLnRvcGljPW4scy5hZGRUcmFjZShZLnBhaXJpbmdfdXJpX3ZhbGlkYXRpb25fc3VjY2Vzcykscy5hZGRUcmFjZShZLnBhaXJpbmdfdXJpX25vdF9leHBpcmVkKTtsZXQgbDtpZih0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobikpe2lmKGw9dGhpcy5wYWlyaW5ncy5nZXQobikscy5hZGRUcmFjZShZLmV4aXN0aW5nX3BhaXJpbmcpLGwuYWN0aXZlKXRocm93IHMuc2V0RXJyb3IoWC5hY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0cyksbmV3IEVycm9yKGBQYWlyaW5nIGFscmVhZHkgZXhpc3RzOiAke259LiBQbGVhc2UgdHJ5IGFnYWluIHdpdGggYSBuZXcgY29ubmVjdGlvbiBVUkkuYCk7cy5hZGRUcmFjZShZLnBhaXJpbmdfbm90X2V4cGlyZWQpfWNvbnN0IHA9Y3x8Z2UobGUpLHk9e3RvcGljOm4scmVsYXk6YSxleHBpcnk6cCxhY3RpdmU6ITEsbWV0aG9kczpofTt0aGlzLmNvcmUuZXhwaXJlci5zZXQobixwKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnNldChuLHkpLHMuYWRkVHJhY2UoWS5zdG9yZV9uZXdfcGFpcmluZyksaS5hY3RpdmF0ZVBhaXJpbmcmJmF3YWl0IHRoaXMuYWN0aXZhdGUoe3RvcGljOm59KSx0aGlzLmV2ZW50cy5lbWl0KGFlLmNyZWF0ZSx5KSxzLmFkZFRyYWNlKFkuZW1pdF9pbmFjdGl2ZV9wYWlyaW5nKSx0aGlzLmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhuKXx8YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5zZXRTeW1LZXkobyxuKSxzLmFkZFRyYWNlKFkuc3Vic2NyaWJpbmdfcGFpcmluZ190b3BpYyk7dHJ5e2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKX1jYXRjaHtzLnNldEVycm9yKFgubm9faW50ZXJuZXRfY29ubmVjdGlvbil9dHJ5e2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLnN1YnNjcmliZShuLHtyZWxheTphfSl9Y2F0Y2godyl7dGhyb3cgcy5zZXRFcnJvcihYLnN1YnNjcmliZV9wYWlyaW5nX3RvcGljX2ZhaWx1cmUpLHd9cmV0dXJuIHMuYWRkVHJhY2UoWS5zdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzKSx5fSksZCh0aGlzLFwiYWN0aXZhdGVcIixhc3luYyh7dG9waWM6aX0pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1nZShsZSk7dGhpcy5jb3JlLmV4cGlyZXIuc2V0KGkscyksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7YWN0aXZlOiEwLGV4cGlyeTpzfSl9KSxkKHRoaXMsXCJwaW5nXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFBpbmcoaSksdGhpcy5sb2dnZXIud2FybihcInBpbmcoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cIik7Y29uc3R7dG9waWM6c309aTtpZih0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMocykpe2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kUmVxdWVzdChzLFwid2NfcGFpcmluZ1BpbmdcIix7fSkse2RvbmU6byxyZXNvbHZlOmEscmVqZWN0OmN9PXpzKCk7dGhpcy5ldmVudHMub25jZShMZShcInBhaXJpbmdfcGluZ1wiLG4pLCh7ZXJyb3I6aH0pPT57aD9jKGgpOmEoKX0pLGF3YWl0IG8oKX19KSxkKHRoaXMsXCJ1cGRhdGVFeHBpcnlcIixhc3luYyh7dG9waWM6aSxleHBpcnk6c30pPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7ZXhwaXJ5OnN9KX0pLGQodGhpcyxcInVwZGF0ZU1ldGFkYXRhXCIsYXN5bmMoe3RvcGljOmksbWV0YWRhdGE6c30pPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7cGVlck1ldGFkYXRhOnN9KX0pLGQodGhpcyxcImdldFBhaXJpbmdzXCIsKCk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnBhaXJpbmdzLnZhbHVlcykpLGQodGhpcyxcImRpc2Nvbm5lY3RcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdChpKTtjb25zdHt0b3BpYzpzfT1pO3RoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhzKSYmKGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QocyxcIndjX3BhaXJpbmdEZWxldGVcIixkZShcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcocykpfSksZCh0aGlzLFwiZm9ybWF0VXJpRnJvbVBhaXJpbmdcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3R7dG9waWM6cyxyZWxheTpuLGV4cGlyeTpvLG1ldGhvZHM6YX09aSxjPXRoaXMuY29yZS5jcnlwdG8ua2V5Y2hhaW4uZ2V0KHMpO3JldHVybiBwdCh7cHJvdG9jb2w6dGhpcy5jb3JlLnByb3RvY29sLHZlcnNpb246dGhpcy5jb3JlLnZlcnNpb24sdG9waWM6cyxzeW1LZXk6YyxyZWxheTpuLGV4cGlyeVRpbWVzdGFtcDpvLG1ldGhvZHM6YX0pfSksZCh0aGlzLFwic2VuZFJlcXVlc3RcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPV90KHMsbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShpLG8pLGM9b2Vbc10ucmVxO3JldHVybiB0aGlzLmNvcmUuaGlzdG9yeS5zZXQoaSxvKSx0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKGksYSxjKSxvLmlkfSksZCh0aGlzLFwic2VuZFJlc3VsdFwiLGFzeW5jKGkscyxuKT0+e2NvbnN0IG89d3QoaSxuKSxhPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZW5jb2RlKHMsbyksYz0oYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkuZ2V0KHMsaSkpLnJlcXVlc3QubWV0aG9kLGg9b2VbY10ucmVzO2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxhLGgpLGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LnJlc29sdmUobyl9KSxkKHRoaXMsXCJzZW5kRXJyb3JcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPUdzKGksbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShzLG8pLGM9KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLGkpKS5yZXF1ZXN0Lm1ldGhvZCxoPW9lW2NdP29lW2NdLnJlczpvZS51bnJlZ2lzdGVyZWRfbWV0aG9kLnJlczthd2FpdCB0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKHMsYSxoKSxhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pfSksZCh0aGlzLFwiZGVsZXRlUGFpcmluZ1wiLGFzeW5jKGkscyk9Pnthd2FpdCB0aGlzLmNvcmUucmVsYXllci51bnN1YnNjcmliZShpKSxhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYWlyaW5ncy5kZWxldGUoaSxkZShcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0aGlzLmNvcmUuY3J5cHRvLmRlbGV0ZVN5bUtleShpKSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY29yZS5leHBpcmVyLmRlbChpKV0pfSksZCh0aGlzLFwiY2xlYW51cFwiLGFzeW5jKCk9Pntjb25zdCBpPXRoaXMucGFpcmluZ3MuZ2V0QWxsKCkuZmlsdGVyKHM9PmJ0KHMuZXhwaXJ5KSk7YXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAocz0+dGhpcy5kZWxldGVQYWlyaW5nKHMudG9waWMpKSl9KSxkKHRoaXMsXCJvblJlbGF5RXZlbnRSZXF1ZXN0XCIsYXN5bmMgaT0+e2NvbnN0e3RvcGljOnMscGF5bG9hZDpufT1pO3N3aXRjaChuLm1ldGhvZCl7Y2FzZVwid2NfcGFpcmluZ1BpbmdcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblBhaXJpbmdQaW5nUmVxdWVzdChzLG4pO2Nhc2VcIndjX3BhaXJpbmdEZWxldGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblBhaXJpbmdEZWxldGVSZXF1ZXN0KHMsbik7ZGVmYXVsdDpyZXR1cm4gYXdhaXQgdGhpcy5vblVua25vd25ScGNNZXRob2RSZXF1ZXN0KHMsbil9fSksZCh0aGlzLFwib25SZWxheUV2ZW50UmVzcG9uc2VcIixhc3luYyBpPT57Y29uc3R7dG9waWM6cyxwYXlsb2FkOm59PWksbz0oYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkuZ2V0KHMsbi5pZCkpLnJlcXVlc3QubWV0aG9kO3N3aXRjaChvKXtjYXNlXCJ3Y19wYWlyaW5nUGluZ1wiOnJldHVybiB0aGlzLm9uUGFpcmluZ1BpbmdSZXNwb25zZShzLG4pO2RlZmF1bHQ6cmV0dXJuIHRoaXMub25Vbmtub3duUnBjTWV0aG9kUmVzcG9uc2Uobyl9fSksZCh0aGlzLFwib25QYWlyaW5nUGluZ1JlcXVlc3RcIixhc3luYyhpLHMpPT57Y29uc3R7aWQ6bn09czt0cnl7dGhpcy5pc1ZhbGlkUGluZyh7dG9waWM6aX0pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdChuLGksITApLHRoaXMuZXZlbnRzLmVtaXQoYWUucGluZyx7aWQ6bix0b3BpYzppfSl9Y2F0Y2gobyl7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLG8pLHRoaXMubG9nZ2VyLmVycm9yKG8pfX0pLGQodGhpcyxcIm9uUGFpcmluZ1BpbmdSZXNwb25zZVwiLChpLHMpPT57Y29uc3R7aWQ6bn09cztzZXRUaW1lb3V0KCgpPT57V3Mocyk/dGhpcy5ldmVudHMuZW1pdChMZShcInBhaXJpbmdfcGluZ1wiLG4pLHt9KTpFdChzKSYmdGhpcy5ldmVudHMuZW1pdChMZShcInBhaXJpbmdfcGluZ1wiLG4pLHtlcnJvcjpzLmVycm9yfSl9LDUwMCl9KSxkKHRoaXMsXCJvblBhaXJpbmdEZWxldGVSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm59PXM7dHJ5e3RoaXMuaXNWYWxpZERpc2Nvbm5lY3Qoe3RvcGljOml9KSxhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcoaSksdGhpcy5ldmVudHMuZW1pdChhZS5kZWxldGUse2lkOm4sdG9waWM6aX0pfWNhdGNoKG8pe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxvKSx0aGlzLmxvZ2dlci5lcnJvcihvKX19KSxkKHRoaXMsXCJvblVua25vd25ScGNNZXRob2RSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm4sbWV0aG9kOm99PXM7dHJ5e2lmKHRoaXMucmVnaXN0ZXJlZE1ldGhvZHMuaW5jbHVkZXMobykpcmV0dXJuO2NvbnN0IGE9ZGUoXCJXQ19NRVRIT0RfVU5TVVBQT1JURURcIixvKTthd2FpdCB0aGlzLnNlbmRFcnJvcihuLGksYSksdGhpcy5sb2dnZXIuZXJyb3IoYSl9Y2F0Y2goYSl7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLGEpLHRoaXMubG9nZ2VyLmVycm9yKGEpfX0pLGQodGhpcyxcIm9uVW5rbm93blJwY01ldGhvZFJlc3BvbnNlXCIsaT0+e3RoaXMucmVnaXN0ZXJlZE1ldGhvZHMuaW5jbHVkZXMoaSl8fHRoaXMubG9nZ2VyLmVycm9yKGRlKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsaSkpfSksZCh0aGlzLFwiaXNWYWxpZFBhaXJcIiwoaSxzKT0+e3ZhciBuO2lmKCFrZShpKSl7Y29uc3R7bWVzc2FnZTphfT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXIoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBzLnNldEVycm9yKFgubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSxuZXcgRXJyb3IoYSl9aWYoIUxzKGkudXJpKSl7Y29uc3R7bWVzc2FnZTphfT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXIoKSB1cmk6ICR7aS51cml9YCk7dGhyb3cgcy5zZXRFcnJvcihYLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWNvbnN0IG89eXQoaT8udXJpKTtpZighKChuPW8/LnJlbGF5KSE9bnVsbCYmbi5wcm90b2NvbCkpe2NvbnN0e21lc3NhZ2U6YX09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwicGFpcigpIHVyaSNyZWxheS1wcm90b2NvbFwiKTt0aHJvdyBzLnNldEVycm9yKFgubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSxuZXcgRXJyb3IoYSl9aWYoIShvIT1udWxsJiZvLnN5bUtleSkpe2NvbnN0e21lc3NhZ2U6YX09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwicGFpcigpIHVyaSNzeW1LZXlcIik7dGhyb3cgcy5zZXRFcnJvcihYLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKG8hPW51bGwmJm8uZXhwaXJ5VGltZXN0YW1wJiYkKG8/LmV4cGlyeVRpbWVzdGFtcCk8RGF0ZS5ub3coKSl7cy5zZXRFcnJvcihYLnBhaXJpbmdfZXhwaXJlZCk7Y29uc3R7bWVzc2FnZTphfT1iKFwiRVhQSVJFRFwiLFwicGFpcigpIFVSSSBoYXMgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gVVJJLlwiKTt0aHJvdyBuZXcgRXJyb3IoYSl9fSksZCh0aGlzLFwiaXNWYWxpZFBpbmdcIixhc3luYyBpPT57aWYoIWtlKGkpKXtjb25zdHttZXNzYWdlOm59PWIoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGluZygpIHBhcmFtczogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1jb25zdHt0b3BpYzpzfT1pO2F3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhzKX0pLGQodGhpcyxcImlzVmFsaWREaXNjb25uZWN0XCIsYXN5bmMgaT0+e2lmKCFrZShpKSl7Y29uc3R7bWVzc2FnZTpufT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6c309aTthd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMocyl9KSxkKHRoaXMsXCJpc1ZhbGlkUGFpcmluZ1RvcGljXCIsYXN5bmMgaT0+e2lmKCFrcyhpLCExKSl7Y29uc3R7bWVzc2FnZTpzfT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXJpbmcgdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWlmKCF0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoaSkpe2NvbnN0e21lc3NhZ2U6c309YihcIk5PX01BVENISU5HX0tFWVwiLGBwYWlyaW5nIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9aWYoYnQodGhpcy5wYWlyaW5ncy5nZXQoaSkuZXhwaXJ5KSl7YXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKGkpO2NvbnN0e21lc3NhZ2U6c309YihcIkVYUElSRURcIixgcGFpcmluZyB0b3BpYzogJHtpfWApO3Rocm93IG5ldyBFcnJvcihzKX19KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj1qKHQsdGhpcy5uYW1lKSx0aGlzLnBhaXJpbmdzPW5ldyBVaSh0aGlzLmNvcmUsdGhpcy5sb2dnZXIsdGhpcy5uYW1lLHRoaXMuc3RvcmFnZVByZWZpeCl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19cmVnaXN0ZXJSZWxheWVyRXZlbnRzKCl7dGhpcy5jb3JlLnJlbGF5ZXIub24oQy5tZXNzYWdlLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0LG1lc3NhZ2U6aSx0cmFuc3BvcnRUeXBlOnN9PWU7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHQpJiZzIT09ZWUubGlua19tb2RlJiYhdGhpcy5pZ25vcmVkUGF5bG9hZFR5cGVzLmluY2x1ZGVzKHRoaXMuY29yZS5jcnlwdG8uZ2V0UGF5bG9hZFR5cGUoaSkpKXRyeXtjb25zdCBuPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZGVjb2RlKHQsaSk7RHQobik/KHRoaXMuY29yZS5oaXN0b3J5LnNldCh0LG4pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVxdWVzdCh7dG9waWM6dCxwYXlsb2FkOm59KSk6dnQobikmJihhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG4pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVzcG9uc2Uoe3RvcGljOnQscGF5bG9hZDpufSksdGhpcy5jb3JlLmhpc3RvcnkuZGVsZXRlKHQsbi5pZCkpLGF3YWl0IHRoaXMuY29yZS5yZWxheWVyLm1lc3NhZ2VzLmFjayh0LGkpfWNhdGNoKG4pe3RoaXMubG9nZ2VyLmVycm9yKG4pfX0pfXJlZ2lzdGVyRXhwaXJlckV2ZW50cygpe3RoaXMuY29yZS5leHBpcmVyLm9uKHEuZXhwaXJlZCxhc3luYyBlPT57Y29uc3R7dG9waWM6dH09TnMoZS50YXJnZXQpO3QmJnRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSYmKGF3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyh0LCEwKSx0aGlzLmV2ZW50cy5lbWl0KGFlLmV4cGlyZSx7dG9waWM6dH0pKX0pfX12YXIgTW89T2JqZWN0LmRlZmluZVByb3BlcnR5LEtvPShyLGUsdCk9PmUgaW4gcj9NbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsTj0ocixlLHQpPT5LbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIE1pIGV4dGVuZHMgb3N7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsTih0aGlzLFwicmVjb3Jkc1wiLG5ldyBNYXApLE4odGhpcyxcImV2ZW50c1wiLG5ldyBpZSksTih0aGlzLFwibmFtZVwiLHF0KSxOKHRoaXMsXCJ2ZXJzaW9uXCIsR3QpLE4odGhpcyxcImNhY2hlZFwiLFtdKSxOKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxOKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksTih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSx0aGlzLmNhY2hlZC5mb3JFYWNoKGk9PnRoaXMucmVjb3Jkcy5zZXQoaS5pZCxpKSksdGhpcy5jYWNoZWQ9W10sdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksdGhpcy5pbml0aWFsaXplZD0hMCl9KSxOKHRoaXMsXCJzZXRcIiwoaSxzLG4pPT57aWYodGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5nIEpTT04tUlBDIHJlcXVlc3QgaGlzdG9yeSByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRcIix0b3BpYzppLHJlcXVlc3Q6cyxjaGFpbklkOm59KSx0aGlzLnJlY29yZHMuaGFzKHMuaWQpKXJldHVybjtjb25zdCBvPXtpZDpzLmlkLHRvcGljOmkscmVxdWVzdDp7bWV0aG9kOnMubWV0aG9kLHBhcmFtczpzLnBhcmFtc3x8bnVsbH0sY2hhaW5JZDpuLGV4cGlyeTpnZShSZSl9O3RoaXMucmVjb3Jkcy5zZXQoby5pZCxvKSx0aGlzLnBlcnNpc3QoKSx0aGlzLmV2ZW50cy5lbWl0KFYuY3JlYXRlZCxvKX0pLE4odGhpcyxcInJlc29sdmVcIixhc3luYyBpPT57aWYodGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJVcGRhdGluZyBKU09OLVJQQyByZXNwb25zZSBoaXN0b3J5IHJlY29yZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVwZGF0ZVwiLHJlc3BvbnNlOml9KSwhdGhpcy5yZWNvcmRzLmhhcyhpLmlkKSlyZXR1cm47Y29uc3Qgcz1hd2FpdCB0aGlzLmdldFJlY29yZChpLmlkKTt0eXBlb2Ygcy5yZXNwb25zZT5cInVcIiYmKHMucmVzcG9uc2U9RXQoaSk/e2Vycm9yOmkuZXJyb3J9OntyZXN1bHQ6aS5yZXN1bHR9LHRoaXMucmVjb3Jkcy5zZXQocy5pZCxzKSx0aGlzLnBlcnNpc3QoKSx0aGlzLmV2ZW50cy5lbWl0KFYudXBkYXRlZCxzKSl9KSxOKHRoaXMsXCJnZXRcIixhc3luYyhpLHMpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJHZXR0aW5nIHJlY29yZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImdldFwiLHRvcGljOmksaWQ6c30pLGF3YWl0IHRoaXMuZ2V0UmVjb3JkKHMpKSksTih0aGlzLFwiZGVsZXRlXCIsKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRlbGV0aW5nIHJlY29yZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImRlbGV0ZVwiLGlkOnN9KSx0aGlzLnZhbHVlcy5mb3JFYWNoKG49PntpZihuLnRvcGljPT09aSl7aWYodHlwZW9mIHM8XCJ1XCImJm4uaWQhPT1zKXJldHVybjt0aGlzLnJlY29yZHMuZGVsZXRlKG4uaWQpLHRoaXMuZXZlbnRzLmVtaXQoVi5kZWxldGVkLG4pfX0pLHRoaXMucGVyc2lzdCgpfSksTih0aGlzLFwiZXhpc3RzXCIsYXN5bmMoaSxzKT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMucmVjb3Jkcy5oYXMocyk/KGF3YWl0IHRoaXMuZ2V0UmVjb3JkKHMpKS50b3BpYz09PWk6ITEpKSxOKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLE4odGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLE4odGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxOKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLHRoaXMubG9nZ2VyPWoodCx0aGlzLm5hbWUpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLnJlY29yZHMuc2l6ZX1nZXQga2V5cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucmVjb3Jkcy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlY29yZHMudmFsdWVzKCkpfWdldCBwZW5kaW5nKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy52YWx1ZXMuZm9yRWFjaCh0PT57aWYodHlwZW9mIHQucmVzcG9uc2U8XCJ1XCIpcmV0dXJuO2NvbnN0IGk9e3RvcGljOnQudG9waWMscmVxdWVzdDpfdCh0LnJlcXVlc3QubWV0aG9kLHQucmVxdWVzdC5wYXJhbXMsdC5pZCksY2hhaW5JZDp0LmNoYWluSWR9O3JldHVybiBlLnB1c2goaSl9KSxlfWFzeW5jIHNldEpzb25ScGNSZWNvcmRzKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldEpzb25ScGNSZWNvcmRzKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1nZXRSZWNvcmQoZSl7dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgdD10aGlzLnJlY29yZHMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGkpfXJldHVybiB0fWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldEpzb25ScGNSZWNvcmRzKHRoaXMudmFsdWVzKSx0aGlzLmV2ZW50cy5lbWl0KFYuc3luYyl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0SnNvblJwY1JlY29yZHMoKTtpZih0eXBlb2YgZT5cInVcInx8IWUubGVuZ3RoKXJldHVybjtpZih0aGlzLnJlY29yZHMuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1iKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHJlY29yZHM6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLmV2ZW50cy5vbihWLmNyZWF0ZWQsZT0+e2NvbnN0IHQ9Vi5jcmVhdGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxyZWNvcmQ6ZX0pfSksdGhpcy5ldmVudHMub24oVi51cGRhdGVkLGU9Pntjb25zdCB0PVYudXBkYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQscmVjb3JkOmV9KX0pLHRoaXMuZXZlbnRzLm9uKFYuZGVsZXRlZCxlPT57Y29uc3QgdD1WLmRlbGV0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LHJlY29yZDplfSl9KSx0aGlzLmNvcmUuaGVhcnRiZWF0Lm9uKHNlLnB1bHNlLCgpPT57dGhpcy5jbGVhbnVwKCl9KX1jbGVhbnVwKCl7dHJ5e3RoaXMuaXNJbml0aWFsaXplZCgpO2xldCBlPSExO3RoaXMucmVjb3Jkcy5mb3JFYWNoKHQ9PnskKHQuZXhwaXJ5fHwwKS1EYXRlLm5vdygpPD0wJiYodGhpcy5sb2dnZXIuaW5mbyhgRGVsZXRpbmcgZXhwaXJlZCBoaXN0b3J5IGxvZzogJHt0LmlkfWApLHRoaXMucmVjb3Jkcy5kZWxldGUodC5pZCksdGhpcy5ldmVudHMuZW1pdChWLmRlbGV0ZWQsdCwhMSksZT0hMCl9KSxlJiZ0aGlzLnBlcnNpc3QoKX1jYXRjaChlKXt0aGlzLmxvZ2dlci53YXJuKGUpfX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09YihcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIEJvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxWbz0ocixlLHQpPT5lIGluIHI/Qm8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LHo9KHIsZSx0KT0+Vm8ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBLaSBleHRlbmRzIGFze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHoodGhpcyxcImV4cGlyYXRpb25zXCIsbmV3IE1hcCkseih0aGlzLFwiZXZlbnRzXCIsbmV3IGllKSx6KHRoaXMsXCJuYW1lXCIsV3QpLHoodGhpcyxcInZlcnNpb25cIixIdCkseih0aGlzLFwiY2FjaGVkXCIsW10pLHoodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHoodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixXKSx6KHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMucmVzdG9yZSgpLHRoaXMuY2FjaGVkLmZvckVhY2goaT0+dGhpcy5leHBpcmF0aW9ucy5zZXQoaS50YXJnZXQsaSkpLHRoaXMuY2FjaGVkPVtdLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSkseih0aGlzLFwiaGFzXCIsaT0+e3RyeXtjb25zdCBzPXRoaXMuZm9ybWF0VGFyZ2V0KGkpO3JldHVybiB0eXBlb2YgdGhpcy5nZXRFeHBpcmF0aW9uKHMpPFwidVwifWNhdGNoe3JldHVybiExfX0pLHoodGhpcyxcInNldFwiLChpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj10aGlzLmZvcm1hdFRhcmdldChpKSxvPXt0YXJnZXQ6bixleHBpcnk6c307dGhpcy5leHBpcmF0aW9ucy5zZXQobixvKSx0aGlzLmNoZWNrRXhwaXJ5KG4sbyksdGhpcy5ldmVudHMuZW1pdChxLmNyZWF0ZWQse3RhcmdldDpuLGV4cGlyYXRpb246b30pfSkseih0aGlzLFwiZ2V0XCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9dGhpcy5mb3JtYXRUYXJnZXQoaSk7cmV0dXJuIHRoaXMuZ2V0RXhwaXJhdGlvbihzKX0pLHoodGhpcyxcImRlbFwiLGk9PntpZih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmhhcyhpKSl7Y29uc3Qgcz10aGlzLmZvcm1hdFRhcmdldChpKSxuPXRoaXMuZ2V0RXhwaXJhdGlvbihzKTt0aGlzLmV4cGlyYXRpb25zLmRlbGV0ZShzKSx0aGlzLmV2ZW50cy5lbWl0KHEuZGVsZXRlZCx7dGFyZ2V0OnMsZXhwaXJhdGlvbjpufSl9fSkseih0aGlzLFwib25cIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uKGkscyl9KSx6KHRoaXMsXCJvbmNlXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbmNlKGkscyl9KSx6KHRoaXMsXCJvZmZcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9mZihpLHMpfSkseih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGkscyl9KSx0aGlzLmxvZ2dlcj1qKHQsdGhpcy5uYW1lKX1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLmV4cGlyYXRpb25zLnNpemV9Z2V0IGtleXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV4cGlyYXRpb25zLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuZXhwaXJhdGlvbnMudmFsdWVzKCkpfWZvcm1hdFRhcmdldChlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIilyZXR1cm4ganMoZSk7aWYodHlwZW9mIGU9PVwibnVtYmVyXCIpcmV0dXJuIFVzKGUpO2NvbnN0e21lc3NhZ2U6dH09YihcIlVOS05PV05fVFlQRVwiLGBUYXJnZXQgdHlwZTogJHt0eXBlb2YgZX1gKTt0aHJvdyBuZXcgRXJyb3IodCl9YXN5bmMgc2V0RXhwaXJhdGlvbnMoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0RXhwaXJhdGlvbnMoKXtyZXR1cm4gYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldEV4cGlyYXRpb25zKHRoaXMudmFsdWVzKSx0aGlzLmV2ZW50cy5lbWl0KHEuc3luYyl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0RXhwaXJhdGlvbnMoKTtpZih0eXBlb2YgZT5cInVcInx8IWUubGVuZ3RoKXJldHVybjtpZih0aGlzLmV4cGlyYXRpb25zLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09YihcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCBleHBpcmF0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIsZXhwaXJhdGlvbnM6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgZXhwaXJhdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1nZXRFeHBpcmF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5leHBpcmF0aW9ucy5nZXQoZSk7aWYoIXQpe2NvbnN0e21lc3NhZ2U6aX09YihcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyB0aGlzLmxvZ2dlci53YXJuKGkpLG5ldyBFcnJvcihpKX1yZXR1cm4gdH1jaGVja0V4cGlyeShlLHQpe2NvbnN0e2V4cGlyeTppfT10OyQoaSktRGF0ZS5ub3coKTw9MCYmdGhpcy5leHBpcmUoZSx0KX1leHBpcmUoZSx0KXt0aGlzLmV4cGlyYXRpb25zLmRlbGV0ZShlKSx0aGlzLmV2ZW50cy5lbWl0KHEuZXhwaXJlZCx7dGFyZ2V0OmUsZXhwaXJhdGlvbjp0fSl9Y2hlY2tFeHBpcmF0aW9ucygpe3RoaXMuY29yZS5yZWxheWVyLmNvbm5lY3RlZCYmdGhpcy5leHBpcmF0aW9ucy5mb3JFYWNoKChlLHQpPT50aGlzLmNoZWNrRXhwaXJ5KHQsZSkpfXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLmNvcmUuaGVhcnRiZWF0Lm9uKHNlLnB1bHNlLCgpPT50aGlzLmNoZWNrRXhwaXJhdGlvbnMoKSksdGhpcy5ldmVudHMub24ocS5jcmVhdGVkLGU9Pntjb25zdCB0PXEuY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQsZGF0YTplfSksdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihxLmV4cGlyZWQsZT0+e2NvbnN0IHQ9cS5leHBpcmVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxkYXRhOmV9KSx0aGlzLnBlcnNpc3QoKX0pLHRoaXMuZXZlbnRzLm9uKHEuZGVsZXRlZCxlPT57Y29uc3QgdD1xLmRlbGV0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LGRhdGE6ZX0pLHRoaXMucGVyc2lzdCgpfSl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBxbz1PYmplY3QuZGVmaW5lUHJvcGVydHksR289KHIsZSx0KT0+ZSBpbiByP3FvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxQPShyLGUsdCk9PkdvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgQmkgZXh0ZW5kcyBjc3tjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSx0LGkpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsdGhpcy5zdG9yZT1pLFAodGhpcyxcIm5hbWVcIixZdCksUCh0aGlzLFwiYWJvcnRDb250cm9sbGVyXCIpLFAodGhpcyxcImlzRGV2RW52XCIpLFAodGhpcyxcInZlcmlmeVVybFYzXCIsWHQpLFAodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixXKSxQKHRoaXMsXCJ2ZXJzaW9uXCIsRmUpLFAodGhpcyxcInB1YmxpY0tleVwiKSxQKHRoaXMsXCJmZXRjaFByb21pc2VcIiksUCh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt2YXIgczt0aGlzLmlzRGV2RW52fHwodGhpcy5wdWJsaWNLZXk9YXdhaXQgdGhpcy5zdG9yZS5nZXRJdGVtKHRoaXMuc3RvcmVLZXkpLHRoaXMucHVibGljS2V5JiYkKChzPXRoaXMucHVibGljS2V5KT09bnVsbD92b2lkIDA6cy5leHBpcmVzQXQpPERhdGUubm93KCkmJih0aGlzLmxvZ2dlci5kZWJ1ZyhcInZlcmlmeSB2MiBwdWJsaWMga2V5IGV4cGlyZWRcIiksYXdhaXQgdGhpcy5yZW1vdmVQdWJsaWNLZXkoKSkpfSksUCh0aGlzLFwicmVnaXN0ZXJcIixhc3luYyBzPT57aWYoIUZzKCl8fHRoaXMuaXNEZXZFbnYpcmV0dXJuO2NvbnN0IG49d2luZG93LmxvY2F0aW9uLm9yaWdpbix7aWQ6byxkZWNyeXB0ZWRJZDphfT1zLGM9YCR7dGhpcy52ZXJpZnlVcmxWM30vYXR0ZXN0YXRpb24/cHJvamVjdElkPSR7dGhpcy5jb3JlLnByb2plY3RJZH0mb3JpZ2luPSR7bn0maWQ9JHtvfSZkZWNyeXB0ZWRJZD0ke2F9YDt0cnl7Y29uc3QgaD1ZcygpLGw9dGhpcy5zdGFydEFib3J0VGltZXIoUSo1KSxwPWF3YWl0IG5ldyBQcm9taXNlKCh5LHcpPT57Y29uc3QgdT0oKT0+e3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLEQpLGguYm9keS5yZW1vdmVDaGlsZChtKSx3KFwiYXR0ZXN0YXRpb24gYWJvcnRlZFwiKX07dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHUpO2NvbnN0IG09aC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO20uc3JjPWMsbS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG0uYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdSx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO2NvbnN0IEQ9Xz0+e2lmKF8uZGF0YSYmdHlwZW9mIF8uZGF0YT09XCJzdHJpbmdcIil0cnl7Y29uc3QgRT1KU09OLnBhcnNlKF8uZGF0YSk7aWYoRS50eXBlPT09XCJ2ZXJpZnlfYXR0ZXN0YXRpb25cIil7aWYob3QoRS5hdHRlc3RhdGlvbikucGF5bG9hZC5pZCE9PW8pcmV0dXJuO2NsZWFySW50ZXJ2YWwobCksaC5ib2R5LnJlbW92ZUNoaWxkKG0pLHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIix1KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixEKSx5KEUuYXR0ZXN0YXRpb249PT1udWxsP1wiXCI6RS5hdHRlc3RhdGlvbil9fWNhdGNoKEUpe3RoaXMubG9nZ2VyLndhcm4oRSl9fTtoLmJvZHkuYXBwZW5kQ2hpbGQobSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsRCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pfSk7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiand0IGF0dGVzdGF0aW9uXCIscCkscH1jYXRjaChoKXt0aGlzLmxvZ2dlci53YXJuKGgpfXJldHVyblwiXCJ9KSxQKHRoaXMsXCJyZXNvbHZlXCIsYXN5bmMgcz0+e2lmKHRoaXMuaXNEZXZFbnYpcmV0dXJuXCJcIjtjb25zdHthdHRlc3RhdGlvbklkOm4saGFzaDpvLGVuY3J5cHRlZElkOmF9PXM7aWYobj09PVwiXCIpe3RoaXMubG9nZ2VyLmRlYnVnKFwicmVzb2x2ZTogYXR0ZXN0YXRpb25JZCBpcyBlbXB0eSwgc2tpcHBpbmdcIik7cmV0dXJufWlmKG4pe2lmKG90KG4pLnBheWxvYWQuaWQhPT1hKXJldHVybjtjb25zdCBoPWF3YWl0IHRoaXMuaXNWYWxpZEp3dEF0dGVzdGF0aW9uKG4pO2lmKGgpe2lmKCFoLmlzVmVyaWZpZWQpe3RoaXMubG9nZ2VyLndhcm4oXCJyZXNvbHZlOiBqd3QgYXR0ZXN0YXRpb246IG9yaWdpbiB1cmwgbm90IHZlcmlmaWVkXCIpO3JldHVybn1yZXR1cm4gaH19aWYoIW8pcmV0dXJuO2NvbnN0IGM9dGhpcy5nZXRWZXJpZnlVcmwocz8udmVyaWZ5VXJsKTtyZXR1cm4gdGhpcy5mZXRjaEF0dGVzdGF0aW9uKG8sYyl9KSxQKHRoaXMsXCJmZXRjaEF0dGVzdGF0aW9uXCIsYXN5bmMocyxuKT0+e3RoaXMubG9nZ2VyLmRlYnVnKGByZXNvbHZpbmcgYXR0ZXN0YXRpb246ICR7c30gZnJvbSB1cmw6ICR7bn1gKTtjb25zdCBvPXRoaXMuc3RhcnRBYm9ydFRpbWVyKFEqNSksYT1hd2FpdCBmZXRjaChgJHtufS9hdHRlc3RhdGlvbi8ke3N9P3YyU3VwcG9ydGVkPXRydWVgLHtzaWduYWw6dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSk7cmV0dXJuIGNsZWFyVGltZW91dChvKSxhLnN0YXR1cz09PTIwMD9hd2FpdCBhLmpzb24oKTp2b2lkIDB9KSxQKHRoaXMsXCJnZXRWZXJpZnlVcmxcIixzPT57bGV0IG49c3x8YmU7cmV0dXJuIFp0LmluY2x1ZGVzKG4pfHwodGhpcy5sb2dnZXIuaW5mbyhgdmVyaWZ5IHVybDogJHtufSwgbm90IGluY2x1ZGVkIGluIHRydXN0ZWQgbGlzdCwgYXNzaWduaW5nIGRlZmF1bHQ6ICR7YmV9YCksbj1iZSksbn0pLFAodGhpcyxcImZldGNoUHVibGljS2V5XCIsYXN5bmMoKT0+e3RyeXt0aGlzLmxvZ2dlci5kZWJ1ZyhgZmV0Y2hpbmcgcHVibGljIGtleSBmcm9tOiAke3RoaXMudmVyaWZ5VXJsVjN9YCk7Y29uc3Qgcz10aGlzLnN0YXJ0QWJvcnRUaW1lcihBZSksbj1hd2FpdCBmZXRjaChgJHt0aGlzLnZlcmlmeVVybFYzfS9wdWJsaWMta2V5YCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO3JldHVybiBjbGVhclRpbWVvdXQocyksYXdhaXQgbi5qc29uKCl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzKX19KSxQKHRoaXMsXCJwZXJzaXN0UHVibGljS2V5XCIsYXN5bmMgcz0+e3RoaXMubG9nZ2VyLmRlYnVnKFwicGVyc2lzdGluZyBwdWJsaWMga2V5IHRvIGxvY2FsIHN0b3JhZ2VcIixzKSxhd2FpdCB0aGlzLnN0b3JlLnNldEl0ZW0odGhpcy5zdG9yZUtleSxzKSx0aGlzLnB1YmxpY0tleT1zfSksUCh0aGlzLFwicmVtb3ZlUHVibGljS2V5XCIsYXN5bmMoKT0+e3RoaXMubG9nZ2VyLmRlYnVnKFwicmVtb3ZpbmcgdmVyaWZ5IHYyIHB1YmxpYyBrZXkgZnJvbSBzdG9yYWdlXCIpLGF3YWl0IHRoaXMuc3RvcmUucmVtb3ZlSXRlbSh0aGlzLnN0b3JlS2V5KSx0aGlzLnB1YmxpY0tleT12b2lkIDB9KSxQKHRoaXMsXCJpc1ZhbGlkSnd0QXR0ZXN0YXRpb25cIixhc3luYyBzPT57Y29uc3Qgbj1hd2FpdCB0aGlzLmdldFB1YmxpY0tleSgpO3RyeXtpZihuKXJldHVybiB0aGlzLnZhbGlkYXRlQXR0ZXN0YXRpb24ocyxuKX1jYXRjaChhKXt0aGlzLmxvZ2dlci5lcnJvcihhKSx0aGlzLmxvZ2dlci53YXJuKFwiZXJyb3IgdmFsaWRhdGluZyBhdHRlc3RhdGlvblwiKX1jb25zdCBvPWF3YWl0IHRoaXMuZmV0Y2hBbmRQZXJzaXN0UHVibGljS2V5KCk7dHJ5e2lmKG8pcmV0dXJuIHRoaXMudmFsaWRhdGVBdHRlc3RhdGlvbihzLG8pfWNhdGNoKGEpe3RoaXMubG9nZ2VyLmVycm9yKGEpLHRoaXMubG9nZ2VyLndhcm4oXCJlcnJvciB2YWxpZGF0aW5nIGF0dGVzdGF0aW9uXCIpfX0pLFAodGhpcyxcImdldFB1YmxpY0tleVwiLGFzeW5jKCk9PnRoaXMucHVibGljS2V5P3RoaXMucHVibGljS2V5OmF3YWl0IHRoaXMuZmV0Y2hBbmRQZXJzaXN0UHVibGljS2V5KCkpLFAodGhpcyxcImZldGNoQW5kUGVyc2lzdFB1YmxpY0tleVwiLGFzeW5jKCk9PntpZih0aGlzLmZldGNoUHJvbWlzZSlyZXR1cm4gYXdhaXQgdGhpcy5mZXRjaFByb21pc2UsdGhpcy5wdWJsaWNLZXk7dGhpcy5mZXRjaFByb21pc2U9bmV3IFByb21pc2UoYXN5bmMgbj0+e2NvbnN0IG89YXdhaXQgdGhpcy5mZXRjaFB1YmxpY0tleSgpO28mJihhd2FpdCB0aGlzLnBlcnNpc3RQdWJsaWNLZXkobyksbihvKSl9KTtjb25zdCBzPWF3YWl0IHRoaXMuZmV0Y2hQcm9taXNlO3JldHVybiB0aGlzLmZldGNoUHJvbWlzZT12b2lkIDAsc30pLFAodGhpcyxcInZhbGlkYXRlQXR0ZXN0YXRpb25cIiwocyxuKT0+e2NvbnN0IG89TXMocyxuLnB1YmxpY0tleSksYT17aGFzRXhwaXJlZDokKG8uZXhwKTxEYXRlLm5vdygpLHBheWxvYWQ6b307aWYoYS5oYXNFeHBpcmVkKXRocm93IHRoaXMubG9nZ2VyLndhcm4oXCJyZXNvbHZlOiBqd3QgYXR0ZXN0YXRpb24gZXhwaXJlZFwiKSxuZXcgRXJyb3IoXCJKV1QgYXR0ZXN0YXRpb24gZXhwaXJlZFwiKTtyZXR1cm57b3JpZ2luOmEucGF5bG9hZC5vcmlnaW4saXNTY2FtOmEucGF5bG9hZC5pc1NjYW0saXNWZXJpZmllZDphLnBheWxvYWQuaXNWZXJpZmllZH19KSx0aGlzLmxvZ2dlcj1qKHQsdGhpcy5uYW1lKSx0aGlzLmFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuaXNEZXZFbnY9bXQoKSx0aGlzLmluaXQoKX1nZXQgc3RvcmVLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vdmVyaWZ5OnB1YmxpYzprZXlcIn1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1zdGFydEFib3J0VGltZXIoZSl7cmV0dXJuIHRoaXMuYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsc2V0VGltZW91dCgoKT0+dGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKSwkKGUpKX19dmFyIFdvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxIbz0ocixlLHQpPT5lIGluIHI/V28ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LFZpPShyLGUsdCk9PkhvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgcWkgZXh0ZW5kcyBoc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5wcm9qZWN0SWQ9ZSx0aGlzLmxvZ2dlcj10LFZpKHRoaXMsXCJjb250ZXh0XCIsUXQpLFZpKHRoaXMsXCJyZWdpc3RlckRldmljZVRva2VuXCIsYXN5bmMgaT0+e2NvbnN0e2NsaWVudElkOnMsdG9rZW46bixub3RpZmljYXRpb25UeXBlOm8sZW5hYmxlRW5jcnlwdGVkOmE9ITF9PWksYz1gJHtlaX0vJHt0aGlzLnByb2plY3RJZH0vY2xpZW50c2A7YXdhaXQgZmV0Y2goYyx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2NsaWVudF9pZDpzLHR5cGU6byx0b2tlbjpuLGFsd2F5c19yYXc6YX0pfSl9KSx0aGlzLmxvZ2dlcj1qKHQsdGhpcy5jb250ZXh0KX19dmFyIFlvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxHaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEpvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWG89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxldD0ocixlLHQpPT5lIGluIHI/WW8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LHdlPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlKby5jYWxsKGUsdCkmJmV0KHIsdCxlW3RdKTtpZihHaSlmb3IodmFyIHQgb2YgR2koZSkpWG8uY2FsbChlLHQpJiZldChyLHQsZVt0XSk7cmV0dXJuIHJ9LFI9KHIsZSx0KT0+ZXQocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBXaSBleHRlbmRzIGxze2NvbnN0cnVjdG9yKGUsdCxpPSEwKXtzdXBlcihlLHQsaSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxSKHRoaXMsXCJjb250ZXh0XCIsaWkpLFIodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixXKSxSKHRoaXMsXCJzdG9yYWdlVmVyc2lvblwiLHRpKSxSKHRoaXMsXCJldmVudHNcIixuZXcgTWFwKSxSKHRoaXMsXCJzaG91bGRQZXJzaXN0XCIsITEpLFIodGhpcyxcImluaXRcIixhc3luYygpPT57aWYoIW10KCkpdHJ5e2NvbnN0IHM9e2V2ZW50SWQ6ZnQoKSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxkb21haW46dGhpcy5nZXRBcHBEb21haW4oKSxwcm9wczp7ZXZlbnQ6XCJJTklUXCIsdHlwZTpcIlwiLHByb3BlcnRpZXM6e2NsaWVudF9pZDphd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmdldENsaWVudElkKCksdXNlcl9hZ2VudDpLcyh0aGlzLmNvcmUucmVsYXllci5wcm90b2NvbCx0aGlzLmNvcmUucmVsYXllci52ZXJzaW9uLFBlKX19fTthd2FpdCB0aGlzLnNlbmRFdmVudChbc10pfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyl9fSksUih0aGlzLFwiY3JlYXRlRXZlbnRcIixzPT57Y29uc3R7ZXZlbnQ6bj1cIkVSUk9SXCIsdHlwZTpvPVwiXCIscHJvcGVydGllczp7dG9waWM6YSx0cmFjZTpjfX09cyxoPWZ0KCksbD10aGlzLmNvcmUucHJvamVjdElkfHxcIlwiLHA9RGF0ZS5ub3coKSx5PXdlKHtldmVudElkOmgsdGltZXN0YW1wOnAscHJvcHM6e2V2ZW50Om4sdHlwZTpvLHByb3BlcnRpZXM6e3RvcGljOmEsdHJhY2U6Y319LGJ1bmRsZUlkOmwsZG9tYWluOnRoaXMuZ2V0QXBwRG9tYWluKCl9LHRoaXMuc2V0TWV0aG9kcyhoKSk7cmV0dXJuIHRoaXMudGVsZW1ldHJ5RW5hYmxlZCYmKHRoaXMuZXZlbnRzLnNldChoLHkpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMCkseX0pLFIodGhpcyxcImdldEV2ZW50XCIscz0+e2NvbnN0e2V2ZW50SWQ6bix0b3BpYzpvfT1zO2lmKG4pcmV0dXJuIHRoaXMuZXZlbnRzLmdldChuKTtjb25zdCBhPUFycmF5LmZyb20odGhpcy5ldmVudHMudmFsdWVzKCkpLmZpbmQoYz0+Yy5wcm9wcy5wcm9wZXJ0aWVzLnRvcGljPT09byk7aWYoYSlyZXR1cm4gd2Uod2Uoe30sYSksdGhpcy5zZXRNZXRob2RzKGEuZXZlbnRJZCkpfSksUih0aGlzLFwiZGVsZXRlRXZlbnRcIixzPT57Y29uc3R7ZXZlbnRJZDpufT1zO3RoaXMuZXZlbnRzLmRlbGV0ZShuKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITB9KSxSKHRoaXMsXCJzZXRFdmVudExpc3RlbmVyc1wiLCgpPT57dGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSxhc3luYygpPT57dGhpcy5zaG91bGRQZXJzaXN0JiZhd2FpdCB0aGlzLnBlcnNpc3QoKSx0aGlzLmV2ZW50cy5mb3JFYWNoKHM9PntydChEYXRlLm5vdygpKS1ydChzLnRpbWVzdGFtcCk+c2kmJih0aGlzLmV2ZW50cy5kZWxldGUocy5ldmVudElkKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApfSl9KX0pLFIodGhpcyxcInNldE1ldGhvZHNcIixzPT4oe2FkZFRyYWNlOm49PnRoaXMuYWRkVHJhY2UocyxuKSxzZXRFcnJvcjpuPT50aGlzLnNldEVycm9yKHMsbil9KSksUih0aGlzLFwiYWRkVHJhY2VcIiwocyxuKT0+e2NvbnN0IG89dGhpcy5ldmVudHMuZ2V0KHMpO28mJihvLnByb3BzLnByb3BlcnRpZXMudHJhY2UucHVzaChuKSx0aGlzLmV2ZW50cy5zZXQocyxvKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApfSksUih0aGlzLFwic2V0RXJyb3JcIiwocyxuKT0+e2NvbnN0IG89dGhpcy5ldmVudHMuZ2V0KHMpO28mJihvLnByb3BzLnR5cGU9bixvLnRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuZXZlbnRzLnNldChzLG8pLHRoaXMuc2hvdWxkUGVyc2lzdD0hMCl9KSxSKHRoaXMsXCJwZXJzaXN0XCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LEFycmF5LmZyb20odGhpcy5ldmVudHMudmFsdWVzKCkpKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITF9KSxSKHRoaXMsXCJyZXN0b3JlXCIsYXN5bmMoKT0+e3RyeXtjb25zdCBzPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KXx8W107aWYoIXMubGVuZ3RoKXJldHVybjtzLmZvckVhY2gobj0+e3RoaXMuZXZlbnRzLnNldChuLmV2ZW50SWQsd2Uod2Uoe30sbiksdGhpcy5zZXRNZXRob2RzKG4uZXZlbnRJZCkpKX0pfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyl9fSksUih0aGlzLFwic3VibWl0XCIsYXN5bmMoKT0+e2lmKCF0aGlzLnRlbGVtZXRyeUVuYWJsZWR8fHRoaXMuZXZlbnRzLnNpemU9PT0wKXJldHVybjtjb25zdCBzPVtdO2Zvcihjb25zdFtuLG9db2YgdGhpcy5ldmVudHMpby5wcm9wcy50eXBlJiZzLnB1c2gobyk7aWYocy5sZW5ndGghPT0wKXRyeXtpZigoYXdhaXQgdGhpcy5zZW5kRXZlbnQocykpLm9rKWZvcihjb25zdCBuIG9mIHMpdGhpcy5ldmVudHMuZGVsZXRlKG4uZXZlbnRJZCksdGhpcy5zaG91bGRQZXJzaXN0PSEwfWNhdGNoKG4pe3RoaXMubG9nZ2VyLndhcm4obil9fSksUih0aGlzLFwic2VuZEV2ZW50XCIsYXN5bmMgcz0+e2NvbnN0IG49dGhpcy5nZXRBcHBEb21haW4oKT9cIlwiOlwiJnNwPWRlc2t0b3BcIjtyZXR1cm4gYXdhaXQgZmV0Y2goYCR7cml9P3Byb2plY3RJZD0ke3RoaXMuY29yZS5wcm9qZWN0SWR9JnN0PWV2ZW50c19zZGsmc3Y9anMtJHtQZX0ke259YCx7bWV0aG9kOlwiUE9TVFwiLGJvZHk6SlNPTi5zdHJpbmdpZnkocyl9KX0pLFIodGhpcyxcImdldEFwcERvbWFpblwiLCgpPT5CcygpLnVybCksdGhpcy5sb2dnZXI9aih0LHRoaXMuY29udGV4dCksdGhpcy50ZWxlbWV0cnlFbmFibGVkPWksaT90aGlzLnJlc3RvcmUoKS50aGVuKGFzeW5jKCk9Pnthd2FpdCB0aGlzLnN1Ym1pdCgpLHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKX0pOnRoaXMucGVyc2lzdCgpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnN0b3JhZ2VWZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLmNvbnRleHR9fXZhciBabz1PYmplY3QuZGVmaW5lUHJvcGVydHksSGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxRbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGVhPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsdHQ9KHIsZSx0KT0+ZSBpbiByP1pvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxZaT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpUW8uY2FsbChlLHQpJiZ0dChyLHQsZVt0XSk7aWYoSGkpZm9yKHZhciB0IG9mIEhpKGUpKWVhLmNhbGwoZSx0KSYmdHQocix0LGVbdF0pO3JldHVybiByfSx2PShyLGUsdCk9PnR0KHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgT2UgZXh0ZW5kcyB1c3tjb25zdHJ1Y3RvcihlKXt2YXIgdDtzdXBlcihlKSx2KHRoaXMsXCJwcm90b2NvbFwiLFVlKSx2KHRoaXMsXCJ2ZXJzaW9uXCIsRmUpLHYodGhpcyxcIm5hbWVcIixwZSksdih0aGlzLFwicmVsYXlVcmxcIiksdih0aGlzLFwicHJvamVjdElkXCIpLHYodGhpcyxcImN1c3RvbVN0b3JhZ2VQcmVmaXhcIiksdih0aGlzLFwiZXZlbnRzXCIsbmV3IGllKSx2KHRoaXMsXCJsb2dnZXJcIiksdih0aGlzLFwiaGVhcnRiZWF0XCIpLHYodGhpcyxcInJlbGF5ZXJcIiksdih0aGlzLFwiY3J5cHRvXCIpLHYodGhpcyxcInN0b3JhZ2VcIiksdih0aGlzLFwiaGlzdG9yeVwiKSx2KHRoaXMsXCJleHBpcmVyXCIpLHYodGhpcyxcInBhaXJpbmdcIiksdih0aGlzLFwidmVyaWZ5XCIpLHYodGhpcyxcImVjaG9DbGllbnRcIiksdih0aGlzLFwibGlua01vZGVTdXBwb3J0ZWRBcHBzXCIpLHYodGhpcyxcImV2ZW50Q2xpZW50XCIpLHYodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHYodGhpcyxcImxvZ0NodW5rQ29udHJvbGxlclwiKSx2KHRoaXMsXCJvblwiLChhLGMpPT50aGlzLmV2ZW50cy5vbihhLGMpKSx2KHRoaXMsXCJvbmNlXCIsKGEsYyk9PnRoaXMuZXZlbnRzLm9uY2UoYSxjKSksdih0aGlzLFwib2ZmXCIsKGEsYyk9PnRoaXMuZXZlbnRzLm9mZihhLGMpKSx2KHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChhLGMpPT50aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihhLGMpKSx2KHRoaXMsXCJkaXNwYXRjaEVudmVsb3BlXCIsKHt0b3BpYzphLG1lc3NhZ2U6YyxzZXNzaW9uRXhpc3RzOmh9KT0+e2lmKCFhfHwhYylyZXR1cm47Y29uc3QgbD17dG9waWM6YSxtZXNzYWdlOmMscHVibGlzaGVkQXQ6RGF0ZS5ub3coKSx0cmFuc3BvcnRUeXBlOmVlLmxpbmtfbW9kZX07dGhpcy5yZWxheWVyLm9uTGlua01lc3NhZ2VFdmVudChsLHtzZXNzaW9uRXhpc3RzOmh9KX0pO2NvbnN0IGk9dGhpcy5nZXRHbG9iYWxDb3JlKGU/LmN1c3RvbVN0b3JhZ2VQcmVmaXgpO2lmKGkpdHJ5e3JldHVybiB0aGlzLmN1c3RvbVN0b3JhZ2VQcmVmaXg9aS5jdXN0b21TdG9yYWdlUHJlZml4LHRoaXMubG9nZ2VyPWkubG9nZ2VyLHRoaXMuaGVhcnRiZWF0PWkuaGVhcnRiZWF0LHRoaXMuY3J5cHRvPWkuY3J5cHRvLHRoaXMuaGlzdG9yeT1pLmhpc3RvcnksdGhpcy5leHBpcmVyPWkuZXhwaXJlcix0aGlzLnN0b3JhZ2U9aS5zdG9yYWdlLHRoaXMucmVsYXllcj1pLnJlbGF5ZXIsdGhpcy5wYWlyaW5nPWkucGFpcmluZyx0aGlzLnZlcmlmeT1pLnZlcmlmeSx0aGlzLmVjaG9DbGllbnQ9aS5lY2hvQ2xpZW50LHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzPWkubGlua01vZGVTdXBwb3J0ZWRBcHBzLHRoaXMuZXZlbnRDbGllbnQ9aS5ldmVudENsaWVudCx0aGlzLmluaXRpYWxpemVkPWkuaW5pdGlhbGl6ZWQsdGhpcy5sb2dDaHVua0NvbnRyb2xsZXI9aS5sb2dDaHVua0NvbnRyb2xsZXIsaX1jYXRjaChhKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gY29weSBnbG9iYWwgY29yZVwiLGEpfXRoaXMucHJvamVjdElkPWU/LnByb2plY3RJZCx0aGlzLnJlbGF5VXJsPWU/LnJlbGF5VXJsfHxLZSx0aGlzLmN1c3RvbVN0b3JhZ2VQcmVmaXg9ZSE9bnVsbCYmZS5jdXN0b21TdG9yYWdlUHJlZml4P2A6JHtlLmN1c3RvbVN0b3JhZ2VQcmVmaXh9YDpcIlwiO2NvbnN0IHM9aXQoe2xldmVsOnR5cGVvZiBlPy5sb2dnZXI9PVwic3RyaW5nXCImJmUubG9nZ2VyP2UubG9nZ2VyOkl0LmxvZ2dlcixuYW1lOnBlfSkse2xvZ2dlcjpuLGNodW5rTG9nZ2VyQ29udHJvbGxlcjpvfT1lcyh7b3B0czpzLG1heFNpemVJbkJ5dGVzOmU/Lm1heExvZ0Jsb2JTaXplSW5CeXRlcyxsb2dnZXJPdmVycmlkZTplPy5sb2dnZXJ9KTt0aGlzLmxvZ0NodW5rQ29udHJvbGxlcj1vLCh0PXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKSE9bnVsbCYmdC5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyJiYod2luZG93LmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXI9YXN5bmMoKT0+e3ZhciBhLGM7KGE9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpIT1udWxsJiZhLmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXImJigoYz10aGlzLmxvZ0NodW5rQ29udHJvbGxlcik9PW51bGx8fGMuZG93bmxvYWRMb2dzQmxvYkluQnJvd3Nlcih7Y2xpZW50SWQ6YXdhaXQgdGhpcy5jcnlwdG8uZ2V0Q2xpZW50SWQoKX0pKX0pLHRoaXMubG9nZ2VyPWoobix0aGlzLm5hbWUpLHRoaXMuaGVhcnRiZWF0PW5ldyBYaSx0aGlzLmNyeXB0bz1uZXcgRWkodGhpcyx0aGlzLmxvZ2dlcixlPy5rZXljaGFpbiksdGhpcy5oaXN0b3J5PW5ldyBNaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLmV4cGlyZXI9bmV3IEtpKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMuc3RvcmFnZT1lIT1udWxsJiZlLnN0b3JhZ2U/ZS5zdG9yYWdlOm5ldyBaaShZaShZaSh7fSxUdCksZT8uc3RvcmFnZU9wdGlvbnMpKSx0aGlzLnJlbGF5ZXI9bmV3IHhpKHtjb3JlOnRoaXMsbG9nZ2VyOnRoaXMubG9nZ2VyLHJlbGF5VXJsOnRoaXMucmVsYXlVcmwscHJvamVjdElkOnRoaXMucHJvamVjdElkfSksdGhpcy5wYWlyaW5nPW5ldyBGaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnZlcmlmeT1uZXcgQmkodGhpcyx0aGlzLmxvZ2dlcix0aGlzLnN0b3JhZ2UpLHRoaXMuZWNob0NsaWVudD1uZXcgcWkodGhpcy5wcm9qZWN0SWR8fFwiXCIsdGhpcy5sb2dnZXIpLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzPVtdLHRoaXMuZXZlbnRDbGllbnQ9bmV3IFdpKHRoaXMsdGhpcy5sb2dnZXIsZT8udGVsZW1ldHJ5RW5hYmxlZCksdGhpcy5zZXRHbG9iYWxDb3JlKHRoaXMpfXN0YXRpYyBhc3luYyBpbml0KGUpe2NvbnN0IHQ9bmV3IE9lKGUpO2F3YWl0IHQuaW5pdGlhbGl6ZSgpO2NvbnN0IGk9YXdhaXQgdC5jcnlwdG8uZ2V0Q2xpZW50SWQoKTtyZXR1cm4gYXdhaXQgdC5zdG9yYWdlLnNldEl0ZW0oRnQsaSksdH1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1hc3luYyBzdGFydCgpe3RoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpfWFzeW5jIGdldExvZ3NCbG9iKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpPT1udWxsP3ZvaWQgMDplLmxvZ3NUb0Jsb2Ioe2NsaWVudElkOmF3YWl0IHRoaXMuY3J5cHRvLmdldENsaWVudElkKCl9KX1hc3luYyBhZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChlKXt0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5pbmNsdWRlcyhlKXx8KHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzLnB1c2goZSksYXdhaXQgdGhpcy5zdG9yYWdlLnNldEl0ZW0oQmUsdGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMpKX1hc3luYyBpbml0aWFsaXplKCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTt0cnl7YXdhaXQgdGhpcy5jcnlwdG8uaW5pdCgpLGF3YWl0IHRoaXMuaGlzdG9yeS5pbml0KCksYXdhaXQgdGhpcy5leHBpcmVyLmluaXQoKSxhd2FpdCB0aGlzLnJlbGF5ZXIuaW5pdCgpLGF3YWl0IHRoaXMuaGVhcnRiZWF0LmluaXQoKSxhd2FpdCB0aGlzLnBhaXJpbmcuaW5pdCgpLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzPWF3YWl0IHRoaXMuc3RvcmFnZS5nZXRJdGVtKEJlKXx8W10sdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLmxvZ2dlci5pbmZvKFwiQ29yZSBJbml0aWFsaXphdGlvbiBTdWNjZXNzXCIpfWNhdGNoKGUpe3Rocm93IHRoaXMubG9nZ2VyLndhcm4oYENvcmUgSW5pdGlhbGl6YXRpb24gRmFpbHVyZSBhdCBlcG9jaCAke0RhdGUubm93KCl9YCxlKSx0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpLGV9fWdldEdsb2JhbENvcmUoZT1cIlwiKXt0cnl7aWYodGhpcy5pc0dsb2JhbENvcmVEaXNhYmxlZCgpKXJldHVybjtjb25zdCB0PWBfd2FsbGV0Q29ubmVjdENvcmVfJHtlfWAsaT1gJHt0fV9jb3VudGA7cmV0dXJuIGdsb2JhbFRoaXNbaV09KGdsb2JhbFRoaXNbaV18fDApKzEsZ2xvYmFsVGhpc1tpXT4xJiZjb25zb2xlLndhcm4oYFdhbGxldENvbm5lY3QgQ29yZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiBUaGlzIGlzIHByb2JhYmx5IGEgbWlzdGFrZSBhbmQgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci4gSW5pdCgpIHdhcyBjYWxsZWQgJHtnbG9iYWxUaGlzW2ldfSB0aW1lcy5gKSxnbG9iYWxUaGlzW3RdfWNhdGNoKHQpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBnZXQgZ2xvYmFsIFdhbGxldENvbm5lY3QgY29yZVwiLHQpO3JldHVybn19c2V0R2xvYmFsQ29yZShlKXt2YXIgdDt0cnl7aWYodGhpcy5pc0dsb2JhbENvcmVEaXNhYmxlZCgpKXJldHVybjtjb25zdCBpPWBfd2FsbGV0Q29ubmVjdENvcmVfJHsoKHQ9ZS5vcHRzKT09bnVsbD92b2lkIDA6dC5jdXN0b21TdG9yYWdlUHJlZml4KXx8XCJcIn1gO2dsb2JhbFRoaXNbaV09ZX1jYXRjaChpKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gc2V0IGdsb2JhbCBXYWxsZXRDb25uZWN0IGNvcmVcIixpKX19aXNHbG9iYWxDb3JlRGlzYWJsZWQoKXt0cnl7cmV0dXJuIHR5cGVvZiBwcm9jZXNzPFwidVwiJiZwcm9jZXNzLmVudi5ESVNBQkxFX0dMT0JBTF9DT1JFPT09XCJ0cnVlXCJ9Y2F0Y2h7cmV0dXJuITB9fX1jb25zdCB0YT1PZTtleHBvcnR7cGUgYXMgQ09SRV9DT05URVhULEl0IGFzIENPUkVfREVGQVVMVCxVZSBhcyBDT1JFX1BST1RPQ09MLFR0IGFzIENPUkVfU1RPUkFHRV9PUFRJT05TLFcgYXMgQ09SRV9TVE9SQUdFX1BSRUZJWCxGZSBhcyBDT1JFX1ZFUlNJT04sTWUgYXMgQ1JZUFRPX0NMSUVOVF9TRUVELEN0IGFzIENSWVBUT19DT05URVhULFB0IGFzIENSWVBUT19KV1RfVFRMLHRhIGFzIENvcmUsRWkgYXMgQ3J5cHRvLFF0IGFzIEVDSE9fQ09OVEVYVCxlaSBhcyBFQ0hPX1VSTCxyaSBhcyBFVkVOVFNfQ0xJRU5UX0FQSV9VUkwsc2kgYXMgRVZFTlRTX1NUT1JBR0VfQ0xFQU5VUF9JTlRFUlZBTCxpaSBhcyBFVkVOVFNfU1RPUkFHRV9DT05URVhULHRpIGFzIEVWRU5UU19TVE9SQUdFX1ZFUlNJT04sYXIgYXMgRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9FUlJPUlMsb3IgYXMgRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9UUkFDRVMsc3IgYXMgRVZFTlRfQ0xJRU5UX0NPTlRFWFQsWCBhcyBFVkVOVF9DTElFTlRfUEFJUklOR19FUlJPUlMsWSBhcyBFVkVOVF9DTElFTlRfUEFJUklOR19UUkFDRVMsbnIgYXMgRVZFTlRfQ0xJRU5UX1NFU1NJT05fRVJST1JTLHJyIGFzIEVWRU5UX0NMSUVOVF9TRVNTSU9OX1RSQUNFUyxXdCBhcyBFWFBJUkVSX0NPTlRFWFQsdHIgYXMgRVhQSVJFUl9ERUZBVUxUX1RUTCxxIGFzIEVYUElSRVJfRVZFTlRTLEh0IGFzIEVYUElSRVJfU1RPUkFHRV9WRVJTSU9OLHFpIGFzIEVjaG9DbGllbnQsV2kgYXMgRXZlbnRDbGllbnQsS2kgYXMgRXhwaXJlcixxdCBhcyBISVNUT1JZX0NPTlRFWFQsViBhcyBISVNUT1JZX0VWRU5UUyxHdCBhcyBISVNUT1JZX1NUT1JBR0VfVkVSU0lPTixNaSBhcyBKc29uUnBjSGlzdG9yeSxTdCBhcyBLRVlDSEFJTl9DT05URVhULE90IGFzIEtFWUNIQUlOX1NUT1JBR0VfVkVSU0lPTixfaSBhcyBLZXlDaGFpbixSdCBhcyBNRVNTQUdFU19DT05URVhULEF0IGFzIE1FU1NBR0VTX1NUT1JBR0VfVkVSU0lPTix5ZSBhcyBNRVNTQUdFX0RJUkVDVElPTixUaSBhcyBNZXNzYWdlVHJhY2tlcixCdCBhcyBQQUlSSU5HX0NPTlRFWFQsZXIgYXMgUEFJUklOR19ERUZBVUxUX1RUTCxhZSBhcyBQQUlSSU5HX0VWRU5UUyxvZSBhcyBQQUlSSU5HX1JQQ19PUFRTLFZ0IGFzIFBBSVJJTkdfU1RPUkFHRV9WRVJTSU9OLFFzIGFzIFBFTkRJTkdfU1VCX1JFU09MVVRJT05fVElNRU9VVCxOdCBhcyBQVUJMSVNIRVJfQ09OVEVYVCx4dCBhcyBQVUJMSVNIRVJfREVGQVVMVF9UVEwsRmkgYXMgUGFpcmluZyxMdCBhcyBSRUxBWUVSX0NPTlRFWFQsenQgYXMgUkVMQVlFUl9ERUZBVUxUX0xPR0dFUiwkdCBhcyBSRUxBWUVSX0RFRkFVTFRfUFJPVE9DT0wsS2UgYXMgUkVMQVlFUl9ERUZBVUxUX1JFTEFZX1VSTCxDIGFzIFJFTEFZRVJfRVZFTlRTLE0gYXMgUkVMQVlFUl9QUk9WSURFUl9FVkVOVFMsanQgYXMgUkVMQVlFUl9SRUNPTk5FQ1RfVElNRU9VVCxQZSBhcyBSRUxBWUVSX1NES19WRVJTSU9OLEpzIGFzIFJFTEFZRVJfU1RPUkFHRV9PUFRJT05TLGt0IGFzIFJFTEFZRVJfU1VCU0NSSUJFUl9TVUZGSVgsWHMgYXMgUkVMQVlFUl9UUkFOU1BPUlRfQ1VUT0ZGLHhpIGFzIFJlbGF5ZXIsVXQgYXMgU1RPUkVfU1RPUkFHRV9WRVJTSU9OLE10IGFzIFNVQlNDUklCRVJfQ09OVEVYVCxacyBhcyBTVUJTQ1JJQkVSX0RFRkFVTFRfVFRMLFUgYXMgU1VCU0NSSUJFUl9FVkVOVFMsS3QgYXMgU1VCU0NSSUJFUl9TVE9SQUdFX1ZFUlNJT04sVWkgYXMgU3RvcmUsT2kgYXMgU3Vic2NyaWJlcixlZSBhcyBUUkFOU1BPUlRfVFlQRVMsWnQgYXMgVFJVU1RFRF9WRVJJRllfVVJMUyxZdCBhcyBWRVJJRllfQ09OVEVYVCxiZSBhcyBWRVJJRllfU0VSVkVSLFh0IGFzIFZFUklGWV9TRVJWRVJfVjMsQmkgYXMgVmVyaWZ5LEZ0IGFzIFdBTExFVENPTk5FQ1RfQ0xJRU5UX0lELEJlIGFzIFdBTExFVENPTk5FQ1RfTElOS19NT0RFX0FQUFMsT2UgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/core/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyValueStorage: () => (/* binding */ h),\n/* harmony export */   \"default\": () => (/* binding */ h)\n/* harmony export */ });\n/* harmony import */ var unstorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! unstorage */ \"(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/index.mjs\");\n/* harmony import */ var idb_keyval__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! idb-keyval */ \"(ssr)/./node_modules/idb-keyval/dist/index.js\");\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nfunction C(i){return i}const x=\"idb-keyval\";var z=(i={})=>{const t=i.base&&i.base.length>0?`${i.base}:`:\"\",e=s=>t+s;let n;return i.dbName&&i.storeName&&(n=(0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.createStore)(i.dbName,i.storeName)),{name:x,options:i,async hasItem(s){return!(typeof await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.get)(e(s),n)>\"u\")},async getItem(s){return await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.get)(e(s),n)??null},setItem(s,a){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.set)(e(s),a,n)},removeItem(s){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.del)(e(s),n)},getKeys(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.keys)(n)},clear(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.clear)(n)}}};const D=\"WALLET_CONNECT_V2_INDEXED_DB\",E=\"keyvaluestorage\";class _{constructor(){this.indexedDb=(0,unstorage__WEBPACK_IMPORTED_MODULE_2__.createStorage)({driver:z({dbName:D,storeName:E})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const e=await this.indexedDb.getItem(t);if(e!==null)return e}async setItem(t,e){await this.indexedDb.setItem(t,(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonStringify)(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var l=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{},c={exports:{}};(function(){let i;function t(){}i=t,i.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,n){this[e]=String(n)},i.prototype.removeItem=function(e){delete this[e]},i.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(n){e[n]=void 0,delete e[n]})},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__(\"length\",function(){return Object.keys(this).length}),typeof l<\"u\"&&l.localStorage?c.exports=l.localStorage:typeof window<\"u\"&&window.localStorage?c.exports=window.localStorage:c.exports=new t})();function k(i){var t;return[i[0],(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonParse)((t=i[1])!=null?t:\"\")]}class K{constructor(){this.localStorage=c.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k)}async getItem(t){const e=this.localStorage.getItem(t);if(e!==null)return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonParse)(e)}async setItem(t,e){this.localStorage.setItem(t,(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonStringify)(e))}async removeItem(t){this.localStorage.removeItem(t)}}const N=\"wc_storage_version\",y=1,O=async(i,t,e)=>{const n=N,s=await t.getItem(n);if(s&&s>=y){e(t);return}const a=await i.getKeys();if(!a.length){e(t);return}const m=[];for(;a.length;){const r=a.shift();if(!r)continue;const o=r.toLowerCase();if(o.includes(\"wc@\")||o.includes(\"walletconnect\")||o.includes(\"wc_\")||o.includes(\"wallet_connect\")){const f=await i.getItem(r);await t.setItem(r,f),m.push(r)}}await t.setItem(n,y),e(t),j(i,m)},j=async(i,t)=>{t.length&&t.forEach(async e=>{await i.removeItem(e)})};class h{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const t=new K;this.storage=t;try{const e=new _;O(t,e,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const e=setInterval(()=>{this.initialized&&(clearInterval(e),t())},20)})}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qva2V5dmFsdWVzdG9yYWdlL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbU4sY0FBYyxTQUFTLHFCQUFxQixXQUFXLElBQUksbUNBQW1DLE9BQU8sZUFBZSxNQUFNLGlDQUFpQyx1REFBQyx5QkFBeUIsa0NBQWtDLHFCQUFxQiwrQ0FBQyxjQUFjLGtCQUFrQixhQUFhLCtDQUFDLGVBQWUsY0FBYyxPQUFPLCtDQUFDLFdBQVcsZUFBZSxPQUFPLCtDQUFDLFNBQVMsV0FBVyxPQUFPLGdEQUFDLElBQUksU0FBUyxPQUFPLGlEQUFDLE9BQU8sMkRBQTJELFFBQVEsY0FBYyxlQUFlLHdEQUFDLEVBQUUsVUFBVSxxQkFBcUIsRUFBRSxFQUFFLGdCQUFnQixnQ0FBZ0MsbUJBQW1CLDhGQUE4RixpQkFBaUIsd0NBQXdDLHFCQUFxQixtQkFBbUIsK0JBQStCLDJFQUFDLEtBQUssb0JBQW9CLG9DQUFvQyxnSEFBZ0gsSUFBSSxZQUFZLFlBQVksTUFBTSxjQUFjLG9DQUFvQyxtREFBbUQsbUNBQW1DLGtCQUFrQixvQ0FBb0MsZUFBZSw4QkFBOEIsYUFBYSxtQ0FBbUMsd0JBQXdCLEVBQUUsNkJBQTZCLG1DQUFtQyxrREFBa0QsZ0NBQWdDLDZJQUE2SSxJQUFJLGNBQWMsTUFBTSxZQUFZLHVFQUFDLHVCQUF1QixRQUFRLGNBQWMsNEJBQTRCLGdCQUFnQixzQ0FBc0MsbUJBQW1CLGdEQUFnRCxpQkFBaUIscUNBQXFDLG1CQUFtQix1RUFBQyxJQUFJLG1CQUFtQiw0QkFBNEIsMkVBQUMsS0FBSyxvQkFBb0IsaUNBQWlDLGtEQUFrRCwrQkFBK0IsWUFBWSxLQUFLLE9BQU8sMEJBQTBCLGNBQWMsS0FBSyxPQUFPLFdBQVcsS0FBSyxTQUFTLEVBQUUsa0JBQWtCLGVBQWUsd0JBQXdCLG9HQUFvRywyQkFBMkIsZ0NBQWdDLGlDQUFpQyxnQkFBZ0IsOEJBQThCLHNCQUFzQixHQUFHLFFBQVEsY0FBYyw0Q0FBNEMsb0NBQW9DLGNBQWMsZUFBZSxJQUFJLGNBQWMsMkJBQTJCLE1BQU0scUJBQXFCLGdCQUFnQixzREFBc0QsbUJBQW1CLHlEQUF5RCxpQkFBaUIsdURBQXVELG1CQUFtQix5REFBeUQsb0JBQW9CLDBEQUEwRCxtQkFBbUIsd0NBQXdDLHlCQUF5Qix5Q0FBeUMsS0FBSyxHQUE2QztBQUM3N0ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qva2V5dmFsdWVzdG9yYWdlL2Rpc3QvaW5kZXguZXMuanM/NTIzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7Y3JlYXRlU3RvcmFnZSBhcyB3fWZyb21cInVuc3RvcmFnZVwiO2ltcG9ydHtjcmVhdGVTdG9yZSBhcyBJLGdldCBhcyB1LHNldCBhcyBwLGRlbCBhcyBiLGtleXMgYXMgdixjbGVhciBhcyBTfWZyb21cImlkYi1rZXl2YWxcIjtpbXBvcnR7c2FmZUpzb25TdHJpbmdpZnkgYXMgZyxzYWZlSnNvblBhcnNlIGFzIGR9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7ZnVuY3Rpb24gQyhpKXtyZXR1cm4gaX1jb25zdCB4PVwiaWRiLWtleXZhbFwiO3ZhciB6PShpPXt9KT0+e2NvbnN0IHQ9aS5iYXNlJiZpLmJhc2UubGVuZ3RoPjA/YCR7aS5iYXNlfTpgOlwiXCIsZT1zPT50K3M7bGV0IG47cmV0dXJuIGkuZGJOYW1lJiZpLnN0b3JlTmFtZSYmKG49SShpLmRiTmFtZSxpLnN0b3JlTmFtZSkpLHtuYW1lOngsb3B0aW9uczppLGFzeW5jIGhhc0l0ZW0ocyl7cmV0dXJuISh0eXBlb2YgYXdhaXQgdShlKHMpLG4pPlwidVwiKX0sYXN5bmMgZ2V0SXRlbShzKXtyZXR1cm4gYXdhaXQgdShlKHMpLG4pPz9udWxsfSxzZXRJdGVtKHMsYSl7cmV0dXJuIHAoZShzKSxhLG4pfSxyZW1vdmVJdGVtKHMpe3JldHVybiBiKGUocyksbil9LGdldEtleXMoKXtyZXR1cm4gdihuKX0sY2xlYXIoKXtyZXR1cm4gUyhuKX19fTtjb25zdCBEPVwiV0FMTEVUX0NPTk5FQ1RfVjJfSU5ERVhFRF9EQlwiLEU9XCJrZXl2YWx1ZXN0b3JhZ2VcIjtjbGFzcyBfe2NvbnN0cnVjdG9yKCl7dGhpcy5pbmRleGVkRGI9dyh7ZHJpdmVyOnooe2RiTmFtZTpELHN0b3JlTmFtZTpFfSl9KX1hc3luYyBnZXRLZXlzKCl7cmV0dXJuIHRoaXMuaW5kZXhlZERiLmdldEtleXMoKX1hc3luYyBnZXRFbnRyaWVzKCl7cmV0dXJuKGF3YWl0IHRoaXMuaW5kZXhlZERiLmdldEl0ZW1zKGF3YWl0IHRoaXMuaW5kZXhlZERiLmdldEtleXMoKSkpLm1hcCh0PT5bdC5rZXksdC52YWx1ZV0pfWFzeW5jIGdldEl0ZW0odCl7Y29uc3QgZT1hd2FpdCB0aGlzLmluZGV4ZWREYi5nZXRJdGVtKHQpO2lmKGUhPT1udWxsKXJldHVybiBlfWFzeW5jIHNldEl0ZW0odCxlKXthd2FpdCB0aGlzLmluZGV4ZWREYi5zZXRJdGVtKHQsZyhlKSl9YXN5bmMgcmVtb3ZlSXRlbSh0KXthd2FpdCB0aGlzLmluZGV4ZWREYi5yZW1vdmVJdGVtKHQpfX12YXIgbD10eXBlb2YgZ2xvYmFsVGhpczxcInVcIj9nbG9iYWxUaGlzOnR5cGVvZiB3aW5kb3c8XCJ1XCI/d2luZG93OnR5cGVvZiBnbG9iYWw8XCJ1XCI/Z2xvYmFsOnR5cGVvZiBzZWxmPFwidVwiP3NlbGY6e30sYz17ZXhwb3J0czp7fX07KGZ1bmN0aW9uKCl7bGV0IGk7ZnVuY3Rpb24gdCgpe31pPXQsaS5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXNPd25Qcm9wZXJ0eShlKT9TdHJpbmcodGhpc1tlXSk6bnVsbH0saS5wcm90b3R5cGUuc2V0SXRlbT1mdW5jdGlvbihlLG4pe3RoaXNbZV09U3RyaW5nKG4pfSxpLnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzW2VdfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcztPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Vbbl09dm9pZCAwLGRlbGV0ZSBlW25dfSl9LGkucHJvdG90eXBlLmtleT1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfHwwLE9iamVjdC5rZXlzKHRoaXMpW2VdfSxpLnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fKFwibGVuZ3RoXCIsZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcykubGVuZ3RofSksdHlwZW9mIGw8XCJ1XCImJmwubG9jYWxTdG9yYWdlP2MuZXhwb3J0cz1sLmxvY2FsU3RvcmFnZTp0eXBlb2Ygd2luZG93PFwidVwiJiZ3aW5kb3cubG9jYWxTdG9yYWdlP2MuZXhwb3J0cz13aW5kb3cubG9jYWxTdG9yYWdlOmMuZXhwb3J0cz1uZXcgdH0pKCk7ZnVuY3Rpb24gayhpKXt2YXIgdDtyZXR1cm5baVswXSxkKCh0PWlbMV0pIT1udWxsP3Q6XCJcIildfWNsYXNzIEt7Y29uc3RydWN0b3IoKXt0aGlzLmxvY2FsU3RvcmFnZT1jLmV4cG9ydHN9YXN5bmMgZ2V0S2V5cygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmxvY2FsU3RvcmFnZSl9YXN5bmMgZ2V0RW50cmllcygpe3JldHVybiBPYmplY3QuZW50cmllcyh0aGlzLmxvY2FsU3RvcmFnZSkubWFwKGspfWFzeW5jIGdldEl0ZW0odCl7Y29uc3QgZT10aGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHQpO2lmKGUhPT1udWxsKXJldHVybiBkKGUpfWFzeW5jIHNldEl0ZW0odCxlKXt0aGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHQsZyhlKSl9YXN5bmMgcmVtb3ZlSXRlbSh0KXt0aGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHQpfX1jb25zdCBOPVwid2Nfc3RvcmFnZV92ZXJzaW9uXCIseT0xLE89YXN5bmMoaSx0LGUpPT57Y29uc3Qgbj1OLHM9YXdhaXQgdC5nZXRJdGVtKG4pO2lmKHMmJnM+PXkpe2UodCk7cmV0dXJufWNvbnN0IGE9YXdhaXQgaS5nZXRLZXlzKCk7aWYoIWEubGVuZ3RoKXtlKHQpO3JldHVybn1jb25zdCBtPVtdO2Zvcig7YS5sZW5ndGg7KXtjb25zdCByPWEuc2hpZnQoKTtpZighciljb250aW51ZTtjb25zdCBvPXIudG9Mb3dlckNhc2UoKTtpZihvLmluY2x1ZGVzKFwid2NAXCIpfHxvLmluY2x1ZGVzKFwid2FsbGV0Y29ubmVjdFwiKXx8by5pbmNsdWRlcyhcIndjX1wiKXx8by5pbmNsdWRlcyhcIndhbGxldF9jb25uZWN0XCIpKXtjb25zdCBmPWF3YWl0IGkuZ2V0SXRlbShyKTthd2FpdCB0LnNldEl0ZW0ocixmKSxtLnB1c2gocil9fWF3YWl0IHQuc2V0SXRlbShuLHkpLGUodCksaihpLG0pfSxqPWFzeW5jKGksdCk9Pnt0Lmxlbmd0aCYmdC5mb3JFYWNoKGFzeW5jIGU9Pnthd2FpdCBpLnJlbW92ZUl0ZW0oZSl9KX07Y2xhc3MgaHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5zZXRJbml0aWFsaXplZD1lPT57dGhpcy5zdG9yYWdlPWUsdGhpcy5pbml0aWFsaXplZD0hMH07Y29uc3QgdD1uZXcgSzt0aGlzLnN0b3JhZ2U9dDt0cnl7Y29uc3QgZT1uZXcgXztPKHQsZSx0aGlzLnNldEluaXRpYWxpemVkKX1jYXRjaHt0aGlzLmluaXRpYWxpemVkPSEwfX1hc3luYyBnZXRLZXlzKCl7cmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuc3RvcmFnZS5nZXRLZXlzKCl9YXN5bmMgZ2V0RW50cmllcygpe3JldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSx0aGlzLnN0b3JhZ2UuZ2V0RW50cmllcygpfWFzeW5jIGdldEl0ZW0odCl7cmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuc3RvcmFnZS5nZXRJdGVtKHQpfWFzeW5jIHNldEl0ZW0odCxlKXtyZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplKCksdGhpcy5zdG9yYWdlLnNldEl0ZW0odCxlKX1hc3luYyByZW1vdmVJdGVtKHQpe3JldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSx0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbSh0KX1hc3luYyBpbml0aWFsaXplKCl7dGhpcy5pbml0aWFsaXplZHx8YXdhaXQgbmV3IFByb21pc2UodD0+e2NvbnN0IGU9c2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLmluaXRpYWxpemVkJiYoY2xlYXJJbnRlcnZhbChlKSx0KCkpfSwyMCl9KX19ZXhwb3J0e2ggYXMgS2V5VmFsdWVTdG9yYWdlLGggYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/crypto.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isBrowserCryptoAvailable = exports.getSubtleCrypto = exports.getBrowerCrypto = void 0;\nfunction getBrowerCrypto() {\n    return (global === null || global === void 0 ? void 0 : global.crypto) || (global === null || global === void 0 ? void 0 : global.msCrypto) || {};\n}\nexports.getBrowerCrypto = getBrowerCrypto;\nfunction getSubtleCrypto() {\n    const browserCrypto = getBrowerCrypto();\n    return browserCrypto.subtle || browserCrypto.webkitSubtle;\n}\nexports.getSubtleCrypto = getSubtleCrypto;\nfunction isBrowserCryptoAvailable() {\n    return !!getBrowerCrypto() && !!getSubtleCrypto();\n}\nexports.isBrowserCryptoAvailable = isBrowserCryptoAvailable;\n//# sourceMappingURL=crypto.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvY3J5cHRvLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQyxHQUFHLHVCQUF1QixHQUFHLHVCQUF1QjtBQUNwRjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2Vudmlyb25tZW50L2Rpc3QvY2pzL2NyeXB0by5qcz9hZWU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0Jyb3dzZXJDcnlwdG9BdmFpbGFibGUgPSBleHBvcnRzLmdldFN1YnRsZUNyeXB0byA9IGV4cG9ydHMuZ2V0QnJvd2VyQ3J5cHRvID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0QnJvd2VyQ3J5cHRvKCkge1xuICAgIHJldHVybiAoZ2xvYmFsID09PSBudWxsIHx8IGdsb2JhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ2xvYmFsLmNyeXB0bykgfHwgKGdsb2JhbCA9PT0gbnVsbCB8fCBnbG9iYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdsb2JhbC5tc0NyeXB0bykgfHwge307XG59XG5leHBvcnRzLmdldEJyb3dlckNyeXB0byA9IGdldEJyb3dlckNyeXB0bztcbmZ1bmN0aW9uIGdldFN1YnRsZUNyeXB0bygpIHtcbiAgICBjb25zdCBicm93c2VyQ3J5cHRvID0gZ2V0QnJvd2VyQ3J5cHRvKCk7XG4gICAgcmV0dXJuIGJyb3dzZXJDcnlwdG8uc3VidGxlIHx8IGJyb3dzZXJDcnlwdG8ud2Via2l0U3VidGxlO1xufVxuZXhwb3J0cy5nZXRTdWJ0bGVDcnlwdG8gPSBnZXRTdWJ0bGVDcnlwdG87XG5mdW5jdGlvbiBpc0Jyb3dzZXJDcnlwdG9BdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuICEhZ2V0QnJvd2VyQ3J5cHRvKCkgJiYgISFnZXRTdWJ0bGVDcnlwdG8oKTtcbn1cbmV4cG9ydHMuaXNCcm93c2VyQ3J5cHRvQXZhaWxhYmxlID0gaXNCcm93c2VyQ3J5cHRvQXZhaWxhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3J5cHRvLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/env.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isBrowser = exports.isNode = exports.isReactNative = void 0;\nfunction isReactNative() {\n    return (typeof document === \"undefined\" &&\n        typeof navigator !== \"undefined\" &&\n        navigator.product === \"ReactNative\");\n}\nexports.isReactNative = isReactNative;\nfunction isNode() {\n    return (typeof process !== \"undefined\" &&\n        typeof process.versions !== \"undefined\" &&\n        typeof process.versions.node !== \"undefined\");\n}\nexports.isNode = isNode;\nfunction isBrowser() {\n    return !isReactNative() && !isNode();\n}\nexports.isBrowser = isBrowser;\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvZW52LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixHQUFHLGNBQWMsR0FBRyxxQkFBcUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9lbnZpcm9ubWVudC9kaXN0L2Nqcy9lbnYuanM/MDNlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNCcm93c2VyID0gZXhwb3J0cy5pc05vZGUgPSBleHBvcnRzLmlzUmVhY3ROYXRpdmUgPSB2b2lkIDA7XG5mdW5jdGlvbiBpc1JlYWN0TmF0aXZlKCkge1xuICAgIHJldHVybiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09IFwiUmVhY3ROYXRpdmVcIik7XG59XG5leHBvcnRzLmlzUmVhY3ROYXRpdmUgPSBpc1JlYWN0TmF0aXZlO1xuZnVuY3Rpb24gaXNOb2RlKCkge1xuICAgIHJldHVybiAodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gXCJ1bmRlZmluZWRcIik7XG59XG5leHBvcnRzLmlzTm9kZSA9IGlzTm9kZTtcbmZ1bmN0aW9uIGlzQnJvd3NlcigpIHtcbiAgICByZXR1cm4gIWlzUmVhY3ROYXRpdmUoKSAmJiAhaXNOb2RlKCk7XG59XG5leHBvcnRzLmlzQnJvd3NlciA9IGlzQnJvd3Nlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./crypto */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./env */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsOEZBQU87QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsb0ZBQVU7QUFDdkMscUJBQXFCLG1CQUFPLENBQUMsOEVBQU87QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvaW5kZXguanM/MmU1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jcnlwdG9cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZW52XCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __assign: () => (/* binding */ __assign),\n/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),\n/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),\n/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),\n/* harmony export */   __await: () => (/* binding */ __await),\n/* harmony export */   __awaiter: () => (/* binding */ __awaiter),\n/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),\n/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),\n/* harmony export */   __createBinding: () => (/* binding */ __createBinding),\n/* harmony export */   __decorate: () => (/* binding */ __decorate),\n/* harmony export */   __exportStar: () => (/* binding */ __exportStar),\n/* harmony export */   __extends: () => (/* binding */ __extends),\n/* harmony export */   __generator: () => (/* binding */ __generator),\n/* harmony export */   __importDefault: () => (/* binding */ __importDefault),\n/* harmony export */   __importStar: () => (/* binding */ __importStar),\n/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),\n/* harmony export */   __metadata: () => (/* binding */ __metadata),\n/* harmony export */   __param: () => (/* binding */ __param),\n/* harmony export */   __read: () => (/* binding */ __read),\n/* harmony export */   __rest: () => (/* binding */ __rest),\n/* harmony export */   __spread: () => (/* binding */ __spread),\n/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),\n/* harmony export */   __values: () => (/* binding */ __values)\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDbkYsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUNBO0FBQ087QUFDUCxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCxjQUFjLDZCQUE2QiwwQkFBMEIsY0FBYyxxQkFBcUI7QUFDeEcsaUJBQWlCLG9EQUFvRCxxRUFBcUUsY0FBYztBQUN4Six1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxtQ0FBbUMsU0FBUztBQUM1QyxtQ0FBbUMsV0FBVyxVQUFVO0FBQ3hELDBDQUEwQyxjQUFjO0FBQ3hEO0FBQ0EsOEdBQThHLE9BQU87QUFDckgsaUZBQWlGLGlCQUFpQjtBQUNsRyx5REFBeUQsZ0JBQWdCLFFBQVE7QUFDakYsK0NBQStDLGdCQUFnQixnQkFBZ0I7QUFDL0U7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLFVBQVUsWUFBWSxhQUFhLFNBQVMsVUFBVTtBQUN0RCxvQ0FBb0MsU0FBUztBQUM3QztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZCQUE2QixzQkFBc0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtEQUFrRCxRQUFRO0FBQzFELHlDQUF5QyxRQUFRO0FBQ2pELHlEQUF5RCxRQUFRO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxpQkFBaUIsdUZBQXVGLGNBQWM7QUFDdEgsdUJBQXVCLGdDQUFnQyxxQ0FBcUMsMkNBQTJDO0FBQ3ZJLDRCQUE0QixNQUFNLGlCQUFpQixZQUFZO0FBQy9ELHVCQUF1QjtBQUN2Qiw4QkFBOEI7QUFDOUIsNkJBQTZCO0FBQzdCLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ087QUFDUDtBQUNBLGlCQUFpQiw2Q0FBNkMsVUFBVSxzREFBc0QsY0FBYztBQUM1SSwwQkFBMEIsNkJBQTZCLG9CQUFvQixnREFBZ0Qsa0JBQWtCO0FBQzdJO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSwyR0FBMkcsdUZBQXVGLGNBQWM7QUFDaE4sdUJBQXVCLDhCQUE4QixnREFBZ0Qsd0RBQXdEO0FBQzdKLDZDQUE2QyxzQ0FBc0MsVUFBVSxtQkFBbUIsSUFBSTtBQUNwSDtBQUNBO0FBQ087QUFDUCxpQ0FBaUMsdUNBQXVDLFlBQVksS0FBSyxPQUFPO0FBQ2hHO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZDQUE2QztBQUM3QztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9lbnZpcm9ubWVudC9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzP2QwMjciXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/node_modules/tslib/tslib.es6.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js":
/*!***************************************************************!*\
  !*** ./node_modules/@walletconnect/events/dist/esm/events.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IEvents: () => (/* binding */ IEvents)\n/* harmony export */ });\nclass IEvents {\n}\n//# sourceMappingURL=events.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXZlbnRzL2Rpc3QvZXNtL2V2ZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2V2ZW50cy9kaXN0L2VzbS9ldmVudHMuanM/MDUzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgSUV2ZW50cyB7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@walletconnect/events/dist/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IEvents: () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_0__.IEvents)\n/* harmony export */ });\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js\");\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXZlbnRzL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2V2ZW50cy9kaXN0L2VzbS9pbmRleC5qcz8zYWVlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2V2ZW50c1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js":
/*!****************************************************************!*\
  !*** ./node_modules/@walletconnect/heartbeat/dist/index.es.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HEARTBEAT_EVENTS: () => (/* binding */ r),\n/* harmony export */   HEARTBEAT_INTERVAL: () => (/* binding */ s),\n/* harmony export */   HeartBeat: () => (/* binding */ i),\n/* harmony export */   IHeartBeat: () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\nclass n extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_2__.IEvents{constructor(e){super()}}const s=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_SECONDS,r={pulse:\"heartbeat_pulse\"};class i extends n{constructor(e){super(e),this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.interval=s,this.interval=e?.interval||s}static async init(e){const t=new i(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.interval))}pulse(){this.events.emit(r.pulse)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvaGVhcnRiZWF0L2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTRKLGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsU0FBUyxRQUFRLDZEQUFDLElBQUkseUJBQXlCLGtCQUFrQixlQUFlLHlCQUF5QixnREFBQyw4Q0FBOEMscUJBQXFCLGlCQUFpQix3QkFBd0IsYUFBYSx3QkFBd0IsT0FBTyxnQ0FBZ0MsUUFBUSxvQkFBb0IsVUFBVSxzQkFBc0IsU0FBUyxxQkFBcUIsb0JBQW9CLGdDQUFnQyxtQkFBbUIsOENBQThDLGtFQUFDLGlCQUFpQixRQUFRLDJCQUFnSDtBQUN4ekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvaGVhcnRiZWF0L2Rpc3QvaW5kZXguZXMuanM/ODE3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7RXZlbnRFbWl0dGVyIGFzIGF9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e0ZJVkVfU0VDT05EUyBhcyBvLHRvTWlsaXNlY29uZHMgYXMgbH1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e0lFdmVudHMgYXMgdn1mcm9tXCJAd2FsbGV0Y29ubmVjdC9ldmVudHNcIjtjbGFzcyBuIGV4dGVuZHMgdntjb25zdHJ1Y3RvcihlKXtzdXBlcigpfX1jb25zdCBzPW8scj17cHVsc2U6XCJoZWFydGJlYXRfcHVsc2VcIn07Y2xhc3MgaSBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5ldmVudHM9bmV3IGEsdGhpcy5pbnRlcnZhbD1zLHRoaXMuaW50ZXJ2YWw9ZT8uaW50ZXJ2YWx8fHN9c3RhdGljIGFzeW5jIGluaXQoZSl7Y29uc3QgdD1uZXcgaShlKTtyZXR1cm4gYXdhaXQgdC5pbml0KCksdH1hc3luYyBpbml0KCl7YXdhaXQgdGhpcy5pbml0aWFsaXplKCl9c3RvcCgpe2NsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbFJlZil9b24oZSx0KXt0aGlzLmV2ZW50cy5vbihlLHQpfW9uY2UoZSx0KXt0aGlzLmV2ZW50cy5vbmNlKGUsdCl9b2ZmKGUsdCl7dGhpcy5ldmVudHMub2ZmKGUsdCl9cmVtb3ZlTGlzdGVuZXIoZSx0KXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlLHQpfWFzeW5jIGluaXRpYWxpemUoKXt0aGlzLmludGVydmFsUmVmPXNldEludGVydmFsKCgpPT50aGlzLnB1bHNlKCksbCh0aGlzLmludGVydmFsKSl9cHVsc2UoKXt0aGlzLmV2ZW50cy5lbWl0KHIucHVsc2UpfX1leHBvcnR7ciBhcyBIRUFSVEJFQVRfRVZFTlRTLHMgYXMgSEVBUlRCRUFUX0lOVEVSVkFMLGkgYXMgSGVhcnRCZWF0LG4gYXMgSUhlYXJ0QmVhdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpConnection: () => (/* binding */ f),\n/* harmony export */   \"default\": () => (/* binding */ f)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cross-fetch */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js\");\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cross_fetch__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nvar P=Object.defineProperty,w=Object.defineProperties,E=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,l=(r,t,e)=>t in r?P(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,p=(r,t)=>{for(var e in t||(t={}))L.call(t,e)&&l(r,e,t[e]);if(c)for(var e of c(t))O.call(t,e)&&l(r,e,t[e]);return r},v=(r,t)=>w(r,E(t));const j={Accept:\"application/json\",\"Content-Type\":\"application/json\"},T=\"POST\",d={headers:j,method:T},g=10;class f{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error(\"Connection already closed\");this.onClose()}async send(t){this.isAvailable||await this.register();try{const e=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonStringify)(t),s=await(await cross_fetch__WEBPACK_IMPORTED_MODULE_1___default()(this.url,v(p({},d),{body:e}))).json();this.onPayload({data:s})}catch(e){this.onError(t.id,e)}}async register(t=this.url){if(!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount(\"register_error\")>=e||this.events.listenerCount(\"open\")>=e)&&this.events.setMaxListeners(e+1),new Promise((s,i)=>{this.events.once(\"register_error\",n=>{this.resetMaxListeners(),i(n)}),this.events.once(\"open\",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>\"u\")return i(new Error(\"HTTP connection is missing or invalid\"));s()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonStringify)({id:1,jsonrpc:\"2.0\",method:\"test\",params:[]});await cross_fetch__WEBPACK_IMPORTED_MODULE_1___default()(t,v(p({},d),{body:e}))}this.onOpen()}catch(e){const s=this.parseError(e);throw this.events.emit(\"register_error\",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit(\"open\")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit(\"close\")}onPayload(t){if(typeof t.data>\"u\")return;const e=typeof t.data==\"string\"?(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonParse)(t.data):t.data;this.events.emit(\"payload\",e)}onError(t,e){const s=this.parseError(e),i=s.message||s.toString(),n=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(t,i);this.events.emit(\"payload\",n)}parseError(t,e=this.url){return (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.parseConnectionError)(t,e,\"HTTP\")}resetMaxListeners(){this.events.getMaxListeners()>g&&this.events.setMaxListeners(g)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb24vZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE0UCwyTkFBMk4sa0RBQWtELG1CQUFtQixxQkFBcUIsMkJBQTJCLGdEQUFnRCxTQUFTLG9CQUFvQixTQUFTLDREQUE0RCxhQUFhLG1CQUFtQixNQUFNLFFBQVEsb0JBQW9CLHlEQUF5RCxnREFBQywwQ0FBMEMsdUVBQUMsNEVBQTRFLEVBQUUsR0FBRyxzQ0FBc0MsZ0JBQWdCLHdCQUF3QixpQkFBaUIsd0JBQXdCLFFBQVEsb0JBQW9CLFVBQVUsc0JBQXNCLFNBQVMscUJBQXFCLG9CQUFvQixnQ0FBZ0MsdUJBQXVCLHVCQUF1QixjQUFjLGtFQUFrRSxlQUFlLGNBQWMsd0NBQXdDLElBQUksUUFBUSwyRUFBQyxrQkFBa0Isa0RBQUMsZ0JBQWdCLEtBQUssT0FBTyxXQUFXLGdCQUFnQixPQUFPLEVBQUUsU0FBUyxzQkFBc0IsMkJBQTJCLElBQUksdUVBQUMsNEVBQTRFLEVBQUUsR0FBRyxxQkFBcUIsc0NBQXNDLG1KQUFtSixzQ0FBc0MsOEJBQThCLCtCQUErQixxSEFBcUgsSUFBSSxFQUFFLEVBQUUsK0JBQStCLElBQUksOEJBQThCLFFBQVEsMkVBQUMsRUFBRSwyQ0FBMkMsRUFBRSxNQUFNLGtEQUFDLFNBQVMsS0FBSyxPQUFPLEdBQUcsY0FBYyxTQUFTLDJCQUEyQiw2REFBNkQsU0FBUyxpRUFBaUUsVUFBVSxrRUFBa0UsYUFBYSw0QkFBNEIsZ0NBQWdDLHVFQUFDLGdCQUFnQiw4QkFBOEIsYUFBYSx1REFBdUQsZ0ZBQUMsTUFBTSw4QkFBOEIseUJBQXlCLE9BQU8sa0ZBQUMsYUFBYSxvQkFBb0IsaUVBQTBHO0FBQ3QyRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLWh0dHAtY29ubmVjdGlvbi9kaXN0L2luZGV4LmVzLmpzPzE1YTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0V2ZW50RW1pdHRlciBhcyBtfWZyb21cImV2ZW50c1wiO2ltcG9ydCBvIGZyb21cImNyb3NzLWZldGNoXCI7aW1wb3J0e3NhZmVKc29uU3RyaW5naWZ5IGFzIGEsc2FmZUpzb25QYXJzZSBhcyB5fWZyb21cIkB3YWxsZXRjb25uZWN0L3NhZmUtanNvblwiO2ltcG9ydHtpc0h0dHBVcmwgYXMgaCxmb3JtYXRKc29uUnBjRXJyb3IgYXMgYixwYXJzZUNvbm5lY3Rpb25FcnJvciBhcyB1fWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjt2YXIgUD1PYmplY3QuZGVmaW5lUHJvcGVydHksdz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxFPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLGM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxMPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLGw9KHIsdCxlKT0+dCBpbiByP1Aocix0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6clt0XT1lLHA9KHIsdCk9Pntmb3IodmFyIGUgaW4gdHx8KHQ9e30pKUwuY2FsbCh0LGUpJiZsKHIsZSx0W2VdKTtpZihjKWZvcih2YXIgZSBvZiBjKHQpKU8uY2FsbCh0LGUpJiZsKHIsZSx0W2VdKTtyZXR1cm4gcn0sdj0ocix0KT0+dyhyLEUodCkpO2NvbnN0IGo9e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxUPVwiUE9TVFwiLGQ9e2hlYWRlcnM6aixtZXRob2Q6VH0sZz0xMDtjbGFzcyBme2NvbnN0cnVjdG9yKHQsZT0hMSl7aWYodGhpcy51cmw9dCx0aGlzLmRpc2FibGVQcm92aWRlclBpbmc9ZSx0aGlzLmV2ZW50cz1uZXcgbSx0aGlzLmlzQXZhaWxhYmxlPSExLHRoaXMucmVnaXN0ZXJpbmc9ITEsIWgodCkpdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBVUkwgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBIVFRQIGNvbm5lY3Rpb246ICR7dH1gKTt0aGlzLnVybD10LHRoaXMuZGlzYWJsZVByb3ZpZGVyUGluZz1lfWdldCBjb25uZWN0ZWQoKXtyZXR1cm4gdGhpcy5pc0F2YWlsYWJsZX1nZXQgY29ubmVjdGluZygpe3JldHVybiB0aGlzLnJlZ2lzdGVyaW5nfW9uKHQsZSl7dGhpcy5ldmVudHMub24odCxlKX1vbmNlKHQsZSl7dGhpcy5ldmVudHMub25jZSh0LGUpfW9mZih0LGUpe3RoaXMuZXZlbnRzLm9mZih0LGUpfXJlbW92ZUxpc3RlbmVyKHQsZSl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIodCxlKX1hc3luYyBvcGVuKHQ9dGhpcy51cmwpe2F3YWl0IHRoaXMucmVnaXN0ZXIodCl9YXN5bmMgY2xvc2UoKXtpZighdGhpcy5pc0F2YWlsYWJsZSl0aHJvdyBuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGFscmVhZHkgY2xvc2VkXCIpO3RoaXMub25DbG9zZSgpfWFzeW5jIHNlbmQodCl7dGhpcy5pc0F2YWlsYWJsZXx8YXdhaXQgdGhpcy5yZWdpc3RlcigpO3RyeXtjb25zdCBlPWEodCkscz1hd2FpdChhd2FpdCBvKHRoaXMudXJsLHYocCh7fSxkKSx7Ym9keTplfSkpKS5qc29uKCk7dGhpcy5vblBheWxvYWQoe2RhdGE6c30pfWNhdGNoKGUpe3RoaXMub25FcnJvcih0LmlkLGUpfX1hc3luYyByZWdpc3Rlcih0PXRoaXMudXJsKXtpZighaCh0KSl0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIFVSTCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIEhUVFAgY29ubmVjdGlvbjogJHt0fWApO2lmKHRoaXMucmVnaXN0ZXJpbmcpe2NvbnN0IGU9dGhpcy5ldmVudHMuZ2V0TWF4TGlzdGVuZXJzKCk7cmV0dXJuKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoXCJyZWdpc3Rlcl9lcnJvclwiKT49ZXx8dGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChcIm9wZW5cIik+PWUpJiZ0aGlzLmV2ZW50cy5zZXRNYXhMaXN0ZW5lcnMoZSsxKSxuZXcgUHJvbWlzZSgocyxpKT0+e3RoaXMuZXZlbnRzLm9uY2UoXCJyZWdpc3Rlcl9lcnJvclwiLG49Pnt0aGlzLnJlc2V0TWF4TGlzdGVuZXJzKCksaShuKX0pLHRoaXMuZXZlbnRzLm9uY2UoXCJvcGVuXCIsKCk9PntpZih0aGlzLnJlc2V0TWF4TGlzdGVuZXJzKCksdHlwZW9mIHRoaXMuaXNBdmFpbGFibGU+XCJ1XCIpcmV0dXJuIGkobmV3IEVycm9yKFwiSFRUUCBjb25uZWN0aW9uIGlzIG1pc3Npbmcgb3IgaW52YWxpZFwiKSk7cygpfSl9KX10aGlzLnVybD10LHRoaXMucmVnaXN0ZXJpbmc9ITA7dHJ5e2lmKCF0aGlzLmRpc2FibGVQcm92aWRlclBpbmcpe2NvbnN0IGU9YSh7aWQ6MSxqc29ucnBjOlwiMi4wXCIsbWV0aG9kOlwidGVzdFwiLHBhcmFtczpbXX0pO2F3YWl0IG8odCx2KHAoe30sZCkse2JvZHk6ZX0pKX10aGlzLm9uT3BlbigpfWNhdGNoKGUpe2NvbnN0IHM9dGhpcy5wYXJzZUVycm9yKGUpO3Rocm93IHRoaXMuZXZlbnRzLmVtaXQoXCJyZWdpc3Rlcl9lcnJvclwiLHMpLHRoaXMub25DbG9zZSgpLHN9fW9uT3Blbigpe3RoaXMuaXNBdmFpbGFibGU9ITAsdGhpcy5yZWdpc3RlcmluZz0hMSx0aGlzLmV2ZW50cy5lbWl0KFwib3BlblwiKX1vbkNsb3NlKCl7dGhpcy5pc0F2YWlsYWJsZT0hMSx0aGlzLnJlZ2lzdGVyaW5nPSExLHRoaXMuZXZlbnRzLmVtaXQoXCJjbG9zZVwiKX1vblBheWxvYWQodCl7aWYodHlwZW9mIHQuZGF0YT5cInVcIilyZXR1cm47Y29uc3QgZT10eXBlb2YgdC5kYXRhPT1cInN0cmluZ1wiP3kodC5kYXRhKTp0LmRhdGE7dGhpcy5ldmVudHMuZW1pdChcInBheWxvYWRcIixlKX1vbkVycm9yKHQsZSl7Y29uc3Qgcz10aGlzLnBhcnNlRXJyb3IoZSksaT1zLm1lc3NhZ2V8fHMudG9TdHJpbmcoKSxuPWIodCxpKTt0aGlzLmV2ZW50cy5lbWl0KFwicGF5bG9hZFwiLG4pfXBhcnNlRXJyb3IodCxlPXRoaXMudXJsKXtyZXR1cm4gdSh0LGUsXCJIVFRQXCIpfXJlc2V0TWF4TGlzdGVuZXJzKCl7dGhpcy5ldmVudHMuZ2V0TWF4TGlzdGVuZXJzKCk+ZyYmdGhpcy5ldmVudHMuc2V0TWF4TGlzdGVuZXJzKGcpfX1leHBvcnR7ZiBhcyBIdHRwQ29ubmVjdGlvbixmIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js ***!
  \************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("const nodeFetch = __webpack_require__(/*! node-fetch */ \"(ssr)/./node_modules/node-fetch/lib/index.mjs\")\nconst realFetch = nodeFetch.default || nodeFetch\n\nconst fetch = function (url, options) {\n  // Support schemaless URIs on the server for parity with the browser.\n  // Ex: //github.com/ -> https://github.com/\n  if (/^\\/\\//.test(url)) {\n    url = 'https:' + url\n  }\n  return realFetch.call(this, url, options)\n}\n\nfetch.ponyfill = true\n\nmodule.exports = exports = fetch\nexports.fetch = fetch\nexports.Headers = nodeFetch.Headers\nexports.Request = nodeFetch.Request\nexports.Response = nodeFetch.Response\n\n// Needed for TypeScript consumers without esModuleInterop.\nexports[\"default\"] = fetch\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL2Nyb3NzLWZldGNoL2Rpc3Qvbm9kZS1wb255ZmlsbC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IsbUJBQU8sQ0FBQyxpRUFBWTtBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsYUFBYTtBQUNiLGVBQWU7QUFDZixlQUFlO0FBQ2YsZ0JBQWdCOztBQUVoQjtBQUNBLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtaHR0cC1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy9jcm9zcy1mZXRjaC9kaXN0L25vZGUtcG9ueWZpbGwuanM/NGRiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub2RlRmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJylcbmNvbnN0IHJlYWxGZXRjaCA9IG5vZGVGZXRjaC5kZWZhdWx0IHx8IG5vZGVGZXRjaFxuXG5jb25zdCBmZXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgLy8gU3VwcG9ydCBzY2hlbWFsZXNzIFVSSXMgb24gdGhlIHNlcnZlciBmb3IgcGFyaXR5IHdpdGggdGhlIGJyb3dzZXIuXG4gIC8vIEV4OiAvL2dpdGh1Yi5jb20vIC0+IGh0dHBzOi8vZ2l0aHViLmNvbS9cbiAgaWYgKC9eXFwvXFwvLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSAnaHR0cHM6JyArIHVybFxuICB9XG4gIHJldHVybiByZWFsRmV0Y2guY2FsbCh0aGlzLCB1cmwsIG9wdGlvbnMpXG59XG5cbmZldGNoLnBvbnlmaWxsID0gdHJ1ZVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmZXRjaFxuZXhwb3J0cy5mZXRjaCA9IGZldGNoXG5leHBvcnRzLkhlYWRlcnMgPSBub2RlRmV0Y2guSGVhZGVyc1xuZXhwb3J0cy5SZXF1ZXN0ID0gbm9kZUZldGNoLlJlcXVlc3RcbmV4cG9ydHMuUmVzcG9uc2UgPSBub2RlRmV0Y2guUmVzcG9uc2VcblxuLy8gTmVlZGVkIGZvciBUeXBlU2NyaXB0IGNvbnN1bWVycyB3aXRob3V0IGVzTW9kdWxlSW50ZXJvcC5cbmV4cG9ydHMuZGVmYXVsdCA9IGZldGNoXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/node_modules/cross-fetch/dist/node-ponyfill.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonRpcProvider: () => (/* binding */ o),\n/* harmony export */   \"default\": () => (/* binding */ o)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nclass o extends _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.IJsonRpcProvider{constructor(t){super(t),this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcRequest)(t.method,t.params||[],t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.getBigIntRpcId)().toString()),e)}async requestStrict(t,e){return new Promise(async(i,s)=>{if(!this.connection.connected)try{await this.open()}catch(n){s(n)}this.events.on(`${t.id}`,n=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.isJsonRpcError)(n)?s(n.error):i(n.result)});try{await this.connection.send(t,e)}catch(n){s(n)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit(\"payload\",t),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.isJsonRpcResponse)(t)?this.events.emit(`${t.id}`,t):this.events.emit(\"message\",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit(\"error\",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:\"\"}`)),this.events.emit(\"disconnect\")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t==\"string\"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit(\"connect\"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on(\"payload\",t=>this.onPayload(t)),this.connection.on(\"close\",t=>this.onClose(t)),this.connection.on(\"error\",t=>this.events.emit(\"error\",t)),this.connection.on(\"register_error\",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlci9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStMLGdCQUFnQiwwRUFBQyxDQUFDLGVBQWUseUJBQXlCLGdEQUFDLG9JQUFvSSxpQ0FBaUMsbUJBQW1CLG1CQUFtQixtQkFBbUIsUUFBUSxvQkFBb0IsVUFBVSxzQkFBc0IsU0FBUyxxQkFBcUIsb0JBQW9CLGdDQUFnQyxtQkFBbUIsMEJBQTBCLGtGQUFDLDZCQUE2Qiw0RUFBQyxrQkFBa0IseUJBQXlCLGdDQUFnQyxrQ0FBa0Msa0JBQWtCLFNBQVMsS0FBSyxrQkFBa0IsS0FBSyxNQUFNLDRFQUFDLDJCQUEyQixFQUFFLElBQUksZ0NBQWdDLFNBQVMsTUFBTSxFQUFFLGlDQUFpQyxTQUFTLGFBQWEsOEJBQThCLCtFQUFDLHdCQUF3QixLQUFLLGlDQUFpQyw0QkFBNEIsRUFBRSxXQUFXLHlHQUF5RyxRQUFRLEVBQUUsYUFBYSxTQUFTLE1BQU0sbUNBQW1DLDhCQUE4Qiw2UkFBNlIsY0FBYyw4QkFBOEIseUJBQXlCLDZSQUF1VTtBQUNyK0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlci9kaXN0L2luZGV4LmVzLmpzP2FlMDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0V2ZW50RW1pdHRlciBhcyBjfWZyb21cImV2ZW50c1wiO2ltcG9ydHtJSnNvblJwY1Byb3ZpZGVyIGFzIHIsZm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgaCxnZXRCaWdJbnRScGNJZCBhcyBhLGlzSnNvblJwY0Vycm9yIGFzIGQsaXNKc29uUnBjUmVzcG9uc2UgYXMgdn1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7Y2xhc3MgbyBleHRlbmRzIHJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5ldmVudHM9bmV3IGMsdGhpcy5oYXNSZWdpc3RlcmVkRXZlbnRMaXN0ZW5lcnM9ITEsdGhpcy5jb25uZWN0aW9uPXRoaXMuc2V0Q29ubmVjdGlvbih0KSx0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGVkJiZ0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKX1hc3luYyBjb25uZWN0KHQ9dGhpcy5jb25uZWN0aW9uKXthd2FpdCB0aGlzLm9wZW4odCl9YXN5bmMgZGlzY29ubmVjdCgpe2F3YWl0IHRoaXMuY2xvc2UoKX1vbih0LGUpe3RoaXMuZXZlbnRzLm9uKHQsZSl9b25jZSh0LGUpe3RoaXMuZXZlbnRzLm9uY2UodCxlKX1vZmYodCxlKXt0aGlzLmV2ZW50cy5vZmYodCxlKX1yZW1vdmVMaXN0ZW5lcih0LGUpe3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKHQsZSl9YXN5bmMgcmVxdWVzdCh0LGUpe3JldHVybiB0aGlzLnJlcXVlc3RTdHJpY3QoaCh0Lm1ldGhvZCx0LnBhcmFtc3x8W10sdC5pZHx8YSgpLnRvU3RyaW5nKCkpLGUpfWFzeW5jIHJlcXVlc3RTdHJpY3QodCxlKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoaSxzKT0+e2lmKCF0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGVkKXRyeXthd2FpdCB0aGlzLm9wZW4oKX1jYXRjaChuKXtzKG4pfXRoaXMuZXZlbnRzLm9uKGAke3QuaWR9YCxuPT57ZChuKT9zKG4uZXJyb3IpOmkobi5yZXN1bHQpfSk7dHJ5e2F3YWl0IHRoaXMuY29ubmVjdGlvbi5zZW5kKHQsZSl9Y2F0Y2gobil7cyhuKX19KX1zZXRDb25uZWN0aW9uKHQ9dGhpcy5jb25uZWN0aW9uKXtyZXR1cm4gdH1vblBheWxvYWQodCl7dGhpcy5ldmVudHMuZW1pdChcInBheWxvYWRcIix0KSx2KHQpP3RoaXMuZXZlbnRzLmVtaXQoYCR7dC5pZH1gLHQpOnRoaXMuZXZlbnRzLmVtaXQoXCJtZXNzYWdlXCIse3R5cGU6dC5tZXRob2QsZGF0YTp0LnBhcmFtc30pfW9uQ2xvc2UodCl7dCYmdC5jb2RlPT09M2UzJiZ0aGlzLmV2ZW50cy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoYFdlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCBhYm5vcm1hbGx5IHdpdGggY29kZTogJHt0LmNvZGV9ICR7dC5yZWFzb24/YCgke3QucmVhc29ufSlgOlwiXCJ9YCkpLHRoaXMuZXZlbnRzLmVtaXQoXCJkaXNjb25uZWN0XCIpfWFzeW5jIG9wZW4odD10aGlzLmNvbm5lY3Rpb24pe3RoaXMuY29ubmVjdGlvbj09PXQmJnRoaXMuY29ubmVjdGlvbi5jb25uZWN0ZWR8fCh0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGVkJiZ0aGlzLmNsb3NlKCksdHlwZW9mIHQ9PVwic3RyaW5nXCImJihhd2FpdCB0aGlzLmNvbm5lY3Rpb24ub3Blbih0KSx0PXRoaXMuY29ubmVjdGlvbiksdGhpcy5jb25uZWN0aW9uPXRoaXMuc2V0Q29ubmVjdGlvbih0KSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24ub3BlbigpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLHRoaXMuZXZlbnRzLmVtaXQoXCJjb25uZWN0XCIpKX1hc3luYyBjbG9zZSgpe2F3YWl0IHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpfXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLmhhc1JlZ2lzdGVyZWRFdmVudExpc3RlbmVyc3x8KHRoaXMuY29ubmVjdGlvbi5vbihcInBheWxvYWRcIix0PT50aGlzLm9uUGF5bG9hZCh0KSksdGhpcy5jb25uZWN0aW9uLm9uKFwiY2xvc2VcIix0PT50aGlzLm9uQ2xvc2UodCkpLHRoaXMuY29ubmVjdGlvbi5vbihcImVycm9yXCIsdD0+dGhpcy5ldmVudHMuZW1pdChcImVycm9yXCIsdCkpLHRoaXMuY29ubmVjdGlvbi5vbihcInJlZ2lzdGVyX2Vycm9yXCIsdD0+dGhpcy5vbkNsb3NlKCkpLHRoaXMuaGFzUmVnaXN0ZXJlZEV2ZW50TGlzdGVuZXJzPSEwKX19ZXhwb3J0e28gYXMgSnNvblJwY1Byb3ZpZGVyLG8gYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IBaseJsonRpcProvider: () => (/* binding */ n),\n/* harmony export */   IEvents: () => (/* binding */ e),\n/* harmony export */   IJsonRpcConnection: () => (/* binding */ o),\n/* harmony export */   IJsonRpcProvider: () => (/* binding */ r)\n/* harmony export */ });\nclass e{}class o extends e{constructor(c){super()}}class n extends e{constructor(){super()}}class r extends n{constructor(c){super()}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy10eXBlcy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxTQUFTLGtCQUFrQixlQUFlLFNBQVMsa0JBQWtCLGNBQWMsU0FBUyxrQkFBa0IsZUFBZSxTQUFzRztBQUNuTyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXR5cGVzL2Rpc3QvaW5kZXguZXMuanM/MjRhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBle31jbGFzcyBvIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihjKXtzdXBlcigpfX1jbGFzcyBuIGV4dGVuZHMgZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIHIgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGMpe3N1cGVyKCl9fWV4cG9ydHtuIGFzIElCYXNlSnNvblJwY1Byb3ZpZGVyLGUgYXMgSUV2ZW50cyxvIGFzIElKc29uUnBjQ29ubmVjdGlvbixyIGFzIElKc29uUnBjUHJvdmlkZXJ9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ERROR: () => (/* binding */ DEFAULT_ERROR),\n/* harmony export */   INTERNAL_ERROR: () => (/* binding */ INTERNAL_ERROR),\n/* harmony export */   INVALID_PARAMS: () => (/* binding */ INVALID_PARAMS),\n/* harmony export */   INVALID_REQUEST: () => (/* binding */ INVALID_REQUEST),\n/* harmony export */   METHOD_NOT_FOUND: () => (/* binding */ METHOD_NOT_FOUND),\n/* harmony export */   PARSE_ERROR: () => (/* binding */ PARSE_ERROR),\n/* harmony export */   RESERVED_ERROR_CODES: () => (/* binding */ RESERVED_ERROR_CODES),\n/* harmony export */   SERVER_ERROR: () => (/* binding */ SERVER_ERROR),\n/* harmony export */   SERVER_ERROR_CODE_RANGE: () => (/* binding */ SERVER_ERROR_CODE_RANGE),\n/* harmony export */   STANDARD_ERROR_MAP: () => (/* binding */ STANDARD_ERROR_MAP)\n/* harmony export */ });\nconst PARSE_ERROR = \"PARSE_ERROR\";\nconst INVALID_REQUEST = \"INVALID_REQUEST\";\nconst METHOD_NOT_FOUND = \"METHOD_NOT_FOUND\";\nconst INVALID_PARAMS = \"INVALID_PARAMS\";\nconst INTERNAL_ERROR = \"INTERNAL_ERROR\";\nconst SERVER_ERROR = \"SERVER_ERROR\";\nconst RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];\nconst SERVER_ERROR_CODE_RANGE = [-32000, -32099];\nconst STANDARD_ERROR_MAP = {\n    [PARSE_ERROR]: { code: -32700, message: \"Parse error\" },\n    [INVALID_REQUEST]: { code: -32600, message: \"Invalid Request\" },\n    [METHOD_NOT_FOUND]: { code: -32601, message: \"Method not found\" },\n    [INVALID_PARAMS]: { code: -32602, message: \"Invalid params\" },\n    [INTERNAL_ERROR]: { code: -32603, message: \"Internal error\" },\n    [SERVER_ERROR]: { code: -32000, message: \"Server error\" },\n};\nconst DEFAULT_ERROR = SERVER_ERROR;\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQLHFCQUFxQixzQ0FBc0M7QUFDM0QseUJBQXlCLDBDQUEwQztBQUNuRSwwQkFBMEIsMkNBQTJDO0FBQ3JFLHdCQUF3Qix5Q0FBeUM7QUFDakUsd0JBQXdCLHlDQUF5QztBQUNqRSxzQkFBc0IsdUNBQXVDO0FBQzdEO0FBQ087QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL2NvbnN0YW50cy5qcz9jYzQ2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQQVJTRV9FUlJPUiA9IFwiUEFSU0VfRVJST1JcIjtcbmV4cG9ydCBjb25zdCBJTlZBTElEX1JFUVVFU1QgPSBcIklOVkFMSURfUkVRVUVTVFwiO1xuZXhwb3J0IGNvbnN0IE1FVEhPRF9OT1RfRk9VTkQgPSBcIk1FVEhPRF9OT1RfRk9VTkRcIjtcbmV4cG9ydCBjb25zdCBJTlZBTElEX1BBUkFNUyA9IFwiSU5WQUxJRF9QQVJBTVNcIjtcbmV4cG9ydCBjb25zdCBJTlRFUk5BTF9FUlJPUiA9IFwiSU5URVJOQUxfRVJST1JcIjtcbmV4cG9ydCBjb25zdCBTRVJWRVJfRVJST1IgPSBcIlNFUlZFUl9FUlJPUlwiO1xuZXhwb3J0IGNvbnN0IFJFU0VSVkVEX0VSUk9SX0NPREVTID0gWy0zMjcwMCwgLTMyNjAwLCAtMzI2MDEsIC0zMjYwMiwgLTMyNjAzXTtcbmV4cG9ydCBjb25zdCBTRVJWRVJfRVJST1JfQ09ERV9SQU5HRSA9IFstMzIwMDAsIC0zMjA5OV07XG5leHBvcnQgY29uc3QgU1RBTkRBUkRfRVJST1JfTUFQID0ge1xuICAgIFtQQVJTRV9FUlJPUl06IHsgY29kZTogLTMyNzAwLCBtZXNzYWdlOiBcIlBhcnNlIGVycm9yXCIgfSxcbiAgICBbSU5WQUxJRF9SRVFVRVNUXTogeyBjb2RlOiAtMzI2MDAsIG1lc3NhZ2U6IFwiSW52YWxpZCBSZXF1ZXN0XCIgfSxcbiAgICBbTUVUSE9EX05PVF9GT1VORF06IHsgY29kZTogLTMyNjAxLCBtZXNzYWdlOiBcIk1ldGhvZCBub3QgZm91bmRcIiB9LFxuICAgIFtJTlZBTElEX1BBUkFNU106IHsgY29kZTogLTMyNjAyLCBtZXNzYWdlOiBcIkludmFsaWQgcGFyYW1zXCIgfSxcbiAgICBbSU5URVJOQUxfRVJST1JdOiB7IGNvZGU6IC0zMjYwMywgbWVzc2FnZTogXCJJbnRlcm5hbCBlcnJvclwiIH0sXG4gICAgW1NFUlZFUl9FUlJPUl06IHsgY29kZTogLTMyMDAwLCBtZXNzYWdlOiBcIlNlcnZlciBlcnJvclwiIH0sXG59O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRVJST1IgPSBTRVJWRVJfRVJST1I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isNodeJs: () => (/* binding */ isNodeJs)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/environment */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"isNodeJs\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\nconst isNodeJs = _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__.isNode;\n\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9lbnYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9EO0FBQzdDLGlCQUFpQiw4REFBTTtBQUNhO0FBQzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vZW52LmpzPzk0N2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSBcIkB3YWxsZXRjb25uZWN0L2Vudmlyb25tZW50XCI7XG5leHBvcnQgY29uc3QgaXNOb2RlSnMgPSBpc05vZGU7XG5leHBvcnQgKiBmcm9tIFwiQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnRcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getError: () => (/* binding */ getError),\n/* harmony export */   getErrorByCode: () => (/* binding */ getErrorByCode),\n/* harmony export */   isReservedErrorCode: () => (/* binding */ isReservedErrorCode),\n/* harmony export */   isServerErrorCode: () => (/* binding */ isServerErrorCode),\n/* harmony export */   isValidErrorCode: () => (/* binding */ isValidErrorCode),\n/* harmony export */   parseConnectionError: () => (/* binding */ parseConnectionError),\n/* harmony export */   validateJsonRpcError: () => (/* binding */ validateJsonRpcError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n\nfunction isServerErrorCode(code) {\n    return code <= _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE[0] && code >= _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE[1];\n}\nfunction isReservedErrorCode(code) {\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.RESERVED_ERROR_CODES.includes(code);\n}\nfunction isValidErrorCode(code) {\n    return typeof code === \"number\";\n}\nfunction getError(type) {\n    if (!Object.keys(_constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP).includes(type)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR];\n    }\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[type];\n}\nfunction getErrorByCode(code) {\n    const match = Object.values(_constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP).find(e => e.code === code);\n    if (!match) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR];\n    }\n    return match;\n}\nfunction validateJsonRpcError(response) {\n    if (typeof response.error.code === \"undefined\") {\n        return { valid: false, error: \"Missing code for JSON-RPC error\" };\n    }\n    if (typeof response.error.message === \"undefined\") {\n        return { valid: false, error: \"Missing message for JSON-RPC error\" };\n    }\n    if (!isValidErrorCode(response.error.code)) {\n        return {\n            valid: false,\n            error: `Invalid error code type for JSON-RPC: ${response.error.code}`,\n        };\n    }\n    if (isReservedErrorCode(response.error.code)) {\n        const error = getErrorByCode(response.error.code);\n        if (error.message !== _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR].message &&\n            response.error.message === error.message) {\n            return {\n                valid: false,\n                error: `Invalid error code message for JSON-RPC: ${response.error.code}`,\n            };\n        }\n    }\n    return { valid: true };\n}\nfunction parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\")\n        ? new Error(`Unavailable ${type} RPC url at ${url}`)\n        : e;\n}\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFnSDtBQUN6RztBQUNQLG1CQUFtQiwrREFBdUIsZUFBZSwrREFBdUI7QUFDaEY7QUFDTztBQUNQLFdBQVcsNERBQW9CO0FBQy9CO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxxQkFBcUIsMERBQWtCO0FBQ3ZDLGVBQWUsMERBQWtCLENBQUMscURBQWE7QUFDL0M7QUFDQSxXQUFXLDBEQUFrQjtBQUM3QjtBQUNPO0FBQ1AsZ0NBQWdDLDBEQUFrQjtBQUNsRDtBQUNBLGVBQWUsMERBQWtCLENBQUMscURBQWE7QUFDL0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG9CQUFvQjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwREFBa0IsQ0FBQyxxREFBYTtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsb0JBQW9CO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQSxtQ0FBbUMsTUFBTSxhQUFhLElBQUk7QUFDMUQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vZXJyb3IuanM/OTdiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTRVJWRVJfRVJST1JfQ09ERV9SQU5HRSwgUkVTRVJWRURfRVJST1JfQ09ERVMsIFNUQU5EQVJEX0VSUk9SX01BUCwgREVGQVVMVF9FUlJPUiwgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1NlcnZlckVycm9yQ29kZShjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPD0gU0VSVkVSX0VSUk9SX0NPREVfUkFOR0VbMF0gJiYgY29kZSA+PSBTRVJWRVJfRVJST1JfQ09ERV9SQU5HRVsxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc2VydmVkRXJyb3JDb2RlKGNvZGUpIHtcbiAgICByZXR1cm4gUkVTRVJWRURfRVJST1JfQ09ERVMuaW5jbHVkZXMoY29kZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEVycm9yQ29kZShjb2RlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBjb2RlID09PSBcIm51bWJlclwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yKHR5cGUpIHtcbiAgICBpZiAoIU9iamVjdC5rZXlzKFNUQU5EQVJEX0VSUk9SX01BUCkuaW5jbHVkZXModHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIFNUQU5EQVJEX0VSUk9SX01BUFtERUZBVUxUX0VSUk9SXTtcbiAgICB9XG4gICAgcmV0dXJuIFNUQU5EQVJEX0VSUk9SX01BUFt0eXBlXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvckJ5Q29kZShjb2RlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBPYmplY3QudmFsdWVzKFNUQU5EQVJEX0VSUk9SX01BUCkuZmluZChlID0+IGUuY29kZSA9PT0gY29kZSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gU1RBTkRBUkRfRVJST1JfTUFQW0RFRkFVTFRfRVJST1JdO1xuICAgIH1cbiAgICByZXR1cm4gbWF0Y2g7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVKc29uUnBjRXJyb3IocmVzcG9uc2UpIHtcbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmVycm9yLmNvZGUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogXCJNaXNzaW5nIGNvZGUgZm9yIEpTT04tUlBDIGVycm9yXCIgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXNwb25zZS5lcnJvci5tZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6IFwiTWlzc2luZyBtZXNzYWdlIGZvciBKU09OLVJQQyBlcnJvclwiIH07XG4gICAgfVxuICAgIGlmICghaXNWYWxpZEVycm9yQ29kZShyZXNwb25zZS5lcnJvci5jb2RlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IGBJbnZhbGlkIGVycm9yIGNvZGUgdHlwZSBmb3IgSlNPTi1SUEM6ICR7cmVzcG9uc2UuZXJyb3IuY29kZX1gLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNSZXNlcnZlZEVycm9yQ29kZShyZXNwb25zZS5lcnJvci5jb2RlKSkge1xuICAgICAgICBjb25zdCBlcnJvciA9IGdldEVycm9yQnlDb2RlKHJlc3BvbnNlLmVycm9yLmNvZGUpO1xuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSAhPT0gU1RBTkRBUkRfRVJST1JfTUFQW0RFRkFVTFRfRVJST1JdLm1lc3NhZ2UgJiZcbiAgICAgICAgICAgIHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgPT09IGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiBgSW52YWxpZCBlcnJvciBjb2RlIG1lc3NhZ2UgZm9yIEpTT04tUlBDOiAke3Jlc3BvbnNlLmVycm9yLmNvZGV9YCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNvbm5lY3Rpb25FcnJvcihlLCB1cmwsIHR5cGUpIHtcbiAgICByZXR1cm4gZS5tZXNzYWdlLmluY2x1ZGVzKFwiZ2V0YWRkcmluZm8gRU5PVEZPVU5EXCIpIHx8IGUubWVzc2FnZS5pbmNsdWRlcyhcImNvbm5lY3QgRUNPTk5SRUZVU0VEXCIpXG4gICAgICAgID8gbmV3IEVycm9yKGBVbmF2YWlsYWJsZSAke3R5cGV9IFJQQyB1cmwgYXQgJHt1cmx9YClcbiAgICAgICAgOiBlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatErrorMessage: () => (/* binding */ formatErrorMessage),\n/* harmony export */   formatJsonRpcError: () => (/* binding */ formatJsonRpcError),\n/* harmony export */   formatJsonRpcRequest: () => (/* binding */ formatJsonRpcRequest),\n/* harmony export */   formatJsonRpcResult: () => (/* binding */ formatJsonRpcResult),\n/* harmony export */   getBigIntRpcId: () => (/* binding */ getBigIntRpcId),\n/* harmony export */   payloadId: () => (/* binding */ payloadId)\n/* harmony export */ });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n\n\nfunction payloadId(entropy = 3) {\n    const date = Date.now() * Math.pow(10, entropy);\n    const extra = Math.floor(Math.random() * Math.pow(10, entropy));\n    return date + extra;\n}\nfunction getBigIntRpcId(entropy = 6) {\n    return BigInt(payloadId(entropy));\n}\nfunction formatJsonRpcRequest(method, params, id) {\n    return {\n        id: id || payloadId(),\n        jsonrpc: \"2.0\",\n        method,\n        params,\n    };\n}\nfunction formatJsonRpcResult(id, result) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        result,\n    };\n}\nfunction formatJsonRpcError(id, error, data) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        error: formatErrorMessage(error, data),\n    };\n}\nfunction formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n        return (0,_error__WEBPACK_IMPORTED_MODULE_0__.getError)(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n        error = Object.assign(Object.assign({}, (0,_error__WEBPACK_IMPORTED_MODULE_0__.getError)(_constants__WEBPACK_IMPORTED_MODULE_1__.SERVER_ERROR)), { message: error });\n    }\n    if (typeof data !== \"undefined\") {\n        error.data = data;\n    }\n    if ((0,_error__WEBPACK_IMPORTED_MODULE_0__.isReservedErrorCode)(error.code)) {\n        error = (0,_error__WEBPACK_IMPORTED_MODULE_0__.getErrorByCode)(error.code);\n    }\n    return error;\n}\n//# sourceMappingURL=format.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9mb3JtYXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBd0U7QUFDYjtBQUNwRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsZUFBZSxnREFBUSxDQUFDLHNEQUFjO0FBQ3RDO0FBQ0E7QUFDQSw4Q0FBOEMsRUFBRSxnREFBUSxDQUFDLG9EQUFZLE1BQU0sZ0JBQWdCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBbUI7QUFDM0IsZ0JBQWdCLHNEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vZm9ybWF0LmpzPzcxMjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RXJyb3IsIGdldEVycm9yQnlDb2RlLCBpc1Jlc2VydmVkRXJyb3JDb2RlIH0gZnJvbSBcIi4vZXJyb3JcIjtcbmltcG9ydCB7IElOVEVSTkFMX0VSUk9SLCBTRVJWRVJfRVJST1IgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXlsb2FkSWQoZW50cm9weSA9IDMpIHtcbiAgICBjb25zdCBkYXRlID0gRGF0ZS5ub3coKSAqIE1hdGgucG93KDEwLCBlbnRyb3B5KTtcbiAgICBjb25zdCBleHRyYSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDEwLCBlbnRyb3B5KSk7XG4gICAgcmV0dXJuIGRhdGUgKyBleHRyYTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRCaWdJbnRScGNJZChlbnRyb3B5ID0gNikge1xuICAgIHJldHVybiBCaWdJbnQocGF5bG9hZElkKGVudHJvcHkpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRKc29uUnBjUmVxdWVzdChtZXRob2QsIHBhcmFtcywgaWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogaWQgfHwgcGF5bG9hZElkKCksXG4gICAgICAgIGpzb25ycGM6IFwiMi4wXCIsXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGFyYW1zLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0SnNvblJwY1Jlc3VsdChpZCwgcmVzdWx0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIGpzb25ycGM6IFwiMi4wXCIsXG4gICAgICAgIHJlc3VsdCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEpzb25ScGNFcnJvcihpZCwgZXJyb3IsIGRhdGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZCxcbiAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgZXJyb3I6IGZvcm1hdEVycm9yTWVzc2FnZShlcnJvciwgZGF0YSksXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFcnJvck1lc3NhZ2UoZXJyb3IsIGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGVycm9yID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnZXRFcnJvcihJTlRFUk5BTF9FUlJPUik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZXJyb3IgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGdldEVycm9yKFNFUlZFUl9FUlJPUikpLCB7IG1lc3NhZ2U6IGVycm9yIH0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZXJyb3IuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIGlmIChpc1Jlc2VydmVkRXJyb3JDb2RlKGVycm9yLmNvZGUpKSB7XG4gICAgICAgIGVycm9yID0gZ2V0RXJyb3JCeUNvZGUoZXJyb3IuY29kZSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcm1hdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR),\n/* harmony export */   IBaseJsonRpcProvider: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IBaseJsonRpcProvider),\n/* harmony export */   IEvents: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IEvents),\n/* harmony export */   IJsonRpcConnection: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IJsonRpcConnection),\n/* harmony export */   IJsonRpcProvider: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IJsonRpcProvider),\n/* harmony export */   INTERNAL_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_ERROR),\n/* harmony export */   INVALID_PARAMS: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INVALID_PARAMS),\n/* harmony export */   INVALID_REQUEST: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INVALID_REQUEST),\n/* harmony export */   METHOD_NOT_FOUND: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.METHOD_NOT_FOUND),\n/* harmony export */   PARSE_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.PARSE_ERROR),\n/* harmony export */   RESERVED_ERROR_CODES: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.RESERVED_ERROR_CODES),\n/* harmony export */   SERVER_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR),\n/* harmony export */   SERVER_ERROR_CODE_RANGE: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE),\n/* harmony export */   STANDARD_ERROR_MAP: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP),\n/* harmony export */   formatErrorMessage: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatErrorMessage),\n/* harmony export */   formatJsonRpcError: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError),\n/* harmony export */   formatJsonRpcRequest: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest),\n/* harmony export */   formatJsonRpcResult: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult),\n/* harmony export */   getBigIntRpcId: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId),\n/* harmony export */   getError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.getError),\n/* harmony export */   getErrorByCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.getErrorByCode),\n/* harmony export */   isHttpUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isHttpUrl),\n/* harmony export */   isJsonRpcError: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcError),\n/* harmony export */   isJsonRpcPayload: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcPayload),\n/* harmony export */   isJsonRpcRequest: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcRequest),\n/* harmony export */   isJsonRpcResponse: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcResponse),\n/* harmony export */   isJsonRpcResult: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcResult),\n/* harmony export */   isJsonRpcValidationInvalid: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcValidationInvalid),\n/* harmony export */   isLocalhostUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isLocalhostUrl),\n/* harmony export */   isReservedErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isReservedErrorCode),\n/* harmony export */   isServerErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isServerErrorCode),\n/* harmony export */   isValidDefaultRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidDefaultRoute),\n/* harmony export */   isValidErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isValidErrorCode),\n/* harmony export */   isValidLeadingWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidLeadingWildcardRoute),\n/* harmony export */   isValidRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidRoute),\n/* harmony export */   isValidTrailingWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidTrailingWildcardRoute),\n/* harmony export */   isValidWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidWildcardRoute),\n/* harmony export */   isWsUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isWsUrl),\n/* harmony export */   parseConnectionError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.parseConnectionError),\n/* harmony export */   payloadId: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.payloadId),\n/* harmony export */   validateJsonRpcError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.validateJsonRpcError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\");\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./env */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _env__WEBPACK_IMPORTED_MODULE_2__) if([\"default\",\"DEFAULT_ERROR\",\"INTERNAL_ERROR\",\"INVALID_PARAMS\",\"INVALID_REQUEST\",\"METHOD_NOT_FOUND\",\"PARSE_ERROR\",\"RESERVED_ERROR_CODES\",\"SERVER_ERROR\",\"SERVER_ERROR_CODE_RANGE\",\"STANDARD_ERROR_MAP\",\"getError\",\"getErrorByCode\",\"isReservedErrorCode\",\"isServerErrorCode\",\"isValidErrorCode\",\"parseConnectionError\",\"validateJsonRpcError\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _env__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./format */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js\");\n/* harmony import */ var _routing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routing */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js\");\n/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./url */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js\");\n/* harmony import */ var _validators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./validators */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js\");\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRCO0FBQ0o7QUFDRjtBQUNHO0FBQ0M7QUFDRjtBQUNGO0FBQ087QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9pbmRleC5qcz80YTkwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZXJyb3JcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2VudlwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZm9ybWF0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9yb3V0aW5nXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90eXBlc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdXJsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi92YWxpZGF0b3JzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isValidDefaultRoute: () => (/* binding */ isValidDefaultRoute),\n/* harmony export */   isValidLeadingWildcardRoute: () => (/* binding */ isValidLeadingWildcardRoute),\n/* harmony export */   isValidRoute: () => (/* binding */ isValidRoute),\n/* harmony export */   isValidTrailingWildcardRoute: () => (/* binding */ isValidTrailingWildcardRoute),\n/* harmony export */   isValidWildcardRoute: () => (/* binding */ isValidWildcardRoute)\n/* harmony export */ });\nfunction isValidRoute(route) {\n    if (route.includes(\"*\")) {\n        return isValidWildcardRoute(route);\n    }\n    if (/\\W/g.test(route)) {\n        return false;\n    }\n    return true;\n}\nfunction isValidDefaultRoute(route) {\n    return route === \"*\";\n}\nfunction isValidWildcardRoute(route) {\n    if (isValidDefaultRoute(route)) {\n        return true;\n    }\n    if (!route.includes(\"*\")) {\n        return false;\n    }\n    if (route.split(\"*\").length !== 2) {\n        return false;\n    }\n    if (route.split(\"*\").filter(x => x.trim() === \"\").length !== 1) {\n        return false;\n    }\n    return true;\n}\nfunction isValidLeadingWildcardRoute(route) {\n    return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split(\"*\")[0].trim();\n}\nfunction isValidTrailingWildcardRoute(route) {\n    return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split(\"*\")[1].trim();\n}\n//# sourceMappingURL=routing.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9yb3V0aW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9yb3V0aW5nLmpzPzVkMzgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRSb3V0ZShyb3V0ZSkge1xuICAgIGlmIChyb3V0ZS5pbmNsdWRlcyhcIipcIikpIHtcbiAgICAgICAgcmV0dXJuIGlzVmFsaWRXaWxkY2FyZFJvdXRlKHJvdXRlKTtcbiAgICB9XG4gICAgaWYgKC9cXFcvZy50ZXN0KHJvdXRlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWREZWZhdWx0Um91dGUocm91dGUpIHtcbiAgICByZXR1cm4gcm91dGUgPT09IFwiKlwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRXaWxkY2FyZFJvdXRlKHJvdXRlKSB7XG4gICAgaWYgKGlzVmFsaWREZWZhdWx0Um91dGUocm91dGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXJvdXRlLmluY2x1ZGVzKFwiKlwiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5zcGxpdChcIipcIikubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLnNwbGl0KFwiKlwiKS5maWx0ZXIoeCA9PiB4LnRyaW0oKSA9PT0gXCJcIikubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZExlYWRpbmdXaWxkY2FyZFJvdXRlKHJvdXRlKSB7XG4gICAgcmV0dXJuICFpc1ZhbGlkRGVmYXVsdFJvdXRlKHJvdXRlKSAmJiBpc1ZhbGlkV2lsZGNhcmRSb3V0ZShyb3V0ZSkgJiYgIXJvdXRlLnNwbGl0KFwiKlwiKVswXS50cmltKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFRyYWlsaW5nV2lsZGNhcmRSb3V0ZShyb3V0ZSkge1xuICAgIHJldHVybiAhaXNWYWxpZERlZmF1bHRSb3V0ZShyb3V0ZSkgJiYgaXNWYWxpZFdpbGRjYXJkUm91dGUocm91dGUpICYmICFyb3V0ZS5zcGxpdChcIipcIilbMV0udHJpbSgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGluZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IBaseJsonRpcProvider: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IBaseJsonRpcProvider),\n/* harmony export */   IEvents: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IEvents),\n/* harmony export */   IJsonRpcConnection: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IJsonRpcConnection),\n/* harmony export */   IJsonRpcProvider: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IJsonRpcProvider)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/jsonrpc-types */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js\");\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE2QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL3R5cGVzLmpzPzRkMDkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdHlwZXNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHttpUrl: () => (/* binding */ isHttpUrl),\n/* harmony export */   isLocalhostUrl: () => (/* binding */ isLocalhostUrl),\n/* harmony export */   isWsUrl: () => (/* binding */ isWsUrl)\n/* harmony export */ });\nconst HTTP_REGEX = \"^https?:\";\nconst WS_REGEX = \"^wss?:\";\nfunction getUrlProtocol(url) {\n    const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!matches || !matches.length)\n        return;\n    return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n    const protocol = getUrlProtocol(url);\n    if (typeof protocol === \"undefined\")\n        return false;\n    return new RegExp(regex).test(protocol);\n}\nfunction isHttpUrl(url) {\n    return matchRegexProtocol(url, HTTP_REGEX);\n}\nfunction isWsUrl(url) {\n    return matchRegexProtocol(url, WS_REGEX);\n}\nfunction isLocalhostUrl(url) {\n    return new RegExp(\"wss?://localhost(:d{2,5})?\").test(url);\n}\n//# sourceMappingURL=url.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS91cmwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AsMkNBQTJDLElBQUk7QUFDL0M7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL3VybC5qcz9mYWQ4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEhUVFBfUkVHRVggPSBcIl5odHRwcz86XCI7XG5jb25zdCBXU19SRUdFWCA9IFwiXndzcz86XCI7XG5mdW5jdGlvbiBnZXRVcmxQcm90b2NvbCh1cmwpIHtcbiAgICBjb25zdCBtYXRjaGVzID0gdXJsLm1hdGNoKG5ldyBSZWdFeHAoL15cXHcrOi8sIFwiZ2lcIikpO1xuICAgIGlmICghbWF0Y2hlcyB8fCAhbWF0Y2hlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICByZXR1cm4gbWF0Y2hlc1swXTtcbn1cbmZ1bmN0aW9uIG1hdGNoUmVnZXhQcm90b2NvbCh1cmwsIHJlZ2V4KSB7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBnZXRVcmxQcm90b2NvbCh1cmwpO1xuICAgIGlmICh0eXBlb2YgcHJvdG9jb2wgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleCkudGVzdChwcm90b2NvbCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNIdHRwVXJsKHVybCkge1xuICAgIHJldHVybiBtYXRjaFJlZ2V4UHJvdG9jb2wodXJsLCBIVFRQX1JFR0VYKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1dzVXJsKHVybCkge1xuICAgIHJldHVybiBtYXRjaFJlZ2V4UHJvdG9jb2wodXJsLCBXU19SRUdFWCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNMb2NhbGhvc3RVcmwodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJ3c3M/Oi8vbG9jYWxob3N0KDpkezIsNX0pP1wiKS50ZXN0KHVybCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isJsonRpcError: () => (/* binding */ isJsonRpcError),\n/* harmony export */   isJsonRpcPayload: () => (/* binding */ isJsonRpcPayload),\n/* harmony export */   isJsonRpcRequest: () => (/* binding */ isJsonRpcRequest),\n/* harmony export */   isJsonRpcResponse: () => (/* binding */ isJsonRpcResponse),\n/* harmony export */   isJsonRpcResult: () => (/* binding */ isJsonRpcResult),\n/* harmony export */   isJsonRpcValidationInvalid: () => (/* binding */ isJsonRpcValidationInvalid)\n/* harmony export */ });\nfunction isJsonRpcPayload(payload) {\n    return (typeof payload === \"object\" &&\n        \"id\" in payload &&\n        \"jsonrpc\" in payload &&\n        payload.jsonrpc === \"2.0\");\n}\nfunction isJsonRpcRequest(payload) {\n    return isJsonRpcPayload(payload) && \"method\" in payload;\n}\nfunction isJsonRpcResponse(payload) {\n    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));\n}\nfunction isJsonRpcResult(payload) {\n    return \"result\" in payload;\n}\nfunction isJsonRpcError(payload) {\n    return \"error\" in payload;\n}\nfunction isJsonRpcValidationInvalid(validation) {\n    return \"error\" in validation && validation.valid === false;\n}\n//# sourceMappingURL=validators.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS92YWxpZGF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vdmFsaWRhdG9ycy5qcz83ZGUyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNQYXlsb2FkKHBheWxvYWQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBwYXlsb2FkID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIFwiaWRcIiBpbiBwYXlsb2FkICYmXG4gICAgICAgIFwianNvbnJwY1wiIGluIHBheWxvYWQgJiZcbiAgICAgICAgcGF5bG9hZC5qc29ucnBjID09PSBcIjIuMFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNSZXF1ZXN0KHBheWxvYWQpIHtcbiAgICByZXR1cm4gaXNKc29uUnBjUGF5bG9hZChwYXlsb2FkKSAmJiBcIm1ldGhvZFwiIGluIHBheWxvYWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNKc29uUnBjUmVzcG9uc2UocGF5bG9hZCkge1xuICAgIHJldHVybiBpc0pzb25ScGNQYXlsb2FkKHBheWxvYWQpICYmIChpc0pzb25ScGNSZXN1bHQocGF5bG9hZCkgfHwgaXNKc29uUnBjRXJyb3IocGF5bG9hZCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblJwY1Jlc3VsdChwYXlsb2FkKSB7XG4gICAgcmV0dXJuIFwicmVzdWx0XCIgaW4gcGF5bG9hZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNFcnJvcihwYXlsb2FkKSB7XG4gICAgcmV0dXJuIFwiZXJyb3JcIiBpbiBwYXlsb2FkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblJwY1ZhbGlkYXRpb25JbnZhbGlkKHZhbGlkYXRpb24pIHtcbiAgICByZXR1cm4gXCJlcnJvclwiIGluIHZhbGlkYXRpb24gJiYgdmFsaWRhdGlvbi52YWxpZCA9PT0gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0b3JzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WsConnection: () => (/* binding */ f),\n/* harmony export */   \"default\": () => (/* binding */ f)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst v=()=>typeof WebSocket<\"u\"?WebSocket:typeof global<\"u\"&&typeof global.WebSocket<\"u\"?global.WebSocket:typeof window<\"u\"&&typeof window.WebSocket<\"u\"?window.WebSocket:typeof self<\"u\"&&typeof self.WebSocket<\"u\"?self.WebSocket:__webpack_require__(/*! ws */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/index.js\"),w=()=>typeof WebSocket<\"u\"||typeof global<\"u\"&&typeof global.WebSocket<\"u\"||typeof window<\"u\"&&typeof window.WebSocket<\"u\"||typeof self<\"u\"&&typeof self.WebSocket<\"u\",d=r=>r.split(\"?\")[0],h=10,b=v();class f{constructor(e){if(this.url=e,this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.registering=!1,!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<\"u\"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>\"u\"){t(new Error(\"Connection already closed\"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>\"u\"&&(this.socket=await this.register());try{this.socket.send((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount(\"register_error\")>=t||this.events.listenerCount(\"open\")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,s)=>{this.events.once(\"register_error\",o=>{this.resetMaxListeners(),s(o)}),this.events.once(\"open\",()=>{if(this.resetMaxListeners(),typeof this.socket>\"u\")return s(new Error(\"WebSocket connection is missing or invalid\"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isReactNative)()?void 0:{rejectUnauthorized:!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isLocalhostUrl)(e)},o=new b(e,[],s);w()?o.onerror=i=>{const a=i;n(this.emitError(a.error))}:o.on(\"error\",i=>{n(this.emitError(i))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit(\"open\")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit(\"close\",e)}onPayload(e){if(typeof e.data>\"u\")return;const t=typeof e.data==\"string\"?(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonParse)(e.data):e.data;this.events.emit(\"payload\",t)}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.formatJsonRpcError)(e,s);this.events.emit(\"payload\",o)}parseError(e,t=this.url){return (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.parseConnectionError)(e,d(t),\"WS\")}resetMaxListeners(){this.events.getMaxListeners()>h&&this.events.setMaxListeners(h)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${d(this.url)}`));return this.events.emit(\"register_error\",t),t}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNRLHFPQUFxTyxtQkFBTyxDQUFDLDhGQUFJLHlNQUF5TSxRQUFRLGVBQWUsOEJBQThCLGdEQUFDLHNCQUFzQixxRUFBQyxpRkFBaUYsRUFBRSxHQUFHLFdBQVcsZ0JBQWdCLDhCQUE4QixpQkFBaUIsd0JBQXdCLFFBQVEsb0JBQW9CLFVBQVUsc0JBQXNCLFNBQVMscUJBQXFCLG9CQUFvQixnQ0FBZ0MsdUJBQXVCLHVCQUF1QixjQUFjLDJCQUEyQiwyQkFBMkIsMENBQTBDLE9BQU8sd0JBQXdCLG9CQUFvQixxQkFBcUIsRUFBRSxjQUFjLDREQUE0RCxJQUFJLGlCQUFpQiwyRUFBQyxLQUFLLFNBQVMsc0JBQXNCLHFCQUFxQixJQUFJLHFFQUFDLGlGQUFpRixFQUFFLEdBQUcscUJBQXFCLHNDQUFzQyxtSkFBbUosc0NBQXNDLDhCQUE4QiwrQkFBK0IscUhBQXFILGVBQWUsRUFBRSxFQUFFLDBEQUEwRCxRQUFRLDJFQUFDLFdBQVcsb0JBQW9CLDRFQUFDLElBQUksaUJBQWlCLGtCQUFrQixVQUFVLDJCQUEyQixrQkFBa0IscUJBQXFCLGdCQUFnQixxQkFBcUIsRUFBRSxVQUFVLHlIQUF5SCxXQUFXLG1FQUFtRSxhQUFhLDRCQUE0QixnQ0FBZ0MsdUVBQUMsZ0JBQWdCLDhCQUE4QixhQUFhLHVEQUF1RCxnRkFBQyxNQUFNLDhCQUE4Qix5QkFBeUIsT0FBTyxrRkFBQyxjQUFjLG9CQUFvQixnRUFBZ0UsYUFBYSx1RkFBdUYsWUFBWSxJQUFJLCtDQUFzRjtBQUNsK0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL2Rpc3QvaW5kZXguZXMuanM/YzI5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7RXZlbnRFbWl0dGVyIGFzIGx9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e3NhZmVKc29uU3RyaW5naWZ5IGFzIHUsc2FmZUpzb25QYXJzZSBhcyBwfWZyb21cIkB3YWxsZXRjb25uZWN0L3NhZmUtanNvblwiO2ltcG9ydHtpc1dzVXJsIGFzIGMsaXNSZWFjdE5hdGl2ZSBhcyBnLGlzTG9jYWxob3N0VXJsIGFzIHksZm9ybWF0SnNvblJwY0Vycm9yIGFzIGsscGFyc2VDb25uZWN0aW9uRXJyb3IgYXMgbX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7Y29uc3Qgdj0oKT0+dHlwZW9mIFdlYlNvY2tldDxcInVcIj9XZWJTb2NrZXQ6dHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mIGdsb2JhbC5XZWJTb2NrZXQ8XCJ1XCI/Z2xvYmFsLldlYlNvY2tldDp0eXBlb2Ygd2luZG93PFwidVwiJiZ0eXBlb2Ygd2luZG93LldlYlNvY2tldDxcInVcIj93aW5kb3cuV2ViU29ja2V0OnR5cGVvZiBzZWxmPFwidVwiJiZ0eXBlb2Ygc2VsZi5XZWJTb2NrZXQ8XCJ1XCI/c2VsZi5XZWJTb2NrZXQ6cmVxdWlyZShcIndzXCIpLHc9KCk9PnR5cGVvZiBXZWJTb2NrZXQ8XCJ1XCJ8fHR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZiBnbG9iYWwuV2ViU29ja2V0PFwidVwifHx0eXBlb2Ygd2luZG93PFwidVwiJiZ0eXBlb2Ygd2luZG93LldlYlNvY2tldDxcInVcInx8dHlwZW9mIHNlbGY8XCJ1XCImJnR5cGVvZiBzZWxmLldlYlNvY2tldDxcInVcIixkPXI9PnIuc3BsaXQoXCI/XCIpWzBdLGg9MTAsYj12KCk7Y2xhc3MgZntjb25zdHJ1Y3RvcihlKXtpZih0aGlzLnVybD1lLHRoaXMuZXZlbnRzPW5ldyBsLHRoaXMucmVnaXN0ZXJpbmc9ITEsIWMoZSkpdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBVUkwgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBXZWJTb2NrZXQgY29ubmVjdGlvbjogJHtlfWApO3RoaXMudXJsPWV9Z2V0IGNvbm5lY3RlZCgpe3JldHVybiB0eXBlb2YgdGhpcy5zb2NrZXQ8XCJ1XCJ9Z2V0IGNvbm5lY3RpbmcoKXtyZXR1cm4gdGhpcy5yZWdpc3RlcmluZ31vbihlLHQpe3RoaXMuZXZlbnRzLm9uKGUsdCl9b25jZShlLHQpe3RoaXMuZXZlbnRzLm9uY2UoZSx0KX1vZmYoZSx0KXt0aGlzLmV2ZW50cy5vZmYoZSx0KX1yZW1vdmVMaXN0ZW5lcihlLHQpe3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGUsdCl9YXN5bmMgb3BlbihlPXRoaXMudXJsKXthd2FpdCB0aGlzLnJlZ2lzdGVyKGUpfWFzeW5jIGNsb3NlKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHQpPT57aWYodHlwZW9mIHRoaXMuc29ja2V0PlwidVwiKXt0KG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gYWxyZWFkeSBjbG9zZWRcIikpO3JldHVybn10aGlzLnNvY2tldC5vbmNsb3NlPW49Pnt0aGlzLm9uQ2xvc2UobiksZSgpfSx0aGlzLnNvY2tldC5jbG9zZSgpfSl9YXN5bmMgc2VuZChlKXt0eXBlb2YgdGhpcy5zb2NrZXQ+XCJ1XCImJih0aGlzLnNvY2tldD1hd2FpdCB0aGlzLnJlZ2lzdGVyKCkpO3RyeXt0aGlzLnNvY2tldC5zZW5kKHUoZSkpfWNhdGNoKHQpe3RoaXMub25FcnJvcihlLmlkLHQpfX1yZWdpc3RlcihlPXRoaXMudXJsKXtpZighYyhlKSl0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIFVSTCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFdlYlNvY2tldCBjb25uZWN0aW9uOiAke2V9YCk7aWYodGhpcy5yZWdpc3RlcmluZyl7Y29uc3QgdD10aGlzLmV2ZW50cy5nZXRNYXhMaXN0ZW5lcnMoKTtyZXR1cm4odGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChcInJlZ2lzdGVyX2Vycm9yXCIpPj10fHx0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KFwib3BlblwiKT49dCkmJnRoaXMuZXZlbnRzLnNldE1heExpc3RlbmVycyh0KzEpLG5ldyBQcm9taXNlKChuLHMpPT57dGhpcy5ldmVudHMub25jZShcInJlZ2lzdGVyX2Vycm9yXCIsbz0+e3RoaXMucmVzZXRNYXhMaXN0ZW5lcnMoKSxzKG8pfSksdGhpcy5ldmVudHMub25jZShcIm9wZW5cIiwoKT0+e2lmKHRoaXMucmVzZXRNYXhMaXN0ZW5lcnMoKSx0eXBlb2YgdGhpcy5zb2NrZXQ+XCJ1XCIpcmV0dXJuIHMobmV3IEVycm9yKFwiV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgbWlzc2luZyBvciBpbnZhbGlkXCIpKTtuKHRoaXMuc29ja2V0KX0pfSl9cmV0dXJuIHRoaXMudXJsPWUsdGhpcy5yZWdpc3RlcmluZz0hMCxuZXcgUHJvbWlzZSgodCxuKT0+e2NvbnN0IHM9ZygpP3ZvaWQgMDp7cmVqZWN0VW5hdXRob3JpemVkOiF5KGUpfSxvPW5ldyBiKGUsW10scyk7dygpP28ub25lcnJvcj1pPT57Y29uc3QgYT1pO24odGhpcy5lbWl0RXJyb3IoYS5lcnJvcikpfTpvLm9uKFwiZXJyb3JcIixpPT57bih0aGlzLmVtaXRFcnJvcihpKSl9KSxvLm9ub3Blbj0oKT0+e3RoaXMub25PcGVuKG8pLHQobyl9fSl9b25PcGVuKGUpe2Uub25tZXNzYWdlPXQ9PnRoaXMub25QYXlsb2FkKHQpLGUub25jbG9zZT10PT50aGlzLm9uQ2xvc2UodCksdGhpcy5zb2NrZXQ9ZSx0aGlzLnJlZ2lzdGVyaW5nPSExLHRoaXMuZXZlbnRzLmVtaXQoXCJvcGVuXCIpfW9uQ2xvc2UoZSl7dGhpcy5zb2NrZXQ9dm9pZCAwLHRoaXMucmVnaXN0ZXJpbmc9ITEsdGhpcy5ldmVudHMuZW1pdChcImNsb3NlXCIsZSl9b25QYXlsb2FkKGUpe2lmKHR5cGVvZiBlLmRhdGE+XCJ1XCIpcmV0dXJuO2NvbnN0IHQ9dHlwZW9mIGUuZGF0YT09XCJzdHJpbmdcIj9wKGUuZGF0YSk6ZS5kYXRhO3RoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsdCl9b25FcnJvcihlLHQpe2NvbnN0IG49dGhpcy5wYXJzZUVycm9yKHQpLHM9bi5tZXNzYWdlfHxuLnRvU3RyaW5nKCksbz1rKGUscyk7dGhpcy5ldmVudHMuZW1pdChcInBheWxvYWRcIixvKX1wYXJzZUVycm9yKGUsdD10aGlzLnVybCl7cmV0dXJuIG0oZSxkKHQpLFwiV1NcIil9cmVzZXRNYXhMaXN0ZW5lcnMoKXt0aGlzLmV2ZW50cy5nZXRNYXhMaXN0ZW5lcnMoKT5oJiZ0aGlzLmV2ZW50cy5zZXRNYXhMaXN0ZW5lcnMoaCl9ZW1pdEVycm9yKGUpe2NvbnN0IHQ9dGhpcy5wYXJzZUVycm9yKG5ldyBFcnJvcihlPy5tZXNzYWdlfHxgV2ViU29ja2V0IGNvbm5lY3Rpb24gZmFpbGVkIGZvciBob3N0OiAke2QodGhpcy51cmwpfWApKTtyZXR1cm4gdGhpcy5ldmVudHMuZW1pdChcInJlZ2lzdGVyX2Vycm9yXCIsdCksdH19ZXhwb3J0e2YgYXMgV3NDb25uZWN0aW9uLGYgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/index.js ***!
  \************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst WebSocket = __webpack_require__(/*! ./lib/websocket */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js\");\n\nWebSocket.createWebSocketStream = __webpack_require__(/*! ./lib/stream */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/stream.js\");\nWebSocket.Server = __webpack_require__(/*! ./lib/websocket-server */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket-server.js\");\nWebSocket.Receiver = __webpack_require__(/*! ./lib/receiver */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js\");\nWebSocket.Sender = __webpack_require__(/*! ./lib/sender */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js\");\n\nmodule.exports = WebSocket;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixrQkFBa0IsbUJBQU8sQ0FBQyxtSEFBaUI7O0FBRTNDLGtDQUFrQyxtQkFBTyxDQUFDLDZHQUFjO0FBQ3hELG1CQUFtQixtQkFBTyxDQUFDLGlJQUF3QjtBQUNuRCxxQkFBcUIsbUJBQU8sQ0FBQyxpSEFBZ0I7QUFDN0MsbUJBQW1CLG1CQUFPLENBQUMsNkdBQWM7O0FBRXpDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvaW5kZXguanM/ODQzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IFdlYlNvY2tldCA9IHJlcXVpcmUoJy4vbGliL3dlYnNvY2tldCcpO1xuXG5XZWJTb2NrZXQuY3JlYXRlV2ViU29ja2V0U3RyZWFtID0gcmVxdWlyZSgnLi9saWIvc3RyZWFtJyk7XG5XZWJTb2NrZXQuU2VydmVyID0gcmVxdWlyZSgnLi9saWIvd2Vic29ja2V0LXNlcnZlcicpO1xuV2ViU29ja2V0LlJlY2VpdmVyID0gcmVxdWlyZSgnLi9saWIvcmVjZWl2ZXInKTtcbldlYlNvY2tldC5TZW5kZXIgPSByZXF1aXJlKCcuL2xpYi9zZW5kZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWJTb2NrZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst { EMPTY_BUFFER } = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (let i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\ntry {\n  const bufferUtil = __webpack_require__(/*! bufferutil */ \"(ssr)/./node_modules/bufferutil/index.js\");\n  const bu = bufferUtil.BufferUtil || bufferUtil;\n\n  module.exports = {\n    concat,\n    mask(source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bu.mask(source, mask, output, offset, length);\n    },\n    toArrayBuffer,\n    toBuffer,\n    unmask(buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bu.unmask(buffer, mask);\n    }\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = {\n    concat,\n    mask: _mask,\n    toArrayBuffer,\n    toBuffer,\n    unmask: _unmask\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvYnVmZmVyLXV0aWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsUUFBUSxlQUFlLEVBQUUsbUJBQU8sQ0FBQywrR0FBYTs7QUFFOUM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxZQUFZLFFBQVE7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyw0REFBWTtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvYnVmZmVyLXV0aWwuanM/NTQyYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHsgRU1QVFlfQlVGRkVSIH0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuXG4vKipcbiAqIE1lcmdlcyBhbiBhcnJheSBvZiBidWZmZXJzIGludG8gYSBuZXcgYnVmZmVyLlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyW119IGxpc3QgVGhlIGFycmF5IG9mIGJ1ZmZlcnMgdG8gY29uY2F0XG4gKiBAcGFyYW0ge051bWJlcn0gdG90YWxMZW5ndGggVGhlIHRvdGFsIGxlbmd0aCBvZiBidWZmZXJzIGluIHRoZSBsaXN0XG4gKiBAcmV0dXJuIHtCdWZmZXJ9IFRoZSByZXN1bHRpbmcgYnVmZmVyXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGNvbmNhdChsaXN0LCB0b3RhbExlbmd0aCkge1xuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHJldHVybiBFTVBUWV9CVUZGRVI7XG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkgcmV0dXJuIGxpc3RbMF07XG5cbiAgY29uc3QgdGFyZ2V0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKHRvdGFsTGVuZ3RoKTtcbiAgbGV0IG9mZnNldCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYnVmID0gbGlzdFtpXTtcbiAgICB0YXJnZXQuc2V0KGJ1Ziwgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gYnVmLmxlbmd0aDtcbiAgfVxuXG4gIGlmIChvZmZzZXQgPCB0b3RhbExlbmd0aCkgcmV0dXJuIHRhcmdldC5zbGljZSgwLCBvZmZzZXQpO1xuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogTWFza3MgYSBidWZmZXIgdXNpbmcgdGhlIGdpdmVuIG1hc2suXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IHNvdXJjZSBUaGUgYnVmZmVyIHRvIG1hc2tcbiAqIEBwYXJhbSB7QnVmZmVyfSBtYXNrIFRoZSBtYXNrIHRvIHVzZVxuICogQHBhcmFtIHtCdWZmZXJ9IG91dHB1dCBUaGUgYnVmZmVyIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCB3cml0aW5nXG4gKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIFRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gbWFzay5cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gX21hc2soc291cmNlLCBtYXNrLCBvdXRwdXQsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRbb2Zmc2V0ICsgaV0gPSBzb3VyY2VbaV0gXiBtYXNrW2kgJiAzXTtcbiAgfVxufVxuXG4vKipcbiAqIFVubWFza3MgYSBidWZmZXIgdXNpbmcgdGhlIGdpdmVuIG1hc2suXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIHVubWFza1xuICogQHBhcmFtIHtCdWZmZXJ9IG1hc2sgVGhlIG1hc2sgdG8gdXNlXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIF91bm1hc2soYnVmZmVyLCBtYXNrKSB7XG4gIC8vIFJlcXVpcmVkIHVudGlsIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvOTAwNiBpcyByZXNvbHZlZC5cbiAgY29uc3QgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJ1ZmZlcltpXSBePSBtYXNrW2kgJiAzXTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgYnVmZmVyIHRvIGFuIGBBcnJheUJ1ZmZlcmAuXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZiBUaGUgYnVmZmVyIHRvIGNvbnZlcnRcbiAqIEByZXR1cm4ge0FycmF5QnVmZmVyfSBDb252ZXJ0ZWQgYnVmZmVyXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXlCdWZmZXIoYnVmKSB7XG4gIGlmIChidWYuYnl0ZUxlbmd0aCA9PT0gYnVmLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJ1Zi5idWZmZXI7XG4gIH1cblxuICByZXR1cm4gYnVmLmJ1ZmZlci5zbGljZShidWYuYnl0ZU9mZnNldCwgYnVmLmJ5dGVPZmZzZXQgKyBidWYuYnl0ZUxlbmd0aCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGRhdGFgIHRvIGEgYEJ1ZmZlcmAuXG4gKlxuICogQHBhcmFtIHsqfSBkYXRhIFRoZSBkYXRhIHRvIGNvbnZlcnRcbiAqIEByZXR1cm4ge0J1ZmZlcn0gVGhlIGJ1ZmZlclxuICogQHRocm93cyB7VHlwZUVycm9yfVxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB0b0J1ZmZlcihkYXRhKSB7XG4gIHRvQnVmZmVyLnJlYWRPbmx5ID0gdHJ1ZTtcblxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKGRhdGEpKSByZXR1cm4gZGF0YTtcblxuICBsZXQgYnVmO1xuXG4gIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICBidWYgPSBCdWZmZXIuZnJvbShkYXRhKTtcbiAgfSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICBidWYgPSBCdWZmZXIuZnJvbShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIGJ1ZiA9IEJ1ZmZlci5mcm9tKGRhdGEpO1xuICAgIHRvQnVmZmVyLnJlYWRPbmx5ID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gYnVmO1xufVxuXG50cnkge1xuICBjb25zdCBidWZmZXJVdGlsID0gcmVxdWlyZSgnYnVmZmVydXRpbCcpO1xuICBjb25zdCBidSA9IGJ1ZmZlclV0aWwuQnVmZmVyVXRpbCB8fCBidWZmZXJVdGlsO1xuXG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNvbmNhdCxcbiAgICBtYXNrKHNvdXJjZSwgbWFzaywgb3V0cHV0LCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgaWYgKGxlbmd0aCA8IDQ4KSBfbWFzayhzb3VyY2UsIG1hc2ssIG91dHB1dCwgb2Zmc2V0LCBsZW5ndGgpO1xuICAgICAgZWxzZSBidS5tYXNrKHNvdXJjZSwgbWFzaywgb3V0cHV0LCBvZmZzZXQsIGxlbmd0aCk7XG4gICAgfSxcbiAgICB0b0FycmF5QnVmZmVyLFxuICAgIHRvQnVmZmVyLFxuICAgIHVubWFzayhidWZmZXIsIG1hc2spIHtcbiAgICAgIGlmIChidWZmZXIubGVuZ3RoIDwgMzIpIF91bm1hc2soYnVmZmVyLCBtYXNrKTtcbiAgICAgIGVsc2UgYnUudW5tYXNrKGJ1ZmZlciwgbWFzayk7XG4gICAgfVxuICB9O1xufSBjYXRjaCAoZSkgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8ge1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjb25jYXQsXG4gICAgbWFzazogX21hc2ssXG4gICAgdG9BcnJheUJ1ZmZlcixcbiAgICB0b0J1ZmZlcixcbiAgICB1bm1hc2s6IF91bm1hc2tcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js ***!
  \********************************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  EMPTY_BUFFER: Buffer.alloc(0),\n  NOOP: () => {}\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvY29uc3RhbnRzLmpzP2ZkNmMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQklOQVJZX1RZUEVTOiBbJ25vZGVidWZmZXInLCAnYXJyYXlidWZmZXInLCAnZnJhZ21lbnRzJ10sXG4gIEdVSUQ6ICcyNThFQUZBNS1FOTE0LTQ3REEtOTVDQS1DNUFCMERDODVCMTEnLFxuICBrU3RhdHVzQ29kZTogU3ltYm9sKCdzdGF0dXMtY29kZScpLFxuICBrV2ViU29ja2V0OiBTeW1ib2woJ3dlYnNvY2tldCcpLFxuICBFTVBUWV9CVUZGRVI6IEJ1ZmZlci5hbGxvYygwKSxcbiAgTk9PUDogKCkgPT4ge31cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/event-target.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/event-target.js ***!
  \***********************************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/**\n * Class representing an event.\n *\n * @private\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(type, target) {\n    this.target = target;\n    this.type = type;\n  }\n}\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n * @private\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The received data\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(data, target) {\n    super('message', target);\n\n    this.data = data;\n  }\n}\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n * @private\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {Number} code The status code explaining why the connection is being\n   *     closed\n   * @param {String} reason A human-readable string explaining why the\n   *     connection is closing\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(code, reason, target) {\n    super('close', target);\n\n    this.wasClean = target._closeFrameReceived && target._closeFrameSent;\n    this.reason = reason;\n    this.code = code;\n  }\n}\n\n/**\n * Class representing an open event.\n *\n * @extends Event\n * @private\n */\nclass OpenEvent extends Event {\n  /**\n   * Create a new `OpenEvent`.\n   *\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(target) {\n    super('open', target);\n  }\n}\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n * @private\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {Object} error The error that generated this event\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(error, target) {\n    super('error', target);\n\n    this.message = error.message;\n    this.error = error;\n  }\n}\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {Function} listener The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean`` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, listener, options) {\n    if (typeof listener !== 'function') return;\n\n    function onMessage(data) {\n      listener.call(this, new MessageEvent(data, this));\n    }\n\n    function onClose(code, message) {\n      listener.call(this, new CloseEvent(code, message, this));\n    }\n\n    function onError(error) {\n      listener.call(this, new ErrorEvent(error, this));\n    }\n\n    function onOpen() {\n      listener.call(this, new OpenEvent(this));\n    }\n\n    const method = options && options.once ? 'once' : 'on';\n\n    if (type === 'message') {\n      onMessage._listener = listener;\n      this[method](type, onMessage);\n    } else if (type === 'close') {\n      onClose._listener = listener;\n      this[method](type, onClose);\n    } else if (type === 'error') {\n      onError._listener = listener;\n      this[method](type, onError);\n    } else if (type === 'open') {\n      onOpen._listener = listener;\n      this[method](type, onOpen);\n    } else {\n      this[method](type, listener);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {Function} listener The listener to remove\n   * @public\n   */\n  removeEventListener(type, listener) {\n    const listeners = this.listeners(type);\n\n    for (let i = 0; i < listeners.length; i++) {\n      if (listeners[i] === listener || listeners[i]._listener === listener) {\n        this.removeListener(type, listeners[i]);\n      }\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvZXZlbnQtdGFyZ2V0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNDQUFzQztBQUNuRCxhQUFhLFdBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFdBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsV0FBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvZXZlbnQtdGFyZ2V0LmpzP2U2OTgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhbiBldmVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBFdmVudCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYEV2ZW50YC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgQSByZWZlcmVuY2UgdG8gdGhlIHRhcmdldCB0byB3aGljaCB0aGUgZXZlbnQgd2FzXG4gICAqICAgICBkaXNwYXRjaGVkXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCB0YXJnZXQpIHtcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG59XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgbWVzc2FnZSBldmVudC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgTWVzc2FnZUV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBNZXNzYWdlRXZlbnRgLlxuICAgKlxuICAgKiBAcGFyYW0geyhTdHJpbmd8QnVmZmVyfEFycmF5QnVmZmVyfEJ1ZmZlcltdKX0gZGF0YSBUaGUgcmVjZWl2ZWQgZGF0YVxuICAgKiBAcGFyYW0ge1dlYlNvY2tldH0gdGFyZ2V0IEEgcmVmZXJlbmNlIHRvIHRoZSB0YXJnZXQgdG8gd2hpY2ggdGhlIGV2ZW50IHdhc1xuICAgKiAgICAgZGlzcGF0Y2hlZFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSwgdGFyZ2V0KSB7XG4gICAgc3VwZXIoJ21lc3NhZ2UnLCB0YXJnZXQpO1xuXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxufVxuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIGNsb3NlIGV2ZW50LlxuICpcbiAqIEBleHRlbmRzIEV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBDbG9zZUV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBDbG9zZUV2ZW50YC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNvZGUgVGhlIHN0YXR1cyBjb2RlIGV4cGxhaW5pbmcgd2h5IHRoZSBjb25uZWN0aW9uIGlzIGJlaW5nXG4gICAqICAgICBjbG9zZWRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlYXNvbiBBIGh1bWFuLXJlYWRhYmxlIHN0cmluZyBleHBsYWluaW5nIHdoeSB0aGVcbiAgICogICAgIGNvbm5lY3Rpb24gaXMgY2xvc2luZ1xuICAgKiBAcGFyYW0ge1dlYlNvY2tldH0gdGFyZ2V0IEEgcmVmZXJlbmNlIHRvIHRoZSB0YXJnZXQgdG8gd2hpY2ggdGhlIGV2ZW50IHdhc1xuICAgKiAgICAgZGlzcGF0Y2hlZFxuICAgKi9cbiAgY29uc3RydWN0b3IoY29kZSwgcmVhc29uLCB0YXJnZXQpIHtcbiAgICBzdXBlcignY2xvc2UnLCB0YXJnZXQpO1xuXG4gICAgdGhpcy53YXNDbGVhbiA9IHRhcmdldC5fY2xvc2VGcmFtZVJlY2VpdmVkICYmIHRhcmdldC5fY2xvc2VGcmFtZVNlbnQ7XG4gICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgfVxufVxuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhbiBvcGVuIGV2ZW50LlxuICpcbiAqIEBleHRlbmRzIEV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBPcGVuRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYE9wZW5FdmVudGAuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViU29ja2V0fSB0YXJnZXQgQSByZWZlcmVuY2UgdG8gdGhlIHRhcmdldCB0byB3aGljaCB0aGUgZXZlbnQgd2FzXG4gICAqICAgICBkaXNwYXRjaGVkXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcbiAgICBzdXBlcignb3BlbicsIHRhcmdldCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYW4gZXJyb3IgZXZlbnQuXG4gKlxuICogQGV4dGVuZHMgRXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEVycm9yRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYEVycm9yRXZlbnRgLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZXJyb3IgVGhlIGVycm9yIHRoYXQgZ2VuZXJhdGVkIHRoaXMgZXZlbnRcbiAgICogQHBhcmFtIHtXZWJTb2NrZXR9IHRhcmdldCBBIHJlZmVyZW5jZSB0byB0aGUgdGFyZ2V0IHRvIHdoaWNoIHRoZSBldmVudCB3YXNcbiAgICogICAgIGRpc3BhdGNoZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVycm9yLCB0YXJnZXQpIHtcbiAgICBzdXBlcignZXJyb3InLCB0YXJnZXQpO1xuXG4gICAgdGhpcy5tZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIHByb3ZpZGVzIG1ldGhvZHMgZm9yIGVtdWxhdGluZyB0aGUgYEV2ZW50VGFyZ2V0YCBpbnRlcmZhY2UuIEl0J3Mgbm90XG4gKiBtZWFudCB0byBiZSB1c2VkIGRpcmVjdGx5LlxuICpcbiAqIEBtaXhpblxuICovXG5jb25zdCBFdmVudFRhcmdldCA9IHtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGV2ZW50IHR5cGUgdG8gbGlzdGVuIGZvclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgdG8gYWRkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQW4gb3B0aW9ucyBvYmplY3Qgc3BlY2lmaWVzIGNoYXJhY3RlcmlzdGljcyBhYm91dFxuICAgKiAgICAgdGhlIGV2ZW50IGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMub25jZT1mYWxzZV0gQSBgQm9vbGVhbmBgIGluZGljYXRpbmcgdGhhdCB0aGVcbiAgICogICAgIGxpc3RlbmVyIHNob3VsZCBiZSBpbnZva2VkIGF0IG1vc3Qgb25jZSBhZnRlciBiZWluZyBhZGRlZC4gSWYgYHRydWVgLFxuICAgKiAgICAgdGhlIGxpc3RlbmVyIHdvdWxkIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCB3aGVuIGludm9rZWQuXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm47XG5cbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZGF0YSkge1xuICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWVzc2FnZUV2ZW50KGRhdGEsIHRoaXMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNsb3NlKGNvZGUsIG1lc3NhZ2UpIHtcbiAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IENsb3NlRXZlbnQoY29kZSwgbWVzc2FnZSwgdGhpcykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IEVycm9yRXZlbnQoZXJyb3IsIHRoaXMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk9wZW4oKSB7XG4gICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIG5ldyBPcGVuRXZlbnQodGhpcykpO1xuICAgIH1cblxuICAgIGNvbnN0IG1ldGhvZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5vbmNlID8gJ29uY2UnIDogJ29uJztcblxuICAgIGlmICh0eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgIG9uTWVzc2FnZS5fbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgIHRoaXNbbWV0aG9kXSh0eXBlLCBvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Nsb3NlJykge1xuICAgICAgb25DbG9zZS5fbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgIHRoaXNbbWV0aG9kXSh0eXBlLCBvbkNsb3NlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgIG9uRXJyb3IuX2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICB0aGlzW21ldGhvZF0odHlwZSwgb25FcnJvcik7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb3BlbicpIHtcbiAgICAgIG9uT3Blbi5fbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgIHRoaXNbbWV0aG9kXSh0eXBlLCBvbk9wZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzW21ldGhvZF0odHlwZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGV2ZW50IHR5cGUgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciB0byByZW1vdmVcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKHR5cGUpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RlbmVyc1tpXS5fbGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRUYXJnZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/event-target.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js ***!
  \********************************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n\n  if (header === undefined || header === '') return offers;\n\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 /* ' ' */ || code === 0x09 /* '\\t' */) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvZXh0ZW5zaW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLG1CQUFtQjtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRLDRCQUE0QjtBQUNwQztBQUNBLGlFQUFpRSxFQUFFO0FBQ25FOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUiwrREFBK0QsRUFBRTtBQUNqRTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsaUVBQWlFLEVBQUU7QUFDbkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUiwrREFBK0QsRUFBRTtBQUNqRTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxFQUFFO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVixpRUFBaUUsRUFBRTtBQUNuRTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLGlFQUFpRSxFQUFFO0FBQ25FOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLCtEQUErRCxFQUFFO0FBQ2pFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELEVBQUUsR0FBRyxFQUFFO0FBQzFELDJCQUEyQjtBQUMzQixlQUFlO0FBQ2Y7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL2V4dGVuc2lvbi5qcz8yZmViIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy9cbi8vIEFsbG93ZWQgdG9rZW4gY2hhcmFjdGVyczpcbi8vXG4vLyAnIScsICcjJywgJyQnLCAnJScsICcmJywgJycnLCAnKicsICcrJywgJy0nLFxuLy8gJy4nLCAwLTksIEEtWiwgJ14nLCAnXycsICdgJywgYS16LCAnfCcsICd+J1xuLy9cbi8vIHRva2VuQ2hhcnNbMzJdID09PSAwIC8vICcgJ1xuLy8gdG9rZW5DaGFyc1szM10gPT09IDEgLy8gJyEnXG4vLyB0b2tlbkNoYXJzWzM0XSA9PT0gMCAvLyAnXCInXG4vLyAuLi5cbi8vXG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IHRva2VuQ2hhcnMgPSBbXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIC8vIDAgLSAxNVxuICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAvLyAxNiAtIDMxXG4gIDAsIDEsIDAsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDEsIDEsIDAsIDEsIDEsIDAsIC8vIDMyIC0gNDdcbiAgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgLy8gNDggLSA2M1xuICAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAvLyA2NCAtIDc5XG4gIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDEsIDEsIC8vIDgwIC0gOTVcbiAgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgLy8gOTYgLSAxMTFcbiAgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMSwgMCwgMSwgMCAvLyAxMTIgLSAxMjdcbl07XG5cbi8qKlxuICogQWRkcyBhbiBvZmZlciB0byB0aGUgbWFwIG9mIGV4dGVuc2lvbiBvZmZlcnMgb3IgYSBwYXJhbWV0ZXIgdG8gdGhlIG1hcCBvZlxuICogcGFyYW1ldGVycy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdCBUaGUgbWFwIG9mIGV4dGVuc2lvbiBvZmZlcnMgb3IgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIGV4dGVuc2lvbiBvciBwYXJhbWV0ZXIgbmFtZVxuICogQHBhcmFtIHsoT2JqZWN0fEJvb2xlYW58U3RyaW5nKX0gZWxlbSBUaGUgZXh0ZW5zaW9uIHBhcmFtZXRlcnMgb3IgdGhlXG4gKiAgICAgcGFyYW1ldGVyIHZhbHVlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwdXNoKGRlc3QsIG5hbWUsIGVsZW0pIHtcbiAgaWYgKGRlc3RbbmFtZV0gPT09IHVuZGVmaW5lZCkgZGVzdFtuYW1lXSA9IFtlbGVtXTtcbiAgZWxzZSBkZXN0W25hbWVdLnB1c2goZWxlbSk7XG59XG5cbi8qKlxuICogUGFyc2VzIHRoZSBgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zYCBoZWFkZXIgaW50byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlciBUaGUgZmllbGQgdmFsdWUgb2YgdGhlIGhlYWRlclxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcGFyc2VkIG9iamVjdFxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBwYXJzZShoZWFkZXIpIHtcbiAgY29uc3Qgb2ZmZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICBpZiAoaGVhZGVyID09PSB1bmRlZmluZWQgfHwgaGVhZGVyID09PSAnJykgcmV0dXJuIG9mZmVycztcblxuICBsZXQgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgbGV0IG11c3RVbmVzY2FwZSA9IGZhbHNlO1xuICBsZXQgaXNFc2NhcGluZyA9IGZhbHNlO1xuICBsZXQgaW5RdW90ZXMgPSBmYWxzZTtcbiAgbGV0IGV4dGVuc2lvbk5hbWU7XG4gIGxldCBwYXJhbU5hbWU7XG4gIGxldCBzdGFydCA9IC0xO1xuICBsZXQgZW5kID0gLTE7XG4gIGxldCBpID0gMDtcblxuICBmb3IgKDsgaSA8IGhlYWRlci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNvZGUgPSBoZWFkZXIuY2hhckNvZGVBdChpKTtcblxuICAgIGlmIChleHRlbnNpb25OYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChlbmQgPT09IC0xICYmIHRva2VuQ2hhcnNbY29kZV0gPT09IDEpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkgc3RhcnQgPSBpO1xuICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDIwIC8qICcgJyAqLyB8fCBjb2RlID09PSAweDA5IC8qICdcXHQnICovKSB7XG4gICAgICAgIGlmIChlbmQgPT09IC0xICYmIHN0YXJ0ICE9PSAtMSkgZW5kID0gaTtcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgzYiAvKiAnOycgKi8gfHwgY29kZSA9PT0gMHgyYyAvKiAnLCcgKi8pIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZCA9PT0gLTEpIGVuZCA9IGk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBoZWFkZXIuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIGlmIChjb2RlID09PSAweDJjKSB7XG4gICAgICAgICAgcHVzaChvZmZlcnMsIG5hbWUsIHBhcmFtcyk7XG4gICAgICAgICAgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHRlbnNpb25OYW1lID0gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0ID0gZW5kID0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhcmFtTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoZW5kID09PSAtMSAmJiB0b2tlbkNoYXJzW2NvZGVdID09PSAxKSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHN0YXJ0ID0gaTtcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgyMCB8fCBjb2RlID09PSAweDA5KSB7XG4gICAgICAgIGlmIChlbmQgPT09IC0xICYmIHN0YXJ0ICE9PSAtMSkgZW5kID0gaTtcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgzYiB8fCBjb2RlID09PSAweDJjKSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbmQgPT09IC0xKSBlbmQgPSBpO1xuICAgICAgICBwdXNoKHBhcmFtcywgaGVhZGVyLnNsaWNlKHN0YXJ0LCBlbmQpLCB0cnVlKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDB4MmMpIHtcbiAgICAgICAgICBwdXNoKG9mZmVycywgZXh0ZW5zaW9uTmFtZSwgcGFyYW1zKTtcbiAgICAgICAgICBwYXJhbXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGV4dGVuc2lvbk5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCA9IGVuZCA9IC0xO1xuICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDNkIC8qICc9JyAqLyAmJiBzdGFydCAhPT0gLTEgJiYgZW5kID09PSAtMSkge1xuICAgICAgICBwYXJhbU5hbWUgPSBoZWFkZXIuc2xpY2Uoc3RhcnQsIGkpO1xuICAgICAgICBzdGFydCA9IGVuZCA9IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vXG4gICAgICAvLyBUaGUgdmFsdWUgb2YgYSBxdW90ZWQtc3RyaW5nIGFmdGVyIHVuZXNjYXBpbmcgbXVzdCBjb25mb3JtIHRvIHRoZVxuICAgICAgLy8gdG9rZW4gQUJORiwgc28gb25seSB0b2tlbiBjaGFyYWN0ZXJzIGFyZSB2YWxpZC5cbiAgICAgIC8vIFJlZjogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY0NTUjc2VjdGlvbi05LjFcbiAgICAgIC8vXG4gICAgICBpZiAoaXNFc2NhcGluZykge1xuICAgICAgICBpZiAodG9rZW5DaGFyc1tjb2RlXSAhPT0gMSkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHN0YXJ0ID0gaTtcbiAgICAgICAgZWxzZSBpZiAoIW11c3RVbmVzY2FwZSkgbXVzdFVuZXNjYXBlID0gdHJ1ZTtcbiAgICAgICAgaXNFc2NhcGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChpblF1b3Rlcykge1xuICAgICAgICBpZiAodG9rZW5DaGFyc1tjb2RlXSA9PT0gMSkge1xuICAgICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHN0YXJ0ID0gaTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDIyIC8qICdcIicgKi8gJiYgc3RhcnQgIT09IC0xKSB7XG4gICAgICAgICAgaW5RdW90ZXMgPSBmYWxzZTtcbiAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4NWMgLyogJ1xcJyAqLykge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4MjIgJiYgaGVhZGVyLmNoYXJDb2RlQXQoaSAtIDEpID09PSAweDNkKSB7XG4gICAgICAgIGluUXVvdGVzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZW5kID09PSAtMSAmJiB0b2tlbkNoYXJzW2NvZGVdID09PSAxKSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHN0YXJ0ID0gaTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQgIT09IC0xICYmIChjb2RlID09PSAweDIwIHx8IGNvZGUgPT09IDB4MDkpKSB7XG4gICAgICAgIGlmIChlbmQgPT09IC0xKSBlbmQgPSBpO1xuICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDNiIHx8IGNvZGUgPT09IDB4MmMpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZCA9PT0gLTEpIGVuZCA9IGk7XG4gICAgICAgIGxldCB2YWx1ZSA9IGhlYWRlci5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgaWYgKG11c3RVbmVzY2FwZSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG4gICAgICAgICAgbXVzdFVuZXNjYXBlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaChwYXJhbXMsIHBhcmFtTmFtZSwgdmFsdWUpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMHgyYykge1xuICAgICAgICAgIHB1c2gob2ZmZXJzLCBleHRlbnNpb25OYW1lLCBwYXJhbXMpO1xuICAgICAgICAgIHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZXh0ZW5zaW9uTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhcnQgPSBlbmQgPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gLTEgfHwgaW5RdW90ZXMpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0Jyk7XG4gIH1cblxuICBpZiAoZW5kID09PSAtMSkgZW5kID0gaTtcbiAgY29uc3QgdG9rZW4gPSBoZWFkZXIuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gIGlmIChleHRlbnNpb25OYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICBwdXNoKG9mZmVycywgdG9rZW4sIHBhcmFtcyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHBhcmFtTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwdXNoKHBhcmFtcywgdG9rZW4sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAobXVzdFVuZXNjYXBlKSB7XG4gICAgICBwdXNoKHBhcmFtcywgcGFyYW1OYW1lLCB0b2tlbi5yZXBsYWNlKC9cXFxcL2csICcnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHB1c2gocGFyYW1zLCBwYXJhbU5hbWUsIHRva2VuKTtcbiAgICB9XG4gICAgcHVzaChvZmZlcnMsIGV4dGVuc2lvbk5hbWUsIHBhcmFtcyk7XG4gIH1cblxuICByZXR1cm4gb2ZmZXJzO1xufVxuXG4vKipcbiAqIEJ1aWxkcyB0aGUgYFNlYy1XZWJTb2NrZXQtRXh0ZW5zaW9uc2AgaGVhZGVyIGZpZWxkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBleHRlbnNpb25zIFRoZSBtYXAgb2YgZXh0ZW5zaW9ucyBhbmQgcGFyYW1ldGVycyB0byBmb3JtYXRcbiAqIEByZXR1cm4ge1N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiBvYmplY3RcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gZm9ybWF0KGV4dGVuc2lvbnMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGV4dGVuc2lvbnMpXG4gICAgLm1hcCgoZXh0ZW5zaW9uKSA9PiB7XG4gICAgICBsZXQgY29uZmlndXJhdGlvbnMgPSBleHRlbnNpb25zW2V4dGVuc2lvbl07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29uZmlndXJhdGlvbnMpKSBjb25maWd1cmF0aW9ucyA9IFtjb25maWd1cmF0aW9uc107XG4gICAgICByZXR1cm4gY29uZmlndXJhdGlvbnNcbiAgICAgICAgLm1hcCgocGFyYW1zKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFtleHRlbnNpb25dXG4gICAgICAgICAgICAuY29uY2F0KFxuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcCgoaykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZXMgPSBwYXJhbXNba107XG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIHZhbHVlcyA9IFt2YWx1ZXNdO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgIC5tYXAoKHYpID0+ICh2ID09PSB0cnVlID8gayA6IGAke2t9PSR7dn1gKSlcbiAgICAgICAgICAgICAgICAgIC5qb2luKCc7ICcpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmpvaW4oJzsgJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKCcsICcpO1xuICAgIH0pXG4gICAgLmpvaW4oJywgJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBmb3JtYXQsIHBhcnNlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/limiter.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/limiter.js ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvbGltaXRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL3dzL2xpYi9saW1pdGVyLmpzPzQ5NzYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBrRG9uZSA9IFN5bWJvbCgna0RvbmUnKTtcbmNvbnN0IGtSdW4gPSBTeW1ib2woJ2tSdW4nKTtcblxuLyoqXG4gKiBBIHZlcnkgc2ltcGxlIGpvYiBxdWV1ZSB3aXRoIGFkanVzdGFibGUgY29uY3VycmVuY3kuIEFkYXB0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL1NUUk1ML2FzeW5jLWxpbWl0ZXJcbiAqL1xuY2xhc3MgTGltaXRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGBMaW1pdGVyYC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25jdXJyZW5jeT1JbmZpbml0eV0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGpvYnMgYWxsb3dlZFxuICAgKiAgICAgdG8gcnVuIGNvbmN1cnJlbnRseVxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uY3VycmVuY3kpIHtcbiAgICB0aGlzW2tEb25lXSA9ICgpID0+IHtcbiAgICAgIHRoaXMucGVuZGluZy0tO1xuICAgICAgdGhpc1trUnVuXSgpO1xuICAgIH07XG4gICAgdGhpcy5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5IHx8IEluZmluaXR5O1xuICAgIHRoaXMuam9icyA9IFtdO1xuICAgIHRoaXMucGVuZGluZyA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGpvYiB0byB0aGUgcXVldWUuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGpvYiBUaGUgam9iIHRvIHJ1blxuICAgKiBAcHVibGljXG4gICAqL1xuICBhZGQoam9iKSB7XG4gICAgdGhpcy5qb2JzLnB1c2goam9iKTtcbiAgICB0aGlzW2tSdW5dKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGpvYiBmcm9tIHRoZSBxdWV1ZSBhbmQgcnVucyBpdCBpZiBwb3NzaWJsZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIFtrUnVuXSgpIHtcbiAgICBpZiAodGhpcy5wZW5kaW5nID09PSB0aGlzLmNvbmN1cnJlbmN5KSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5qb2JzLmxlbmd0aCkge1xuICAgICAgY29uc3Qgam9iID0gdGhpcy5qb2JzLnNoaWZ0KCk7XG5cbiAgICAgIHRoaXMucGVuZGluZysrO1xuICAgICAgam9iKHRoaXNba0RvbmVdKTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMaW1pdGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/limiter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\n\nconst bufferUtil = __webpack_require__(/*! ./buffer-util */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\");\nconst Limiter = __webpack_require__(/*! ./limiter */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/limiter.js\");\nconst { kStatusCode, NOOP } = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      //\n      // An `'error'` event is emitted, only on Node.js < 10.0.0, if the\n      // `zlib.DeflateRaw` instance is closed while data is being processed.\n      // This can happen if `PerMessageDeflate#cleanup()` is called at the wrong\n      // time due to an abnormal WebSocket closure.\n      //\n      this._deflate.on('error', NOOP);\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvcGVybWVzc2FnZS1kZWZsYXRlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTs7QUFFM0IsbUJBQW1CLG1CQUFPLENBQUMsbUhBQWU7QUFDMUMsZ0JBQWdCLG1CQUFPLENBQUMsMkdBQVc7QUFDbkMsUUFBUSxvQkFBb0IsRUFBRSxtQkFBTyxDQUFDLCtHQUFhOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsa0JBQWtCO0FBQy9CO0FBQ0EsYUFBYSxrQkFBa0I7QUFDL0I7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFB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O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0NBQWdDLFNBQVM7QUFDekM7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL3dzL2xpYi9wZXJtZXNzYWdlLWRlZmxhdGUuanM/MTZiOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHpsaWIgPSByZXF1aXJlKCd6bGliJyk7XG5cbmNvbnN0IGJ1ZmZlclV0aWwgPSByZXF1aXJlKCcuL2J1ZmZlci11dGlsJyk7XG5jb25zdCBMaW1pdGVyID0gcmVxdWlyZSgnLi9saW1pdGVyJyk7XG5jb25zdCB7IGtTdGF0dXNDb2RlLCBOT09QIH0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuXG5jb25zdCBUUkFJTEVSID0gQnVmZmVyLmZyb20oWzB4MDAsIDB4MDAsIDB4ZmYsIDB4ZmZdKTtcbmNvbnN0IGtQZXJNZXNzYWdlRGVmbGF0ZSA9IFN5bWJvbCgncGVybWVzc2FnZS1kZWZsYXRlJyk7XG5jb25zdCBrVG90YWxMZW5ndGggPSBTeW1ib2woJ3RvdGFsLWxlbmd0aCcpO1xuY29uc3Qga0NhbGxiYWNrID0gU3ltYm9sKCdjYWxsYmFjaycpO1xuY29uc3Qga0J1ZmZlcnMgPSBTeW1ib2woJ2J1ZmZlcnMnKTtcbmNvbnN0IGtFcnJvciA9IFN5bWJvbCgnZXJyb3InKTtcblxuLy9cbi8vIFdlIGxpbWl0IHpsaWIgY29uY3VycmVuY3ksIHdoaWNoIHByZXZlbnRzIHNldmVyZSBtZW1vcnkgZnJhZ21lbnRhdGlvblxuLy8gYXMgZG9jdW1lbnRlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzg4NzEjaXNzdWVjb21tZW50LTI1MDkxNTkxM1xuLy8gYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJzb2NrZXRzL3dzL2lzc3Vlcy8xMjAyXG4vL1xuLy8gSW50ZW50aW9uYWxseSBnbG9iYWw7IGl0J3MgdGhlIGdsb2JhbCB0aHJlYWQgcG9vbCB0aGF0J3MgYW4gaXNzdWUuXG4vL1xubGV0IHpsaWJMaW1pdGVyO1xuXG4vKipcbiAqIHBlcm1lc3NhZ2UtZGVmbGF0ZSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuY2xhc3MgUGVyTWVzc2FnZURlZmxhdGUge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFBlck1lc3NhZ2VEZWZsYXRlIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNlcnZlck5vQ29udGV4dFRha2VvdmVyPWZhbHNlXSBSZXF1ZXN0L2FjY2VwdFxuICAgKiAgICAgZGlzYWJsaW5nIG9mIHNlcnZlciBjb250ZXh0IHRha2VvdmVyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2xpZW50Tm9Db250ZXh0VGFrZW92ZXI9ZmFsc2VdIEFkdmVydGlzZS9cbiAgICogICAgIGFja25vd2xlZGdlIGRpc2FibGluZyBvZiBjbGllbnQgY29udGV4dCB0YWtlb3ZlclxuICAgKiBAcGFyYW0geyhCb29sZWFufE51bWJlcil9IFtvcHRpb25zLnNlcnZlck1heFdpbmRvd0JpdHNdIFJlcXVlc3QvY29uZmlybSB0aGVcbiAgICogICAgIHVzZSBvZiBhIGN1c3RvbSBzZXJ2ZXIgd2luZG93IHNpemVcbiAgICogQHBhcmFtIHsoQm9vbGVhbnxOdW1iZXIpfSBbb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzXSBBZHZlcnRpc2Ugc3VwcG9ydFxuICAgKiAgICAgZm9yLCBvciByZXF1ZXN0LCBhIGN1c3RvbSBjbGllbnQgd2luZG93IHNpemVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnpsaWJEZWZsYXRlT3B0aW9uc10gT3B0aW9ucyB0byBwYXNzIHRvIHpsaWIgb25cbiAgICogICAgIGRlZmxhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnpsaWJJbmZsYXRlT3B0aW9uc10gT3B0aW9ucyB0byBwYXNzIHRvIHpsaWIgb25cbiAgICogICAgIGluZmxhdGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRocmVzaG9sZD0xMDI0XSBTaXplIChpbiBieXRlcykgYmVsb3cgd2hpY2hcbiAgICogICAgIG1lc3NhZ2VzIHNob3VsZCBub3QgYmUgY29tcHJlc3NlZFxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29uY3VycmVuY3lMaW1pdD0xMF0gVGhlIG51bWJlciBvZiBjb25jdXJyZW50XG4gICAqICAgICBjYWxscyB0byB6bGliXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lzU2VydmVyPWZhbHNlXSBDcmVhdGUgdGhlIGluc3RhbmNlIGluIGVpdGhlciBzZXJ2ZXIgb3JcbiAgICogICAgIGNsaWVudCBtb2RlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4UGF5bG9hZD0wXSBUaGUgbWF4aW11bSBhbGxvd2VkIG1lc3NhZ2UgbGVuZ3RoXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBpc1NlcnZlciwgbWF4UGF5bG9hZCkge1xuICAgIHRoaXMuX21heFBheWxvYWQgPSBtYXhQYXlsb2FkIHwgMDtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLl90aHJlc2hvbGQgPVxuICAgICAgdGhpcy5fb3B0aW9ucy50aHJlc2hvbGQgIT09IHVuZGVmaW5lZCA/IHRoaXMuX29wdGlvbnMudGhyZXNob2xkIDogMTAyNDtcbiAgICB0aGlzLl9pc1NlcnZlciA9ICEhaXNTZXJ2ZXI7XG4gICAgdGhpcy5fZGVmbGF0ZSA9IG51bGw7XG4gICAgdGhpcy5faW5mbGF0ZSA9IG51bGw7XG5cbiAgICB0aGlzLnBhcmFtcyA9IG51bGw7XG5cbiAgICBpZiAoIXpsaWJMaW1pdGVyKSB7XG4gICAgICBjb25zdCBjb25jdXJyZW5jeSA9XG4gICAgICAgIHRoaXMuX29wdGlvbnMuY29uY3VycmVuY3lMaW1pdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmNvbmN1cnJlbmN5TGltaXRcbiAgICAgICAgICA6IDEwO1xuICAgICAgemxpYkxpbWl0ZXIgPSBuZXcgTGltaXRlcihjb25jdXJyZW5jeSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGV4dGVuc2lvbk5hbWUoKSB7XG4gICAgcmV0dXJuICdwZXJtZXNzYWdlLWRlZmxhdGUnO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBleHRlbnNpb24gbmVnb3RpYXRpb24gb2ZmZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gRXh0ZW5zaW9uIHBhcmFtZXRlcnNcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgb2ZmZXIoKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge307XG5cbiAgICBpZiAodGhpcy5fb3B0aW9ucy5zZXJ2ZXJOb0NvbnRleHRUYWtlb3Zlcikge1xuICAgICAgcGFyYW1zLnNlcnZlcl9ub19jb250ZXh0X3Rha2VvdmVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29wdGlvbnMuY2xpZW50Tm9Db250ZXh0VGFrZW92ZXIpIHtcbiAgICAgIHBhcmFtcy5jbGllbnRfbm9fY29udGV4dF90YWtlb3ZlciA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLl9vcHRpb25zLnNlcnZlck1heFdpbmRvd0JpdHMpIHtcbiAgICAgIHBhcmFtcy5zZXJ2ZXJfbWF4X3dpbmRvd19iaXRzID0gdGhpcy5fb3B0aW9ucy5zZXJ2ZXJNYXhXaW5kb3dCaXRzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzKSB7XG4gICAgICBwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cyA9IHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cztcbiAgICB9IGVsc2UgaWYgKHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cyA9PSBudWxsKSB7XG4gICAgICBwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBY2NlcHQgYW4gZXh0ZW5zaW9uIG5lZ290aWF0aW9uIG9mZmVyL3Jlc3BvbnNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBjb25maWd1cmF0aW9ucyBUaGUgZXh0ZW5zaW9uIG5lZ290aWF0aW9uIG9mZmVycy9yZXBvbnNlXG4gICAqIEByZXR1cm4ge09iamVjdH0gQWNjZXB0ZWQgY29uZmlndXJhdGlvblxuICAgKiBAcHVibGljXG4gICAqL1xuICBhY2NlcHQoY29uZmlndXJhdGlvbnMpIHtcbiAgICBjb25maWd1cmF0aW9ucyA9IHRoaXMubm9ybWFsaXplUGFyYW1zKGNvbmZpZ3VyYXRpb25zKTtcblxuICAgIHRoaXMucGFyYW1zID0gdGhpcy5faXNTZXJ2ZXJcbiAgICAgID8gdGhpcy5hY2NlcHRBc1NlcnZlcihjb25maWd1cmF0aW9ucylcbiAgICAgIDogdGhpcy5hY2NlcHRBc0NsaWVudChjb25maWd1cmF0aW9ucyk7XG5cbiAgICByZXR1cm4gdGhpcy5wYXJhbXM7XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZXMgYWxsIHJlc291cmNlcyB1c2VkIGJ5IHRoZSBleHRlbnNpb24uXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNsZWFudXAoKSB7XG4gICAgaWYgKHRoaXMuX2luZmxhdGUpIHtcbiAgICAgIHRoaXMuX2luZmxhdGUuY2xvc2UoKTtcbiAgICAgIHRoaXMuX2luZmxhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9kZWZsYXRlKSB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMuX2RlZmxhdGVba0NhbGxiYWNrXTtcblxuICAgICAgdGhpcy5fZGVmbGF0ZS5jbG9zZSgpO1xuICAgICAgdGhpcy5fZGVmbGF0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnVGhlIGRlZmxhdGUgc3RyZWFtIHdhcyBjbG9zZWQgd2hpbGUgZGF0YSB3YXMgYmVpbmcgcHJvY2Vzc2VkJ1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogIEFjY2VwdCBhbiBleHRlbnNpb24gbmVnb3RpYXRpb24gb2ZmZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IG9mZmVycyBUaGUgZXh0ZW5zaW9uIG5lZ290aWF0aW9uIG9mZmVyc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFjY2VwdGVkIGNvbmZpZ3VyYXRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFjY2VwdEFzU2VydmVyKG9mZmVycykge1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9vcHRpb25zO1xuICAgIGNvbnN0IGFjY2VwdGVkID0gb2ZmZXJzLmZpbmQoKHBhcmFtcykgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICAob3B0cy5zZXJ2ZXJOb0NvbnRleHRUYWtlb3ZlciA9PT0gZmFsc2UgJiZcbiAgICAgICAgICBwYXJhbXMuc2VydmVyX25vX2NvbnRleHRfdGFrZW92ZXIpIHx8XG4gICAgICAgIChwYXJhbXMuc2VydmVyX21heF93aW5kb3dfYml0cyAmJlxuICAgICAgICAgIChvcHRzLnNlcnZlck1heFdpbmRvd0JpdHMgPT09IGZhbHNlIHx8XG4gICAgICAgICAgICAodHlwZW9mIG9wdHMuc2VydmVyTWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgb3B0cy5zZXJ2ZXJNYXhXaW5kb3dCaXRzID4gcGFyYW1zLnNlcnZlcl9tYXhfd2luZG93X2JpdHMpKSkgfHxcbiAgICAgICAgKHR5cGVvZiBvcHRzLmNsaWVudE1heFdpbmRvd0JpdHMgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgIXBhcmFtcy5jbGllbnRfbWF4X3dpbmRvd19iaXRzKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWFjY2VwdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vbmUgb2YgdGhlIGV4dGVuc2lvbiBvZmZlcnMgY2FuIGJlIGFjY2VwdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc2VydmVyTm9Db250ZXh0VGFrZW92ZXIpIHtcbiAgICAgIGFjY2VwdGVkLnNlcnZlcl9ub19jb250ZXh0X3Rha2VvdmVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9wdHMuY2xpZW50Tm9Db250ZXh0VGFrZW92ZXIpIHtcbiAgICAgIGFjY2VwdGVkLmNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNlcnZlck1heFdpbmRvd0JpdHMgPT09ICdudW1iZXInKSB7XG4gICAgICBhY2NlcHRlZC5zZXJ2ZXJfbWF4X3dpbmRvd19iaXRzID0gb3B0cy5zZXJ2ZXJNYXhXaW5kb3dCaXRzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGFjY2VwdGVkLmNsaWVudF9tYXhfd2luZG93X2JpdHMgPSBvcHRzLmNsaWVudE1heFdpbmRvd0JpdHM7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGFjY2VwdGVkLmNsaWVudF9tYXhfd2luZG93X2JpdHMgPT09IHRydWUgfHxcbiAgICAgIG9wdHMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gZmFsc2VcbiAgICApIHtcbiAgICAgIGRlbGV0ZSBhY2NlcHRlZC5jbGllbnRfbWF4X3dpbmRvd19iaXRzO1xuICAgIH1cblxuICAgIHJldHVybiBhY2NlcHRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY2NlcHQgdGhlIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiByZXNwb25zZS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gcmVzcG9uc2UgVGhlIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiByZXNwb25zZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFjY2VwdGVkIGNvbmZpZ3VyYXRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFjY2VwdEFzQ2xpZW50KHJlc3BvbnNlKSB7XG4gICAgY29uc3QgcGFyYW1zID0gcmVzcG9uc2VbMF07XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLl9vcHRpb25zLmNsaWVudE5vQ29udGV4dFRha2VvdmVyID09PSBmYWxzZSAmJlxuICAgICAgcGFyYW1zLmNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgcGFyYW1ldGVyIFwiY2xpZW50X25vX2NvbnRleHRfdGFrZW92ZXJcIicpO1xuICAgIH1cblxuICAgIGlmICghcGFyYW1zLmNsaWVudF9tYXhfd2luZG93X2JpdHMpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzID09PSAnbnVtYmVyJykge1xuICAgICAgICBwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cyA9IHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzID09PSBmYWxzZSB8fFxuICAgICAgKHR5cGVvZiB0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHMgPT09ICdudW1iZXInICYmXG4gICAgICAgIHBhcmFtcy5jbGllbnRfbWF4X3dpbmRvd19iaXRzID4gdGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVW5leHBlY3RlZCBvciBpbnZhbGlkIHBhcmFtZXRlciBcImNsaWVudF9tYXhfd2luZG93X2JpdHNcIidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gY29uZmlndXJhdGlvbnMgVGhlIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlcnMvcmVwb25zZVxuICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIG9mZmVycy9yZXNwb25zZSB3aXRoIG5vcm1hbGl6ZWQgcGFyYW1ldGVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbm9ybWFsaXplUGFyYW1zKGNvbmZpZ3VyYXRpb25zKSB7XG4gICAgY29uZmlndXJhdGlvbnMuZm9yRWFjaCgocGFyYW1zKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSBwYXJhbXNba2V5XTtcblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyYW1ldGVyIFwiJHtrZXl9XCIgbXVzdCBoYXZlIG9ubHkgYSBzaW5nbGUgdmFsdWVgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbHVlID0gdmFsdWVbMF07XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsaWVudF9tYXhfd2luZG93X2JpdHMnKSB7XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBudW0gPSArdmFsdWU7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobnVtKSB8fCBudW0gPCA4IHx8IG51bSA+IDE1KSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgYEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciBcIiR7a2V5fVwiOiAke3ZhbHVlfWBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gbnVtO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2VydmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICBgSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyIFwiJHtrZXl9XCI6ICR7dmFsdWV9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc2VydmVyX21heF93aW5kb3dfYml0cycpIHtcbiAgICAgICAgICBjb25zdCBudW0gPSArdmFsdWU7XG4gICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG51bSkgfHwgbnVtIDwgOCB8fCBudW0gPiAxNSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgYEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciBcIiR7a2V5fVwiOiAke3ZhbHVlfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gbnVtO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGtleSA9PT0gJ2NsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyJyB8fFxuICAgICAgICAgIGtleSA9PT0gJ3NlcnZlcl9ub19jb250ZXh0X3Rha2VvdmVyJ1xuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgIGBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgXCIke2tleX1cIjogJHt2YWx1ZX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcGFyYW1ldGVyIFwiJHtrZXl9XCJgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjb25maWd1cmF0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWNvbXByZXNzIGRhdGEuIENvbmN1cnJlbmN5IGxpbWl0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIENvbXByZXNzZWQgZGF0YVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZpbiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdGhpcyBpcyB0aGUgbGFzdCBmcmFnbWVudFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBkZWNvbXByZXNzKGRhdGEsIGZpbiwgY2FsbGJhY2spIHtcbiAgICB6bGliTGltaXRlci5hZGQoKGRvbmUpID0+IHtcbiAgICAgIHRoaXMuX2RlY29tcHJlc3MoZGF0YSwgZmluLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wcmVzcyBkYXRhLiBDb25jdXJyZW5jeSBsaW1pdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBEYXRhIHRvIGNvbXByZXNzXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmluIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBsYXN0IGZyYWdtZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbXByZXNzKGRhdGEsIGZpbiwgY2FsbGJhY2spIHtcbiAgICB6bGliTGltaXRlci5hZGQoKGRvbmUpID0+IHtcbiAgICAgIHRoaXMuX2NvbXByZXNzKGRhdGEsIGZpbiwgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVjb21wcmVzcyBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBDb21wcmVzc2VkIGRhdGFcbiAgICogQHBhcmFtIHtCb29sZWFufSBmaW4gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoaXMgaXMgdGhlIGxhc3QgZnJhZ21lbnRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kZWNvbXByZXNzKGRhdGEsIGZpbiwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBlbmRwb2ludCA9IHRoaXMuX2lzU2VydmVyID8gJ2NsaWVudCcgOiAnc2VydmVyJztcblxuICAgIGlmICghdGhpcy5faW5mbGF0ZSkge1xuICAgICAgY29uc3Qga2V5ID0gYCR7ZW5kcG9pbnR9X21heF93aW5kb3dfYml0c2A7XG4gICAgICBjb25zdCB3aW5kb3dCaXRzID1cbiAgICAgICAgdHlwZW9mIHRoaXMucGFyYW1zW2tleV0gIT09ICdudW1iZXInXG4gICAgICAgICAgPyB6bGliLlpfREVGQVVMVF9XSU5ET1dCSVRTXG4gICAgICAgICAgOiB0aGlzLnBhcmFtc1trZXldO1xuXG4gICAgICB0aGlzLl9pbmZsYXRlID0gemxpYi5jcmVhdGVJbmZsYXRlUmF3KHtcbiAgICAgICAgLi4udGhpcy5fb3B0aW9ucy56bGliSW5mbGF0ZU9wdGlvbnMsXG4gICAgICAgIHdpbmRvd0JpdHNcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faW5mbGF0ZVtrUGVyTWVzc2FnZURlZmxhdGVdID0gdGhpcztcbiAgICAgIHRoaXMuX2luZmxhdGVba1RvdGFsTGVuZ3RoXSA9IDA7XG4gICAgICB0aGlzLl9pbmZsYXRlW2tCdWZmZXJzXSA9IFtdO1xuICAgICAgdGhpcy5faW5mbGF0ZS5vbignZXJyb3InLCBpbmZsYXRlT25FcnJvcik7XG4gICAgICB0aGlzLl9pbmZsYXRlLm9uKCdkYXRhJywgaW5mbGF0ZU9uRGF0YSk7XG4gICAgfVxuXG4gICAgdGhpcy5faW5mbGF0ZVtrQ2FsbGJhY2tdID0gY2FsbGJhY2s7XG5cbiAgICB0aGlzLl9pbmZsYXRlLndyaXRlKGRhdGEpO1xuICAgIGlmIChmaW4pIHRoaXMuX2luZmxhdGUud3JpdGUoVFJBSUxFUik7XG5cbiAgICB0aGlzLl9pbmZsYXRlLmZsdXNoKCgpID0+IHtcbiAgICAgIGNvbnN0IGVyciA9IHRoaXMuX2luZmxhdGVba0Vycm9yXTtcblxuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGlzLl9pbmZsYXRlLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2luZmxhdGUgPSBudWxsO1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBidWZmZXJVdGlsLmNvbmNhdChcbiAgICAgICAgdGhpcy5faW5mbGF0ZVtrQnVmZmVyc10sXG4gICAgICAgIHRoaXMuX2luZmxhdGVba1RvdGFsTGVuZ3RoXVxuICAgICAgKTtcblxuICAgICAgaWYgKHRoaXMuX2luZmxhdGUuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCkge1xuICAgICAgICB0aGlzLl9pbmZsYXRlLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2luZmxhdGUgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faW5mbGF0ZVtrVG90YWxMZW5ndGhdID0gMDtcbiAgICAgICAgdGhpcy5faW5mbGF0ZVtrQnVmZmVyc10gPSBbXTtcblxuICAgICAgICBpZiAoZmluICYmIHRoaXMucGFyYW1zW2Ake2VuZHBvaW50fV9ub19jb250ZXh0X3Rha2VvdmVyYF0pIHtcbiAgICAgICAgICB0aGlzLl9pbmZsYXRlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sobnVsbCwgZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcHJlc3MgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgRGF0YSB0byBjb21wcmVzc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZpbiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdGhpcyBpcyB0aGUgbGFzdCBmcmFnbWVudFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NvbXByZXNzKGRhdGEsIGZpbiwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBlbmRwb2ludCA9IHRoaXMuX2lzU2VydmVyID8gJ3NlcnZlcicgOiAnY2xpZW50JztcblxuICAgIGlmICghdGhpcy5fZGVmbGF0ZSkge1xuICAgICAgY29uc3Qga2V5ID0gYCR7ZW5kcG9pbnR9X21heF93aW5kb3dfYml0c2A7XG4gICAgICBjb25zdCB3aW5kb3dCaXRzID1cbiAgICAgICAgdHlwZW9mIHRoaXMucGFyYW1zW2tleV0gIT09ICdudW1iZXInXG4gICAgICAgICAgPyB6bGliLlpfREVGQVVMVF9XSU5ET1dCSVRTXG4gICAgICAgICAgOiB0aGlzLnBhcmFtc1trZXldO1xuXG4gICAgICB0aGlzLl9kZWZsYXRlID0gemxpYi5jcmVhdGVEZWZsYXRlUmF3KHtcbiAgICAgICAgLi4udGhpcy5fb3B0aW9ucy56bGliRGVmbGF0ZU9wdGlvbnMsXG4gICAgICAgIHdpbmRvd0JpdHNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9kZWZsYXRlW2tUb3RhbExlbmd0aF0gPSAwO1xuICAgICAgdGhpcy5fZGVmbGF0ZVtrQnVmZmVyc10gPSBbXTtcblxuICAgICAgLy9cbiAgICAgIC8vIEFuIGAnZXJyb3InYCBldmVudCBpcyBlbWl0dGVkLCBvbmx5IG9uIE5vZGUuanMgPCAxMC4wLjAsIGlmIHRoZVxuICAgICAgLy8gYHpsaWIuRGVmbGF0ZVJhd2AgaW5zdGFuY2UgaXMgY2xvc2VkIHdoaWxlIGRhdGEgaXMgYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIGBQZXJNZXNzYWdlRGVmbGF0ZSNjbGVhbnVwKClgIGlzIGNhbGxlZCBhdCB0aGUgd3JvbmdcbiAgICAgIC8vIHRpbWUgZHVlIHRvIGFuIGFibm9ybWFsIFdlYlNvY2tldCBjbG9zdXJlLlxuICAgICAgLy9cbiAgICAgIHRoaXMuX2RlZmxhdGUub24oJ2Vycm9yJywgTk9PUCk7XG4gICAgICB0aGlzLl9kZWZsYXRlLm9uKCdkYXRhJywgZGVmbGF0ZU9uRGF0YSk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGVmbGF0ZVtrQ2FsbGJhY2tdID0gY2FsbGJhY2s7XG5cbiAgICB0aGlzLl9kZWZsYXRlLndyaXRlKGRhdGEpO1xuICAgIHRoaXMuX2RlZmxhdGUuZmx1c2goemxpYi5aX1NZTkNfRkxVU0gsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fZGVmbGF0ZSkge1xuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGVmbGF0ZSBzdHJlYW0gd2FzIGNsb3NlZCB3aGlsZSBkYXRhIHdhcyBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IGRhdGEgPSBidWZmZXJVdGlsLmNvbmNhdChcbiAgICAgICAgdGhpcy5fZGVmbGF0ZVtrQnVmZmVyc10sXG4gICAgICAgIHRoaXMuX2RlZmxhdGVba1RvdGFsTGVuZ3RoXVxuICAgICAgKTtcblxuICAgICAgaWYgKGZpbikgZGF0YSA9IGRhdGEuc2xpY2UoMCwgZGF0YS5sZW5ndGggLSA0KTtcblxuICAgICAgLy9cbiAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBjYWxsYmFjayB3aWxsIG5vdCBiZSBjYWxsZWQgYWdhaW4gaW5cbiAgICAgIC8vIGBQZXJNZXNzYWdlRGVmbGF0ZSNjbGVhbnVwKClgLlxuICAgICAgLy9cbiAgICAgIHRoaXMuX2RlZmxhdGVba0NhbGxiYWNrXSA9IG51bGw7XG5cbiAgICAgIHRoaXMuX2RlZmxhdGVba1RvdGFsTGVuZ3RoXSA9IDA7XG4gICAgICB0aGlzLl9kZWZsYXRlW2tCdWZmZXJzXSA9IFtdO1xuXG4gICAgICBpZiAoZmluICYmIHRoaXMucGFyYW1zW2Ake2VuZHBvaW50fV9ub19jb250ZXh0X3Rha2VvdmVyYF0pIHtcbiAgICAgICAgdGhpcy5fZGVmbGF0ZS5yZXNldCgpO1xuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBlck1lc3NhZ2VEZWZsYXRlO1xuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYHpsaWIuRGVmbGF0ZVJhd2Agc3RyZWFtIGAnZGF0YSdgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBjaHVuayBBIGNodW5rIG9mIGRhdGFcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZmxhdGVPbkRhdGEoY2h1bmspIHtcbiAgdGhpc1trQnVmZmVyc10ucHVzaChjaHVuayk7XG4gIHRoaXNba1RvdGFsTGVuZ3RoXSArPSBjaHVuay5sZW5ndGg7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgemxpYi5JbmZsYXRlUmF3YCBzdHJlYW0gYCdkYXRhJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGNodW5rIEEgY2h1bmsgb2YgZGF0YVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaW5mbGF0ZU9uRGF0YShjaHVuaykge1xuICB0aGlzW2tUb3RhbExlbmd0aF0gKz0gY2h1bmsubGVuZ3RoO1xuXG4gIGlmIChcbiAgICB0aGlzW2tQZXJNZXNzYWdlRGVmbGF0ZV0uX21heFBheWxvYWQgPCAxIHx8XG4gICAgdGhpc1trVG90YWxMZW5ndGhdIDw9IHRoaXNba1Blck1lc3NhZ2VEZWZsYXRlXS5fbWF4UGF5bG9hZFxuICApIHtcbiAgICB0aGlzW2tCdWZmZXJzXS5wdXNoKGNodW5rKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzW2tFcnJvcl0gPSBuZXcgUmFuZ2VFcnJvcignTWF4IHBheWxvYWQgc2l6ZSBleGNlZWRlZCcpO1xuICB0aGlzW2tFcnJvcl0uY29kZSA9ICdXU19FUlJfVU5TVVBQT1JURURfTUVTU0FHRV9MRU5HVEgnO1xuICB0aGlzW2tFcnJvcl1ba1N0YXR1c0NvZGVdID0gMTAwOTtcbiAgdGhpcy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIGluZmxhdGVPbkRhdGEpO1xuICB0aGlzLnJlc2V0KCk7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgemxpYi5JbmZsYXRlUmF3YCBzdHJlYW0gYCdlcnJvcidgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyciBUaGUgZW1pdHRlZCBlcnJvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaW5mbGF0ZU9uRXJyb3IoZXJyKSB7XG4gIC8vXG4gIC8vIFRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBgWmxpYiNjbG9zZSgpYCBhcyB0aGUgaGFuZGxlIGlzIGF1dG9tYXRpY2FsbHlcbiAgLy8gY2xvc2VkIHdoZW4gYW4gZXJyb3IgaXMgZW1pdHRlZC5cbiAgLy9cbiAgdGhpc1trUGVyTWVzc2FnZURlZmxhdGVdLl9pbmZsYXRlID0gbnVsbDtcbiAgZXJyW2tTdGF0dXNDb2RlXSA9IDEwMDc7XG4gIHRoaXNba0NhbGxiYWNrXShlcnIpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst { Writable } = __webpack_require__(/*! stream */ \"stream\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\");\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\nconst { concat, toArrayBuffer, unmask } = __webpack_require__(/*! ./buffer-util */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\");\nconst { isValidStatusCode, isValidUTF8 } = __webpack_require__(/*! ./validation */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js\");\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {String} [binaryType=nodebuffer] The type for binary data\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Boolean} [isServer=false] Specifies whether to operate in client or\n   *     server mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(binaryType, extensions, isServer, maxPayload) {\n    super();\n\n    this._binaryType = binaryType || BINARY_TYPES[0];\n    this[kWebSocket] = undefined;\n    this._extensions = extensions || {};\n    this._isServer = !!isServer;\n    this._maxPayload = maxPayload | 0;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n      if (this._masked) unmask(data, this._mask);\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its lenght is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf.toString());\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, '');\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf.toString());\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvcmVjZWl2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsUUFBUSxXQUFXLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTs7QUFFckMsMEJBQTBCLG1CQUFPLENBQUMsaUlBQXNCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEVBQUUsbUJBQU8sQ0FBQywrR0FBYTtBQUN6QixRQUFRLGdDQUFnQyxFQUFFLG1CQUFPLENBQUMsbUhBQWU7QUFDakUsUUFBUSxpQ0FBaUMsRUFBRSxtQkFBTyxDQUFDLGlIQUFjOztBQUVqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsYUFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixhQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixjQUFjLDhCQUE4QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUJBQW1CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyw4QkFBOEI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0NBQWdDO0FBQzNDLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFFBQVE7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL3dzL2xpYi9yZWNlaXZlci5qcz9kMmExIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgeyBXcml0YWJsZSB9ID0gcmVxdWlyZSgnc3RyZWFtJyk7XG5cbmNvbnN0IFBlck1lc3NhZ2VEZWZsYXRlID0gcmVxdWlyZSgnLi9wZXJtZXNzYWdlLWRlZmxhdGUnKTtcbmNvbnN0IHtcbiAgQklOQVJZX1RZUEVTLFxuICBFTVBUWV9CVUZGRVIsXG4gIGtTdGF0dXNDb2RlLFxuICBrV2ViU29ja2V0XG59ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcbmNvbnN0IHsgY29uY2F0LCB0b0FycmF5QnVmZmVyLCB1bm1hc2sgfSA9IHJlcXVpcmUoJy4vYnVmZmVyLXV0aWwnKTtcbmNvbnN0IHsgaXNWYWxpZFN0YXR1c0NvZGUsIGlzVmFsaWRVVEY4IH0gPSByZXF1aXJlKCcuL3ZhbGlkYXRpb24nKTtcblxuY29uc3QgR0VUX0lORk8gPSAwO1xuY29uc3QgR0VUX1BBWUxPQURfTEVOR1RIXzE2ID0gMTtcbmNvbnN0IEdFVF9QQVlMT0FEX0xFTkdUSF82NCA9IDI7XG5jb25zdCBHRVRfTUFTSyA9IDM7XG5jb25zdCBHRVRfREFUQSA9IDQ7XG5jb25zdCBJTkZMQVRJTkcgPSA1O1xuXG4vKipcbiAqIEh5QmkgUmVjZWl2ZXIgaW1wbGVtZW50YXRpb24uXG4gKlxuICogQGV4dGVuZHMgV3JpdGFibGVcbiAqL1xuY2xhc3MgUmVjZWl2ZXIgZXh0ZW5kcyBXcml0YWJsZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgUmVjZWl2ZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbYmluYXJ5VHlwZT1ub2RlYnVmZmVyXSBUaGUgdHlwZSBmb3IgYmluYXJ5IGRhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9IFtleHRlbnNpb25zXSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgbmVnb3RpYXRlZCBleHRlbnNpb25zXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lzU2VydmVyPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciB0byBvcGVyYXRlIGluIGNsaWVudCBvclxuICAgKiAgICAgc2VydmVyIG1vZGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhQYXlsb2FkPTBdIFRoZSBtYXhpbXVtIGFsbG93ZWQgbWVzc2FnZSBsZW5ndGhcbiAgICovXG4gIGNvbnN0cnVjdG9yKGJpbmFyeVR5cGUsIGV4dGVuc2lvbnMsIGlzU2VydmVyLCBtYXhQYXlsb2FkKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuX2JpbmFyeVR5cGUgPSBiaW5hcnlUeXBlIHx8IEJJTkFSWV9UWVBFU1swXTtcbiAgICB0aGlzW2tXZWJTb2NrZXRdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2V4dGVuc2lvbnMgPSBleHRlbnNpb25zIHx8IHt9O1xuICAgIHRoaXMuX2lzU2VydmVyID0gISFpc1NlcnZlcjtcbiAgICB0aGlzLl9tYXhQYXlsb2FkID0gbWF4UGF5bG9hZCB8IDA7XG5cbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzID0gMDtcbiAgICB0aGlzLl9idWZmZXJzID0gW107XG5cbiAgICB0aGlzLl9jb21wcmVzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fcGF5bG9hZExlbmd0aCA9IDA7XG4gICAgdGhpcy5fbWFzayA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9mcmFnbWVudGVkID0gMDtcbiAgICB0aGlzLl9tYXNrZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9maW4gPSBmYWxzZTtcbiAgICB0aGlzLl9vcGNvZGUgPSAwO1xuXG4gICAgdGhpcy5fdG90YWxQYXlsb2FkTGVuZ3RoID0gMDtcbiAgICB0aGlzLl9tZXNzYWdlTGVuZ3RoID0gMDtcbiAgICB0aGlzLl9mcmFnbWVudHMgPSBbXTtcblxuICAgIHRoaXMuX3N0YXRlID0gR0VUX0lORk87XG4gICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudHMgYFdyaXRhYmxlLnByb3RvdHlwZS5fd3JpdGUoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBjaHVuayBUaGUgY2h1bmsgb2YgZGF0YSB0byB3cml0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZW5jb2RpbmcgVGhlIGNoYXJhY3RlciBlbmNvZGluZyBvZiBgY2h1bmtgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfd3JpdGUoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICAgIGlmICh0aGlzLl9vcGNvZGUgPT09IDB4MDggJiYgdGhpcy5fc3RhdGUgPT0gR0VUX0lORk8pIHJldHVybiBjYigpO1xuXG4gICAgdGhpcy5fYnVmZmVyZWRCeXRlcyArPSBjaHVuay5sZW5ndGg7XG4gICAgdGhpcy5fYnVmZmVycy5wdXNoKGNodW5rKTtcbiAgICB0aGlzLnN0YXJ0TG9vcChjYik7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3VtZXMgYG5gIGJ5dGVzIGZyb20gdGhlIGJ1ZmZlcmVkIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gY29uc3VtZVxuICAgKiBAcmV0dXJuIHtCdWZmZXJ9IFRoZSBjb25zdW1lZCBieXRlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3VtZShuKSB7XG4gICAgdGhpcy5fYnVmZmVyZWRCeXRlcyAtPSBuO1xuXG4gICAgaWYgKG4gPT09IHRoaXMuX2J1ZmZlcnNbMF0ubGVuZ3RoKSByZXR1cm4gdGhpcy5fYnVmZmVycy5zaGlmdCgpO1xuXG4gICAgaWYgKG4gPCB0aGlzLl9idWZmZXJzWzBdLmxlbmd0aCkge1xuICAgICAgY29uc3QgYnVmID0gdGhpcy5fYnVmZmVyc1swXTtcbiAgICAgIHRoaXMuX2J1ZmZlcnNbMF0gPSBidWYuc2xpY2Uobik7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDAsIG4pO1xuICAgIH1cblxuICAgIGNvbnN0IGRzdCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuKTtcblxuICAgIGRvIHtcbiAgICAgIGNvbnN0IGJ1ZiA9IHRoaXMuX2J1ZmZlcnNbMF07XG4gICAgICBjb25zdCBvZmZzZXQgPSBkc3QubGVuZ3RoIC0gbjtcblxuICAgICAgaWYgKG4gPj0gYnVmLmxlbmd0aCkge1xuICAgICAgICBkc3Quc2V0KHRoaXMuX2J1ZmZlcnMuc2hpZnQoKSwgb2Zmc2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRzdC5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIG4pLCBvZmZzZXQpO1xuICAgICAgICB0aGlzLl9idWZmZXJzWzBdID0gYnVmLnNsaWNlKG4pO1xuICAgICAgfVxuXG4gICAgICBuIC09IGJ1Zi5sZW5ndGg7XG4gICAgfSB3aGlsZSAobiA+IDApO1xuXG4gICAgcmV0dXJuIGRzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHBhcnNpbmcgbG9vcC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXJ0TG9vcChjYikge1xuICAgIGxldCBlcnI7XG4gICAgdGhpcy5fbG9vcCA9IHRydWU7XG5cbiAgICBkbyB7XG4gICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgR0VUX0lORk86XG4gICAgICAgICAgZXJyID0gdGhpcy5nZXRJbmZvKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR0VUX1BBWUxPQURfTEVOR1RIXzE2OlxuICAgICAgICAgIGVyciA9IHRoaXMuZ2V0UGF5bG9hZExlbmd0aDE2KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR0VUX1BBWUxPQURfTEVOR1RIXzY0OlxuICAgICAgICAgIGVyciA9IHRoaXMuZ2V0UGF5bG9hZExlbmd0aDY0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR0VUX01BU0s6XG4gICAgICAgICAgdGhpcy5nZXRNYXNrKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR0VUX0RBVEE6XG4gICAgICAgICAgZXJyID0gdGhpcy5nZXREYXRhKGNiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBgSU5GTEFUSU5HYFxuICAgICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSB3aGlsZSAodGhpcy5fbG9vcCk7XG5cbiAgICBjYihlcnIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBmaXJzdCB0d28gYnl0ZXMgb2YgYSBmcmFtZS5cbiAgICpcbiAgICogQHJldHVybiB7KFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0SW5mbygpIHtcbiAgICBpZiAodGhpcy5fYnVmZmVyZWRCeXRlcyA8IDIpIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBidWYgPSB0aGlzLmNvbnN1bWUoMik7XG5cbiAgICBpZiAoKGJ1ZlswXSAmIDB4MzApICE9PSAweDAwKSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICdSU1YyIGFuZCBSU1YzIG11c3QgYmUgY2xlYXInLFxuICAgICAgICB0cnVlLFxuICAgICAgICAxMDAyLFxuICAgICAgICAnV1NfRVJSX1VORVhQRUNURURfUlNWXzJfMydcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcHJlc3NlZCA9IChidWZbMF0gJiAweDQwKSA9PT0gMHg0MDtcblxuICAgIGlmIChjb21wcmVzc2VkICYmICF0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICdSU1YxIG11c3QgYmUgY2xlYXInLFxuICAgICAgICB0cnVlLFxuICAgICAgICAxMDAyLFxuICAgICAgICAnV1NfRVJSX1VORVhQRUNURURfUlNWXzEnXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuX2ZpbiA9IChidWZbMF0gJiAweDgwKSA9PT0gMHg4MDtcbiAgICB0aGlzLl9vcGNvZGUgPSBidWZbMF0gJiAweDBmO1xuICAgIHRoaXMuX3BheWxvYWRMZW5ndGggPSBidWZbMV0gJiAweDdmO1xuXG4gICAgaWYgKHRoaXMuX29wY29kZSA9PT0gMHgwMCkge1xuICAgICAgaWYgKGNvbXByZXNzZWQpIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAnUlNWMSBtdXN0IGJlIGNsZWFyJyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgJ1dTX0VSUl9VTkVYUEVDVEVEX1JTVl8xJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2ZyYWdtZW50ZWQpIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAnaW52YWxpZCBvcGNvZGUgMCcsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAxMDAyLFxuICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9PUENPREUnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29wY29kZSA9IHRoaXMuX2ZyYWdtZW50ZWQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9vcGNvZGUgPT09IDB4MDEgfHwgdGhpcy5fb3Bjb2RlID09PSAweDAyKSB7XG4gICAgICBpZiAodGhpcy5fZnJhZ21lbnRlZCkge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgIGBpbnZhbGlkIG9wY29kZSAke3RoaXMuX29wY29kZX1gLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgMTAwMixcbiAgICAgICAgICAnV1NfRVJSX0lOVkFMSURfT1BDT0RFJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jb21wcmVzc2VkID0gY29tcHJlc3NlZDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX29wY29kZSA+IDB4MDcgJiYgdGhpcy5fb3Bjb2RlIDwgMHgwYikge1xuICAgICAgaWYgKCF0aGlzLl9maW4pIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAnRklOIG11c3QgYmUgc2V0JyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgJ1dTX0VSUl9FWFBFQ1RFRF9GSU4nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21wcmVzc2VkKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgJ1JTVjEgbXVzdCBiZSBjbGVhcicsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAxMDAyLFxuICAgICAgICAgICdXU19FUlJfVU5FWFBFQ1RFRF9SU1ZfMSdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX3BheWxvYWRMZW5ndGggPiAweDdkKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgYGludmFsaWQgcGF5bG9hZCBsZW5ndGggJHt0aGlzLl9wYXlsb2FkTGVuZ3RofWAsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAxMDAyLFxuICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9DT05UUk9MX1BBWUxPQURfTEVOR1RIJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgIGBpbnZhbGlkIG9wY29kZSAke3RoaXMuX29wY29kZX1gLFxuICAgICAgICB0cnVlLFxuICAgICAgICAxMDAyLFxuICAgICAgICAnV1NfRVJSX0lOVkFMSURfT1BDT0RFJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2ZpbiAmJiAhdGhpcy5fZnJhZ21lbnRlZCkgdGhpcy5fZnJhZ21lbnRlZCA9IHRoaXMuX29wY29kZTtcbiAgICB0aGlzLl9tYXNrZWQgPSAoYnVmWzFdICYgMHg4MCkgPT09IDB4ODA7XG5cbiAgICBpZiAodGhpcy5faXNTZXJ2ZXIpIHtcbiAgICAgIGlmICghdGhpcy5fbWFza2VkKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgJ01BU0sgbXVzdCBiZSBzZXQnLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgMTAwMixcbiAgICAgICAgICAnV1NfRVJSX0VYUEVDVEVEX01BU0snXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9tYXNrZWQpIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgJ01BU0sgbXVzdCBiZSBjbGVhcicsXG4gICAgICAgIHRydWUsXG4gICAgICAgIDEwMDIsXG4gICAgICAgICdXU19FUlJfVU5FWFBFQ1RFRF9NQVNLJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcGF5bG9hZExlbmd0aCA9PT0gMTI2KSB0aGlzLl9zdGF0ZSA9IEdFVF9QQVlMT0FEX0xFTkdUSF8xNjtcbiAgICBlbHNlIGlmICh0aGlzLl9wYXlsb2FkTGVuZ3RoID09PSAxMjcpIHRoaXMuX3N0YXRlID0gR0VUX1BBWUxPQURfTEVOR1RIXzY0O1xuICAgIGVsc2UgcmV0dXJuIHRoaXMuaGF2ZUxlbmd0aCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgZXh0ZW5kZWQgcGF5bG9hZCBsZW5ndGggKDcrMTYpLlxuICAgKlxuICAgKiBAcmV0dXJuIHsoUmFuZ2VFcnJvcnx1bmRlZmluZWQpfSBBIHBvc3NpYmxlIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRQYXlsb2FkTGVuZ3RoMTYoKSB7XG4gICAgaWYgKHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPCAyKSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fcGF5bG9hZExlbmd0aCA9IHRoaXMuY29uc3VtZSgyKS5yZWFkVUludDE2QkUoMCk7XG4gICAgcmV0dXJuIHRoaXMuaGF2ZUxlbmd0aCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgZXh0ZW5kZWQgcGF5bG9hZCBsZW5ndGggKDcrNjQpLlxuICAgKlxuICAgKiBAcmV0dXJuIHsoUmFuZ2VFcnJvcnx1bmRlZmluZWQpfSBBIHBvc3NpYmxlIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRQYXlsb2FkTGVuZ3RoNjQoKSB7XG4gICAgaWYgKHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPCA4KSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYnVmID0gdGhpcy5jb25zdW1lKDgpO1xuICAgIGNvbnN0IG51bSA9IGJ1Zi5yZWFkVUludDMyQkUoMCk7XG5cbiAgICAvL1xuICAgIC8vIFRoZSBtYXhpbXVtIHNhZmUgaW50ZWdlciBpbiBKYXZhU2NyaXB0IGlzIDJeNTMgLSAxLiBBbiBlcnJvciBpcyByZXR1cm5lZFxuICAgIC8vIGlmIHBheWxvYWQgbGVuZ3RoIGlzIGdyZWF0ZXIgdGhhbiB0aGlzIG51bWJlci5cbiAgICAvL1xuICAgIGlmIChudW0gPiBNYXRoLnBvdygyLCA1MyAtIDMyKSAtIDEpIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgJ1Vuc3VwcG9ydGVkIFdlYlNvY2tldCBmcmFtZTogcGF5bG9hZCBsZW5ndGggPiAyXjUzIC0gMScsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAxMDA5LFxuICAgICAgICAnV1NfRVJSX1VOU1VQUE9SVEVEX0RBVEFfUEFZTE9BRF9MRU5HVEgnXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuX3BheWxvYWRMZW5ndGggPSBudW0gKiBNYXRoLnBvdygyLCAzMikgKyBidWYucmVhZFVJbnQzMkJFKDQpO1xuICAgIHJldHVybiB0aGlzLmhhdmVMZW5ndGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXlsb2FkIGxlbmd0aCBoYXMgYmVlbiByZWFkLlxuICAgKlxuICAgKiBAcmV0dXJuIHsoUmFuZ2VFcnJvcnx1bmRlZmluZWQpfSBBIHBvc3NpYmxlIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYXZlTGVuZ3RoKCkge1xuICAgIGlmICh0aGlzLl9wYXlsb2FkTGVuZ3RoICYmIHRoaXMuX29wY29kZSA8IDB4MDgpIHtcbiAgICAgIHRoaXMuX3RvdGFsUGF5bG9hZExlbmd0aCArPSB0aGlzLl9wYXlsb2FkTGVuZ3RoO1xuICAgICAgaWYgKHRoaXMuX3RvdGFsUGF5bG9hZExlbmd0aCA+IHRoaXMuX21heFBheWxvYWQgJiYgdGhpcy5fbWF4UGF5bG9hZCA+IDApIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAnTWF4IHBheWxvYWQgc2l6ZSBleGNlZWRlZCcsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgMTAwOSxcbiAgICAgICAgICAnV1NfRVJSX1VOU1VQUE9SVEVEX01FU1NBR0VfTEVOR1RIJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9tYXNrZWQpIHRoaXMuX3N0YXRlID0gR0VUX01BU0s7XG4gICAgZWxzZSB0aGlzLl9zdGF0ZSA9IEdFVF9EQVRBO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIG1hc2sgYnl0ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRNYXNrKCkge1xuICAgIGlmICh0aGlzLl9idWZmZXJlZEJ5dGVzIDwgNCkge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21hc2sgPSB0aGlzLmNvbnN1bWUoNCk7XG4gICAgdGhpcy5fc3RhdGUgPSBHRVRfREFUQTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyBkYXRhIGJ5dGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBDYWxsYmFja1xuICAgKiBAcmV0dXJuIHsoRXJyb3J8UmFuZ2VFcnJvcnx1bmRlZmluZWQpfSBBIHBvc3NpYmxlIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXREYXRhKGNiKSB7XG4gICAgbGV0IGRhdGEgPSBFTVBUWV9CVUZGRVI7XG5cbiAgICBpZiAodGhpcy5fcGF5bG9hZExlbmd0aCkge1xuICAgICAgaWYgKHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPCB0aGlzLl9wYXlsb2FkTGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkYXRhID0gdGhpcy5jb25zdW1lKHRoaXMuX3BheWxvYWRMZW5ndGgpO1xuICAgICAgaWYgKHRoaXMuX21hc2tlZCkgdW5tYXNrKGRhdGEsIHRoaXMuX21hc2spO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vcGNvZGUgPiAweDA3KSByZXR1cm4gdGhpcy5jb250cm9sTWVzc2FnZShkYXRhKTtcblxuICAgIGlmICh0aGlzLl9jb21wcmVzc2VkKSB7XG4gICAgICB0aGlzLl9zdGF0ZSA9IElORkxBVElORztcbiAgICAgIHRoaXMuZGVjb21wcmVzcyhkYXRhLCBjYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBtZXNzYWdlIGlzIG5vdCBjb21wcmVzc2VkIHNvIGl0cyBsZW5naHQgaXMgdGhlIHN1bSBvZiB0aGUgcGF5bG9hZFxuICAgICAgLy8gbGVuZ3RoIG9mIGFsbCBmcmFnbWVudHMuXG4gICAgICAvL1xuICAgICAgdGhpcy5fbWVzc2FnZUxlbmd0aCA9IHRoaXMuX3RvdGFsUGF5bG9hZExlbmd0aDtcbiAgICAgIHRoaXMuX2ZyYWdtZW50cy5wdXNoKGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRhdGFNZXNzYWdlKCk7XG4gIH1cblxuICAvKipcbiAgICogRGVjb21wcmVzc2VzIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIENvbXByZXNzZWQgZGF0YVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGVjb21wcmVzcyhkYXRhLCBjYikge1xuICAgIGNvbnN0IHBlck1lc3NhZ2VEZWZsYXRlID0gdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXTtcblxuICAgIHBlck1lc3NhZ2VEZWZsYXRlLmRlY29tcHJlc3MoZGF0YSwgdGhpcy5fZmluLCAoZXJyLCBidWYpID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG4gICAgICBpZiAoYnVmLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9tZXNzYWdlTGVuZ3RoICs9IGJ1Zi5sZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLl9tZXNzYWdlTGVuZ3RoID4gdGhpcy5fbWF4UGF5bG9hZCAmJiB0aGlzLl9tYXhQYXlsb2FkID4gMCkge1xuICAgICAgICAgIHJldHVybiBjYihcbiAgICAgICAgICAgIGVycm9yKFxuICAgICAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICAgICAnTWF4IHBheWxvYWQgc2l6ZSBleGNlZWRlZCcsXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAxMDA5LFxuICAgICAgICAgICAgICAnV1NfRVJSX1VOU1VQUE9SVEVEX01FU1NBR0VfTEVOR1RIJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mcmFnbWVudHMucHVzaChidWYpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlciA9IHRoaXMuZGF0YU1lc3NhZ2UoKTtcbiAgICAgIGlmIChlcikgcmV0dXJuIGNiKGVyKTtcblxuICAgICAgdGhpcy5zdGFydExvb3AoY2IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBkYXRhIG1lc3NhZ2UuXG4gICAqXG4gICAqIEByZXR1cm4geyhFcnJvcnx1bmRlZmluZWQpfSBBIHBvc3NpYmxlIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkYXRhTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5fZmluKSB7XG4gICAgICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gdGhpcy5fbWVzc2FnZUxlbmd0aDtcbiAgICAgIGNvbnN0IGZyYWdtZW50cyA9IHRoaXMuX2ZyYWdtZW50cztcblxuICAgICAgdGhpcy5fdG90YWxQYXlsb2FkTGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuX21lc3NhZ2VMZW5ndGggPSAwO1xuICAgICAgdGhpcy5fZnJhZ21lbnRlZCA9IDA7XG4gICAgICB0aGlzLl9mcmFnbWVudHMgPSBbXTtcblxuICAgICAgaWYgKHRoaXMuX29wY29kZSA9PT0gMikge1xuICAgICAgICBsZXQgZGF0YTtcblxuICAgICAgICBpZiAodGhpcy5fYmluYXJ5VHlwZSA9PT0gJ25vZGVidWZmZXInKSB7XG4gICAgICAgICAgZGF0YSA9IGNvbmNhdChmcmFnbWVudHMsIG1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JpbmFyeVR5cGUgPT09ICdhcnJheWJ1ZmZlcicpIHtcbiAgICAgICAgICBkYXRhID0gdG9BcnJheUJ1ZmZlcihjb25jYXQoZnJhZ21lbnRzLCBtZXNzYWdlTGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YSA9IGZyYWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIGRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYnVmID0gY29uY2F0KGZyYWdtZW50cywgbWVzc2FnZUxlbmd0aCk7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkVVRGOChidWYpKSB7XG4gICAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICAgIEVycm9yLFxuICAgICAgICAgICAgJ2ludmFsaWQgVVRGLTggc2VxdWVuY2UnLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIDEwMDcsXG4gICAgICAgICAgICAnV1NfRVJSX0lOVkFMSURfVVRGOCdcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgYnVmLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3N0YXRlID0gR0VUX0lORk87XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhIGNvbnRyb2wgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgRGF0YSB0byBoYW5kbGVcbiAgICogQHJldHVybiB7KEVycm9yfFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29udHJvbE1lc3NhZ2UoZGF0YSkge1xuICAgIGlmICh0aGlzLl9vcGNvZGUgPT09IDB4MDgpIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcblxuICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnY29uY2x1ZGUnLCAxMDA1LCAnJyk7XG4gICAgICAgIHRoaXMuZW5kKCk7XG4gICAgICB9IGVsc2UgaWYgKGRhdGEubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICdpbnZhbGlkIHBheWxvYWQgbGVuZ3RoIDEnLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgMTAwMixcbiAgICAgICAgICAnV1NfRVJSX0lOVkFMSURfQ09OVFJPTF9QQVlMT0FEX0xFTkdUSCdcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBkYXRhLnJlYWRVSW50MTZCRSgwKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWRTdGF0dXNDb2RlKGNvZGUpKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAgIGBpbnZhbGlkIHN0YXR1cyBjb2RlICR7Y29kZX1gLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgICAnV1NfRVJSX0lOVkFMSURfQ0xPU0VfQ09ERSdcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVmID0gZGF0YS5zbGljZSgyKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWRVVEY4KGJ1ZikpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgICBFcnJvcixcbiAgICAgICAgICAgICdpbnZhbGlkIFVURi04IHNlcXVlbmNlJyxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAxMDA3LFxuICAgICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX1VURjgnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgnY29uY2x1ZGUnLCBjb2RlLCBidWYudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuZW5kKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9vcGNvZGUgPT09IDB4MDkpIHtcbiAgICAgIHRoaXMuZW1pdCgncGluZycsIGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVtaXQoJ3BvbmcnLCBkYXRhKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGF0ZSA9IEdFVF9JTkZPO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVjZWl2ZXI7XG5cbi8qKlxuICogQnVpbGRzIGFuIGVycm9yIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpFcnJvcnxSYW5nZUVycm9yKX0gRXJyb3JDdG9yIFRoZSBlcnJvciBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2VcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJlZml4IFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBhZGQgYSBkZWZhdWx0IHByZWZpeCB0b1xuICogICAgIGBtZXNzYWdlYFxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1c0NvZGUgVGhlIHN0YXR1cyBjb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gZXJyb3JDb2RlIFRoZSBleHBvc2VkIGVycm9yIGNvZGVcbiAqIEByZXR1cm4geyhFcnJvcnxSYW5nZUVycm9yKX0gVGhlIGVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBlcnJvcihFcnJvckN0b3IsIG1lc3NhZ2UsIHByZWZpeCwgc3RhdHVzQ29kZSwgZXJyb3JDb2RlKSB7XG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvckN0b3IoXG4gICAgcHJlZml4ID8gYEludmFsaWQgV2ViU29ja2V0IGZyYW1lOiAke21lc3NhZ2V9YCA6IG1lc3NhZ2VcbiAgKTtcblxuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnIsIGVycm9yKTtcbiAgZXJyLmNvZGUgPSBlcnJvckNvZGU7XG4gIGVycltrU3RhdHVzQ29kZV0gPSBzdGF0dXNDb2RlO1xuICByZXR1cm4gZXJyO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n\n\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { randomFillSync } = __webpack_require__(/*! crypto */ \"crypto\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\");\nconst { EMPTY_BUFFER } = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\nconst { isValidStatusCode } = __webpack_require__(/*! ./validation */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js\");\nconst { mask: applyMask, toBuffer } = __webpack_require__(/*! ./buffer-util */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\");\n\nconst mask = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   */\n  constructor(socket, extensions) {\n    this._extensions = extensions || {};\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {Buffer} data The data to frame\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {Buffer[]} The framed data as a list of `Buffer` instances\n   * @public\n   */\n  static frame(data, options) {\n    const merge = options.mask && options.readOnly;\n    let offset = options.mask ? 6 : 2;\n    let payloadLength = data.length;\n\n    if (data.length >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (data.length > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? data.length + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(data.length, 2);\n    } else if (payloadLength === 127) {\n      target.writeUInt32BE(0, 2);\n      target.writeUInt32BE(data.length, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    randomFillSync(mask, 0, 4);\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, data.length);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, data.length);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {String} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || data === '') {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n      buf.write(data, 2);\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doClose, buf, mask, cb]);\n    } else {\n      this.doClose(buf, mask, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a close message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doClose(data, mask, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x08,\n        mask,\n        readOnly: false\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    const buf = toBuffer(data);\n\n    if (buf.length > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPing, buf, mask, toBuffer.readOnly, cb]);\n    } else {\n      this.doPing(buf, mask, toBuffer.readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a ping message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doPing(data, mask, readOnly, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x09,\n        mask,\n        readOnly\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    const buf = toBuffer(data);\n\n    if (buf.length > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPong, buf, mask, toBuffer.readOnly, cb]);\n    } else {\n      this.doPong(buf, mask, toBuffer.readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a pong message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doPong(data, mask, readOnly, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x0a,\n        mask,\n        readOnly\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const buf = toBuffer(data);\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (rsv1 && perMessageDeflate) {\n        rsv1 = buf.length >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        fin: options.fin,\n        rsv1,\n        opcode,\n        mask: options.mask,\n        readOnly: toBuffer.readOnly\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, buf, this._compress, opts, cb]);\n      } else {\n        this.dispatch(buf, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(buf, {\n          fin: options.fin,\n          rsv1: false,\n          opcode,\n          mask: options.mask,\n          readOnly: toBuffer.readOnly\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a data message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += data.length;\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const callback = this._queue[i][4];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= data.length;\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[1].length;\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[1].length;\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvc2VuZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQyxrQ0FBa0M7O0FBRTNEOztBQUViLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QixZQUFZLG1CQUFPLENBQUMsZ0JBQUs7QUFDekIsUUFBUSxpQkFBaUIsRUFBRSxtQkFBTyxDQUFDLHNCQUFROztBQUUzQywwQkFBMEIsbUJBQU8sQ0FBQyxpSUFBc0I7QUFDeEQsUUFBUSxlQUFlLEVBQUUsbUJBQU8sQ0FBQywrR0FBYTtBQUM5QyxRQUFRLG9CQUFvQixFQUFFLG1CQUFPLENBQUMsaUhBQWM7QUFDcEQsUUFBUSw0QkFBNEIsRUFBRSxtQkFBTyxDQUFDLG1IQUFlOztBQUU3RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx3QkFBd0Isd0JBQXdCO0FBQ2hEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvc2VuZGVyLmpzPzQ0NDIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBbXCJlcnJvclwiLCB7IFwidmFyc0lnbm9yZVBhdHRlcm5cIjogXCJebmV0fHRscyRcIiB9XSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpO1xuY29uc3QgdGxzID0gcmVxdWlyZSgndGxzJyk7XG5jb25zdCB7IHJhbmRvbUZpbGxTeW5jIH0gPSByZXF1aXJlKCdjcnlwdG8nKTtcblxuY29uc3QgUGVyTWVzc2FnZURlZmxhdGUgPSByZXF1aXJlKCcuL3Blcm1lc3NhZ2UtZGVmbGF0ZScpO1xuY29uc3QgeyBFTVBUWV9CVUZGRVIgfSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG5jb25zdCB7IGlzVmFsaWRTdGF0dXNDb2RlIH0gPSByZXF1aXJlKCcuL3ZhbGlkYXRpb24nKTtcbmNvbnN0IHsgbWFzazogYXBwbHlNYXNrLCB0b0J1ZmZlciB9ID0gcmVxdWlyZSgnLi9idWZmZXItdXRpbCcpO1xuXG5jb25zdCBtYXNrID0gQnVmZmVyLmFsbG9jKDQpO1xuXG4vKipcbiAqIEh5QmkgU2VuZGVyIGltcGxlbWVudGF0aW9uLlxuICovXG5jbGFzcyBTZW5kZXIge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFNlbmRlciBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHsobmV0LlNvY2tldHx0bHMuU29ja2V0KX0gc29ja2V0IFRoZSBjb25uZWN0aW9uIHNvY2tldFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2V4dGVuc2lvbnNdIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBuZWdvdGlhdGVkIGV4dGVuc2lvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHNvY2tldCwgZXh0ZW5zaW9ucykge1xuICAgIHRoaXMuX2V4dGVuc2lvbnMgPSBleHRlbnNpb25zIHx8IHt9O1xuICAgIHRoaXMuX3NvY2tldCA9IHNvY2tldDtcblxuICAgIHRoaXMuX2ZpcnN0RnJhZ21lbnQgPSB0cnVlO1xuICAgIHRoaXMuX2NvbXByZXNzID0gZmFsc2U7XG5cbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzID0gMDtcbiAgICB0aGlzLl9kZWZsYXRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEZyYW1lcyBhIHBpZWNlIG9mIGRhdGEgYWNjb3JkaW5nIHRvIHRoZSBIeUJpIFdlYlNvY2tldCBwcm90b2NvbC5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgVGhlIGRhdGEgdG8gZnJhbWVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMub3Bjb2RlIFRoZSBvcGNvZGVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yZWFkT25seT1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgYGRhdGFgIGNhbiBiZVxuICAgKiAgICAgbW9kaWZpZWRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5maW49ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBzZXQgdGhlXG4gICAqICAgICBGSU4gYml0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2tcbiAgICogICAgIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJzdjE9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBzZXQgdGhlXG4gICAqICAgICBSU1YxIGJpdFxuICAgKiBAcmV0dXJuIHtCdWZmZXJbXX0gVGhlIGZyYW1lZCBkYXRhIGFzIGEgbGlzdCBvZiBgQnVmZmVyYCBpbnN0YW5jZXNcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIGZyYW1lKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtZXJnZSA9IG9wdGlvbnMubWFzayAmJiBvcHRpb25zLnJlYWRPbmx5O1xuICAgIGxldCBvZmZzZXQgPSBvcHRpb25zLm1hc2sgPyA2IDogMjtcbiAgICBsZXQgcGF5bG9hZExlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgaWYgKGRhdGEubGVuZ3RoID49IDY1NTM2KSB7XG4gICAgICBvZmZzZXQgKz0gODtcbiAgICAgIHBheWxvYWRMZW5ndGggPSAxMjc7XG4gICAgfSBlbHNlIGlmIChkYXRhLmxlbmd0aCA+IDEyNSkge1xuICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgICBwYXlsb2FkTGVuZ3RoID0gMTI2O1xuICAgIH1cblxuICAgIGNvbnN0IHRhcmdldCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShtZXJnZSA/IGRhdGEubGVuZ3RoICsgb2Zmc2V0IDogb2Zmc2V0KTtcblxuICAgIHRhcmdldFswXSA9IG9wdGlvbnMuZmluID8gb3B0aW9ucy5vcGNvZGUgfCAweDgwIDogb3B0aW9ucy5vcGNvZGU7XG4gICAgaWYgKG9wdGlvbnMucnN2MSkgdGFyZ2V0WzBdIHw9IDB4NDA7XG5cbiAgICB0YXJnZXRbMV0gPSBwYXlsb2FkTGVuZ3RoO1xuXG4gICAgaWYgKHBheWxvYWRMZW5ndGggPT09IDEyNikge1xuICAgICAgdGFyZ2V0LndyaXRlVUludDE2QkUoZGF0YS5sZW5ndGgsIDIpO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZExlbmd0aCA9PT0gMTI3KSB7XG4gICAgICB0YXJnZXQud3JpdGVVSW50MzJCRSgwLCAyKTtcbiAgICAgIHRhcmdldC53cml0ZVVJbnQzMkJFKGRhdGEubGVuZ3RoLCA2KTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMubWFzaykgcmV0dXJuIFt0YXJnZXQsIGRhdGFdO1xuXG4gICAgcmFuZG9tRmlsbFN5bmMobWFzaywgMCwgNCk7XG5cbiAgICB0YXJnZXRbMV0gfD0gMHg4MDtcbiAgICB0YXJnZXRbb2Zmc2V0IC0gNF0gPSBtYXNrWzBdO1xuICAgIHRhcmdldFtvZmZzZXQgLSAzXSA9IG1hc2tbMV07XG4gICAgdGFyZ2V0W29mZnNldCAtIDJdID0gbWFza1syXTtcbiAgICB0YXJnZXRbb2Zmc2V0IC0gMV0gPSBtYXNrWzNdO1xuXG4gICAgaWYgKG1lcmdlKSB7XG4gICAgICBhcHBseU1hc2soZGF0YSwgbWFzaywgdGFyZ2V0LCBvZmZzZXQsIGRhdGEubGVuZ3RoKTtcbiAgICAgIHJldHVybiBbdGFyZ2V0XTtcbiAgICB9XG5cbiAgICBhcHBseU1hc2soZGF0YSwgbWFzaywgZGF0YSwgMCwgZGF0YS5sZW5ndGgpO1xuICAgIHJldHVybiBbdGFyZ2V0LCBkYXRhXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIGNsb3NlIG1lc3NhZ2UgdG8gdGhlIG90aGVyIHBlZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbY29kZV0gVGhlIHN0YXR1cyBjb2RlIGNvbXBvbmVudCBvZiB0aGUgYm9keVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2RhdGFdIFRoZSBtZXNzYWdlIGNvbXBvbmVudCBvZiB0aGUgYm9keVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFzayB0aGUgbWVzc2FnZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNsb3NlKGNvZGUsIGRhdGEsIG1hc2ssIGNiKSB7XG4gICAgbGV0IGJ1ZjtcblxuICAgIGlmIChjb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGJ1ZiA9IEVNUFRZX0JVRkZFUjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb2RlICE9PSAnbnVtYmVyJyB8fCAhaXNWYWxpZFN0YXR1c0NvZGUoY29kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSB2YWxpZCBlcnJvciBjb2RlIG51bWJlcicpO1xuICAgIH0gZWxzZSBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkIHx8IGRhdGEgPT09ICcnKSB7XG4gICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMik7XG4gICAgICBidWYud3JpdGVVSW50MTZCRShjb2RlLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGVuZ3RoID0gQnVmZmVyLmJ5dGVMZW5ndGgoZGF0YSk7XG5cbiAgICAgIGlmIChsZW5ndGggPiAxMjMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSBtZXNzYWdlIG11c3Qgbm90IGJlIGdyZWF0ZXIgdGhhbiAxMjMgYnl0ZXMnKTtcbiAgICAgIH1cblxuICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDIgKyBsZW5ndGgpO1xuICAgICAgYnVmLndyaXRlVUludDE2QkUoY29kZSwgMCk7XG4gICAgICBidWYud3JpdGUoZGF0YSwgMik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2RlZmxhdGluZykge1xuICAgICAgdGhpcy5lbnF1ZXVlKFt0aGlzLmRvQ2xvc2UsIGJ1ZiwgbWFzaywgY2JdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb0Nsb3NlKGJ1ZiwgbWFzaywgY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGcmFtZXMgYW5kIHNlbmRzIGEgY2xvc2UgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZG9DbG9zZShkYXRhLCBtYXNrLCBjYikge1xuICAgIHRoaXMuc2VuZEZyYW1lKFxuICAgICAgU2VuZGVyLmZyYW1lKGRhdGEsIHtcbiAgICAgICAgZmluOiB0cnVlLFxuICAgICAgICByc3YxOiBmYWxzZSxcbiAgICAgICAgb3Bjb2RlOiAweDA4LFxuICAgICAgICBtYXNrLFxuICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgIH0pLFxuICAgICAgY2JcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgcGluZyBtZXNzYWdlIHRvIHRoZSBvdGhlciBwZWVyLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBwaW5nKGRhdGEsIG1hc2ssIGNiKSB7XG4gICAgY29uc3QgYnVmID0gdG9CdWZmZXIoZGF0YSk7XG5cbiAgICBpZiAoYnVmLmxlbmd0aCA+IDEyNSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSBkYXRhIHNpemUgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIDEyNSBieXRlcycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9kZWZsYXRpbmcpIHtcbiAgICAgIHRoaXMuZW5xdWV1ZShbdGhpcy5kb1BpbmcsIGJ1ZiwgbWFzaywgdG9CdWZmZXIucmVhZE9ubHksIGNiXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZG9QaW5nKGJ1ZiwgbWFzaywgdG9CdWZmZXIucmVhZE9ubHksIGNiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRnJhbWVzIGFuZCBzZW5kcyBhIHBpbmcgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcbiAgICogQHBhcmFtIHtCb29sZWFufSBbcmVhZE9ubHk9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIGBkYXRhYCBjYW4gYmUgbW9kaWZpZWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZG9QaW5nKGRhdGEsIG1hc2ssIHJlYWRPbmx5LCBjYikge1xuICAgIHRoaXMuc2VuZEZyYW1lKFxuICAgICAgU2VuZGVyLmZyYW1lKGRhdGEsIHtcbiAgICAgICAgZmluOiB0cnVlLFxuICAgICAgICByc3YxOiBmYWxzZSxcbiAgICAgICAgb3Bjb2RlOiAweDA5LFxuICAgICAgICBtYXNrLFxuICAgICAgICByZWFkT25seVxuICAgICAgfSksXG4gICAgICBjYlxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBwb25nIG1lc3NhZ2UgdG8gdGhlIG90aGVyIHBlZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHBvbmcoZGF0YSwgbWFzaywgY2IpIHtcbiAgICBjb25zdCBidWYgPSB0b0J1ZmZlcihkYXRhKTtcblxuICAgIGlmIChidWYubGVuZ3RoID4gMTI1KSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIGRhdGEgc2l6ZSBtdXN0IG5vdCBiZSBncmVhdGVyIHRoYW4gMTI1IGJ5dGVzJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2RlZmxhdGluZykge1xuICAgICAgdGhpcy5lbnF1ZXVlKFt0aGlzLmRvUG9uZywgYnVmLCBtYXNrLCB0b0J1ZmZlci5yZWFkT25seSwgY2JdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb1BvbmcoYnVmLCBtYXNrLCB0b0J1ZmZlci5yZWFkT25seSwgY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGcmFtZXMgYW5kIHNlbmRzIGEgcG9uZyBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWFkT25seT1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgYGRhdGFgIGNhbiBiZSBtb2RpZmllZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkb1BvbmcoZGF0YSwgbWFzaywgcmVhZE9ubHksIGNiKSB7XG4gICAgdGhpcy5zZW5kRnJhbWUoXG4gICAgICBTZW5kZXIuZnJhbWUoZGF0YSwge1xuICAgICAgICBmaW46IHRydWUsXG4gICAgICAgIHJzdjE6IGZhbHNlLFxuICAgICAgICBvcGNvZGU6IDB4MGEsXG4gICAgICAgIG1hc2ssXG4gICAgICAgIHJlYWRPbmx5XG4gICAgICB9KSxcbiAgICAgIGNiXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIGRhdGEgbWVzc2FnZSB0byB0aGUgb3RoZXIgcGVlci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jb21wcmVzcz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvXG4gICAqICAgICBjb21wcmVzcyBgZGF0YWBcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5iaW5hcnk9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIGBkYXRhYCBpcyBiaW5hcnlcbiAgICogICAgIG9yIHRleHRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5maW49ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBmcmFnbWVudCBpcyB0aGVcbiAgICogICAgIGxhc3Qgb25lXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2tcbiAgICogICAgIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNlbmQoZGF0YSwgb3B0aW9ucywgY2IpIHtcbiAgICBjb25zdCBidWYgPSB0b0J1ZmZlcihkYXRhKTtcbiAgICBjb25zdCBwZXJNZXNzYWdlRGVmbGF0ZSA9IHRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV07XG4gICAgbGV0IG9wY29kZSA9IG9wdGlvbnMuYmluYXJ5ID8gMiA6IDE7XG4gICAgbGV0IHJzdjEgPSBvcHRpb25zLmNvbXByZXNzO1xuXG4gICAgaWYgKHRoaXMuX2ZpcnN0RnJhZ21lbnQpIHtcbiAgICAgIHRoaXMuX2ZpcnN0RnJhZ21lbnQgPSBmYWxzZTtcbiAgICAgIGlmIChyc3YxICYmIHBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgICAgIHJzdjEgPSBidWYubGVuZ3RoID49IHBlck1lc3NhZ2VEZWZsYXRlLl90aHJlc2hvbGQ7XG4gICAgICB9XG4gICAgICB0aGlzLl9jb21wcmVzcyA9IHJzdjE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJzdjEgPSBmYWxzZTtcbiAgICAgIG9wY29kZSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZmluKSB0aGlzLl9maXJzdEZyYWdtZW50ID0gdHJ1ZTtcblxuICAgIGlmIChwZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgZmluOiBvcHRpb25zLmZpbixcbiAgICAgICAgcnN2MSxcbiAgICAgICAgb3Bjb2RlLFxuICAgICAgICBtYXNrOiBvcHRpb25zLm1hc2ssXG4gICAgICAgIHJlYWRPbmx5OiB0b0J1ZmZlci5yZWFkT25seVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuX2RlZmxhdGluZykge1xuICAgICAgICB0aGlzLmVucXVldWUoW3RoaXMuZGlzcGF0Y2gsIGJ1ZiwgdGhpcy5fY29tcHJlc3MsIG9wdHMsIGNiXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKGJ1ZiwgdGhpcy5fY29tcHJlc3MsIG9wdHMsIGNiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZW5kRnJhbWUoXG4gICAgICAgIFNlbmRlci5mcmFtZShidWYsIHtcbiAgICAgICAgICBmaW46IG9wdGlvbnMuZmluLFxuICAgICAgICAgIHJzdjE6IGZhbHNlLFxuICAgICAgICAgIG9wY29kZSxcbiAgICAgICAgICBtYXNrOiBvcHRpb25zLm1hc2ssXG4gICAgICAgICAgcmVhZE9ubHk6IHRvQnVmZmVyLnJlYWRPbmx5XG4gICAgICAgIH0pLFxuICAgICAgICBjYlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhIGRhdGEgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb21wcmVzcz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIGNvbXByZXNzXG4gICAqICAgICBgZGF0YWBcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMub3Bjb2RlIFRoZSBvcGNvZGVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yZWFkT25seT1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgYGRhdGFgIGNhbiBiZVxuICAgKiAgICAgbW9kaWZpZWRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5maW49ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBzZXQgdGhlXG4gICAqICAgICBGSU4gYml0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2tcbiAgICogICAgIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJzdjE9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBzZXQgdGhlXG4gICAqICAgICBSU1YxIGJpdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkaXNwYXRjaChkYXRhLCBjb21wcmVzcywgb3B0aW9ucywgY2IpIHtcbiAgICBpZiAoIWNvbXByZXNzKSB7XG4gICAgICB0aGlzLnNlbmRGcmFtZShTZW5kZXIuZnJhbWUoZGF0YSwgb3B0aW9ucyksIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwZXJNZXNzYWdlRGVmbGF0ZSA9IHRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV07XG5cbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzICs9IGRhdGEubGVuZ3RoO1xuICAgIHRoaXMuX2RlZmxhdGluZyA9IHRydWU7XG4gICAgcGVyTWVzc2FnZURlZmxhdGUuY29tcHJlc3MoZGF0YSwgb3B0aW9ucy5maW4sIChfLCBidWYpID0+IHtcbiAgICAgIGlmICh0aGlzLl9zb2NrZXQuZGVzdHJveWVkKSB7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAnVGhlIHNvY2tldCB3YXMgY2xvc2VkIHdoaWxlIGRhdGEgd2FzIGJlaW5nIGNvbXByZXNzZWQnXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykgY2IoZXJyKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLl9xdWV1ZVtpXVs0XTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgLT0gZGF0YS5sZW5ndGg7XG4gICAgICB0aGlzLl9kZWZsYXRpbmcgPSBmYWxzZTtcbiAgICAgIG9wdGlvbnMucmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2VuZEZyYW1lKFNlbmRlci5mcmFtZShidWYsIG9wdGlvbnMpLCBjYik7XG4gICAgICB0aGlzLmRlcXVldWUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBxdWV1ZWQgc2VuZCBvcGVyYXRpb25zLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGVxdWV1ZSgpIHtcbiAgICB3aGlsZSAoIXRoaXMuX2RlZmxhdGluZyAmJiB0aGlzLl9xdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG5cbiAgICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgLT0gcGFyYW1zWzFdLmxlbmd0aDtcbiAgICAgIFJlZmxlY3QuYXBwbHkocGFyYW1zWzBdLCB0aGlzLCBwYXJhbXMuc2xpY2UoMSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbnF1ZXVlcyBhIHNlbmQgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgU2VuZCBvcGVyYXRpb24gcGFyYW1ldGVycy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVucXVldWUocGFyYW1zKSB7XG4gICAgdGhpcy5fYnVmZmVyZWRCeXRlcyArPSBwYXJhbXNbMV0ubGVuZ3RoO1xuICAgIHRoaXMuX3F1ZXVlLnB1c2gocGFyYW1zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIGZyYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcltdfSBsaXN0IFRoZSBmcmFtZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNlbmRGcmFtZShsaXN0LCBjYikge1xuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgdGhpcy5fc29ja2V0LmNvcmsoKTtcbiAgICAgIHRoaXMuX3NvY2tldC53cml0ZShsaXN0WzBdKTtcbiAgICAgIHRoaXMuX3NvY2tldC53cml0ZShsaXN0WzFdLCBjYik7XG4gICAgICB0aGlzLl9zb2NrZXQudW5jb3JrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NvY2tldC53cml0ZShsaXN0WzBdLCBjYik7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VuZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/stream.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/stream.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst { Duplex } = __webpack_require__(/*! stream */ \"stream\");\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let resumeOnReceiverDrain = true;\n  let terminateOnDestroy = true;\n\n  function receiverOnDrain() {\n    if (resumeOnReceiverDrain) ws._socket.resume();\n  }\n\n  if (ws.readyState === ws.CONNECTING) {\n    ws.once('open', function open() {\n      ws._receiver.removeAllListeners('drain');\n      ws._receiver.on('drain', receiverOnDrain);\n    });\n  } else {\n    ws._receiver.removeAllListeners('drain');\n    ws._receiver.on('drain', receiverOnDrain);\n  }\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg) {\n    if (!duplex.push(msg)) {\n      resumeOnReceiverDrain = false;\n      ws._socket.pause();\n    }\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (\n      (ws.readyState === ws.OPEN || ws.readyState === ws.CLOSING) &&\n      !resumeOnReceiverDrain\n    ) {\n      resumeOnReceiverDrain = true;\n      if (!ws._receiver._writableState.needDrain) ws._socket.resume();\n    }\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvc3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFFBQVEsU0FBUyxFQUFFLG1CQUFPLENBQUMsc0JBQVE7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL3N0cmVhbS5qcz9mY2QxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgeyBEdXBsZXggfSA9IHJlcXVpcmUoJ3N0cmVhbScpO1xuXG4vKipcbiAqIEVtaXRzIHRoZSBgJ2Nsb3NlJ2AgZXZlbnQgb24gYSBzdHJlYW0uXG4gKlxuICogQHBhcmFtIHtEdXBsZXh9IHN0cmVhbSBUaGUgc3RyZWFtLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW1pdENsb3NlKHN0cmVhbSkge1xuICBzdHJlYW0uZW1pdCgnY2xvc2UnKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGAnZW5kJ2AgZXZlbnQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZHVwbGV4T25FbmQoKSB7XG4gIGlmICghdGhpcy5kZXN0cm95ZWQgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCkge1xuICAgIHRoaXMuZGVzdHJveSgpO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgJ2Vycm9yJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyIFRoZSBlcnJvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZHVwbGV4T25FcnJvcihlcnIpIHtcbiAgdGhpcy5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBkdXBsZXhPbkVycm9yKTtcbiAgdGhpcy5kZXN0cm95KCk7XG4gIGlmICh0aGlzLmxpc3RlbmVyQ291bnQoJ2Vycm9yJykgPT09IDApIHtcbiAgICAvLyBEbyBub3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yLlxuICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB9XG59XG5cbi8qKlxuICogV3JhcHMgYSBgV2ViU29ja2V0YCBpbiBhIGR1cGxleCBzdHJlYW0uXG4gKlxuICogQHBhcmFtIHtXZWJTb2NrZXR9IHdzIFRoZSBgV2ViU29ja2V0YCB0byB3cmFwXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIGZvciB0aGUgYER1cGxleGAgY29uc3RydWN0b3JcbiAqIEByZXR1cm4ge0R1cGxleH0gVGhlIGR1cGxleCBzdHJlYW1cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlV2ViU29ja2V0U3RyZWFtKHdzLCBvcHRpb25zKSB7XG4gIGxldCByZXN1bWVPblJlY2VpdmVyRHJhaW4gPSB0cnVlO1xuICBsZXQgdGVybWluYXRlT25EZXN0cm95ID0gdHJ1ZTtcblxuICBmdW5jdGlvbiByZWNlaXZlck9uRHJhaW4oKSB7XG4gICAgaWYgKHJlc3VtZU9uUmVjZWl2ZXJEcmFpbikgd3MuX3NvY2tldC5yZXN1bWUoKTtcbiAgfVxuXG4gIGlmICh3cy5yZWFkeVN0YXRlID09PSB3cy5DT05ORUNUSU5HKSB7XG4gICAgd3Mub25jZSgnb3BlbicsIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICB3cy5fcmVjZWl2ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCdkcmFpbicpO1xuICAgICAgd3MuX3JlY2VpdmVyLm9uKCdkcmFpbicsIHJlY2VpdmVyT25EcmFpbik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgd3MuX3JlY2VpdmVyLnJlbW92ZUFsbExpc3RlbmVycygnZHJhaW4nKTtcbiAgICB3cy5fcmVjZWl2ZXIub24oJ2RyYWluJywgcmVjZWl2ZXJPbkRyYWluKTtcbiAgfVxuXG4gIGNvbnN0IGR1cGxleCA9IG5ldyBEdXBsZXgoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgYXV0b0Rlc3Ryb3k6IGZhbHNlLFxuICAgIGVtaXRDbG9zZTogZmFsc2UsXG4gICAgb2JqZWN0TW9kZTogZmFsc2UsXG4gICAgd3JpdGFibGVPYmplY3RNb2RlOiBmYWxzZVxuICB9KTtcblxuICB3cy5vbignbWVzc2FnZScsIGZ1bmN0aW9uIG1lc3NhZ2UobXNnKSB7XG4gICAgaWYgKCFkdXBsZXgucHVzaChtc2cpKSB7XG4gICAgICByZXN1bWVPblJlY2VpdmVyRHJhaW4gPSBmYWxzZTtcbiAgICAgIHdzLl9zb2NrZXQucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHdzLm9uY2UoJ2Vycm9yJywgZnVuY3Rpb24gZXJyb3IoZXJyKSB7XG4gICAgaWYgKGR1cGxleC5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgIC8vIFByZXZlbnQgYHdzLnRlcm1pbmF0ZSgpYCBmcm9tIGJlaW5nIGNhbGxlZCBieSBgZHVwbGV4Ll9kZXN0cm95KClgLlxuICAgIC8vXG4gICAgLy8gLSBJZiB0aGUgYCdlcnJvcidgIGV2ZW50IGlzIGVtaXR0ZWQgYmVmb3JlIHRoZSBgJ29wZW4nYCBldmVudCwgdGhlblxuICAgIC8vICAgYHdzLnRlcm1pbmF0ZSgpYCBpcyBhIG5vb3AgYXMgbm8gc29ja2V0IGlzIGFzc2lnbmVkLlxuICAgIC8vIC0gT3RoZXJ3aXNlLCB0aGUgZXJyb3IgaXMgcmUtZW1pdHRlZCBieSB0aGUgbGlzdGVuZXIgb2YgdGhlIGAnZXJyb3InYFxuICAgIC8vICAgZXZlbnQgb2YgdGhlIGBSZWNlaXZlcmAgb2JqZWN0LiBUaGUgbGlzdGVuZXIgYWxyZWFkeSBjbG9zZXMgdGhlXG4gICAgLy8gICBjb25uZWN0aW9uIGJ5IGNhbGxpbmcgYHdzLmNsb3NlKClgLiBUaGlzIGFsbG93cyBhIGNsb3NlIGZyYW1lIHRvIGJlXG4gICAgLy8gICBzZW50IHRvIHRoZSBvdGhlciBwZWVyLiBJZiBgd3MudGVybWluYXRlKClgIGlzIGNhbGxlZCByaWdodCBhZnRlciB0aGlzLFxuICAgIC8vICAgdGhlbiB0aGUgY2xvc2UgZnJhbWUgbWlnaHQgbm90IGJlIHNlbnQuXG4gICAgdGVybWluYXRlT25EZXN0cm95ID0gZmFsc2U7XG4gICAgZHVwbGV4LmRlc3Ryb3koZXJyKTtcbiAgfSk7XG5cbiAgd3Mub25jZSgnY2xvc2UnLCBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICBpZiAoZHVwbGV4LmRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgZHVwbGV4LnB1c2gobnVsbCk7XG4gIH0pO1xuXG4gIGR1cGxleC5fZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IHdzLkNMT1NFRCkge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdENsb3NlLCBkdXBsZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcblxuICAgIHdzLm9uY2UoJ2Vycm9yJywgZnVuY3Rpb24gZXJyb3IoZXJyKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcblxuICAgIHdzLm9uY2UoJ2Nsb3NlJywgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICBpZiAoIWNhbGxlZCkgY2FsbGJhY2soZXJyKTtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdENsb3NlLCBkdXBsZXgpO1xuICAgIH0pO1xuXG4gICAgaWYgKHRlcm1pbmF0ZU9uRGVzdHJveSkgd3MudGVybWluYXRlKCk7XG4gIH07XG5cbiAgZHVwbGV4Ll9maW5hbCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh3cy5yZWFkeVN0YXRlID09PSB3cy5DT05ORUNUSU5HKSB7XG4gICAgICB3cy5vbmNlKCdvcGVuJywgZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgZHVwbGV4Ll9maW5hbChjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgdmFsdWUgb2YgdGhlIGBfc29ja2V0YCBwcm9wZXJ0eSBpcyBgbnVsbGAgaXQgbWVhbnMgdGhhdCBgd3NgIGlzIGFcbiAgICAvLyBjbGllbnQgd2Vic29ja2V0IGFuZCB0aGUgaGFuZHNoYWtlIGZhaWxlZC4gSW4gZmFjdCwgd2hlbiB0aGlzIGhhcHBlbnMsIGFcbiAgICAvLyBzb2NrZXQgaXMgbmV2ZXIgYXNzaWduZWQgdG8gdGhlIHdlYnNvY2tldC4gV2FpdCBmb3IgdGhlIGAnZXJyb3InYCBldmVudFxuICAgIC8vIHRoYXQgd2lsbCBiZSBlbWl0dGVkIGJ5IHRoZSB3ZWJzb2NrZXQuXG4gICAgaWYgKHdzLl9zb2NrZXQgPT09IG51bGwpIHJldHVybjtcblxuICAgIGlmICh3cy5fc29ja2V0Ll93cml0YWJsZVN0YXRlLmZpbmlzaGVkKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgaWYgKGR1cGxleC5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkKSBkdXBsZXguZGVzdHJveSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3cy5fc29ja2V0Lm9uY2UoJ2ZpbmlzaCcsIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICAgICAgLy8gYGR1cGxleGAgaXMgbm90IGRlc3Ryb3llZCBoZXJlIGJlY2F1c2UgdGhlIGAnZW5kJ2AgZXZlbnQgd2lsbCBiZVxuICAgICAgICAvLyBlbWl0dGVkIG9uIGBkdXBsZXhgIGFmdGVyIHRoaXMgYCdmaW5pc2gnYCBldmVudC4gVGhlIEVPRiBzaWduYWxpbmdcbiAgICAgICAgLy8gYG51bGxgIGNodW5rIGlzLCBpbiBmYWN0LCBwdXNoZWQgd2hlbiB0aGUgd2Vic29ja2V0IGVtaXRzIGAnY2xvc2UnYC5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgICAgd3MuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgZHVwbGV4Ll9yZWFkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChcbiAgICAgICh3cy5yZWFkeVN0YXRlID09PSB3cy5PUEVOIHx8IHdzLnJlYWR5U3RhdGUgPT09IHdzLkNMT1NJTkcpICYmXG4gICAgICAhcmVzdW1lT25SZWNlaXZlckRyYWluXG4gICAgKSB7XG4gICAgICByZXN1bWVPblJlY2VpdmVyRHJhaW4gPSB0cnVlO1xuICAgICAgaWYgKCF3cy5fcmVjZWl2ZXIuX3dyaXRhYmxlU3RhdGUubmVlZERyYWluKSB3cy5fc29ja2V0LnJlc3VtZSgpO1xuICAgIH1cbiAgfTtcblxuICBkdXBsZXguX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gd3MuQ09OTkVDVElORykge1xuICAgICAgd3Mub25jZSgnb3BlbicsIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIGR1cGxleC5fd3JpdGUoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3cy5zZW5kKGNodW5rLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgZHVwbGV4Lm9uKCdlbmQnLCBkdXBsZXhPbkVuZCk7XG4gIGR1cGxleC5vbignZXJyb3InLCBkdXBsZXhPbkVycm9yKTtcbiAgcmV0dXJuIGR1cGxleDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVXZWJTb2NrZXRTdHJlYW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\ntry {\n  let isValidUTF8 = __webpack_require__(/*! utf-8-validate */ \"(ssr)/./node_modules/utf-8-validate/index.js\");\n\n  /* istanbul ignore if */\n  if (typeof isValidUTF8 === 'object') {\n    isValidUTF8 = isValidUTF8.Validation.isValidUTF8; // utf-8-validate@<3.0.0\n  }\n\n  module.exports = {\n    isValidStatusCode,\n    isValidUTF8(buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    }\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = {\n    isValidStatusCode,\n    isValidUTF8: _isValidUTF8\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvdmFsaWRhdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLG1CQUFPLENBQUMsb0VBQWdCOztBQUU1QztBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL3ZhbGlkYXRpb24uanM/ZGIxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhdHVzIGNvZGUgaXMgYWxsb3dlZCBpbiBhIGNsb3NlIGZyYW1lLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlIFRoZSBzdGF0dXMgY29kZVxuICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBzdGF0dXMgY29kZSBpcyB2YWxpZCwgZWxzZSBgZmFsc2VgXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRTdGF0dXNDb2RlKGNvZGUpIHtcbiAgcmV0dXJuIChcbiAgICAoY29kZSA+PSAxMDAwICYmXG4gICAgICBjb2RlIDw9IDEwMTQgJiZcbiAgICAgIGNvZGUgIT09IDEwMDQgJiZcbiAgICAgIGNvZGUgIT09IDEwMDUgJiZcbiAgICAgIGNvZGUgIT09IDEwMDYpIHx8XG4gICAgKGNvZGUgPj0gMzAwMCAmJiBjb2RlIDw9IDQ5OTkpXG4gICk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZ2l2ZW4gYnVmZmVyIGNvbnRhaW5zIG9ubHkgY29ycmVjdCBVVEYtOC5cbiAqIFBvcnRlZCBmcm9tIGh0dHBzOi8vd3d3LmNsLmNhbS5hYy51ay8lN0VtZ2syNS91Y3MvdXRmOF9jaGVjay5jIGJ5XG4gKiBNYXJrdXMgS3Vobi5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmIFRoZSBidWZmZXIgdG8gY2hlY2tcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBgYnVmYCBjb250YWlucyBvbmx5IGNvcnJlY3QgVVRGLTgsIGVsc2UgYGZhbHNlYFxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBfaXNWYWxpZFVURjgoYnVmKSB7XG4gIGNvbnN0IGxlbiA9IGJ1Zi5sZW5ndGg7XG4gIGxldCBpID0gMDtcblxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIGlmICgoYnVmW2ldICYgMHg4MCkgPT09IDApIHtcbiAgICAgIC8vIDB4eHh4eHh4XG4gICAgICBpKys7XG4gICAgfSBlbHNlIGlmICgoYnVmW2ldICYgMHhlMCkgPT09IDB4YzApIHtcbiAgICAgIC8vIDExMHh4eHh4IDEweHh4eHh4XG4gICAgICBpZiAoXG4gICAgICAgIGkgKyAxID09PSBsZW4gfHxcbiAgICAgICAgKGJ1ZltpICsgMV0gJiAweGMwKSAhPT0gMHg4MCB8fFxuICAgICAgICAoYnVmW2ldICYgMHhmZSkgPT09IDB4YzAgLy8gT3ZlcmxvbmdcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGkgKz0gMjtcbiAgICB9IGVsc2UgaWYgKChidWZbaV0gJiAweGYwKSA9PT0gMHhlMCkge1xuICAgICAgLy8gMTExMHh4eHggMTB4eHh4eHggMTB4eHh4eHhcbiAgICAgIGlmIChcbiAgICAgICAgaSArIDIgPj0gbGVuIHx8XG4gICAgICAgIChidWZbaSArIDFdICYgMHhjMCkgIT09IDB4ODAgfHxcbiAgICAgICAgKGJ1ZltpICsgMl0gJiAweGMwKSAhPT0gMHg4MCB8fFxuICAgICAgICAoYnVmW2ldID09PSAweGUwICYmIChidWZbaSArIDFdICYgMHhlMCkgPT09IDB4ODApIHx8IC8vIE92ZXJsb25nXG4gICAgICAgIChidWZbaV0gPT09IDB4ZWQgJiYgKGJ1ZltpICsgMV0gJiAweGUwKSA9PT0gMHhhMCkgLy8gU3Vycm9nYXRlIChVK0Q4MDAgLSBVK0RGRkYpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpICs9IDM7XG4gICAgfSBlbHNlIGlmICgoYnVmW2ldICYgMHhmOCkgPT09IDB4ZjApIHtcbiAgICAgIC8vIDExMTEweHh4IDEweHh4eHh4IDEweHh4eHh4IDEweHh4eHh4XG4gICAgICBpZiAoXG4gICAgICAgIGkgKyAzID49IGxlbiB8fFxuICAgICAgICAoYnVmW2kgKyAxXSAmIDB4YzApICE9PSAweDgwIHx8XG4gICAgICAgIChidWZbaSArIDJdICYgMHhjMCkgIT09IDB4ODAgfHxcbiAgICAgICAgKGJ1ZltpICsgM10gJiAweGMwKSAhPT0gMHg4MCB8fFxuICAgICAgICAoYnVmW2ldID09PSAweGYwICYmIChidWZbaSArIDFdICYgMHhmMCkgPT09IDB4ODApIHx8IC8vIE92ZXJsb25nXG4gICAgICAgIChidWZbaV0gPT09IDB4ZjQgJiYgYnVmW2kgKyAxXSA+IDB4OGYpIHx8XG4gICAgICAgIGJ1ZltpXSA+IDB4ZjQgLy8gPiBVKzEwRkZGRlxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaSArPSA0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbnRyeSB7XG4gIGxldCBpc1ZhbGlkVVRGOCA9IHJlcXVpcmUoJ3V0Zi04LXZhbGlkYXRlJyk7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgaXNWYWxpZFVURjggPT09ICdvYmplY3QnKSB7XG4gICAgaXNWYWxpZFVURjggPSBpc1ZhbGlkVVRGOC5WYWxpZGF0aW9uLmlzVmFsaWRVVEY4OyAvLyB1dGYtOC12YWxpZGF0ZUA8My4wLjBcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlzVmFsaWRTdGF0dXNDb2RlLFxuICAgIGlzVmFsaWRVVEY4KGJ1Zikge1xuICAgICAgcmV0dXJuIGJ1Zi5sZW5ndGggPCAxNTAgPyBfaXNWYWxpZFVURjgoYnVmKSA6IGlzVmFsaWRVVEY4KGJ1Zik7XG4gICAgfVxuICB9O1xufSBjYXRjaCAoZSkgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8ge1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBpc1ZhbGlkU3RhdHVzQ29kZSxcbiAgICBpc1ZhbGlkVVRGODogX2lzVmFsaWRVVEY4XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket-server.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket-server.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n\n\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { createHash } = __webpack_require__(/*! crypto */ \"crypto\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\");\nconst WebSocket = __webpack_require__(/*! ./websocket */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js\");\nconst { format, parse } = __webpack_require__(/*! ./extension */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js\");\nconst { GUID, kWebSocket } = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) this.clients = new Set();\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Close the server.\n   *\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(cb) {\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSED) {\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    //\n    // Terminate all associated clients.\n    //\n    if (this.clients) {\n      for (const client of this.clients) client.terminate();\n    }\n\n    const server = this._server;\n\n    if (server) {\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // Close the http server if it was internally created.\n      //\n      if (this.options.port != null) {\n        server.close(emitClose.bind(undefined, this));\n        return;\n      }\n    }\n\n    process.nextTick(emitClose, this);\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key =\n      req.headers['sec-websocket-key'] !== undefined\n        ? req.headers['sec-websocket-key'].trim()\n        : false;\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n    const extensions = {};\n\n    if (\n      req.method !== 'GET' ||\n      upgrade === undefined ||\n      upgrade.toLowerCase() !== 'websocket' ||\n      !key ||\n      !keyRegex.test(key) ||\n      (version !== 8 && version !== 13) ||\n      !this.shouldHandle(req)\n    ) {\n      return abortHandshake(socket, 400);\n    }\n\n    if (this.options.perMessageDeflate) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = parse(req.headers['sec-websocket-extensions']);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        return abortHandshake(socket, 400);\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(key, extensions, req, socket, head, cb);\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(key, extensions, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Object} extensions The accepted extensions\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(key, extensions, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new WebSocket(null);\n    let protocol = req.headers['sec-websocket-protocol'];\n\n    if (protocol) {\n      protocol = protocol.split(',').map(trim);\n\n      //\n      // Optionally call external protocol selection handler.\n      //\n      if (this.options.handleProtocols) {\n        protocol = this.options.handleProtocols(protocol, req);\n      } else {\n        protocol = protocol[0];\n      }\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, this.options.maxPayload);\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => this.clients.delete(ws));\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle premature socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  if (socket.writable) {\n    message = message || http.STATUS_CODES[code];\n    headers = {\n      Connection: 'close',\n      'Content-Type': 'text/html',\n      'Content-Length': Buffer.byteLength(message),\n      ...headers\n    };\n\n    socket.write(\n      `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n        Object.keys(headers)\n          .map((h) => `${h}: ${headers[h]}`)\n          .join('\\r\\n') +\n        '\\r\\n\\r\\n' +\n        message\n    );\n  }\n\n  socket.removeListener('error', socketOnError);\n  socket.destroy();\n}\n\n/**\n * Remove whitespace characters from both ends of a string.\n *\n * @param {String} str The string\n * @return {String} A new string representing `str` stripped of whitespace\n *     characters from both its beginning and end\n * @private\n */\nfunction trim(str) {\n  return str.trim();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvd2Vic29ja2V0LXNlcnZlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0Msd0NBQXdDOztBQUVqRTs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNyQyxhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QixZQUFZLG1CQUFPLENBQUMsZ0JBQUs7QUFDekIsUUFBUSxhQUFhLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTs7QUFFdkMsMEJBQTBCLG1CQUFPLENBQUMsaUlBQXNCO0FBQ3hELGtCQUFrQixtQkFBTyxDQUFDLCtHQUFhO0FBQ3ZDLFFBQVEsZ0JBQWdCLEVBQUUsbUJBQU8sQ0FBQywrR0FBYTtBQUMvQyxRQUFRLG1CQUFtQixFQUFFLG1CQUFPLENBQUMsK0dBQWE7O0FBRWxELGlDQUFpQyxHQUFHOztBQUVwQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQixhQUFhLGtCQUFrQjtBQUMvQjtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLDRCQUE0QjtBQUN6QztBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkMsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkMsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixrREFBa0Q7QUFDM0U7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLHNCQUFzQjtBQUNuQyxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTztBQUN0Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0EsZ0RBQWdELFNBQVM7QUFDekQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLGdEQUFnRCxNQUFNO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVywyQkFBMkI7QUFDdEMsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlCQUF5QjtBQUNwQyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLE1BQU0sRUFBRSx3QkFBd0I7QUFDbEQ7QUFDQSx5QkFBeUIsRUFBRSxJQUFJLFdBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvd2Vic29ja2V0LXNlcnZlci5qcz8wNThhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNJZ25vcmVQYXR0ZXJuXCI6IFwiXm5ldHx0bHN8aHR0cHMkXCIgfV0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKTtcbmNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJyk7XG5jb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG5jb25zdCBuZXQgPSByZXF1aXJlKCduZXQnKTtcbmNvbnN0IHRscyA9IHJlcXVpcmUoJ3RscycpO1xuY29uc3QgeyBjcmVhdGVIYXNoIH0gPSByZXF1aXJlKCdjcnlwdG8nKTtcblxuY29uc3QgUGVyTWVzc2FnZURlZmxhdGUgPSByZXF1aXJlKCcuL3Blcm1lc3NhZ2UtZGVmbGF0ZScpO1xuY29uc3QgV2ViU29ja2V0ID0gcmVxdWlyZSgnLi93ZWJzb2NrZXQnKTtcbmNvbnN0IHsgZm9ybWF0LCBwYXJzZSB9ID0gcmVxdWlyZSgnLi9leHRlbnNpb24nKTtcbmNvbnN0IHsgR1VJRCwga1dlYlNvY2tldCB9ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcblxuY29uc3Qga2V5UmVnZXggPSAvXlsrLzAtOUEtWmEtel17MjJ9PT0kLztcblxuY29uc3QgUlVOTklORyA9IDA7XG5jb25zdCBDTE9TSU5HID0gMTtcbmNvbnN0IENMT1NFRCA9IDI7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgV2ViU29ja2V0IHNlcnZlci5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqL1xuY2xhc3MgV2ViU29ja2V0U2VydmVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGBXZWJTb2NrZXRTZXJ2ZXJgIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmJhY2tsb2c9NTExXSBUaGUgbWF4aW11bSBsZW5ndGggb2YgdGhlIHF1ZXVlIG9mXG4gICAqICAgICBwZW5kaW5nIGNvbm5lY3Rpb25zXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2xpZW50VHJhY2tpbmc9dHJ1ZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvXG4gICAqICAgICB0cmFjayBjbGllbnRzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmhhbmRsZVByb3RvY29sc10gQSBob29rIHRvIGhhbmRsZSBwcm90b2NvbHNcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhvc3RdIFRoZSBob3N0bmFtZSB3aGVyZSB0byBiaW5kIHRoZSBzZXJ2ZXJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFBheWxvYWQ9MTA0ODU3NjAwXSBUaGUgbWF4aW11bSBhbGxvd2VkIG1lc3NhZ2VcbiAgICogICAgIHNpemVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5ub1NlcnZlcj1mYWxzZV0gRW5hYmxlIG5vIHNlcnZlciBtb2RlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXRoXSBBY2NlcHQgb25seSBjb25uZWN0aW9ucyBtYXRjaGluZyB0aGlzIHBhdGhcbiAgICogQHBhcmFtIHsoQm9vbGVhbnxPYmplY3QpfSBbb3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZT1mYWxzZV0gRW5hYmxlL2Rpc2FibGVcbiAgICogICAgIHBlcm1lc3NhZ2UtZGVmbGF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucG9ydF0gVGhlIHBvcnQgd2hlcmUgdG8gYmluZCB0aGUgc2VydmVyXG4gICAqIEBwYXJhbSB7KGh0dHAuU2VydmVyfGh0dHBzLlNlcnZlcil9IFtvcHRpb25zLnNlcnZlcl0gQSBwcmUtY3JlYXRlZCBIVFRQL1NcbiAgICogICAgIHNlcnZlciB0byB1c2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmVyaWZ5Q2xpZW50XSBBIGhvb2sgdG8gcmVqZWN0IGNvbm5lY3Rpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQSBsaXN0ZW5lciBmb3IgdGhlIGBsaXN0ZW5pbmdgIGV2ZW50XG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBvcHRpb25zID0ge1xuICAgICAgbWF4UGF5bG9hZDogMTAwICogMTAyNCAqIDEwMjQsXG4gICAgICBwZXJNZXNzYWdlRGVmbGF0ZTogZmFsc2UsXG4gICAgICBoYW5kbGVQcm90b2NvbHM6IG51bGwsXG4gICAgICBjbGllbnRUcmFja2luZzogdHJ1ZSxcbiAgICAgIHZlcmlmeUNsaWVudDogbnVsbCxcbiAgICAgIG5vU2VydmVyOiBmYWxzZSxcbiAgICAgIGJhY2tsb2c6IG51bGwsIC8vIHVzZSBkZWZhdWx0ICg1MTEgYXMgaW1wbGVtZW50ZWQgaW4gbmV0LmpzKVxuICAgICAgc2VydmVyOiBudWxsLFxuICAgICAgaG9zdDogbnVsbCxcbiAgICAgIHBhdGg6IG51bGwsXG4gICAgICBwb3J0OiBudWxsLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICBpZiAoXG4gICAgICAob3B0aW9ucy5wb3J0ID09IG51bGwgJiYgIW9wdGlvbnMuc2VydmVyICYmICFvcHRpb25zLm5vU2VydmVyKSB8fFxuICAgICAgKG9wdGlvbnMucG9ydCAhPSBudWxsICYmIChvcHRpb25zLnNlcnZlciB8fCBvcHRpb25zLm5vU2VydmVyKSkgfHxcbiAgICAgIChvcHRpb25zLnNlcnZlciAmJiBvcHRpb25zLm5vU2VydmVyKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ09uZSBhbmQgb25seSBvbmUgb2YgdGhlIFwicG9ydFwiLCBcInNlcnZlclwiLCBvciBcIm5vU2VydmVyXCIgb3B0aW9ucyAnICtcbiAgICAgICAgICAnbXVzdCBiZSBzcGVjaWZpZWQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnBvcnQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBodHRwLlNUQVRVU19DT0RFU1s0MjZdO1xuXG4gICAgICAgIHJlcy53cml0ZUhlYWQoNDI2LCB7XG4gICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogYm9keS5sZW5ndGgsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3BsYWluJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzLmVuZChib2R5KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2VydmVyLmxpc3RlbihcbiAgICAgICAgb3B0aW9ucy5wb3J0LFxuICAgICAgICBvcHRpb25zLmhvc3QsXG4gICAgICAgIG9wdGlvbnMuYmFja2xvZyxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnNlcnZlcikge1xuICAgICAgdGhpcy5fc2VydmVyID0gb3B0aW9ucy5zZXJ2ZXI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3NlcnZlcikge1xuICAgICAgY29uc3QgZW1pdENvbm5lY3Rpb24gPSB0aGlzLmVtaXQuYmluZCh0aGlzLCAnY29ubmVjdGlvbicpO1xuXG4gICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMgPSBhZGRMaXN0ZW5lcnModGhpcy5fc2VydmVyLCB7XG4gICAgICAgIGxpc3RlbmluZzogdGhpcy5lbWl0LmJpbmQodGhpcywgJ2xpc3RlbmluZycpLFxuICAgICAgICBlcnJvcjogdGhpcy5lbWl0LmJpbmQodGhpcywgJ2Vycm9yJyksXG4gICAgICAgIHVwZ3JhZGU6IChyZXEsIHNvY2tldCwgaGVhZCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVXBncmFkZShyZXEsIHNvY2tldCwgaGVhZCwgZW1pdENvbm5lY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSA9PT0gdHJ1ZSkgb3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSA9IHt9O1xuICAgIGlmIChvcHRpb25zLmNsaWVudFRyYWNraW5nKSB0aGlzLmNsaWVudHMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9zdGF0ZSA9IFJVTk5JTkc7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYm91bmQgYWRkcmVzcywgdGhlIGFkZHJlc3MgZmFtaWx5IG5hbWUsIGFuZCBwb3J0IG9mIHRoZSBzZXJ2ZXJcbiAgICogYXMgcmVwb3J0ZWQgYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0gaWYgbGlzdGVuaW5nIG9uIGFuIElQIHNvY2tldC5cbiAgICogSWYgdGhlIHNlcnZlciBpcyBsaXN0ZW5pbmcgb24gYSBwaXBlIG9yIFVOSVggZG9tYWluIHNvY2tldCwgdGhlIG5hbWUgaXNcbiAgICogcmV0dXJuZWQgYXMgYSBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4geyhPYmplY3R8U3RyaW5nfG51bGwpfSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VydmVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGFkZHJlc3MoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5ub1NlcnZlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2VydmVyIGlzIG9wZXJhdGluZyBpbiBcIm5vU2VydmVyXCIgbW9kZScpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fc2VydmVyKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyLmFkZHJlc3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNsb3NlKGNiKSB7XG4gICAgaWYgKGNiKSB0aGlzLm9uY2UoJ2Nsb3NlJywgY2IpO1xuXG4gICAgaWYgKHRoaXMuX3N0YXRlID09PSBDTE9TRUQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdENsb3NlLCB0aGlzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc3RhdGUgPT09IENMT1NJTkcpIHJldHVybjtcbiAgICB0aGlzLl9zdGF0ZSA9IENMT1NJTkc7XG5cbiAgICAvL1xuICAgIC8vIFRlcm1pbmF0ZSBhbGwgYXNzb2NpYXRlZCBjbGllbnRzLlxuICAgIC8vXG4gICAgaWYgKHRoaXMuY2xpZW50cykge1xuICAgICAgZm9yIChjb25zdCBjbGllbnQgb2YgdGhpcy5jbGllbnRzKSBjbGllbnQudGVybWluYXRlKCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2VydmVyID0gdGhpcy5fc2VydmVyO1xuXG4gICAgaWYgKHNlcnZlcikge1xuICAgICAgdGhpcy5fcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMgPSB0aGlzLl9zZXJ2ZXIgPSBudWxsO1xuXG4gICAgICAvL1xuICAgICAgLy8gQ2xvc2UgdGhlIGh0dHAgc2VydmVyIGlmIGl0IHdhcyBpbnRlcm5hbGx5IGNyZWF0ZWQuXG4gICAgICAvL1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3J0ICE9IG51bGwpIHtcbiAgICAgICAgc2VydmVyLmNsb3NlKGVtaXRDbG9zZS5iaW5kKHVuZGVmaW5lZCwgdGhpcykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2UsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlZSBpZiBhIGdpdmVuIHJlcXVlc3Qgc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhpcyBzZXJ2ZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7aHR0cC5JbmNvbWluZ01lc3NhZ2V9IHJlcSBSZXF1ZXN0IG9iamVjdCB0byBpbnNwZWN0XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcmVxdWVzdCBpcyB2YWxpZCwgZWxzZSBgZmFsc2VgXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNob3VsZEhhbmRsZShyZXEpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnBhdGgpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcmVxLnVybC5pbmRleE9mKCc/Jyk7XG4gICAgICBjb25zdCBwYXRobmFtZSA9IGluZGV4ICE9PSAtMSA/IHJlcS51cmwuc2xpY2UoMCwgaW5kZXgpIDogcmVxLnVybDtcblxuICAgICAgaWYgKHBhdGhuYW1lICE9PSB0aGlzLm9wdGlvbnMucGF0aCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhIEhUVFAgVXBncmFkZSByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge2h0dHAuSW5jb21pbmdNZXNzYWdlfSByZXEgVGhlIHJlcXVlc3Qgb2JqZWN0XG4gICAqIEBwYXJhbSB7KG5ldC5Tb2NrZXR8dGxzLlNvY2tldCl9IHNvY2tldCBUaGUgbmV0d29yayBzb2NrZXQgYmV0d2VlbiB0aGVcbiAgICogICAgIHNlcnZlciBhbmQgY2xpZW50XG4gICAqIEBwYXJhbSB7QnVmZmVyfSBoZWFkIFRoZSBmaXJzdCBwYWNrZXQgb2YgdGhlIHVwZ3JhZGVkIHN0cmVhbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBoYW5kbGVVcGdyYWRlKHJlcSwgc29ja2V0LCBoZWFkLCBjYikge1xuICAgIHNvY2tldC5vbignZXJyb3InLCBzb2NrZXRPbkVycm9yKTtcblxuICAgIGNvbnN0IGtleSA9XG4gICAgICByZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1rZXknXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcmVxLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQta2V5J10udHJpbSgpXG4gICAgICAgIDogZmFsc2U7XG4gICAgY29uc3QgdXBncmFkZSA9IHJlcS5oZWFkZXJzLnVwZ3JhZGU7XG4gICAgY29uc3QgdmVyc2lvbiA9ICtyZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC12ZXJzaW9uJ107XG4gICAgY29uc3QgZXh0ZW5zaW9ucyA9IHt9O1xuXG4gICAgaWYgKFxuICAgICAgcmVxLm1ldGhvZCAhPT0gJ0dFVCcgfHxcbiAgICAgIHVwZ3JhZGUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdXBncmFkZS50b0xvd2VyQ2FzZSgpICE9PSAnd2Vic29ja2V0JyB8fFxuICAgICAgIWtleSB8fFxuICAgICAgIWtleVJlZ2V4LnRlc3Qoa2V5KSB8fFxuICAgICAgKHZlcnNpb24gIT09IDggJiYgdmVyc2lvbiAhPT0gMTMpIHx8XG4gICAgICAhdGhpcy5zaG91bGRIYW5kbGUocmVxKVxuICAgICkge1xuICAgICAgcmV0dXJuIGFib3J0SGFuZHNoYWtlKHNvY2tldCwgNDAwKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgICBjb25zdCBwZXJNZXNzYWdlRGVmbGF0ZSA9IG5ldyBQZXJNZXNzYWdlRGVmbGF0ZShcbiAgICAgICAgdGhpcy5vcHRpb25zLnBlck1lc3NhZ2VEZWZsYXRlLFxuICAgICAgICB0cnVlLFxuICAgICAgICB0aGlzLm9wdGlvbnMubWF4UGF5bG9hZFxuICAgICAgKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb2ZmZXJzID0gcGFyc2UocmVxLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQtZXh0ZW5zaW9ucyddKTtcblxuICAgICAgICBpZiAob2ZmZXJzW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKSB7XG4gICAgICAgICAgcGVyTWVzc2FnZURlZmxhdGUuYWNjZXB0KG9mZmVyc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSk7XG4gICAgICAgICAgZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSA9IHBlck1lc3NhZ2VEZWZsYXRlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGFib3J0SGFuZHNoYWtlKHNvY2tldCwgNDAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIE9wdGlvbmFsbHkgY2FsbCBleHRlcm5hbCBjbGllbnQgdmVyaWZpY2F0aW9uIGhhbmRsZXIuXG4gICAgLy9cbiAgICBpZiAodGhpcy5vcHRpb25zLnZlcmlmeUNsaWVudCkge1xuICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgb3JpZ2luOlxuICAgICAgICAgIHJlcS5oZWFkZXJzW2Ake3ZlcnNpb24gPT09IDggPyAnc2VjLXdlYnNvY2tldC1vcmlnaW4nIDogJ29yaWdpbid9YF0sXG4gICAgICAgIHNlY3VyZTogISEocmVxLnNvY2tldC5hdXRob3JpemVkIHx8IHJlcS5zb2NrZXQuZW5jcnlwdGVkKSxcbiAgICAgICAgcmVxXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnZlcmlmeUNsaWVudC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnZlcmlmeUNsaWVudChpbmZvLCAodmVyaWZpZWQsIGNvZGUsIG1lc3NhZ2UsIGhlYWRlcnMpID0+IHtcbiAgICAgICAgICBpZiAoIXZlcmlmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYWJvcnRIYW5kc2hha2Uoc29ja2V0LCBjb2RlIHx8IDQwMSwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jb21wbGV0ZVVwZ3JhZGUoa2V5LCBleHRlbnNpb25zLCByZXEsIHNvY2tldCwgaGVhZCwgY2IpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy52ZXJpZnlDbGllbnQoaW5mbykpIHJldHVybiBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIDQwMSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wbGV0ZVVwZ3JhZGUoa2V5LCBleHRlbnNpb25zLCByZXEsIHNvY2tldCwgaGVhZCwgY2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZ3JhZGUgdGhlIGNvbm5lY3Rpb24gdG8gV2ViU29ja2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSB2YWx1ZSBvZiB0aGUgYFNlYy1XZWJTb2NrZXQtS2V5YCBoZWFkZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IGV4dGVuc2lvbnMgVGhlIGFjY2VwdGVkIGV4dGVuc2lvbnNcbiAgICogQHBhcmFtIHtodHRwLkluY29taW5nTWVzc2FnZX0gcmVxIFRoZSByZXF1ZXN0IG9iamVjdFxuICAgKiBAcGFyYW0geyhuZXQuU29ja2V0fHRscy5Tb2NrZXQpfSBzb2NrZXQgVGhlIG5ldHdvcmsgc29ja2V0IGJldHdlZW4gdGhlXG4gICAqICAgICBzZXJ2ZXIgYW5kIGNsaWVudFxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gaGVhZCBUaGUgZmlyc3QgcGFja2V0IG9mIHRoZSB1cGdyYWRlZCBzdHJlYW1cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgQ2FsbGJhY2tcbiAgICogQHRocm93cyB7RXJyb3J9IElmIGNhbGxlZCBtb3JlIHRoYW4gb25jZSB3aXRoIHRoZSBzYW1lIHNvY2tldFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29tcGxldGVVcGdyYWRlKGtleSwgZXh0ZW5zaW9ucywgcmVxLCBzb2NrZXQsIGhlYWQsIGNiKSB7XG4gICAgLy9cbiAgICAvLyBEZXN0cm95IHRoZSBzb2NrZXQgaWYgdGhlIGNsaWVudCBoYXMgYWxyZWFkeSBzZW50IGEgRklOIHBhY2tldC5cbiAgICAvL1xuICAgIGlmICghc29ja2V0LnJlYWRhYmxlIHx8ICFzb2NrZXQud3JpdGFibGUpIHJldHVybiBzb2NrZXQuZGVzdHJveSgpO1xuXG4gICAgaWYgKHNvY2tldFtrV2ViU29ja2V0XSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnc2VydmVyLmhhbmRsZVVwZ3JhZGUoKSB3YXMgY2FsbGVkIG1vcmUgdGhhbiBvbmNlIHdpdGggdGhlIHNhbWUgJyArXG4gICAgICAgICAgJ3NvY2tldCwgcG9zc2libHkgZHVlIHRvIGEgbWlzY29uZmlndXJhdGlvbidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0YXRlID4gUlVOTklORykgcmV0dXJuIGFib3J0SGFuZHNoYWtlKHNvY2tldCwgNTAzKTtcblxuICAgIGNvbnN0IGRpZ2VzdCA9IGNyZWF0ZUhhc2goJ3NoYTEnKVxuICAgICAgLnVwZGF0ZShrZXkgKyBHVUlEKVxuICAgICAgLmRpZ2VzdCgnYmFzZTY0Jyk7XG5cbiAgICBjb25zdCBoZWFkZXJzID0gW1xuICAgICAgJ0hUVFAvMS4xIDEwMSBTd2l0Y2hpbmcgUHJvdG9jb2xzJyxcbiAgICAgICdVcGdyYWRlOiB3ZWJzb2NrZXQnLFxuICAgICAgJ0Nvbm5lY3Rpb246IFVwZ3JhZGUnLFxuICAgICAgYFNlYy1XZWJTb2NrZXQtQWNjZXB0OiAke2RpZ2VzdH1gXG4gICAgXTtcblxuICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldChudWxsKTtcbiAgICBsZXQgcHJvdG9jb2wgPSByZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1wcm90b2NvbCddO1xuXG4gICAgaWYgKHByb3RvY29sKSB7XG4gICAgICBwcm90b2NvbCA9IHByb3RvY29sLnNwbGl0KCcsJykubWFwKHRyaW0pO1xuXG4gICAgICAvL1xuICAgICAgLy8gT3B0aW9uYWxseSBjYWxsIGV4dGVybmFsIHByb3RvY29sIHNlbGVjdGlvbiBoYW5kbGVyLlxuICAgICAgLy9cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGFuZGxlUHJvdG9jb2xzKSB7XG4gICAgICAgIHByb3RvY29sID0gdGhpcy5vcHRpb25zLmhhbmRsZVByb3RvY29scyhwcm90b2NvbCwgcmVxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3RvY29sID0gcHJvdG9jb2xbMF07XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm90b2NvbCkge1xuICAgICAgICBoZWFkZXJzLnB1c2goYFNlYy1XZWJTb2NrZXQtUHJvdG9jb2w6ICR7cHJvdG9jb2x9YCk7XG4gICAgICAgIHdzLl9wcm90b2NvbCA9IHByb3RvY29sO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChleHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBleHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdLnBhcmFtcztcbiAgICAgIGNvbnN0IHZhbHVlID0gZm9ybWF0KHtcbiAgICAgICAgW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdOiBbcGFyYW1zXVxuICAgICAgfSk7XG4gICAgICBoZWFkZXJzLnB1c2goYFNlYy1XZWJTb2NrZXQtRXh0ZW5zaW9uczogJHt2YWx1ZX1gKTtcbiAgICAgIHdzLl9leHRlbnNpb25zID0gZXh0ZW5zaW9ucztcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIEFsbG93IGV4dGVybmFsIG1vZGlmaWNhdGlvbi9pbnNwZWN0aW9uIG9mIGhhbmRzaGFrZSBoZWFkZXJzLlxuICAgIC8vXG4gICAgdGhpcy5lbWl0KCdoZWFkZXJzJywgaGVhZGVycywgcmVxKTtcblxuICAgIHNvY2tldC53cml0ZShoZWFkZXJzLmNvbmNhdCgnXFxyXFxuJykuam9pbignXFxyXFxuJykpO1xuICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBzb2NrZXRPbkVycm9yKTtcblxuICAgIHdzLnNldFNvY2tldChzb2NrZXQsIGhlYWQsIHRoaXMub3B0aW9ucy5tYXhQYXlsb2FkKTtcblxuICAgIGlmICh0aGlzLmNsaWVudHMpIHtcbiAgICAgIHRoaXMuY2xpZW50cy5hZGQod3MpO1xuICAgICAgd3Mub24oJ2Nsb3NlJywgKCkgPT4gdGhpcy5jbGllbnRzLmRlbGV0ZSh3cykpO1xuICAgIH1cblxuICAgIGNiKHdzLCByZXEpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gV2ViU29ja2V0U2VydmVyO1xuXG4vKipcbiAqIEFkZCBldmVudCBsaXN0ZW5lcnMgb24gYW4gYEV2ZW50RW1pdHRlcmAgdXNpbmcgYSBtYXAgb2YgPGV2ZW50LCBsaXN0ZW5lcj5cbiAqIHBhaXJzLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBzZXJ2ZXIgVGhlIGV2ZW50IGVtaXR0ZXJcbiAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIEZ1bmN0aW9uPn0gbWFwIFRoZSBsaXN0ZW5lcnMgdG8gYWRkXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVtb3ZlIHRoZSBhZGRlZCBsaXN0ZW5lcnMgd2hlblxuICogICAgIGNhbGxlZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXJzKHNlcnZlciwgbWFwKSB7XG4gIGZvciAoY29uc3QgZXZlbnQgb2YgT2JqZWN0LmtleXMobWFwKSkgc2VydmVyLm9uKGV2ZW50LCBtYXBbZXZlbnRdKTtcblxuICByZXR1cm4gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKCkge1xuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgT2JqZWN0LmtleXMobWFwKSkge1xuICAgICAgc2VydmVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBtYXBbZXZlbnRdKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogRW1pdCBhIGAnY2xvc2UnYCBldmVudCBvbiBhbiBgRXZlbnRFbWl0dGVyYC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gc2VydmVyIFRoZSBldmVudCBlbWl0dGVyXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBlbWl0Q2xvc2Uoc2VydmVyKSB7XG4gIHNlcnZlci5fc3RhdGUgPSBDTE9TRUQ7XG4gIHNlcnZlci5lbWl0KCdjbG9zZScpO1xufVxuXG4vKipcbiAqIEhhbmRsZSBwcmVtYXR1cmUgc29ja2V0IGVycm9ycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzb2NrZXRPbkVycm9yKCkge1xuICB0aGlzLmRlc3Ryb3koKTtcbn1cblxuLyoqXG4gKiBDbG9zZSB0aGUgY29ubmVjdGlvbiB3aGVuIHByZWNvbmRpdGlvbnMgYXJlIG5vdCBmdWxmaWxsZWQuXG4gKlxuICogQHBhcmFtIHsobmV0LlNvY2tldHx0bHMuU29ja2V0KX0gc29ja2V0IFRoZSBzb2NrZXQgb2YgdGhlIHVwZ3JhZGUgcmVxdWVzdFxuICogQHBhcmFtIHtOdW1iZXJ9IGNvZGUgVGhlIEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbWVzc2FnZV0gVGhlIEhUVFAgcmVzcG9uc2UgYm9keVxuICogQHBhcmFtIHtPYmplY3R9IFtoZWFkZXJzXSBBZGRpdGlvbmFsIEhUVFAgcmVzcG9uc2UgaGVhZGVyc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWJvcnRIYW5kc2hha2Uoc29ja2V0LCBjb2RlLCBtZXNzYWdlLCBoZWFkZXJzKSB7XG4gIGlmIChzb2NrZXQud3JpdGFibGUpIHtcbiAgICBtZXNzYWdlID0gbWVzc2FnZSB8fCBodHRwLlNUQVRVU19DT0RFU1tjb2RlXTtcbiAgICBoZWFkZXJzID0ge1xuICAgICAgQ29ubmVjdGlvbjogJ2Nsb3NlJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9odG1sJyxcbiAgICAgICdDb250ZW50LUxlbmd0aCc6IEJ1ZmZlci5ieXRlTGVuZ3RoKG1lc3NhZ2UpLFxuICAgICAgLi4uaGVhZGVyc1xuICAgIH07XG5cbiAgICBzb2NrZXQud3JpdGUoXG4gICAgICBgSFRUUC8xLjEgJHtjb2RlfSAke2h0dHAuU1RBVFVTX0NPREVTW2NvZGVdfVxcclxcbmAgK1xuICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKVxuICAgICAgICAgIC5tYXAoKGgpID0+IGAke2h9OiAke2hlYWRlcnNbaF19YClcbiAgICAgICAgICAuam9pbignXFxyXFxuJykgK1xuICAgICAgICAnXFxyXFxuXFxyXFxuJyArXG4gICAgICAgIG1lc3NhZ2VcbiAgICApO1xuICB9XG5cbiAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIHNvY2tldE9uRXJyb3IpO1xuICBzb2NrZXQuZGVzdHJveSgpO1xufVxuXG4vKipcbiAqIFJlbW92ZSB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgZnJvbSBib3RoIGVuZHMgb2YgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9IEEgbmV3IHN0cmluZyByZXByZXNlbnRpbmcgYHN0cmAgc3RyaXBwZWQgb2Ygd2hpdGVzcGFjZVxuICogICAgIGNoYXJhY3RlcnMgZnJvbSBib3RoIGl0cyBiZWdpbm5pbmcgYW5kIGVuZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci50cmltKCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket-server.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n\n\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { randomBytes, createHash } = __webpack_require__(/*! crypto */ \"crypto\");\nconst { Readable } = __webpack_require__(/*! stream */ \"stream\");\nconst { URL } = __webpack_require__(/*! url */ \"url\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\");\nconst Receiver = __webpack_require__(/*! ./receiver */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js\");\nconst Sender = __webpack_require__(/*! ./sender */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js\");\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\nconst { addEventListener, removeEventListener } = __webpack_require__(/*! ./event-target */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/event-target.js\");\nconst { format, parse } = __webpack_require__(/*! ./extension */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js\");\nconst { toBuffer } = __webpack_require__(/*! ./buffer-util */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\");\n\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst protocolVersions = [8, 13];\nconst closeTimeout = 30 * 1000;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = '';\n    this._closeTimer = null;\n    this._extensions = {};\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (Array.isArray(protocols)) {\n        protocols = protocols.join(', ');\n      } else if (typeof protocols === 'object' && protocols !== null) {\n        options = protocols;\n        protocols = undefined;\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onclose(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onerror(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onopen(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onmessage(listener) {}\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Number} [maxPayload=0] The maximum allowed message size\n   * @private\n   */\n  setSocket(socket, head, maxPayload) {\n    const receiver = new Receiver(\n      this.binaryType,\n      this._extensions,\n      this._isServer,\n      maxPayload\n    );\n\n    this._sender = new Sender(socket, this._extensions);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {String} [data] A string explaining why the connection is closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      const listeners = this.listeners(method);\n      for (let i = 0; i < listeners.length; i++) {\n        if (listeners[i]._listener) return listeners[i]._listener;\n      }\n\n      return undefined;\n    },\n    set(listener) {\n      const listeners = this.listeners(method);\n      for (let i = 0; i < listeners.length; i++) {\n        //\n        // Remove only the listeners added via `addEventListener`.\n        //\n        if (listeners[i]._listener) this.removeListener(method, listeners[i]);\n      }\n      this.addEventListener(method, listener);\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {String} [protocols] The subprotocols\n * @param {Object} [options] Connection options\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: undefined,\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    parsedUrl = new URL(address);\n    websocket._url = address;\n  }\n\n  const isUnixSocket = parsedUrl.protocol === 'ws+unix:';\n\n  if (!parsedUrl.host && (!isUnixSocket || !parsedUrl.pathname)) {\n    const err = new Error(`Invalid URL: ${websocket.url}`);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const isSecure =\n    parsedUrl.protocol === 'wss:' || parsedUrl.protocol === 'https:';\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const get = isSecure ? https.get : http.get;\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket',\n    ...opts.headers\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols) {\n    opts.headers['Sec-WebSocket-Protocol'] = protocols;\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isUnixSocket) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalUnixSocket = isUnixSocket;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isUnixSocket\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else {\n      const isSameHost = isUnixSocket\n        ? websocket._originalUnixSocket\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalUnixSocket\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n  }\n\n  let req = (websocket._req = get(opts));\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req.aborted) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (err) {\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the `upgrade`\n    // event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    const protList = (protocols || '').split(/, */);\n    let protError;\n\n    if (!protocols && serverProt) {\n      protError = 'Server sent a subprotocol but none was requested';\n    } else if (protocols && !serverProt) {\n      protError = 'Server sent no subprotocol';\n    } else if (serverProt && !protList.includes(serverProt)) {\n      protError = 'Server sent an invalid subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (extensionNames.length) {\n        if (\n          extensionNames.length !== 1 ||\n          extensionNames[0] !== PerMessageDeflate.extensionName\n        ) {\n          const message =\n            'Server indicated an extension that was not requested';\n          abortHandshake(websocket, socket, message);\n          return;\n        }\n\n        try {\n          perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n        } catch (err) {\n          const message = 'Invalid Sec-WebSocket-Extensions header';\n          abortHandshake(websocket, socket, message);\n          return;\n        }\n\n        websocket._extensions[PerMessageDeflate.extensionName] =\n          perMessageDeflate;\n      }\n    }\n\n    websocket.setSocket(socket, head, opts.maxPayload);\n  });\n}\n\n/**\n * Emit the `'error'` and `'close'` event.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    stream.once('abort', websocket.emitClose.bind(websocket));\n    websocket.emit('error', err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {String} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  this[kWebSocket]._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The message\n * @private\n */\nfunction receiverOnMessage(data) {\n  this[kWebSocket].emit('message', data);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvd2Vic29ja2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQyxtQ0FBbUM7O0FBRTVEOztBQUViLHFCQUFxQixtQkFBTyxDQUFDLHNCQUFRO0FBQ3JDLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsWUFBWSxtQkFBTyxDQUFDLGdCQUFLO0FBQ3pCLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QixRQUFRLDBCQUEwQixFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDcEQsUUFBUSxXQUFXLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTtBQUNyQyxRQUFRLE1BQU0sRUFBRSxtQkFBTyxDQUFDLGdCQUFLOztBQUU3QiwwQkFBMEIsbUJBQU8sQ0FBQyxpSUFBc0I7QUFDeEQsaUJBQWlCLG1CQUFPLENBQUMsNkdBQVk7QUFDckMsZUFBZSxtQkFBTyxDQUFDLHlHQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFQUFFLG1CQUFPLENBQUMsK0dBQWE7QUFDekIsUUFBUSx3Q0FBd0MsRUFBRSxtQkFBTyxDQUFDLHFIQUFnQjtBQUMxRSxRQUFRLGdCQUFnQixFQUFFLG1CQUFPLENBQUMsK0dBQWE7QUFDL0MsUUFBUSxXQUFXLEVBQUUsbUJBQU8sQ0FBQyxtSEFBZTs7QUFFNUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsY0FBYztBQUMzQixhQUFhLG1CQUFtQjtBQUNoQyxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGFBQWEsU0FBUztBQUN0QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxrQkFBa0I7QUFDM0UsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELE9BQU87QUFDekQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0Isc0JBQXNCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1Q0FBdUMsc0JBQXNCO0FBQzdELGdDQUFnQyw0QkFBNEI7QUFDNUQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsMENBQTBDLGNBQWM7O0FBRXhEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CLEdBQUcsbUJBQW1CO0FBQzVEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGVBQWU7QUFDdEQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyw0Q0FBNEM7QUFDdkQ7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsR0FBRztBQUNkLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLHNCQUFzQjtBQUNqRSxZQUFZLGtDQUFrQztBQUM5QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNDQUFzQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL3dlYnNvY2tldC5qcz8yNTY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNJZ25vcmVQYXR0ZXJuXCI6IFwiXlJlYWRhYmxlJFwiIH1dICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJyk7XG5jb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG5jb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xuY29uc3QgbmV0ID0gcmVxdWlyZSgnbmV0Jyk7XG5jb25zdCB0bHMgPSByZXF1aXJlKCd0bHMnKTtcbmNvbnN0IHsgcmFuZG9tQnl0ZXMsIGNyZWF0ZUhhc2ggfSA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuY29uc3QgeyBSZWFkYWJsZSB9ID0gcmVxdWlyZSgnc3RyZWFtJyk7XG5jb25zdCB7IFVSTCB9ID0gcmVxdWlyZSgndXJsJyk7XG5cbmNvbnN0IFBlck1lc3NhZ2VEZWZsYXRlID0gcmVxdWlyZSgnLi9wZXJtZXNzYWdlLWRlZmxhdGUnKTtcbmNvbnN0IFJlY2VpdmVyID0gcmVxdWlyZSgnLi9yZWNlaXZlcicpO1xuY29uc3QgU2VuZGVyID0gcmVxdWlyZSgnLi9zZW5kZXInKTtcbmNvbnN0IHtcbiAgQklOQVJZX1RZUEVTLFxuICBFTVBUWV9CVUZGRVIsXG4gIEdVSUQsXG4gIGtTdGF0dXNDb2RlLFxuICBrV2ViU29ja2V0LFxuICBOT09QXG59ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcbmNvbnN0IHsgYWRkRXZlbnRMaXN0ZW5lciwgcmVtb3ZlRXZlbnRMaXN0ZW5lciB9ID0gcmVxdWlyZSgnLi9ldmVudC10YXJnZXQnKTtcbmNvbnN0IHsgZm9ybWF0LCBwYXJzZSB9ID0gcmVxdWlyZSgnLi9leHRlbnNpb24nKTtcbmNvbnN0IHsgdG9CdWZmZXIgfSA9IHJlcXVpcmUoJy4vYnVmZmVyLXV0aWwnKTtcblxuY29uc3QgcmVhZHlTdGF0ZXMgPSBbJ0NPTk5FQ1RJTkcnLCAnT1BFTicsICdDTE9TSU5HJywgJ0NMT1NFRCddO1xuY29uc3QgcHJvdG9jb2xWZXJzaW9ucyA9IFs4LCAxM107XG5jb25zdCBjbG9zZVRpbWVvdXQgPSAzMCAqIDEwMDA7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgV2ViU29ja2V0LlxuICpcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICovXG5jbGFzcyBXZWJTb2NrZXQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBXZWJTb2NrZXRgLlxuICAgKlxuICAgKiBAcGFyYW0geyhTdHJpbmd8VVJMKX0gYWRkcmVzcyBUaGUgVVJMIHRvIHdoaWNoIHRvIGNvbm5lY3RcbiAgICogQHBhcmFtIHsoU3RyaW5nfFN0cmluZ1tdKX0gW3Byb3RvY29sc10gVGhlIHN1YnByb3RvY29sc1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIENvbm5lY3Rpb24gb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzcywgcHJvdG9jb2xzLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuX2JpbmFyeVR5cGUgPSBCSU5BUllfVFlQRVNbMF07XG4gICAgdGhpcy5fY2xvc2VDb2RlID0gMTAwNjtcbiAgICB0aGlzLl9jbG9zZUZyYW1lUmVjZWl2ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9jbG9zZUZyYW1lU2VudCA9IGZhbHNlO1xuICAgIHRoaXMuX2Nsb3NlTWVzc2FnZSA9ICcnO1xuICAgIHRoaXMuX2Nsb3NlVGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2V4dGVuc2lvbnMgPSB7fTtcbiAgICB0aGlzLl9wcm90b2NvbCA9ICcnO1xuICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ09OTkVDVElORztcbiAgICB0aGlzLl9yZWNlaXZlciA9IG51bGw7XG4gICAgdGhpcy5fc2VuZGVyID0gbnVsbDtcbiAgICB0aGlzLl9zb2NrZXQgPSBudWxsO1xuXG4gICAgaWYgKGFkZHJlc3MgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuX2J1ZmZlcmVkQW1vdW50ID0gMDtcbiAgICAgIHRoaXMuX2lzU2VydmVyID0gZmFsc2U7XG4gICAgICB0aGlzLl9yZWRpcmVjdHMgPSAwO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm90b2NvbHMpKSB7XG4gICAgICAgIHByb3RvY29scyA9IHByb3RvY29scy5qb2luKCcsICcpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvdG9jb2xzID09PSAnb2JqZWN0JyAmJiBwcm90b2NvbHMgIT09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHByb3RvY29scztcbiAgICAgICAgcHJvdG9jb2xzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBpbml0QXNDbGllbnQodGhpcywgYWRkcmVzcywgcHJvdG9jb2xzLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faXNTZXJ2ZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGRldmlhdGVzIGZyb20gdGhlIFdIQVRXRyBpbnRlcmZhY2Ugc2luY2Ugd3MgZG9lc24ndCBzdXBwb3J0IHRoZVxuICAgKiByZXF1aXJlZCBkZWZhdWx0IFwiYmxvYlwiIHR5cGUgKGluc3RlYWQgd2UgZGVmaW5lIGEgY3VzdG9tIFwibm9kZWJ1ZmZlclwiXG4gICAqIHR5cGUpLlxuICAgKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0IGJpbmFyeVR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JpbmFyeVR5cGU7XG4gIH1cblxuICBzZXQgYmluYXJ5VHlwZSh0eXBlKSB7XG4gICAgaWYgKCFCSU5BUllfVFlQRVMuaW5jbHVkZXModHlwZSkpIHJldHVybjtcblxuICAgIHRoaXMuX2JpbmFyeVR5cGUgPSB0eXBlO1xuXG4gICAgLy9cbiAgICAvLyBBbGxvdyB0byBjaGFuZ2UgYGJpbmFyeVR5cGVgIG9uIHRoZSBmbHkuXG4gICAgLy9cbiAgICBpZiAodGhpcy5fcmVjZWl2ZXIpIHRoaXMuX3JlY2VpdmVyLl9iaW5hcnlUeXBlID0gdHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgZ2V0IGJ1ZmZlcmVkQW1vdW50KCkge1xuICAgIGlmICghdGhpcy5fc29ja2V0KSByZXR1cm4gdGhpcy5fYnVmZmVyZWRBbW91bnQ7XG5cbiAgICByZXR1cm4gdGhpcy5fc29ja2V0Ll93cml0YWJsZVN0YXRlLmxlbmd0aCArIHRoaXMuX3NlbmRlci5fYnVmZmVyZWRCeXRlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0IGV4dGVuc2lvbnMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2V4dGVuc2lvbnMpLmpvaW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBnZXQgb25jbG9zZSgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgc2V0IG9uY2xvc2UobGlzdGVuZXIpIHt9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGdldCBvbmVycm9yKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBzZXQgb25lcnJvcihsaXN0ZW5lcikge31cblxuICAvKipcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKi9cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZ2V0IG9ub3BlbigpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgc2V0IG9ub3BlbihsaXN0ZW5lcikge31cblxuICAvKipcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKi9cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZ2V0IG9ubWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgc2V0IG9ubWVzc2FnZShsaXN0ZW5lcikge31cblxuICAvKipcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCBwcm90b2NvbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2w7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGdldCByZWFkeVN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkeVN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiB0aGlzLl91cmw7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIHRoZSBzb2NrZXQgYW5kIHRoZSBpbnRlcm5hbCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7KG5ldC5Tb2NrZXR8dGxzLlNvY2tldCl9IHNvY2tldCBUaGUgbmV0d29yayBzb2NrZXQgYmV0d2VlbiB0aGVcbiAgICogICAgIHNlcnZlciBhbmQgY2xpZW50XG4gICAqIEBwYXJhbSB7QnVmZmVyfSBoZWFkIFRoZSBmaXJzdCBwYWNrZXQgb2YgdGhlIHVwZ3JhZGVkIHN0cmVhbVxuICAgKiBAcGFyYW0ge051bWJlcn0gW21heFBheWxvYWQ9MF0gVGhlIG1heGltdW0gYWxsb3dlZCBtZXNzYWdlIHNpemVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldFNvY2tldChzb2NrZXQsIGhlYWQsIG1heFBheWxvYWQpIHtcbiAgICBjb25zdCByZWNlaXZlciA9IG5ldyBSZWNlaXZlcihcbiAgICAgIHRoaXMuYmluYXJ5VHlwZSxcbiAgICAgIHRoaXMuX2V4dGVuc2lvbnMsXG4gICAgICB0aGlzLl9pc1NlcnZlcixcbiAgICAgIG1heFBheWxvYWRcbiAgICApO1xuXG4gICAgdGhpcy5fc2VuZGVyID0gbmV3IFNlbmRlcihzb2NrZXQsIHRoaXMuX2V4dGVuc2lvbnMpO1xuICAgIHRoaXMuX3JlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgdGhpcy5fc29ja2V0ID0gc29ja2V0O1xuXG4gICAgcmVjZWl2ZXJba1dlYlNvY2tldF0gPSB0aGlzO1xuICAgIHNvY2tldFtrV2ViU29ja2V0XSA9IHRoaXM7XG5cbiAgICByZWNlaXZlci5vbignY29uY2x1ZGUnLCByZWNlaXZlck9uQ29uY2x1ZGUpO1xuICAgIHJlY2VpdmVyLm9uKCdkcmFpbicsIHJlY2VpdmVyT25EcmFpbik7XG4gICAgcmVjZWl2ZXIub24oJ2Vycm9yJywgcmVjZWl2ZXJPbkVycm9yKTtcbiAgICByZWNlaXZlci5vbignbWVzc2FnZScsIHJlY2VpdmVyT25NZXNzYWdlKTtcbiAgICByZWNlaXZlci5vbigncGluZycsIHJlY2VpdmVyT25QaW5nKTtcbiAgICByZWNlaXZlci5vbigncG9uZycsIHJlY2VpdmVyT25Qb25nKTtcblxuICAgIHNvY2tldC5zZXRUaW1lb3V0KDApO1xuICAgIHNvY2tldC5zZXROb0RlbGF5KCk7XG5cbiAgICBpZiAoaGVhZC5sZW5ndGggPiAwKSBzb2NrZXQudW5zaGlmdChoZWFkKTtcblxuICAgIHNvY2tldC5vbignY2xvc2UnLCBzb2NrZXRPbkNsb3NlKTtcbiAgICBzb2NrZXQub24oJ2RhdGEnLCBzb2NrZXRPbkRhdGEpO1xuICAgIHNvY2tldC5vbignZW5kJywgc29ja2V0T25FbmQpO1xuICAgIHNvY2tldC5vbignZXJyb3InLCBzb2NrZXRPbkVycm9yKTtcblxuICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuT1BFTjtcbiAgICB0aGlzLmVtaXQoJ29wZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IHRoZSBgJ2Nsb3NlJ2AgZXZlbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbWl0Q2xvc2UoKSB7XG4gICAgaWYgKCF0aGlzLl9zb2NrZXQpIHtcbiAgICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0VEO1xuICAgICAgdGhpcy5lbWl0KCdjbG9zZScsIHRoaXMuX2Nsb3NlQ29kZSwgdGhpcy5fY2xvc2VNZXNzYWdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSkge1xuICAgICAgdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXS5jbGVhbnVwKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVjZWl2ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TRUQ7XG4gICAgdGhpcy5lbWl0KCdjbG9zZScsIHRoaXMuX2Nsb3NlQ29kZSwgdGhpcy5fY2xvc2VNZXNzYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBhIGNsb3NpbmcgaGFuZHNoYWtlLlxuICAgKlxuICAgKiAgICAgICAgICArLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0rXG4gICAqICAgICAtIC0gLXx3cy5jbG9zZSgpfC0tPnxjbG9zZSBmcmFtZXwtLT58d3MuY2xvc2UoKXwtIC0gLVxuICAgKiAgICB8ICAgICArLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0rICAgICB8XG4gICAqICAgICAgICAgICstLS0tLS0tLS0tKyAgICstLS0tLS0tLS0tLSsgICAgICAgICB8XG4gICAqIENMT1NJTkcgIHx3cy5jbG9zZSgpfDwtLXxjbG9zZSBmcmFtZXw8LS0rLS0tLS0rICAgICAgIENMT1NJTkdcbiAgICogICAgICAgICAgKy0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0tKyAgIHxcbiAgICogICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgIHwgICArLS0tKyAgICAgICAgfFxuICAgKiAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tPnxmaW58IC0gLSAtIC1cbiAgICogICAgfCAgICAgICAgICstLS0rICAgICAgICAgICAgICAgICAgICAgIHwgICArLS0tK1xuICAgKiAgICAgLSAtIC0gLSAtfGZpbnw8LS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICAgKiAgICAgICAgICAgICAgKy0tLStcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb2RlXSBTdGF0dXMgY29kZSBleHBsYWluaW5nIHdoeSB0aGUgY29ubmVjdGlvbiBpcyBjbG9zaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbZGF0YV0gQSBzdHJpbmcgZXhwbGFpbmluZyB3aHkgdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2luZ1xuICAgKiBAcHVibGljXG4gICAqL1xuICBjbG9zZShjb2RlLCBkYXRhKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NFRCkgcmV0dXJuO1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSB7XG4gICAgICBjb25zdCBtc2cgPSAnV2ViU29ja2V0IHdhcyBjbG9zZWQgYmVmb3JlIHRoZSBjb25uZWN0aW9uIHdhcyBlc3RhYmxpc2hlZCc7XG4gICAgICByZXR1cm4gYWJvcnRIYW5kc2hha2UodGhpcywgdGhpcy5fcmVxLCBtc2cpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TSU5HKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuX2Nsb3NlRnJhbWVTZW50ICYmXG4gICAgICAgICh0aGlzLl9jbG9zZUZyYW1lUmVjZWl2ZWQgfHwgdGhpcy5fcmVjZWl2ZXIuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX3NvY2tldC5lbmQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcbiAgICB0aGlzLl9zZW5kZXIuY2xvc2UoY29kZSwgZGF0YSwgIXRoaXMuX2lzU2VydmVyLCAoZXJyKSA9PiB7XG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBlcnJvciBpcyBoYW5kbGVkIGJ5IHRoZSBgJ2Vycm9yJ2AgbGlzdGVuZXIgb24gdGhlIHNvY2tldC4gV2Ugb25seVxuICAgICAgLy8gd2FudCB0byBrbm93IGlmIHRoZSBjbG9zZSBmcmFtZSBoYXMgYmVlbiBzZW50IGhlcmUuXG4gICAgICAvL1xuICAgICAgaWYgKGVycikgcmV0dXJuO1xuXG4gICAgICB0aGlzLl9jbG9zZUZyYW1lU2VudCA9IHRydWU7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fY2xvc2VGcmFtZVJlY2VpdmVkIHx8XG4gICAgICAgIHRoaXMuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX3NvY2tldC5lbmQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vXG4gICAgLy8gU3BlY2lmeSBhIHRpbWVvdXQgZm9yIHRoZSBjbG9zaW5nIGhhbmRzaGFrZSB0byBjb21wbGV0ZS5cbiAgICAvL1xuICAgIHRoaXMuX2Nsb3NlVGltZXIgPSBzZXRUaW1lb3V0KFxuICAgICAgdGhpcy5fc29ja2V0LmRlc3Ryb3kuYmluZCh0aGlzLl9zb2NrZXQpLFxuICAgICAgY2xvc2VUaW1lb3V0XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGEgcGluZy5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBbZGF0YV0gVGhlIGRhdGEgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrXSBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFjayB3aGljaCBpcyBleGVjdXRlZCB3aGVuIHRoZSBwaW5nIGlzIHNlbnRcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcGluZyhkYXRhLCBtYXNrLCBjYikge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBpcyBub3Qgb3BlbjogcmVhZHlTdGF0ZSAwIChDT05ORUNUSU5HKScpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBkYXRhO1xuICAgICAgZGF0YSA9IG1hc2sgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWFzayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBtYXNrO1xuICAgICAgbWFzayA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSBkYXRhID0gZGF0YS50b1N0cmluZygpO1xuXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHNlbmRBZnRlckNsb3NlKHRoaXMsIGRhdGEsIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobWFzayA9PT0gdW5kZWZpbmVkKSBtYXNrID0gIXRoaXMuX2lzU2VydmVyO1xuICAgIHRoaXMuX3NlbmRlci5waW5nKGRhdGEgfHwgRU1QVFlfQlVGRkVSLCBtYXNrLCBjYik7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBhIHBvbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gW2RhdGFdIFRoZSBkYXRhIHRvIHNlbmRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFza10gSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2sgd2hpY2ggaXMgZXhlY3V0ZWQgd2hlbiB0aGUgcG9uZyBpcyBzZW50XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHBvbmcoZGF0YSwgbWFzaywgY2IpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJTb2NrZXQgaXMgbm90IG9wZW46IHJlYWR5U3RhdGUgMCAoQ09OTkVDVElORyknKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gZGF0YTtcbiAgICAgIGRhdGEgPSBtYXNrID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1hc2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gbWFzaztcbiAgICAgIG1hc2sgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykgZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcblxuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICBzZW5kQWZ0ZXJDbG9zZSh0aGlzLCBkYXRhLCBjYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1hc2sgPT09IHVuZGVmaW5lZCkgbWFzayA9ICF0aGlzLl9pc1NlcnZlcjtcbiAgICB0aGlzLl9zZW5kZXIucG9uZyhkYXRhIHx8IEVNUFRZX0JVRkZFUiwgbWFzaywgY2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBkYXRhIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jb21wcmVzc10gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIGNvbXByZXNzXG4gICAqICAgICBgZGF0YWBcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5iaW5hcnldIFNwZWNpZmllcyB3aGV0aGVyIGBkYXRhYCBpcyBiaW5hcnkgb3JcbiAgICogICAgIHRleHRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5maW49dHJ1ZV0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGZyYWdtZW50IGlzIHRoZVxuICAgKiAgICAgbGFzdCBvbmVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tYXNrXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFjayB3aGljaCBpcyBleGVjdXRlZCB3aGVuIGRhdGEgaXMgd3JpdHRlbiBvdXRcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2VuZChkYXRhLCBvcHRpb25zLCBjYikge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBpcyBub3Qgb3BlbjogcmVhZHlTdGF0ZSAwIChDT05ORUNUSU5HKScpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIGRhdGEgPSBkYXRhLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgc2VuZEFmdGVyQ2xvc2UodGhpcywgZGF0YSwgY2IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICBiaW5hcnk6IHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyxcbiAgICAgIG1hc2s6ICF0aGlzLl9pc1NlcnZlcixcbiAgICAgIGNvbXByZXNzOiB0cnVlLFxuICAgICAgZmluOiB0cnVlLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICBpZiAoIXRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgIG9wdHMuY29tcHJlc3MgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZW5kZXIuc2VuZChkYXRhIHx8IEVNUFRZX0JVRkZFUiwgb3B0cywgY2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNpYmx5IGNsb3NlIHRoZSBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICB0ZXJtaW5hdGUoKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NFRCkgcmV0dXJuO1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSB7XG4gICAgICBjb25zdCBtc2cgPSAnV2ViU29ja2V0IHdhcyBjbG9zZWQgYmVmb3JlIHRoZSBjb25uZWN0aW9uIHdhcyBlc3RhYmxpc2hlZCc7XG4gICAgICByZXR1cm4gYWJvcnRIYW5kc2hha2UodGhpcywgdGhpcy5fcmVxLCBtc2cpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zb2NrZXQpIHtcbiAgICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcbiAgICAgIHRoaXMuX3NvY2tldC5kZXN0cm95KCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENPTk5FQ1RJTkdcbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXRcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldCwgJ0NPTk5FQ1RJTkcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdDT05ORUNUSU5HJylcbn0pO1xuXG4vKipcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBDT05ORUNUSU5HXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0LnByb3RvdHlwZVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LnByb3RvdHlwZSwgJ0NPTk5FQ1RJTkcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdDT05ORUNUSU5HJylcbn0pO1xuXG4vKipcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBPUEVOXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQsICdPUEVOJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignT1BFTicpXG59KTtcblxuLyoqXG4gKiBAY29uc3RhbnQge051bWJlcn0gT1BFTlxuICogQG1lbWJlcm9mIFdlYlNvY2tldC5wcm90b3R5cGVcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldC5wcm90b3R5cGUsICdPUEVOJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignT1BFTicpXG59KTtcblxuLyoqXG4gKiBAY29uc3RhbnQge051bWJlcn0gQ0xPU0lOR1xuICogQG1lbWJlcm9mIFdlYlNvY2tldFxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LCAnQ0xPU0lORycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ0NMT1NJTkcnKVxufSk7XG5cbi8qKlxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENMT1NJTkdcbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXQucHJvdG90eXBlXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQucHJvdG90eXBlLCAnQ0xPU0lORycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ0NMT1NJTkcnKVxufSk7XG5cbi8qKlxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENMT1NFRFxuICogQG1lbWJlcm9mIFdlYlNvY2tldFxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LCAnQ0xPU0VEJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignQ0xPU0VEJylcbn0pO1xuXG4vKipcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBDTE9TRURcbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXQucHJvdG90eXBlXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQucHJvdG90eXBlLCAnQ0xPU0VEJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignQ0xPU0VEJylcbn0pO1xuXG5bXG4gICdiaW5hcnlUeXBlJyxcbiAgJ2J1ZmZlcmVkQW1vdW50JyxcbiAgJ2V4dGVuc2lvbnMnLFxuICAncHJvdG9jb2wnLFxuICAncmVhZHlTdGF0ZScsXG4gICd1cmwnXG5dLmZvckVhY2goKHByb3BlcnR5KSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQucHJvdG90eXBlLCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufSk7XG5cbi8vXG4vLyBBZGQgdGhlIGBvbm9wZW5gLCBgb25lcnJvcmAsIGBvbmNsb3NlYCwgYW5kIGBvbm1lc3NhZ2VgIGF0dHJpYnV0ZXMuXG4vLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvY29tbXMuaHRtbCN0aGUtd2Vic29ja2V0LWludGVyZmFjZVxuLy9cblsnb3BlbicsICdlcnJvcicsICdjbG9zZScsICdtZXNzYWdlJ10uZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQucHJvdG90eXBlLCBgb24ke21ldGhvZH1gLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQoKSB7XG4gICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycyhtZXRob2QpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5fbGlzdGVuZXIpIHJldHVybiBsaXN0ZW5lcnNbaV0uX2xpc3RlbmVyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgc2V0KGxpc3RlbmVyKSB7XG4gICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycyhtZXRob2QpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gUmVtb3ZlIG9ubHkgdGhlIGxpc3RlbmVycyBhZGRlZCB2aWEgYGFkZEV2ZW50TGlzdGVuZXJgLlxuICAgICAgICAvL1xuICAgICAgICBpZiAobGlzdGVuZXJzW2ldLl9saXN0ZW5lcikgdGhpcy5yZW1vdmVMaXN0ZW5lcihtZXRob2QsIGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIobWV0aG9kLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5XZWJTb2NrZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyO1xuV2ViU29ja2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gcmVtb3ZlRXZlbnRMaXN0ZW5lcjtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWJTb2NrZXQ7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIFdlYlNvY2tldCBjbGllbnQuXG4gKlxuICogQHBhcmFtIHtXZWJTb2NrZXR9IHdlYnNvY2tldCBUaGUgY2xpZW50IHRvIGluaXRpYWxpemVcbiAqIEBwYXJhbSB7KFN0cmluZ3xVUkwpfSBhZGRyZXNzIFRoZSBVUkwgdG8gd2hpY2ggdG8gY29ubmVjdFxuICogQHBhcmFtIHtTdHJpbmd9IFtwcm90b2NvbHNdIFRoZSBzdWJwcm90b2NvbHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQ29ubmVjdGlvbiBvcHRpb25zXG4gKiBAcGFyYW0geyhCb29sZWFufE9iamVjdCl9IFtvcHRpb25zLnBlck1lc3NhZ2VEZWZsYXRlPXRydWVdIEVuYWJsZS9kaXNhYmxlXG4gKiAgICAgcGVybWVzc2FnZS1kZWZsYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGFuZHNoYWtlVGltZW91dF0gVGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZVxuICogICAgIGhhbmRzaGFrZSByZXF1ZXN0XG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucHJvdG9jb2xWZXJzaW9uPTEzXSBWYWx1ZSBvZiB0aGVcbiAqICAgICBgU2VjLVdlYlNvY2tldC1WZXJzaW9uYCBoZWFkZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5vcmlnaW5dIFZhbHVlIG9mIHRoZSBgT3JpZ2luYCBvclxuICogICAgIGBTZWMtV2ViU29ja2V0LU9yaWdpbmAgaGVhZGVyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4UGF5bG9hZD0xMDQ4NTc2MDBdIFRoZSBtYXhpbXVtIGFsbG93ZWQgbWVzc2FnZVxuICogICAgIHNpemVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZm9sbG93UmVkaXJlY3RzPWZhbHNlXSBXaGV0aGVyIG9yIG5vdCB0byBmb2xsb3dcbiAqICAgICByZWRpcmVjdHNcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhSZWRpcmVjdHM9MTBdIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZWRpcmVjdHNcbiAqICAgICBhbGxvd2VkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpbml0QXNDbGllbnQod2Vic29ja2V0LCBhZGRyZXNzLCBwcm90b2NvbHMsIG9wdGlvbnMpIHtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICBwcm90b2NvbFZlcnNpb246IHByb3RvY29sVmVyc2lvbnNbMV0sXG4gICAgbWF4UGF5bG9hZDogMTAwICogMTAyNCAqIDEwMjQsXG4gICAgcGVyTWVzc2FnZURlZmxhdGU6IHRydWUsXG4gICAgZm9sbG93UmVkaXJlY3RzOiBmYWxzZSxcbiAgICBtYXhSZWRpcmVjdHM6IDEwLFxuICAgIC4uLm9wdGlvbnMsXG4gICAgY3JlYXRlQ29ubmVjdGlvbjogdW5kZWZpbmVkLFxuICAgIHNvY2tldFBhdGg6IHVuZGVmaW5lZCxcbiAgICBob3N0bmFtZTogdW5kZWZpbmVkLFxuICAgIHByb3RvY29sOiB1bmRlZmluZWQsXG4gICAgdGltZW91dDogdW5kZWZpbmVkLFxuICAgIG1ldGhvZDogdW5kZWZpbmVkLFxuICAgIGhvc3Q6IHVuZGVmaW5lZCxcbiAgICBwYXRoOiB1bmRlZmluZWQsXG4gICAgcG9ydDogdW5kZWZpbmVkXG4gIH07XG5cbiAgaWYgKCFwcm90b2NvbFZlcnNpb25zLmluY2x1ZGVzKG9wdHMucHJvdG9jb2xWZXJzaW9uKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFxuICAgICAgYFVuc3VwcG9ydGVkIHByb3RvY29sIHZlcnNpb246ICR7b3B0cy5wcm90b2NvbFZlcnNpb259IGAgK1xuICAgICAgICBgKHN1cHBvcnRlZCB2ZXJzaW9uczogJHtwcm90b2NvbFZlcnNpb25zLmpvaW4oJywgJyl9KWBcbiAgICApO1xuICB9XG5cbiAgbGV0IHBhcnNlZFVybDtcblxuICBpZiAoYWRkcmVzcyBpbnN0YW5jZW9mIFVSTCkge1xuICAgIHBhcnNlZFVybCA9IGFkZHJlc3M7XG4gICAgd2Vic29ja2V0Ll91cmwgPSBhZGRyZXNzLmhyZWY7XG4gIH0gZWxzZSB7XG4gICAgcGFyc2VkVXJsID0gbmV3IFVSTChhZGRyZXNzKTtcbiAgICB3ZWJzb2NrZXQuX3VybCA9IGFkZHJlc3M7XG4gIH1cblxuICBjb25zdCBpc1VuaXhTb2NrZXQgPSBwYXJzZWRVcmwucHJvdG9jb2wgPT09ICd3cyt1bml4Oic7XG5cbiAgaWYgKCFwYXJzZWRVcmwuaG9zdCAmJiAoIWlzVW5peFNvY2tldCB8fCAhcGFyc2VkVXJsLnBhdGhuYW1lKSkge1xuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgSW52YWxpZCBVUkw6ICR7d2Vic29ja2V0LnVybH1gKTtcblxuICAgIGlmICh3ZWJzb2NrZXQuX3JlZGlyZWN0cyA9PT0gMCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0RXJyb3JBbmRDbG9zZSh3ZWJzb2NrZXQsIGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaXNTZWN1cmUgPVxuICAgIHBhcnNlZFVybC5wcm90b2NvbCA9PT0gJ3dzczonIHx8IHBhcnNlZFVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG4gIGNvbnN0IGRlZmF1bHRQb3J0ID0gaXNTZWN1cmUgPyA0NDMgOiA4MDtcbiAgY29uc3Qga2V5ID0gcmFuZG9tQnl0ZXMoMTYpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgY29uc3QgZ2V0ID0gaXNTZWN1cmUgPyBodHRwcy5nZXQgOiBodHRwLmdldDtcbiAgbGV0IHBlck1lc3NhZ2VEZWZsYXRlO1xuXG4gIG9wdHMuY3JlYXRlQ29ubmVjdGlvbiA9IGlzU2VjdXJlID8gdGxzQ29ubmVjdCA6IG5ldENvbm5lY3Q7XG4gIG9wdHMuZGVmYXVsdFBvcnQgPSBvcHRzLmRlZmF1bHRQb3J0IHx8IGRlZmF1bHRQb3J0O1xuICBvcHRzLnBvcnQgPSBwYXJzZWRVcmwucG9ydCB8fCBkZWZhdWx0UG9ydDtcbiAgb3B0cy5ob3N0ID0gcGFyc2VkVXJsLmhvc3RuYW1lLnN0YXJ0c1dpdGgoJ1snKVxuICAgID8gcGFyc2VkVXJsLmhvc3RuYW1lLnNsaWNlKDEsIC0xKVxuICAgIDogcGFyc2VkVXJsLmhvc3RuYW1lO1xuICBvcHRzLmhlYWRlcnMgPSB7XG4gICAgJ1NlYy1XZWJTb2NrZXQtVmVyc2lvbic6IG9wdHMucHJvdG9jb2xWZXJzaW9uLFxuICAgICdTZWMtV2ViU29ja2V0LUtleSc6IGtleSxcbiAgICBDb25uZWN0aW9uOiAnVXBncmFkZScsXG4gICAgVXBncmFkZTogJ3dlYnNvY2tldCcsXG4gICAgLi4ub3B0cy5oZWFkZXJzXG4gIH07XG4gIG9wdHMucGF0aCA9IHBhcnNlZFVybC5wYXRobmFtZSArIHBhcnNlZFVybC5zZWFyY2g7XG4gIG9wdHMudGltZW91dCA9IG9wdHMuaGFuZHNoYWtlVGltZW91dDtcblxuICBpZiAob3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgIHBlck1lc3NhZ2VEZWZsYXRlID0gbmV3IFBlck1lc3NhZ2VEZWZsYXRlKFxuICAgICAgb3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSAhPT0gdHJ1ZSA/IG9wdHMucGVyTWVzc2FnZURlZmxhdGUgOiB7fSxcbiAgICAgIGZhbHNlLFxuICAgICAgb3B0cy5tYXhQYXlsb2FkXG4gICAgKTtcbiAgICBvcHRzLmhlYWRlcnNbJ1NlYy1XZWJTb2NrZXQtRXh0ZW5zaW9ucyddID0gZm9ybWF0KHtcbiAgICAgIFtQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXTogcGVyTWVzc2FnZURlZmxhdGUub2ZmZXIoKVxuICAgIH0pO1xuICB9XG4gIGlmIChwcm90b2NvbHMpIHtcbiAgICBvcHRzLmhlYWRlcnNbJ1NlYy1XZWJTb2NrZXQtUHJvdG9jb2wnXSA9IHByb3RvY29scztcbiAgfVxuICBpZiAob3B0cy5vcmlnaW4pIHtcbiAgICBpZiAob3B0cy5wcm90b2NvbFZlcnNpb24gPCAxMykge1xuICAgICAgb3B0cy5oZWFkZXJzWydTZWMtV2ViU29ja2V0LU9yaWdpbiddID0gb3B0cy5vcmlnaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMuaGVhZGVycy5PcmlnaW4gPSBvcHRzLm9yaWdpbjtcbiAgICB9XG4gIH1cbiAgaWYgKHBhcnNlZFVybC51c2VybmFtZSB8fCBwYXJzZWRVcmwucGFzc3dvcmQpIHtcbiAgICBvcHRzLmF1dGggPSBgJHtwYXJzZWRVcmwudXNlcm5hbWV9OiR7cGFyc2VkVXJsLnBhc3N3b3JkfWA7XG4gIH1cblxuICBpZiAoaXNVbml4U29ja2V0KSB7XG4gICAgY29uc3QgcGFydHMgPSBvcHRzLnBhdGguc3BsaXQoJzonKTtcblxuICAgIG9wdHMuc29ja2V0UGF0aCA9IHBhcnRzWzBdO1xuICAgIG9wdHMucGF0aCA9IHBhcnRzWzFdO1xuICB9XG5cbiAgaWYgKG9wdHMuZm9sbG93UmVkaXJlY3RzKSB7XG4gICAgaWYgKHdlYnNvY2tldC5fcmVkaXJlY3RzID09PSAwKSB7XG4gICAgICB3ZWJzb2NrZXQuX29yaWdpbmFsVW5peFNvY2tldCA9IGlzVW5peFNvY2tldDtcbiAgICAgIHdlYnNvY2tldC5fb3JpZ2luYWxTZWN1cmUgPSBpc1NlY3VyZTtcbiAgICAgIHdlYnNvY2tldC5fb3JpZ2luYWxIb3N0T3JTb2NrZXRQYXRoID0gaXNVbml4U29ja2V0XG4gICAgICAgID8gb3B0cy5zb2NrZXRQYXRoXG4gICAgICAgIDogcGFyc2VkVXJsLmhvc3Q7XG5cbiAgICAgIGNvbnN0IGhlYWRlcnMgPSBvcHRpb25zICYmIG9wdGlvbnMuaGVhZGVycztcblxuICAgICAgLy9cbiAgICAgIC8vIFNoYWxsb3cgY29weSB0aGUgdXNlciBwcm92aWRlZCBvcHRpb25zIHNvIHRoYXQgaGVhZGVycyBjYW4gYmUgY2hhbmdlZFxuICAgICAgLy8gd2l0aG91dCBtdXRhdGluZyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgLy9cbiAgICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIGhlYWRlcnM6IHt9IH07XG5cbiAgICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4gICAgICAgICAgb3B0aW9ucy5oZWFkZXJzW2tleS50b0xvd2VyQ2FzZSgpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlzU2FtZUhvc3QgPSBpc1VuaXhTb2NrZXRcbiAgICAgICAgPyB3ZWJzb2NrZXQuX29yaWdpbmFsVW5peFNvY2tldFxuICAgICAgICAgID8gb3B0cy5zb2NrZXRQYXRoID09PSB3ZWJzb2NrZXQuX29yaWdpbmFsSG9zdE9yU29ja2V0UGF0aFxuICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgOiB3ZWJzb2NrZXQuX29yaWdpbmFsVW5peFNvY2tldFxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogcGFyc2VkVXJsLmhvc3QgPT09IHdlYnNvY2tldC5fb3JpZ2luYWxIb3N0T3JTb2NrZXRQYXRoO1xuXG4gICAgICBpZiAoIWlzU2FtZUhvc3QgfHwgKHdlYnNvY2tldC5fb3JpZ2luYWxTZWN1cmUgJiYgIWlzU2VjdXJlKSkge1xuICAgICAgICAvL1xuICAgICAgICAvLyBNYXRjaCBjdXJsIDcuNzcuMCBiZWhhdmlvciBhbmQgZHJvcCB0aGUgZm9sbG93aW5nIGhlYWRlcnMuIFRoZXNlXG4gICAgICAgIC8vIGhlYWRlcnMgYXJlIGFsc28gZHJvcHBlZCB3aGVuIGZvbGxvd2luZyBhIHJlZGlyZWN0IHRvIGEgc3ViZG9tYWluLlxuICAgICAgICAvL1xuICAgICAgICBkZWxldGUgb3B0cy5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gICAgICAgIGRlbGV0ZSBvcHRzLmhlYWRlcnMuY29va2llO1xuXG4gICAgICAgIGlmICghaXNTYW1lSG9zdCkgZGVsZXRlIG9wdHMuaGVhZGVycy5ob3N0O1xuXG4gICAgICAgIG9wdHMuYXV0aCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIE1hdGNoIGN1cmwgNy43Ny4wIGJlaGF2aW9yIGFuZCBtYWtlIHRoZSBmaXJzdCBgQXV0aG9yaXphdGlvbmAgaGVhZGVyIHdpbi5cbiAgICAvLyBJZiB0aGUgYEF1dGhvcml6YXRpb25gIGhlYWRlciBpcyBzZXQsIHRoZW4gdGhlcmUgaXMgbm90aGluZyB0byBkbyBhcyBpdFxuICAgIC8vIHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICAgIC8vXG4gICAgaWYgKG9wdHMuYXV0aCAmJiAhb3B0aW9ucy5oZWFkZXJzLmF1dGhvcml6YXRpb24pIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5hdXRob3JpemF0aW9uID1cbiAgICAgICAgJ0Jhc2ljICcgKyBCdWZmZXIuZnJvbShvcHRzLmF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICB9XG4gIH1cblxuICBsZXQgcmVxID0gKHdlYnNvY2tldC5fcmVxID0gZ2V0KG9wdHMpKTtcblxuICBpZiAob3B0cy50aW1lb3V0KSB7XG4gICAgcmVxLm9uKCd0aW1lb3V0JywgKCkgPT4ge1xuICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCByZXEsICdPcGVuaW5nIGhhbmRzaGFrZSBoYXMgdGltZWQgb3V0Jyk7XG4gICAgfSk7XG4gIH1cblxuICByZXEub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgIGlmIChyZXEgPT09IG51bGwgfHwgcmVxLmFib3J0ZWQpIHJldHVybjtcblxuICAgIHJlcSA9IHdlYnNvY2tldC5fcmVxID0gbnVsbDtcbiAgICBlbWl0RXJyb3JBbmRDbG9zZSh3ZWJzb2NrZXQsIGVycik7XG4gIH0pO1xuXG4gIHJlcS5vbigncmVzcG9uc2UnLCAocmVzKSA9PiB7XG4gICAgY29uc3QgbG9jYXRpb24gPSByZXMuaGVhZGVycy5sb2NhdGlvbjtcbiAgICBjb25zdCBzdGF0dXNDb2RlID0gcmVzLnN0YXR1c0NvZGU7XG5cbiAgICBpZiAoXG4gICAgICBsb2NhdGlvbiAmJlxuICAgICAgb3B0cy5mb2xsb3dSZWRpcmVjdHMgJiZcbiAgICAgIHN0YXR1c0NvZGUgPj0gMzAwICYmXG4gICAgICBzdGF0dXNDb2RlIDwgNDAwXG4gICAgKSB7XG4gICAgICBpZiAoKyt3ZWJzb2NrZXQuX3JlZGlyZWN0cyA+IG9wdHMubWF4UmVkaXJlY3RzKSB7XG4gICAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgcmVxLCAnTWF4aW11bSByZWRpcmVjdHMgZXhjZWVkZWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXEuYWJvcnQoKTtcblxuICAgICAgbGV0IGFkZHI7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGFkZHIgPSBuZXcgVVJMKGxvY2F0aW9uLCBhZGRyZXNzKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlbWl0RXJyb3JBbmRDbG9zZSh3ZWJzb2NrZXQsIGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaW5pdEFzQ2xpZW50KHdlYnNvY2tldCwgYWRkciwgcHJvdG9jb2xzLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKCF3ZWJzb2NrZXQuZW1pdCgndW5leHBlY3RlZC1yZXNwb25zZScsIHJlcSwgcmVzKSkge1xuICAgICAgYWJvcnRIYW5kc2hha2UoXG4gICAgICAgIHdlYnNvY2tldCxcbiAgICAgICAgcmVxLFxuICAgICAgICBgVW5leHBlY3RlZCBzZXJ2ZXIgcmVzcG9uc2U6ICR7cmVzLnN0YXR1c0NvZGV9YFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJlcS5vbigndXBncmFkZScsIChyZXMsIHNvY2tldCwgaGVhZCkgPT4ge1xuICAgIHdlYnNvY2tldC5lbWl0KCd1cGdyYWRlJywgcmVzKTtcblxuICAgIC8vXG4gICAgLy8gVGhlIHVzZXIgbWF5IGhhdmUgY2xvc2VkIHRoZSBjb25uZWN0aW9uIGZyb20gYSBsaXN0ZW5lciBvZiB0aGUgYHVwZ3JhZGVgXG4gICAgLy8gZXZlbnQuXG4gICAgLy9cbiAgICBpZiAod2Vic29ja2V0LnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSByZXR1cm47XG5cbiAgICByZXEgPSB3ZWJzb2NrZXQuX3JlcSA9IG51bGw7XG5cbiAgICBjb25zdCB1cGdyYWRlID0gcmVzLmhlYWRlcnMudXBncmFkZTtcblxuICAgIGlmICh1cGdyYWRlID09PSB1bmRlZmluZWQgfHwgdXBncmFkZS50b0xvd2VyQ2FzZSgpICE9PSAnd2Vic29ja2V0Jykge1xuICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsICdJbnZhbGlkIFVwZ3JhZGUgaGVhZGVyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGlnZXN0ID0gY3JlYXRlSGFzaCgnc2hhMScpXG4gICAgICAudXBkYXRlKGtleSArIEdVSUQpXG4gICAgICAuZGlnZXN0KCdiYXNlNjQnKTtcblxuICAgIGlmIChyZXMuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1hY2NlcHQnXSAhPT0gZGlnZXN0KSB7XG4gICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgJ0ludmFsaWQgU2VjLVdlYlNvY2tldC1BY2NlcHQgaGVhZGVyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2VydmVyUHJvdCA9IHJlcy5oZWFkZXJzWydzZWMtd2Vic29ja2V0LXByb3RvY29sJ107XG4gICAgY29uc3QgcHJvdExpc3QgPSAocHJvdG9jb2xzIHx8ICcnKS5zcGxpdCgvLCAqLyk7XG4gICAgbGV0IHByb3RFcnJvcjtcblxuICAgIGlmICghcHJvdG9jb2xzICYmIHNlcnZlclByb3QpIHtcbiAgICAgIHByb3RFcnJvciA9ICdTZXJ2ZXIgc2VudCBhIHN1YnByb3RvY29sIGJ1dCBub25lIHdhcyByZXF1ZXN0ZWQnO1xuICAgIH0gZWxzZSBpZiAocHJvdG9jb2xzICYmICFzZXJ2ZXJQcm90KSB7XG4gICAgICBwcm90RXJyb3IgPSAnU2VydmVyIHNlbnQgbm8gc3VicHJvdG9jb2wnO1xuICAgIH0gZWxzZSBpZiAoc2VydmVyUHJvdCAmJiAhcHJvdExpc3QuaW5jbHVkZXMoc2VydmVyUHJvdCkpIHtcbiAgICAgIHByb3RFcnJvciA9ICdTZXJ2ZXIgc2VudCBhbiBpbnZhbGlkIHN1YnByb3RvY29sJztcbiAgICB9XG5cbiAgICBpZiAocHJvdEVycm9yKSB7XG4gICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgcHJvdEVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2VydmVyUHJvdCkgd2Vic29ja2V0Ll9wcm90b2NvbCA9IHNlcnZlclByb3Q7XG5cbiAgICBjb25zdCBzZWNXZWJTb2NrZXRFeHRlbnNpb25zID0gcmVzLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQtZXh0ZW5zaW9ucyddO1xuXG4gICAgaWYgKHNlY1dlYlNvY2tldEV4dGVuc2lvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCFwZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgICAnU2VydmVyIHNlbnQgYSBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnMgaGVhZGVyIGJ1dCBubyBleHRlbnNpb24gJyArXG4gICAgICAgICAgJ3dhcyByZXF1ZXN0ZWQnO1xuICAgICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgbWVzc2FnZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IGV4dGVuc2lvbnM7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGV4dGVuc2lvbnMgPSBwYXJzZShzZWNXZWJTb2NrZXRFeHRlbnNpb25zKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ0ludmFsaWQgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zIGhlYWRlcic7XG4gICAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCBtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBleHRlbnNpb25OYW1lcyA9IE9iamVjdC5rZXlzKGV4dGVuc2lvbnMpO1xuXG4gICAgICBpZiAoZXh0ZW5zaW9uTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBleHRlbnNpb25OYW1lcy5sZW5ndGggIT09IDEgfHxcbiAgICAgICAgICBleHRlbnNpb25OYW1lc1swXSAhPT0gUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgICAgICdTZXJ2ZXIgaW5kaWNhdGVkIGFuIGV4dGVuc2lvbiB0aGF0IHdhcyBub3QgcmVxdWVzdGVkJztcbiAgICAgICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgbWVzc2FnZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwZXJNZXNzYWdlRGVmbGF0ZS5hY2NlcHQoZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnSW52YWxpZCBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnMgaGVhZGVyJztcbiAgICAgICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgbWVzc2FnZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgd2Vic29ja2V0Ll9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdID1cbiAgICAgICAgICBwZXJNZXNzYWdlRGVmbGF0ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3ZWJzb2NrZXQuc2V0U29ja2V0KHNvY2tldCwgaGVhZCwgb3B0cy5tYXhQYXlsb2FkKTtcbiAgfSk7XG59XG5cbi8qKlxuICogRW1pdCB0aGUgYCdlcnJvcidgIGFuZCBgJ2Nsb3NlJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtXZWJTb2NrZXR9IHdlYnNvY2tldCBUaGUgV2ViU29ja2V0IGluc3RhbmNlXG4gKiBAcGFyYW0ge0Vycm9yfSBUaGUgZXJyb3IgdG8gZW1pdFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW1pdEVycm9yQW5kQ2xvc2Uod2Vic29ja2V0LCBlcnIpIHtcbiAgd2Vic29ja2V0Ll9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XG4gIHdlYnNvY2tldC5lbWl0KCdlcnJvcicsIGVycik7XG4gIHdlYnNvY2tldC5lbWl0Q2xvc2UoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgbmV0LlNvY2tldGAgYW5kIGluaXRpYXRlIGEgY29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDb25uZWN0aW9uIG9wdGlvbnNcbiAqIEByZXR1cm4ge25ldC5Tb2NrZXR9IFRoZSBuZXdseSBjcmVhdGVkIHNvY2tldCB1c2VkIHRvIHN0YXJ0IHRoZSBjb25uZWN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBuZXRDb25uZWN0KG9wdGlvbnMpIHtcbiAgb3B0aW9ucy5wYXRoID0gb3B0aW9ucy5zb2NrZXRQYXRoO1xuICByZXR1cm4gbmV0LmNvbm5lY3Qob3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYHRscy5UTFNTb2NrZXRgIGFuZCBpbml0aWF0ZSBhIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29ubmVjdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJuIHt0bHMuVExTU29ja2V0fSBUaGUgbmV3bHkgY3JlYXRlZCBzb2NrZXQgdXNlZCB0byBzdGFydCB0aGUgY29ubmVjdGlvblxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGxzQ29ubmVjdChvcHRpb25zKSB7XG4gIG9wdGlvbnMucGF0aCA9IHVuZGVmaW5lZDtcblxuICBpZiAoIW9wdGlvbnMuc2VydmVybmFtZSAmJiBvcHRpb25zLnNlcnZlcm5hbWUgIT09ICcnKSB7XG4gICAgb3B0aW9ucy5zZXJ2ZXJuYW1lID0gbmV0LmlzSVAob3B0aW9ucy5ob3N0KSA/ICcnIDogb3B0aW9ucy5ob3N0O1xuICB9XG5cbiAgcmV0dXJuIHRscy5jb25uZWN0KG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEFib3J0IHRoZSBoYW5kc2hha2UgYW5kIGVtaXQgYW4gZXJyb3IuXG4gKlxuICogQHBhcmFtIHtXZWJTb2NrZXR9IHdlYnNvY2tldCBUaGUgV2ViU29ja2V0IGluc3RhbmNlXG4gKiBAcGFyYW0geyhodHRwLkNsaWVudFJlcXVlc3R8bmV0LlNvY2tldHx0bHMuU29ja2V0KX0gc3RyZWFtIFRoZSByZXF1ZXN0IHRvXG4gKiAgICAgYWJvcnQgb3IgdGhlIHNvY2tldCB0byBkZXN0cm95XG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzdHJlYW0sIG1lc3NhZ2UpIHtcbiAgd2Vic29ja2V0Ll9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XG5cbiAgY29uc3QgZXJyID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnIsIGFib3J0SGFuZHNoYWtlKTtcblxuICBpZiAoc3RyZWFtLnNldEhlYWRlcikge1xuICAgIHN0cmVhbS5hYm9ydCgpO1xuXG4gICAgaWYgKHN0cmVhbS5zb2NrZXQgJiYgIXN0cmVhbS5zb2NrZXQuZGVzdHJveWVkKSB7XG4gICAgICAvL1xuICAgICAgLy8gT24gTm9kZS5qcyA+PSAxNC4zLjAgYHJlcXVlc3QuYWJvcnQoKWAgZG9lcyBub3QgZGVzdHJveSB0aGUgc29ja2V0IGlmXG4gICAgICAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHJlcXVlc3QgY29tcGxldGVkLiBTZWVcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJzb2NrZXRzL3dzL2lzc3Vlcy8xODY5LlxuICAgICAgLy9cbiAgICAgIHN0cmVhbS5zb2NrZXQuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHN0cmVhbS5vbmNlKCdhYm9ydCcsIHdlYnNvY2tldC5lbWl0Q2xvc2UuYmluZCh3ZWJzb2NrZXQpKTtcbiAgICB3ZWJzb2NrZXQuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB9IGVsc2Uge1xuICAgIHN0cmVhbS5kZXN0cm95KGVycik7XG4gICAgc3RyZWFtLm9uY2UoJ2Vycm9yJywgd2Vic29ja2V0LmVtaXQuYmluZCh3ZWJzb2NrZXQsICdlcnJvcicpKTtcbiAgICBzdHJlYW0ub25jZSgnY2xvc2UnLCB3ZWJzb2NrZXQuZW1pdENsb3NlLmJpbmQod2Vic29ja2V0KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgY2FzZXMgd2hlcmUgdGhlIGBwaW5nKClgLCBgcG9uZygpYCwgb3IgYHNlbmQoKWAgbWV0aG9kcyBhcmUgY2FsbGVkXG4gKiB3aGVuIHRoZSBgcmVhZHlTdGF0ZWAgYXR0cmlidXRlIGlzIGBDTE9TSU5HYCBvciBgQ0xPU0VEYC5cbiAqXG4gKiBAcGFyYW0ge1dlYlNvY2tldH0gd2Vic29ja2V0IFRoZSBXZWJTb2NrZXQgaW5zdGFuY2VcbiAqIEBwYXJhbSB7Kn0gW2RhdGFdIFRoZSBkYXRhIHRvIHNlbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNlbmRBZnRlckNsb3NlKHdlYnNvY2tldCwgZGF0YSwgY2IpIHtcbiAgaWYgKGRhdGEpIHtcbiAgICBjb25zdCBsZW5ndGggPSB0b0J1ZmZlcihkYXRhKS5sZW5ndGg7XG5cbiAgICAvL1xuICAgIC8vIFRoZSBgX2J1ZmZlcmVkQW1vdW50YCBwcm9wZXJ0eSBpcyB1c2VkIG9ubHkgd2hlbiB0aGUgcGVlciBpcyBhIGNsaWVudCBhbmRcbiAgICAvLyB0aGUgb3BlbmluZyBoYW5kc2hha2UgZmFpbHMuIFVuZGVyIHRoZXNlIGNpcmN1bXN0YW5jZXMsIGluIGZhY3QsIHRoZVxuICAgIC8vIGBzZXRTb2NrZXQoKWAgbWV0aG9kIGlzIG5vdCBjYWxsZWQsIHNvIHRoZSBgX3NvY2tldGAgYW5kIGBfc2VuZGVyYFxuICAgIC8vIHByb3BlcnRpZXMgYXJlIHNldCB0byBgbnVsbGAuXG4gICAgLy9cbiAgICBpZiAod2Vic29ja2V0Ll9zb2NrZXQpIHdlYnNvY2tldC5fc2VuZGVyLl9idWZmZXJlZEJ5dGVzICs9IGxlbmd0aDtcbiAgICBlbHNlIHdlYnNvY2tldC5fYnVmZmVyZWRBbW91bnQgKz0gbGVuZ3RoO1xuICB9XG5cbiAgaWYgKGNiKSB7XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgYFdlYlNvY2tldCBpcyBub3Qgb3BlbjogcmVhZHlTdGF0ZSAke3dlYnNvY2tldC5yZWFkeVN0YXRlfSBgICtcbiAgICAgICAgYCgke3JlYWR5U3RhdGVzW3dlYnNvY2tldC5yZWFkeVN0YXRlXX0pYFxuICAgICk7XG4gICAgY2IoZXJyKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYFJlY2VpdmVyYCBgJ2NvbmNsdWRlJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGNvZGUgVGhlIHN0YXR1cyBjb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVhc29uIFRoZSByZWFzb24gZm9yIGNsb3NpbmdcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY2VpdmVyT25Db25jbHVkZShjb2RlLCByZWFzb24pIHtcbiAgY29uc3Qgd2Vic29ja2V0ID0gdGhpc1trV2ViU29ja2V0XTtcblxuICB3ZWJzb2NrZXQuX2Nsb3NlRnJhbWVSZWNlaXZlZCA9IHRydWU7XG4gIHdlYnNvY2tldC5fY2xvc2VNZXNzYWdlID0gcmVhc29uO1xuICB3ZWJzb2NrZXQuX2Nsb3NlQ29kZSA9IGNvZGU7XG5cbiAgaWYgKHdlYnNvY2tldC5fc29ja2V0W2tXZWJTb2NrZXRdID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICB3ZWJzb2NrZXQuX3NvY2tldC5yZW1vdmVMaXN0ZW5lcignZGF0YScsIHNvY2tldE9uRGF0YSk7XG4gIHByb2Nlc3MubmV4dFRpY2socmVzdW1lLCB3ZWJzb2NrZXQuX3NvY2tldCk7XG5cbiAgaWYgKGNvZGUgPT09IDEwMDUpIHdlYnNvY2tldC5jbG9zZSgpO1xuICBlbHNlIHdlYnNvY2tldC5jbG9zZShjb2RlLCByZWFzb24pO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYFJlY2VpdmVyYCBgJ2RyYWluJ2AgZXZlbnQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjZWl2ZXJPbkRyYWluKCkge1xuICB0aGlzW2tXZWJTb2NrZXRdLl9zb2NrZXQucmVzdW1lKCk7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAnZXJyb3InYCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhSYW5nZUVycm9yfEVycm9yKX0gZXJyIFRoZSBlbWl0dGVkIGVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNlaXZlck9uRXJyb3IoZXJyKSB7XG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XG5cbiAgaWYgKHdlYnNvY2tldC5fc29ja2V0W2tXZWJTb2NrZXRdICE9PSB1bmRlZmluZWQpIHtcbiAgICB3ZWJzb2NrZXQuX3NvY2tldC5yZW1vdmVMaXN0ZW5lcignZGF0YScsIHNvY2tldE9uRGF0YSk7XG5cbiAgICAvL1xuICAgIC8vIE9uIE5vZGUuanMgPCAxNC4wLjAgdGhlIGAnZXJyb3InYCBldmVudCBpcyBlbWl0dGVkIHN5bmNocm9ub3VzbHkuIFNlZVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJzb2NrZXRzL3dzL2lzc3Vlcy8xOTQwLlxuICAgIC8vXG4gICAgcHJvY2Vzcy5uZXh0VGljayhyZXN1bWUsIHdlYnNvY2tldC5fc29ja2V0KTtcblxuICAgIHdlYnNvY2tldC5jbG9zZShlcnJba1N0YXR1c0NvZGVdKTtcbiAgfVxuXG4gIHdlYnNvY2tldC5lbWl0KCdlcnJvcicsIGVycik7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAnZmluaXNoJ2AgZXZlbnQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjZWl2ZXJPbkZpbmlzaCgpIHtcbiAgdGhpc1trV2ViU29ja2V0XS5lbWl0Q2xvc2UoKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBSZWNlaXZlcmAgYCdtZXNzYWdlJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfEJ1ZmZlcnxBcnJheUJ1ZmZlcnxCdWZmZXJbXSl9IGRhdGEgVGhlIG1lc3NhZ2VcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY2VpdmVyT25NZXNzYWdlKGRhdGEpIHtcbiAgdGhpc1trV2ViU29ja2V0XS5lbWl0KCdtZXNzYWdlJywgZGF0YSk7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAncGluZydgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIFRoZSBkYXRhIGluY2x1ZGVkIGluIHRoZSBwaW5nIGZyYW1lXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNlaXZlck9uUGluZyhkYXRhKSB7XG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XG5cbiAgd2Vic29ja2V0LnBvbmcoZGF0YSwgIXdlYnNvY2tldC5faXNTZXJ2ZXIsIE5PT1ApO1xuICB3ZWJzb2NrZXQuZW1pdCgncGluZycsIGRhdGEpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYFJlY2VpdmVyYCBgJ3BvbmcnYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgZGF0YSBpbmNsdWRlZCBpbiB0aGUgcG9uZyBmcmFtZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjZWl2ZXJPblBvbmcoZGF0YSkge1xuICB0aGlzW2tXZWJTb2NrZXRdLmVtaXQoJ3BvbmcnLCBkYXRhKTtcbn1cblxuLyoqXG4gKiBSZXN1bWUgYSByZWFkYWJsZSBzdHJlYW1cbiAqXG4gKiBAcGFyYW0ge1JlYWRhYmxlfSBzdHJlYW0gVGhlIHJlYWRhYmxlIHN0cmVhbVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSkge1xuICBzdHJlYW0ucmVzdW1lKCk7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgbmV0LlNvY2tldGAgYCdjbG9zZSdgIGV2ZW50LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNvY2tldE9uQ2xvc2UoKSB7XG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XG5cbiAgdGhpcy5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBzb2NrZXRPbkNsb3NlKTtcbiAgdGhpcy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIHNvY2tldE9uRGF0YSk7XG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIHNvY2tldE9uRW5kKTtcblxuICB3ZWJzb2NrZXQuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcblxuICBsZXQgY2h1bms7XG5cbiAgLy9cbiAgLy8gVGhlIGNsb3NlIGZyYW1lIG1pZ2h0IG5vdCBoYXZlIGJlZW4gcmVjZWl2ZWQgb3IgdGhlIGAnZW5kJ2AgZXZlbnQgZW1pdHRlZCxcbiAgLy8gZm9yIGV4YW1wbGUsIGlmIHRoZSBzb2NrZXQgd2FzIGRlc3Ryb3llZCBkdWUgdG8gYW4gZXJyb3IuIEVuc3VyZSB0aGF0IHRoZVxuICAvLyBgcmVjZWl2ZXJgIHN0cmVhbSBpcyBjbG9zZWQgYWZ0ZXIgd3JpdGluZyBhbnkgcmVtYWluaW5nIGJ1ZmZlcmVkIGRhdGEgdG9cbiAgLy8gaXQuIElmIHRoZSByZWFkYWJsZSBzaWRlIG9mIHRoZSBzb2NrZXQgaXMgaW4gZmxvd2luZyBtb2RlIHRoZW4gdGhlcmUgaXMgbm9cbiAgLy8gYnVmZmVyZWQgZGF0YSBhcyBldmVyeXRoaW5nIGhhcyBiZWVuIGFscmVhZHkgd3JpdHRlbiBhbmQgYHJlYWRhYmxlLnJlYWQoKWBcbiAgLy8gd2lsbCByZXR1cm4gYG51bGxgLiBJZiBpbnN0ZWFkLCB0aGUgc29ja2V0IGlzIHBhdXNlZCwgYW55IHBvc3NpYmxlIGJ1ZmZlcmVkXG4gIC8vIGRhdGEgd2lsbCBiZSByZWFkIGFzIGEgc2luZ2xlIGNodW5rLlxuICAvL1xuICBpZiAoXG4gICAgIXRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCAmJlxuICAgICF3ZWJzb2NrZXQuX2Nsb3NlRnJhbWVSZWNlaXZlZCAmJlxuICAgICF3ZWJzb2NrZXQuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCAmJlxuICAgIChjaHVuayA9IHdlYnNvY2tldC5fc29ja2V0LnJlYWQoKSkgIT09IG51bGxcbiAgKSB7XG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci53cml0ZShjaHVuayk7XG4gIH1cblxuICB3ZWJzb2NrZXQuX3JlY2VpdmVyLmVuZCgpO1xuXG4gIHRoaXNba1dlYlNvY2tldF0gPSB1bmRlZmluZWQ7XG5cbiAgY2xlYXJUaW1lb3V0KHdlYnNvY2tldC5fY2xvc2VUaW1lcik7XG5cbiAgaWYgKFxuICAgIHdlYnNvY2tldC5fcmVjZWl2ZXIuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQgfHxcbiAgICB3ZWJzb2NrZXQuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZFxuICApIHtcbiAgICB3ZWJzb2NrZXQuZW1pdENsb3NlKCk7XG4gIH0gZWxzZSB7XG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci5vbignZXJyb3InLCByZWNlaXZlck9uRmluaXNoKTtcbiAgICB3ZWJzb2NrZXQuX3JlY2VpdmVyLm9uKCdmaW5pc2gnLCByZWNlaXZlck9uRmluaXNoKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYG5ldC5Tb2NrZXRgIGAnZGF0YSdgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBjaHVuayBBIGNodW5rIG9mIGRhdGFcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNvY2tldE9uRGF0YShjaHVuaykge1xuICBpZiAoIXRoaXNba1dlYlNvY2tldF0uX3JlY2VpdmVyLndyaXRlKGNodW5rKSkge1xuICAgIHRoaXMucGF1c2UoKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYG5ldC5Tb2NrZXRgIGAnZW5kJ2AgZXZlbnQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc29ja2V0T25FbmQoKSB7XG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XG5cbiAgd2Vic29ja2V0Ll9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XG4gIHdlYnNvY2tldC5fcmVjZWl2ZXIuZW5kKCk7XG4gIHRoaXMuZW5kKCk7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgbmV0LlNvY2tldGAgYCdlcnJvcidgIGV2ZW50LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNvY2tldE9uRXJyb3IoKSB7XG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XG5cbiAgdGhpcy5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBzb2NrZXRPbkVycm9yKTtcbiAgdGhpcy5vbignZXJyb3InLCBOT09QKTtcblxuICBpZiAod2Vic29ja2V0KSB7XG4gICAgd2Vic29ja2V0Ll9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XG4gICAgdGhpcy5kZXN0cm95KCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js":
/*!*************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/dist/index.es.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_LOG_SIZE_IN_BYTES_DEFAULT: () => (/* binding */ l),\n/* harmony export */   PINO_CUSTOM_CONTEXT_KEY: () => (/* binding */ n),\n/* harmony export */   PINO_LOGGER_DEFAULTS: () => (/* binding */ c),\n/* harmony export */   formatChildLoggerContext: () => (/* binding */ w),\n/* harmony export */   generateChildLogger: () => (/* binding */ E),\n/* harmony export */   generateClientLogger: () => (/* binding */ C),\n/* harmony export */   generatePlatformLogger: () => (/* binding */ A),\n/* harmony export */   generateServerLogger: () => (/* binding */ I),\n/* harmony export */   getBrowserLoggerContext: () => (/* binding */ v),\n/* harmony export */   getDefaultLoggerOptions: () => (/* binding */ k),\n/* harmony export */   getLoggerContext: () => (/* binding */ y),\n/* harmony export */   pino: () => (/* reexport default from dynamic */ pino__WEBPACK_IMPORTED_MODULE_0___default.a),\n/* harmony export */   setBrowserLoggerContext: () => (/* binding */ b)\n/* harmony export */ });\n/* harmony import */ var pino__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pino */ \"(ssr)/./node_modules/pino/pino.js\");\n/* harmony import */ var pino__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pino__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nconst c={level:\"info\"},n=\"custom_context\",l=1e3*1024;class O{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class d{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new O(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class L{constructor(e,t=l){this.level=e??\"error\",this.levelValue=pino__WEBPACK_IMPORTED_MODULE_0__.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.error?console.error(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.warn?console.warn(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.debug?console.debug(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)({timestamp:new Date().toISOString(),log:e}));const t=typeof e==\"string\"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)({extraMetadata:e})),new Blob(t,{type:\"application/json\"})}}class m{constructor(e,t=l){this.baseChunkLogger=new L(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),o=document.createElement(\"a\");o.href=t,o.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}}class B{constructor(e,t=l){this.baseChunkLogger=new L(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var x=Object.defineProperty,S=Object.defineProperties,_=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,f=(r,e,t)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,i=(r,e)=>{for(var t in e||(e={}))T.call(e,t)&&f(r,t,e[t]);if(p)for(var t of p(e))z.call(e,t)&&f(r,t,e[t]);return r},g=(r,e)=>S(r,_(e));function k(r){return g(i({},r),{level:r?.level||c.level})}function v(r,e=n){return r[e]||\"\"}function b(r,e,t=n){return r[t]=e,r}function y(r,e=n){let t=\"\";return typeof r.bindings>\"u\"?t=v(r,e):t=r.bindings().context||\"\",t}function w(r,e,t=n){const o=y(r,t);return o.trim()?`${o}/${e}`:e}function E(r,e,t=n){const o=w(r,e,t),a=r.child({context:o});return b(a,o,t)}function C(r){var e,t;const o=new m((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:pino__WEBPACK_IMPORTED_MODULE_0___default()(g(i({},r.opts),{level:\"trace\",browser:g(i({},(t=r.opts)==null?void 0:t.browser),{write:a=>o.write(a)})})),chunkLoggerController:o}}function I(r){var e;const t=new B((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:pino__WEBPACK_IMPORTED_MODULE_0___default()(g(i({},r.opts),{level:\"trace\"}),t),chunkLoggerController:t}}function A(r){return typeof r.loggerOverride<\"u\"&&typeof r.loggerOverride!=\"string\"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<\"u\"?C(r):I(r)}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2SCxTQUFTLGFBQWEsK0JBQStCLFFBQVEsZUFBZSxpR0FBaUcsWUFBWSxzQkFBc0IsV0FBVyx5QkFBeUIsUUFBUSxlQUFlLDRGQUE0RixVQUFVLGlCQUFpQixpR0FBaUcsR0FBRyxZQUFZLE9BQU8sR0FBRyxLQUFLLHFDQUFxQyxjQUFjLDhIQUE4SCxRQUFRLHFCQUFxQixrQkFBa0IsbUdBQW1HLFVBQVUsV0FBVyxnQkFBZ0IsS0FBSyxTQUFTLDBCQUEwQixTQUFTLGFBQWEsMEJBQTBCLFdBQVcsd0JBQXdCLGlCQUFpQix3QkFBd0Isb0JBQW9CLGdCQUFnQixPQUFPLFVBQVUsYUFBYSxvQkFBb0IsZ0JBQWdCLGlCQUFpQixvQkFBb0IsUUFBUSxtQkFBbUIsc0NBQXNDLHdDQUFDLDZGQUE2RixzQkFBc0IsSUFBSSx3Q0FBQyxtQ0FBbUMsd0NBQUMsaUNBQWlDLHdDQUFDLG1DQUFtQyx3Q0FBQyw4Q0FBOEMsZ0JBQWdCLGlCQUFpQiwyRUFBQyxFQUFFLHlDQUF5QyxHQUFHLHVEQUF1RCwrQ0FBK0MsVUFBVSxpQkFBaUIsWUFBWSw0Q0FBNEMsY0FBYyw2QkFBNkIsY0FBYywyQkFBMkIsY0FBYywyRUFBQyxFQUFFLGdCQUFnQixlQUFlLHdCQUF3QixHQUFHLFFBQVEsbUJBQW1CLGdDQUFnQyxTQUFTLHFDQUFxQyxVQUFVLHNDQUFzQyxZQUFZLGlDQUFpQyxjQUFjLDBDQUEwQyxjQUFjLDBDQUEwQyw2QkFBNkIsOEVBQThFLDBDQUEwQyx5QkFBeUIsa0dBQWtHLFFBQVEsbUJBQW1CLGdDQUFnQyxTQUFTLHFDQUFxQyxVQUFVLHNDQUFzQyxZQUFZLGlDQUFpQyxjQUFjLDBDQUEwQyxjQUFjLDJDQUEyQywyTkFBMk4sa0RBQWtELG1CQUFtQixxQkFBcUIsMkJBQTJCLGdEQUFnRCxTQUFTLG9CQUFvQixjQUFjLGFBQWEsS0FBSyx3QkFBd0IsRUFBRSxrQkFBa0IsZ0JBQWdCLG9CQUFvQixnQkFBZ0Isa0JBQWtCLFNBQVMsbUVBQW1FLG9CQUFvQixlQUFlLG1CQUFtQixFQUFFLEdBQUcsRUFBRSxJQUFJLG9CQUFvQiw0QkFBNEIsVUFBVSxFQUFFLGdCQUFnQixjQUFjLFFBQVEsZ0VBQWdFLE9BQU8sT0FBTywyQ0FBQyxPQUFPLFVBQVUsNEJBQTRCLHFDQUFxQyxvQkFBb0IsRUFBRSw0QkFBNEIsY0FBYyxNQUFNLGdFQUFnRSxPQUFPLE9BQU8sMkNBQUMsT0FBTyxVQUFVLGNBQWMsOEJBQThCLGNBQWMsdUVBQXVFLG1EQUFtRCw2QkFBNlg7QUFDamlKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9kaXN0L2luZGV4LmVzLmpzPzkyNDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGgse2xldmVscyBhcyBzfWZyb21cInBpbm9cIjtpbXBvcnR7ZGVmYXVsdCBhcyBVfWZyb21cInBpbm9cIjtpbXBvcnR7c2FmZUpzb25TdHJpbmdpZnkgYXMgdX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9zYWZlLWpzb25cIjtjb25zdCBjPXtsZXZlbDpcImluZm9cIn0sbj1cImN1c3RvbV9jb250ZXh0XCIsbD0xZTMqMTAyNDtjbGFzcyBPe2NvbnN0cnVjdG9yKGUpe3RoaXMubm9kZVZhbHVlPWUsdGhpcy5zaXplSW5CeXRlcz1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGhpcy5ub2RlVmFsdWUpLmxlbmd0aCx0aGlzLm5leHQ9bnVsbH1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5ub2RlVmFsdWV9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5zaXplSW5CeXRlc319Y2xhc3MgZHtjb25zdHJ1Y3RvcihlKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aEluTm9kZXM9MCx0aGlzLm1heFNpemVJbkJ5dGVzPWUsdGhpcy5zaXplSW5CeXRlcz0wfWFwcGVuZChlKXtjb25zdCB0PW5ldyBPKGUpO2lmKHQuc2l6ZT50aGlzLm1heFNpemVJbkJ5dGVzKXRocm93IG5ldyBFcnJvcihgW0xpbmtlZExpc3RdIFZhbHVlIHRvbyBiaWcgdG8gaW5zZXJ0IGludG8gbGlzdDogJHtlfSB3aXRoIHNpemUgJHt0LnNpemV9YCk7Zm9yKDt0aGlzLnNpemUrdC5zaXplPnRoaXMubWF4U2l6ZUluQnl0ZXM7KXRoaXMuc2hpZnQoKTt0aGlzLmhlYWQ/KHRoaXMudGFpbCYmKHRoaXMudGFpbC5uZXh0PXQpLHRoaXMudGFpbD10KToodGhpcy5oZWFkPXQsdGhpcy50YWlsPXQpLHRoaXMubGVuZ3RoSW5Ob2RlcysrLHRoaXMuc2l6ZUluQnl0ZXMrPXQuc2l6ZX1zaGlmdCgpe2lmKCF0aGlzLmhlYWQpcmV0dXJuO2NvbnN0IGU9dGhpcy5oZWFkO3RoaXMuaGVhZD10aGlzLmhlYWQubmV4dCx0aGlzLmhlYWR8fCh0aGlzLnRhaWw9bnVsbCksdGhpcy5sZW5ndGhJbk5vZGVzLS0sdGhpcy5zaXplSW5CeXRlcy09ZS5zaXplfXRvQXJyYXkoKXtjb25zdCBlPVtdO2xldCB0PXRoaXMuaGVhZDtmb3IoO3QhPT1udWxsOyllLnB1c2godC52YWx1ZSksdD10Lm5leHQ7cmV0dXJuIGV9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLmxlbmd0aEluTm9kZXN9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5zaXplSW5CeXRlc310b09yZGVyZWRBcnJheSgpe3JldHVybiBBcnJheS5mcm9tKHRoaXMpfVtTeW1ib2wuaXRlcmF0b3JdKCl7bGV0IGU9dGhpcy5oZWFkO3JldHVybntuZXh0OigpPT57aWYoIWUpcmV0dXJue2RvbmU6ITAsdmFsdWU6bnVsbH07Y29uc3QgdD1lLnZhbHVlO3JldHVybiBlPWUubmV4dCx7ZG9uZTohMSx2YWx1ZTp0fX19fX1jbGFzcyBMe2NvbnN0cnVjdG9yKGUsdD1sKXt0aGlzLmxldmVsPWU/P1wiZXJyb3JcIix0aGlzLmxldmVsVmFsdWU9cy52YWx1ZXNbdGhpcy5sZXZlbF0sdGhpcy5NQVhfTE9HX1NJWkVfSU5fQllURVM9dCx0aGlzLmxvZ3M9bmV3IGQodGhpcy5NQVhfTE9HX1NJWkVfSU5fQllURVMpfWZvcndhcmRUb0NvbnNvbGUoZSx0KXt0PT09cy52YWx1ZXMuZXJyb3I/Y29uc29sZS5lcnJvcihlKTp0PT09cy52YWx1ZXMud2Fybj9jb25zb2xlLndhcm4oZSk6dD09PXMudmFsdWVzLmRlYnVnP2NvbnNvbGUuZGVidWcoZSk6dD09PXMudmFsdWVzLnRyYWNlP2NvbnNvbGUudHJhY2UoZSk6Y29uc29sZS5sb2coZSl9YXBwZW5kVG9Mb2dzKGUpe3RoaXMubG9ncy5hcHBlbmQodSh7dGltZXN0YW1wOm5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxsb2c6ZX0pKTtjb25zdCB0PXR5cGVvZiBlPT1cInN0cmluZ1wiP0pTT04ucGFyc2UoZSkubGV2ZWw6ZS5sZXZlbDt0Pj10aGlzLmxldmVsVmFsdWUmJnRoaXMuZm9yd2FyZFRvQ29uc29sZShlLHQpfWdldExvZ3MoKXtyZXR1cm4gdGhpcy5sb2dzfWNsZWFyTG9ncygpe3RoaXMubG9ncz1uZXcgZCh0aGlzLk1BWF9MT0dfU0laRV9JTl9CWVRFUyl9Z2V0TG9nQXJyYXkoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxvZ3MpfWxvZ3NUb0Jsb2IoZSl7Y29uc3QgdD10aGlzLmdldExvZ0FycmF5KCk7cmV0dXJuIHQucHVzaCh1KHtleHRyYU1ldGFkYXRhOmV9KSksbmV3IEJsb2IodCx7dHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIn0pfX1jbGFzcyBte2NvbnN0cnVjdG9yKGUsdD1sKXt0aGlzLmJhc2VDaHVua0xvZ2dlcj1uZXcgTChlLHQpfXdyaXRlKGUpe3RoaXMuYmFzZUNodW5rTG9nZ2VyLmFwcGVuZFRvTG9ncyhlKX1nZXRMb2dzKCl7cmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmdldExvZ3MoKX1jbGVhckxvZ3MoKXt0aGlzLmJhc2VDaHVua0xvZ2dlci5jbGVhckxvZ3MoKX1nZXRMb2dBcnJheSgpe3JldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5nZXRMb2dBcnJheSgpfWxvZ3NUb0Jsb2IoZSl7cmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmxvZ3NUb0Jsb2IoZSl9ZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlcihlKXtjb25zdCB0PVVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5sb2dzVG9CbG9iKGUpKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO28uaHJlZj10LG8uZG93bmxvYWQ9YHdhbGxldGNvbm5lY3QtbG9ncy0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0udHh0YCxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG8pLG8uY2xpY2soKSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG8pLFVSTC5yZXZva2VPYmplY3RVUkwodCl9fWNsYXNzIEJ7Y29uc3RydWN0b3IoZSx0PWwpe3RoaXMuYmFzZUNodW5rTG9nZ2VyPW5ldyBMKGUsdCl9d3JpdGUoZSl7dGhpcy5iYXNlQ2h1bmtMb2dnZXIuYXBwZW5kVG9Mb2dzKGUpfWdldExvZ3MoKXtyZXR1cm4gdGhpcy5iYXNlQ2h1bmtMb2dnZXIuZ2V0TG9ncygpfWNsZWFyTG9ncygpe3RoaXMuYmFzZUNodW5rTG9nZ2VyLmNsZWFyTG9ncygpfWdldExvZ0FycmF5KCl7cmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmdldExvZ0FycmF5KCl9bG9nc1RvQmxvYihlKXtyZXR1cm4gdGhpcy5iYXNlQ2h1bmtMb2dnZXIubG9nc1RvQmxvYihlKX19dmFyIHg9T2JqZWN0LmRlZmluZVByb3BlcnR5LFM9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsXz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxwPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsVD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHo9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxmPShyLGUsdCk9PmUgaW4gcj94KHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxpPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlULmNhbGwoZSx0KSYmZihyLHQsZVt0XSk7aWYocClmb3IodmFyIHQgb2YgcChlKSl6LmNhbGwoZSx0KSYmZihyLHQsZVt0XSk7cmV0dXJuIHJ9LGc9KHIsZSk9PlMocixfKGUpKTtmdW5jdGlvbiBrKHIpe3JldHVybiBnKGkoe30scikse2xldmVsOnI/LmxldmVsfHxjLmxldmVsfSl9ZnVuY3Rpb24gdihyLGU9bil7cmV0dXJuIHJbZV18fFwiXCJ9ZnVuY3Rpb24gYihyLGUsdD1uKXtyZXR1cm4gclt0XT1lLHJ9ZnVuY3Rpb24geShyLGU9bil7bGV0IHQ9XCJcIjtyZXR1cm4gdHlwZW9mIHIuYmluZGluZ3M+XCJ1XCI/dD12KHIsZSk6dD1yLmJpbmRpbmdzKCkuY29udGV4dHx8XCJcIix0fWZ1bmN0aW9uIHcocixlLHQ9bil7Y29uc3Qgbz15KHIsdCk7cmV0dXJuIG8udHJpbSgpP2Ake299LyR7ZX1gOmV9ZnVuY3Rpb24gRShyLGUsdD1uKXtjb25zdCBvPXcocixlLHQpLGE9ci5jaGlsZCh7Y29udGV4dDpvfSk7cmV0dXJuIGIoYSxvLHQpfWZ1bmN0aW9uIEMocil7dmFyIGUsdDtjb25zdCBvPW5ldyBtKChlPXIub3B0cyk9PW51bGw/dm9pZCAwOmUubGV2ZWwsci5tYXhTaXplSW5CeXRlcyk7cmV0dXJue2xvZ2dlcjpoKGcoaSh7fSxyLm9wdHMpLHtsZXZlbDpcInRyYWNlXCIsYnJvd3NlcjpnKGkoe30sKHQ9ci5vcHRzKT09bnVsbD92b2lkIDA6dC5icm93c2VyKSx7d3JpdGU6YT0+by53cml0ZShhKX0pfSkpLGNodW5rTG9nZ2VyQ29udHJvbGxlcjpvfX1mdW5jdGlvbiBJKHIpe3ZhciBlO2NvbnN0IHQ9bmV3IEIoKGU9ci5vcHRzKT09bnVsbD92b2lkIDA6ZS5sZXZlbCxyLm1heFNpemVJbkJ5dGVzKTtyZXR1cm57bG9nZ2VyOmgoZyhpKHt9LHIub3B0cykse2xldmVsOlwidHJhY2VcIn0pLHQpLGNodW5rTG9nZ2VyQ29udHJvbGxlcjp0fX1mdW5jdGlvbiBBKHIpe3JldHVybiB0eXBlb2Ygci5sb2dnZXJPdmVycmlkZTxcInVcIiYmdHlwZW9mIHIubG9nZ2VyT3ZlcnJpZGUhPVwic3RyaW5nXCI/e2xvZ2dlcjpyLmxvZ2dlck92ZXJyaWRlLGNodW5rTG9nZ2VyQ29udHJvbGxlcjpudWxsfTp0eXBlb2Ygd2luZG93PFwidVwiP0Mocik6SShyKX1leHBvcnR7bCBhcyBNQVhfTE9HX1NJWkVfSU5fQllURVNfREVGQVVMVCxuIGFzIFBJTk9fQ1VTVE9NX0NPTlRFWFRfS0VZLGMgYXMgUElOT19MT0dHRVJfREVGQVVMVFMsdyBhcyBmb3JtYXRDaGlsZExvZ2dlckNvbnRleHQsRSBhcyBnZW5lcmF0ZUNoaWxkTG9nZ2VyLEMgYXMgZ2VuZXJhdGVDbGllbnRMb2dnZXIsQSBhcyBnZW5lcmF0ZVBsYXRmb3JtTG9nZ2VyLEkgYXMgZ2VuZXJhdGVTZXJ2ZXJMb2dnZXIsdiBhcyBnZXRCcm93c2VyTG9nZ2VyQ29udGV4dCxrIGFzIGdldERlZmF1bHRMb2dnZXJPcHRpb25zLHkgYXMgZ2V0TG9nZ2VyQ29udGV4dCxVIGFzIHBpbm8sYiBhcyBzZXRCcm93c2VyTG9nZ2VyQ29udGV4dH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js":
/*!****************************************************************!*\
  !*** ./node_modules/@walletconnect/relay-api/dist/index.es.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RELAY_JSONRPC: () => (/* binding */ C),\n/* harmony export */   isPublishMethod: () => (/* binding */ c),\n/* harmony export */   isPublishParams: () => (/* binding */ h),\n/* harmony export */   isPublishRequest: () => (/* binding */ P),\n/* harmony export */   isSubscribeMethod: () => (/* binding */ b),\n/* harmony export */   isSubscribeParams: () => (/* binding */ a),\n/* harmony export */   isSubscribeRequest: () => (/* binding */ R),\n/* harmony export */   isSubscriptionMethod: () => (/* binding */ m),\n/* harmony export */   isSubscriptionParams: () => (/* binding */ d),\n/* harmony export */   isSubscriptionRequest: () => (/* binding */ S),\n/* harmony export */   isUnsubscribeMethod: () => (/* binding */ o),\n/* harmony export */   isUnsubscribeParams: () => (/* binding */ p),\n/* harmony export */   isUnsubscribeRequest: () => (/* binding */ _),\n/* harmony export */   parsePublishRequest: () => (/* binding */ q),\n/* harmony export */   parseSubscribeRequest: () => (/* binding */ g),\n/* harmony export */   parseSubscriptionRequest: () => (/* binding */ k),\n/* harmony export */   parseUnsubscribeRequest: () => (/* binding */ E)\n/* harmony export */ });\nfunction e(s,r,i=\"string\"){if(!s[r]||typeof s[r]!==i)throw new Error(`Missing or invalid \"${r}\" param`)}function l(s,r){let i=!0;return r.forEach(t=>{t in s||(i=!1)}),i}function f(s,r){return Array.isArray(s)?s.length===r:Object.keys(s).length===r}function w(s,r){return Array.isArray(s)?s.length>=r:Object.keys(s).length>=r}function u(s,r,i){return(i.length?w(s,r.length):f(s,r.length))?l(s,r):!1}function n(s,r,i=\"_\"){const t=s.split(i);return t[t.length-1].trim().toLowerCase()===r.trim().toLowerCase()}function R(s){return b(s.method)&&a(s.params)}function b(s){return n(s,\"subscribe\")}function a(s){return u(s,[\"topic\"],[])}function P(s){return c(s.method)&&h(s.params)}function c(s){return n(s,\"publish\")}function h(s){return u(s,[\"message\",\"topic\",\"ttl\"],[\"prompt\",\"tag\"])}function _(s){return o(s.method)&&p(s.params)}function o(s){return n(s,\"unsubscribe\")}function p(s){return u(s,[\"id\",\"topic\"],[])}function S(s){return m(s.method)&&d(s.params)}function m(s){return n(s,\"subscription\")}function d(s){return u(s,[\"id\",\"data\"],[])}function g(s){if(!b(s.method))throw new Error(\"JSON-RPC Request has invalid subscribe method\");if(!a(s.params))throw new Error(\"JSON-RPC Request has invalid subscribe params\");const r=s.params;return e(r,\"topic\"),r}function q(s){if(!c(s.method))throw new Error(\"JSON-RPC Request has invalid publish method\");if(!h(s.params))throw new Error(\"JSON-RPC Request has invalid publish params\");const r=s.params;return e(r,\"topic\"),e(r,\"message\"),e(r,\"ttl\",\"number\"),r}function E(s){if(!o(s.method))throw new Error(\"JSON-RPC Request has invalid unsubscribe method\");if(!p(s.params))throw new Error(\"JSON-RPC Request has invalid unsubscribe params\");const r=s.params;return e(r,\"id\"),r}function k(s){if(!m(s.method))throw new Error(\"JSON-RPC Request has invalid subscription method\");if(!d(s.params))throw new Error(\"JSON-RPC Request has invalid subscription params\");const r=s.params;return e(r,\"id\"),e(r,\"data\"),r}const C={waku:{publish:\"waku_publish\",batchPublish:\"waku_batchPublish\",subscribe:\"waku_subscribe\",batchSubscribe:\"waku_batchSubscribe\",subscription:\"waku_subscription\",unsubscribe:\"waku_unsubscribe\",batchUnsubscribe:\"waku_batchUnsubscribe\",batchFetchMessages:\"waku_batchFetchMessages\"},irn:{publish:\"irn_publish\",batchPublish:\"irn_batchPublish\",subscribe:\"irn_subscribe\",batchSubscribe:\"irn_batchSubscribe\",subscription:\"irn_subscription\",unsubscribe:\"irn_unsubscribe\",batchUnsubscribe:\"irn_batchUnsubscribe\",batchFetchMessages:\"irn_batchFetchMessages\"},iridium:{publish:\"iridium_publish\",batchPublish:\"iridium_batchPublish\",subscribe:\"iridium_subscribe\",batchSubscribe:\"iridium_batchSubscribe\",subscription:\"iridium_subscription\",unsubscribe:\"iridium_unsubscribe\",batchUnsubscribe:\"iridium_batchUnsubscribe\",batchFetchMessages:\"iridium_batchFetchMessages\"}};\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvcmVsYXktYXBpL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQkFBMkIsaUVBQWlFLEVBQUUsVUFBVSxnQkFBZ0IsU0FBUyxxQkFBcUIsZUFBZSxJQUFJLGdCQUFnQiwrREFBK0QsZ0JBQWdCLDZEQUE2RCxrQkFBa0IsdURBQXVELHNCQUFzQixtQkFBbUIsbUVBQW1FLGNBQWMsZ0NBQWdDLGNBQWMsd0JBQXdCLGNBQWMseUJBQXlCLGNBQWMsZ0NBQWdDLGNBQWMsc0JBQXNCLGNBQWMsdURBQXVELGNBQWMsZ0NBQWdDLGNBQWMsMEJBQTBCLGNBQWMsOEJBQThCLGNBQWMsZ0NBQWdDLGNBQWMsMkJBQTJCLGNBQWMsNkJBQTZCLGNBQWMsaUZBQWlGLGlGQUFpRixpQkFBaUIsc0JBQXNCLGNBQWMsK0VBQStFLCtFQUErRSxpQkFBaUIseURBQXlELGNBQWMsbUZBQW1GLG1GQUFtRixpQkFBaUIsbUJBQW1CLGNBQWMsb0ZBQW9GLG9GQUFvRixpQkFBaUIsK0JBQStCLFNBQVMsTUFBTSw4UUFBOFEsTUFBTSxzUUFBc1EsVUFBVSx3U0FBbXRCO0FBQ2pxRyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9yZWxheS1hcGkvZGlzdC9pbmRleC5lcy5qcz9hMmViIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGUocyxyLGk9XCJzdHJpbmdcIil7aWYoIXNbcl18fHR5cGVvZiBzW3JdIT09aSl0aHJvdyBuZXcgRXJyb3IoYE1pc3Npbmcgb3IgaW52YWxpZCBcIiR7cn1cIiBwYXJhbWApfWZ1bmN0aW9uIGwocyxyKXtsZXQgaT0hMDtyZXR1cm4gci5mb3JFYWNoKHQ9Pnt0IGluIHN8fChpPSExKX0pLGl9ZnVuY3Rpb24gZihzLHIpe3JldHVybiBBcnJheS5pc0FycmF5KHMpP3MubGVuZ3RoPT09cjpPYmplY3Qua2V5cyhzKS5sZW5ndGg9PT1yfWZ1bmN0aW9uIHcocyxyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShzKT9zLmxlbmd0aD49cjpPYmplY3Qua2V5cyhzKS5sZW5ndGg+PXJ9ZnVuY3Rpb24gdShzLHIsaSl7cmV0dXJuKGkubGVuZ3RoP3cocyxyLmxlbmd0aCk6ZihzLHIubGVuZ3RoKSk/bChzLHIpOiExfWZ1bmN0aW9uIG4ocyxyLGk9XCJfXCIpe2NvbnN0IHQ9cy5zcGxpdChpKTtyZXR1cm4gdFt0Lmxlbmd0aC0xXS50cmltKCkudG9Mb3dlckNhc2UoKT09PXIudHJpbSgpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gUihzKXtyZXR1cm4gYihzLm1ldGhvZCkmJmEocy5wYXJhbXMpfWZ1bmN0aW9uIGIocyl7cmV0dXJuIG4ocyxcInN1YnNjcmliZVwiKX1mdW5jdGlvbiBhKHMpe3JldHVybiB1KHMsW1widG9waWNcIl0sW10pfWZ1bmN0aW9uIFAocyl7cmV0dXJuIGMocy5tZXRob2QpJiZoKHMucGFyYW1zKX1mdW5jdGlvbiBjKHMpe3JldHVybiBuKHMsXCJwdWJsaXNoXCIpfWZ1bmN0aW9uIGgocyl7cmV0dXJuIHUocyxbXCJtZXNzYWdlXCIsXCJ0b3BpY1wiLFwidHRsXCJdLFtcInByb21wdFwiLFwidGFnXCJdKX1mdW5jdGlvbiBfKHMpe3JldHVybiBvKHMubWV0aG9kKSYmcChzLnBhcmFtcyl9ZnVuY3Rpb24gbyhzKXtyZXR1cm4gbihzLFwidW5zdWJzY3JpYmVcIil9ZnVuY3Rpb24gcChzKXtyZXR1cm4gdShzLFtcImlkXCIsXCJ0b3BpY1wiXSxbXSl9ZnVuY3Rpb24gUyhzKXtyZXR1cm4gbShzLm1ldGhvZCkmJmQocy5wYXJhbXMpfWZ1bmN0aW9uIG0ocyl7cmV0dXJuIG4ocyxcInN1YnNjcmlwdGlvblwiKX1mdW5jdGlvbiBkKHMpe3JldHVybiB1KHMsW1wiaWRcIixcImRhdGFcIl0sW10pfWZ1bmN0aW9uIGcocyl7aWYoIWIocy5tZXRob2QpKXRocm93IG5ldyBFcnJvcihcIkpTT04tUlBDIFJlcXVlc3QgaGFzIGludmFsaWQgc3Vic2NyaWJlIG1ldGhvZFwiKTtpZighYShzLnBhcmFtcykpdGhyb3cgbmV3IEVycm9yKFwiSlNPTi1SUEMgUmVxdWVzdCBoYXMgaW52YWxpZCBzdWJzY3JpYmUgcGFyYW1zXCIpO2NvbnN0IHI9cy5wYXJhbXM7cmV0dXJuIGUocixcInRvcGljXCIpLHJ9ZnVuY3Rpb24gcShzKXtpZighYyhzLm1ldGhvZCkpdGhyb3cgbmV3IEVycm9yKFwiSlNPTi1SUEMgUmVxdWVzdCBoYXMgaW52YWxpZCBwdWJsaXNoIG1ldGhvZFwiKTtpZighaChzLnBhcmFtcykpdGhyb3cgbmV3IEVycm9yKFwiSlNPTi1SUEMgUmVxdWVzdCBoYXMgaW52YWxpZCBwdWJsaXNoIHBhcmFtc1wiKTtjb25zdCByPXMucGFyYW1zO3JldHVybiBlKHIsXCJ0b3BpY1wiKSxlKHIsXCJtZXNzYWdlXCIpLGUocixcInR0bFwiLFwibnVtYmVyXCIpLHJ9ZnVuY3Rpb24gRShzKXtpZighbyhzLm1ldGhvZCkpdGhyb3cgbmV3IEVycm9yKFwiSlNPTi1SUEMgUmVxdWVzdCBoYXMgaW52YWxpZCB1bnN1YnNjcmliZSBtZXRob2RcIik7aWYoIXAocy5wYXJhbXMpKXRocm93IG5ldyBFcnJvcihcIkpTT04tUlBDIFJlcXVlc3QgaGFzIGludmFsaWQgdW5zdWJzY3JpYmUgcGFyYW1zXCIpO2NvbnN0IHI9cy5wYXJhbXM7cmV0dXJuIGUocixcImlkXCIpLHJ9ZnVuY3Rpb24gayhzKXtpZighbShzLm1ldGhvZCkpdGhyb3cgbmV3IEVycm9yKFwiSlNPTi1SUEMgUmVxdWVzdCBoYXMgaW52YWxpZCBzdWJzY3JpcHRpb24gbWV0aG9kXCIpO2lmKCFkKHMucGFyYW1zKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLVJQQyBSZXF1ZXN0IGhhcyBpbnZhbGlkIHN1YnNjcmlwdGlvbiBwYXJhbXNcIik7Y29uc3Qgcj1zLnBhcmFtcztyZXR1cm4gZShyLFwiaWRcIiksZShyLFwiZGF0YVwiKSxyfWNvbnN0IEM9e3dha3U6e3B1Ymxpc2g6XCJ3YWt1X3B1Ymxpc2hcIixiYXRjaFB1Ymxpc2g6XCJ3YWt1X2JhdGNoUHVibGlzaFwiLHN1YnNjcmliZTpcIndha3Vfc3Vic2NyaWJlXCIsYmF0Y2hTdWJzY3JpYmU6XCJ3YWt1X2JhdGNoU3Vic2NyaWJlXCIsc3Vic2NyaXB0aW9uOlwid2FrdV9zdWJzY3JpcHRpb25cIix1bnN1YnNjcmliZTpcIndha3VfdW5zdWJzY3JpYmVcIixiYXRjaFVuc3Vic2NyaWJlOlwid2FrdV9iYXRjaFVuc3Vic2NyaWJlXCIsYmF0Y2hGZXRjaE1lc3NhZ2VzOlwid2FrdV9iYXRjaEZldGNoTWVzc2FnZXNcIn0saXJuOntwdWJsaXNoOlwiaXJuX3B1Ymxpc2hcIixiYXRjaFB1Ymxpc2g6XCJpcm5fYmF0Y2hQdWJsaXNoXCIsc3Vic2NyaWJlOlwiaXJuX3N1YnNjcmliZVwiLGJhdGNoU3Vic2NyaWJlOlwiaXJuX2JhdGNoU3Vic2NyaWJlXCIsc3Vic2NyaXB0aW9uOlwiaXJuX3N1YnNjcmlwdGlvblwiLHVuc3Vic2NyaWJlOlwiaXJuX3Vuc3Vic2NyaWJlXCIsYmF0Y2hVbnN1YnNjcmliZTpcImlybl9iYXRjaFVuc3Vic2NyaWJlXCIsYmF0Y2hGZXRjaE1lc3NhZ2VzOlwiaXJuX2JhdGNoRmV0Y2hNZXNzYWdlc1wifSxpcmlkaXVtOntwdWJsaXNoOlwiaXJpZGl1bV9wdWJsaXNoXCIsYmF0Y2hQdWJsaXNoOlwiaXJpZGl1bV9iYXRjaFB1Ymxpc2hcIixzdWJzY3JpYmU6XCJpcmlkaXVtX3N1YnNjcmliZVwiLGJhdGNoU3Vic2NyaWJlOlwiaXJpZGl1bV9iYXRjaFN1YnNjcmliZVwiLHN1YnNjcmlwdGlvbjpcImlyaWRpdW1fc3Vic2NyaXB0aW9uXCIsdW5zdWJzY3JpYmU6XCJpcmlkaXVtX3Vuc3Vic2NyaWJlXCIsYmF0Y2hVbnN1YnNjcmliZTpcImlyaWRpdW1fYmF0Y2hVbnN1YnNjcmliZVwiLGJhdGNoRmV0Y2hNZXNzYWdlczpcImlyaWRpdW1fYmF0Y2hGZXRjaE1lc3NhZ2VzXCJ9fTtleHBvcnR7QyBhcyBSRUxBWV9KU09OUlBDLGMgYXMgaXNQdWJsaXNoTWV0aG9kLGggYXMgaXNQdWJsaXNoUGFyYW1zLFAgYXMgaXNQdWJsaXNoUmVxdWVzdCxiIGFzIGlzU3Vic2NyaWJlTWV0aG9kLGEgYXMgaXNTdWJzY3JpYmVQYXJhbXMsUiBhcyBpc1N1YnNjcmliZVJlcXVlc3QsbSBhcyBpc1N1YnNjcmlwdGlvbk1ldGhvZCxkIGFzIGlzU3Vic2NyaXB0aW9uUGFyYW1zLFMgYXMgaXNTdWJzY3JpcHRpb25SZXF1ZXN0LG8gYXMgaXNVbnN1YnNjcmliZU1ldGhvZCxwIGFzIGlzVW5zdWJzY3JpYmVQYXJhbXMsXyBhcyBpc1Vuc3Vic2NyaWJlUmVxdWVzdCxxIGFzIHBhcnNlUHVibGlzaFJlcXVlc3QsZyBhcyBwYXJzZVN1YnNjcmliZVJlcXVlc3QsayBhcyBwYXJzZVN1YnNjcmlwdGlvblJlcXVlc3QsRSBhcyBwYXJzZVVuc3Vic2NyaWJlUmVxdWVzdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/relay-auth/dist/index.es.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DATA_ENCODING: () => (/* binding */ xt),\n/* harmony export */   DID_DELIMITER: () => (/* binding */ Vt),\n/* harmony export */   DID_METHOD: () => (/* binding */ Jt),\n/* harmony export */   DID_PREFIX: () => (/* binding */ Yt),\n/* harmony export */   JSON_ENCODING: () => (/* binding */ Gt),\n/* harmony export */   JWT_DELIMITER: () => (/* binding */ ut),\n/* harmony export */   JWT_ENCODING: () => (/* binding */ Dt),\n/* harmony export */   JWT_IRIDIUM_ALG: () => (/* binding */ jt),\n/* harmony export */   JWT_IRIDIUM_TYP: () => (/* binding */ Zt),\n/* harmony export */   KEY_PAIR_SEED_LENGTH: () => (/* binding */ Ne),\n/* harmony export */   MULTICODEC_ED25519_BASE: () => (/* binding */ Kt),\n/* harmony export */   MULTICODEC_ED25519_ENCODING: () => (/* binding */ dt),\n/* harmony export */   MULTICODEC_ED25519_HEADER: () => (/* binding */ Wt),\n/* harmony export */   MULTICODEC_ED25519_LENGTH: () => (/* binding */ Fe),\n/* harmony export */   decodeData: () => (/* binding */ Xo),\n/* harmony export */   decodeIss: () => (/* binding */ tn),\n/* harmony export */   decodeJSON: () => (/* binding */ lt),\n/* harmony export */   decodeJWT: () => (/* binding */ sn),\n/* harmony export */   decodeSig: () => (/* binding */ nn),\n/* harmony export */   encodeData: () => (/* binding */ rn),\n/* harmony export */   encodeIss: () => (/* binding */ Qe),\n/* harmony export */   encodeJSON: () => (/* binding */ bt),\n/* harmony export */   encodeJWT: () => (/* binding */ on),\n/* harmony export */   encodeSig: () => (/* binding */ en),\n/* harmony export */   generateKeyPair: () => (/* binding */ Po),\n/* harmony export */   signJWT: () => (/* binding */ Qo),\n/* harmony export */   verifyJWT: () => (/* binding */ ts)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nfunction En(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function fe(t,...e){if(!En(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function De(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function gn(t,e){fe(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const it=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function yn(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function de(t){return typeof t==\"string\"&&(t=yn(t)),fe(t),t}class xn{clone(){return this._cloneInto()}}function Bn(t){const e=r=>t().update(de(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function he(t=32){if(it&&typeof it.getRandomValues==\"function\")return it.getRandomValues(new Uint8Array(t));if(it&&typeof it.randomBytes==\"function\")return it.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}function Cn(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),a=Number(n>>o&s),u=Number(n&s),i=r?4:0,D=r?0:4;t.setUint32(e+i,a,r),t.setUint32(e+D,u,r)}class An extends xn{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_t(this.buffer)}update(e){De(this);const{view:n,buffer:r,blockLen:o}=this;e=de(e);const s=e.length;for(let a=0;a<s;){const u=Math.min(o-this.pos,s-a);if(u===o){const i=_t(e);for(;o<=s-a;a+=o)this.process(i,a);continue}r.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){De(this),gn(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let l=a;l<o;l++)n[l]=0;Cn(r,o-8,BigInt(this.length*8),s),this.process(r,0);const u=_t(e),i=this.outputLen;if(i%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const D=i/4,c=this.get();if(D>c.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let l=0;l<D;l++)u.setUint32(4*l,c[l],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=s,e.destroyed=a,o%n&&e.buffer.set(r),e}}const wt=BigInt(2**32-1),St=BigInt(32);function le(t,e=!1){return e?{h:Number(t&wt),l:Number(t>>St&wt)}:{h:Number(t>>St&wt)|0,l:Number(t&wt)|0}}function mn(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=le(t[o],e);[n[o],r[o]]=[s,a]}return[n,r]}const _n=(t,e)=>BigInt(t>>>0)<<St|BigInt(e>>>0),Sn=(t,e,n)=>t>>>n,vn=(t,e,n)=>t<<32-n|e>>>n,In=(t,e,n)=>t>>>n|e<<32-n,Un=(t,e,n)=>t<<32-n|e>>>n,Tn=(t,e,n)=>t<<64-n|e>>>n-32,Fn=(t,e,n)=>t>>>n-32|e<<64-n,Nn=(t,e)=>e,Ln=(t,e)=>t,On=(t,e,n)=>t<<n|e>>>32-n,Hn=(t,e,n)=>e<<n|t>>>32-n,zn=(t,e,n)=>e<<n-32|t>>>64-n,Mn=(t,e,n)=>t<<n-32|e>>>64-n;function qn(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const $n=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),kn=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Rn=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),jn=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Zn=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Gn=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,x={fromBig:le,split:mn,toBig:_n,shrSH:Sn,shrSL:vn,rotrSH:In,rotrSL:Un,rotrBH:Tn,rotrBL:Fn,rotr32H:Nn,rotr32L:Ln,rotlSH:On,rotlSL:Hn,rotlBH:zn,rotlBL:Mn,add:qn,add3L:$n,add3H:kn,add4L:Rn,add4H:jn,add5H:Gn,add5L:Zn},[Vn,Yn]=(()=>x.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(t=>BigInt(t))))(),P=new Uint32Array(80),Q=new Uint32Array(80);class Jn extends An{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:a,Dh:u,Dl:i,Eh:D,El:c,Fh:l,Fl:p,Gh:w,Gl:h,Hh:g,Hl:S}=this;return[e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S]}set(e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=u|0,this.Dl=i|0,this.Eh=D|0,this.El=c|0,this.Fh=l|0,this.Fl=p|0,this.Gh=w|0,this.Gl=h|0,this.Hh=g|0,this.Hl=S|0}process(e,n){for(let d=0;d<16;d++,n+=4)P[d]=e.getUint32(n),Q[d]=e.getUint32(n+=4);for(let d=16;d<80;d++){const m=P[d-15]|0,F=Q[d-15]|0,q=x.rotrSH(m,F,1)^x.rotrSH(m,F,8)^x.shrSH(m,F,7),z=x.rotrSL(m,F,1)^x.rotrSL(m,F,8)^x.shrSL(m,F,7),I=P[d-2]|0,O=Q[d-2]|0,ot=x.rotrSH(I,O,19)^x.rotrBH(I,O,61)^x.shrSH(I,O,6),tt=x.rotrSL(I,O,19)^x.rotrBL(I,O,61)^x.shrSL(I,O,6),st=x.add4L(z,tt,Q[d-7],Q[d-16]),at=x.add4H(st,q,ot,P[d-7],P[d-16]);P[d]=at|0,Q[d]=st|0}let{Ah:r,Al:o,Bh:s,Bl:a,Ch:u,Cl:i,Dh:D,Dl:c,Eh:l,El:p,Fh:w,Fl:h,Gh:g,Gl:S,Hh:v,Hl:L}=this;for(let d=0;d<80;d++){const m=x.rotrSH(l,p,14)^x.rotrSH(l,p,18)^x.rotrBH(l,p,41),F=x.rotrSL(l,p,14)^x.rotrSL(l,p,18)^x.rotrBL(l,p,41),q=l&w^~l&g,z=p&h^~p&S,I=x.add5L(L,F,z,Yn[d],Q[d]),O=x.add5H(I,v,m,q,Vn[d],P[d]),ot=I|0,tt=x.rotrSH(r,o,28)^x.rotrBH(r,o,34)^x.rotrBH(r,o,39),st=x.rotrSL(r,o,28)^x.rotrBL(r,o,34)^x.rotrBL(r,o,39),at=r&s^r&u^s&u,Ct=o&a^o&i^a&i;v=g|0,L=S|0,g=w|0,S=h|0,w=l|0,h=p|0,{h:l,l:p}=x.add(D|0,c|0,O|0,ot|0),D=u|0,c=i|0,u=s|0,i=a|0,s=r|0,a=o|0;const At=x.add3L(ot,st,Ct);r=x.add3H(At,O,tt,at),o=At|0}({h:r,l:o}=x.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:a}=x.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:u,l:i}=x.add(this.Ch|0,this.Cl|0,u|0,i|0),{h:D,l:c}=x.add(this.Dh|0,this.Dl|0,D|0,c|0),{h:l,l:p}=x.add(this.Eh|0,this.El|0,l|0,p|0),{h:w,l:h}=x.add(this.Fh|0,this.Fl|0,w|0,h|0),{h:g,l:S}=x.add(this.Gh|0,this.Gl|0,g|0,S|0),{h:v,l:L}=x.add(this.Hh|0,this.Hl|0,v|0,L|0),this.set(r,o,s,a,u,i,D,c,l,p,w,h,g,S,v,L)}roundClean(){P.fill(0),Q.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Kn=Bn(()=>new Jn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt=BigInt(0),be=BigInt(1),Wn=BigInt(2);function It(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Ut(t){if(!It(t))throw new Error(\"Uint8Array expected\")}function Tt(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const Xn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Ft(t){Ut(t);let e=\"\";for(let n=0;n<t.length;n++)e+=Xn[t[n]];return e}function pe(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?vt:BigInt(\"0x\"+t)}const K={_0:48,_9:57,A:65,F:70,a:97,f:102};function we(t){if(t>=K._0&&t<=K._9)return t-K._0;if(t>=K.A&&t<=K.F)return t-(K.A-10);if(t>=K.a&&t<=K.f)return t-(K.a-10)}function Ee(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const a=we(t.charCodeAt(s)),u=we(t.charCodeAt(s+1));if(a===void 0||u===void 0){const i=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+i+'\" at index '+s)}r[o]=a*16+u}return r}function Pn(t){return pe(Ft(t))}function Et(t){return Ut(t),pe(Ft(Uint8Array.from(t).reverse()))}function ge(t,e){return Ee(t.toString(16).padStart(e*2,\"0\"))}function Nt(t,e){return ge(t,e).reverse()}function W(t,e,n){let r;if(typeof e==\"string\")try{r=Ee(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(It(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}function ye(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Ut(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}const Lt=t=>typeof t==\"bigint\"&&vt<=t;function Qn(t,e,n){return Lt(t)&&Lt(e)&&Lt(n)&&e<=t&&t<n}function ft(t,e,n,r){if(!Qn(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function tr(t){let e;for(e=0;t>vt;t>>=be,e+=1);return e}const er=t=>(Wn<<BigInt(t-1))-be,nr={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||It(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function Ot(t,e,n={}){const r=(o,s,a)=>{const u=nr[s];if(typeof u!=\"function\")throw new Error(\"invalid validator function\");const i=t[o];if(!(a&&i===void 0)&&!u(i,t))throw new Error(\"param \"+String(o)+\" is invalid. Expected \"+s+\", got \"+i)};for(const[o,s]of Object.entries(e))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return t}function xe(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const M=BigInt(0),N=BigInt(1),nt=BigInt(2),rr=BigInt(3),Ht=BigInt(4),Be=BigInt(5),Ce=BigInt(8);function H(t,e){const n=t%e;return n>=M?n:e+n}function or(t,e,n){if(e<M)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=M)throw new Error(\"invalid modulus\");if(n===N)return M;let r=N;for(;e>M;)e&N&&(r=r*t%n),t=t*t%n,e>>=N;return r}function J(t,e,n){let r=t;for(;e-- >M;)r*=r,r%=n;return r}function Ae(t,e){if(t===M)throw new Error(\"invert: expected non-zero number\");if(e<=M)throw new Error(\"invert: expected positive modulus, got \"+e);let n=H(t,e),r=e,o=M,s=N;for(;n!==M;){const u=r/n,i=r%n,D=o-s*u;r=n,n=i,o=s,s=D}if(r!==N)throw new Error(\"invert: does not exist\");return H(o,e)}function sr(t){const e=(t-N)/nt;let n,r,o;for(n=t-N,r=0;n%nt===M;n/=nt,r++);for(o=nt;o<t&&or(o,e,t)!==t-N;o++)if(o>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const a=(t+N)/Ht;return function(i,D){const c=i.pow(D,a);if(!i.eql(i.sqr(c),D))throw new Error(\"Cannot find square root\");return c}}const s=(n+N)/nt;return function(u,i){if(u.pow(i,e)===u.neg(u.ONE))throw new Error(\"Cannot find square root\");let D=r,c=u.pow(u.mul(u.ONE,o),n),l=u.pow(i,s),p=u.pow(i,n);for(;!u.eql(p,u.ONE);){if(u.eql(p,u.ZERO))return u.ZERO;let w=1;for(let g=u.sqr(p);w<D&&!u.eql(g,u.ONE);w++)g=u.sqr(g);const h=u.pow(c,N<<BigInt(D-w-1));c=u.sqr(h),l=u.mul(l,h),p=u.mul(p,c),D=w}return l}}function ir(t){if(t%Ht===rr){const e=(t+N)/Ht;return function(r,o){const s=r.pow(o,e);if(!r.eql(r.sqr(s),o))throw new Error(\"Cannot find square root\");return s}}if(t%Ce===Be){const e=(t-Be)/Ce;return function(r,o){const s=r.mul(o,nt),a=r.pow(s,e),u=r.mul(o,a),i=r.mul(r.mul(u,nt),a),D=r.mul(u,r.sub(i,r.ONE));if(!r.eql(r.sqr(D),o))throw new Error(\"Cannot find square root\");return D}}return sr(t)}const ur=(t,e)=>(H(t,e)&N)===N,cr=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function ar(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=cr.reduce((r,o)=>(r[o]=\"function\",r),e);return Ot(t,n)}function fr(t,e,n){if(n<M)throw new Error(\"invalid exponent, negatives unsupported\");if(n===M)return t.ONE;if(n===N)return e;let r=t.ONE,o=e;for(;n>M;)n&N&&(r=t.mul(r,o)),o=t.sqr(o),n>>=N;return r}function Dr(t,e){const n=new Array(e.length),r=e.reduce((s,a,u)=>t.is0(a)?s:(n[u]=s,t.mul(s,a)),t.ONE),o=t.inv(r);return e.reduceRight((s,a,u)=>t.is0(a)?s:(n[u]=t.mul(s,n[u]),t.mul(s,a)),o),n}function me(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _e(t,e,n=!1,r={}){if(t<=M)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:o,nByteLength:s}=me(t,e);if(s>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let a;const u=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:s,MASK:er(o),ZERO:M,ONE:N,create:i=>H(i,t),isValid:i=>{if(typeof i!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof i);return M<=i&&i<t},is0:i=>i===M,isOdd:i=>(i&N)===N,neg:i=>H(-i,t),eql:(i,D)=>i===D,sqr:i=>H(i*i,t),add:(i,D)=>H(i+D,t),sub:(i,D)=>H(i-D,t),mul:(i,D)=>H(i*D,t),pow:(i,D)=>fr(u,i,D),div:(i,D)=>H(i*Ae(D,t),t),sqrN:i=>i*i,addN:(i,D)=>i+D,subN:(i,D)=>i-D,mulN:(i,D)=>i*D,inv:i=>Ae(i,t),sqrt:r.sqrt||(i=>(a||(a=ir(t)),a(u,i))),invertBatch:i=>Dr(u,i),cmov:(i,D,c)=>c?D:i,toBytes:i=>n?Nt(i,s):ge(i,s),fromBytes:i=>{if(i.length!==s)throw new Error(\"Field.fromBytes: expected \"+s+\" bytes, got \"+i.length);return n?Et(i):Pn(i)}});return Object.freeze(u)}const Se=BigInt(0),gt=BigInt(1);function zt(t,e){const n=e.negate();return t?n:e}function ve(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function Mt(t,e){ve(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function dr(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function hr(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const qt=new WeakMap,Ie=new WeakMap;function $t(t){return Ie.get(t)||1}function lr(t,e){return{constTimeNegate:zt,hasPrecomputes(n){return $t(n)!==1},unsafeLadder(n,r,o=t.ZERO){let s=n;for(;r>Se;)r&gt&&(o=o.add(s)),s=s.double(),r>>=gt;return o},precomputeWindow(n,r){const{windows:o,windowSize:s}=Mt(r,e),a=[];let u=n,i=u;for(let D=0;D<o;D++){i=u,a.push(i);for(let c=1;c<s;c++)i=i.add(u),a.push(i);u=i.double()}return a},wNAF(n,r,o){const{windows:s,windowSize:a}=Mt(n,e);let u=t.ZERO,i=t.BASE;const D=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let p=0;p<s;p++){const w=p*a;let h=Number(o&D);o>>=l,h>a&&(h-=c,o+=gt);const g=w,S=w+Math.abs(h)-1,v=p%2!==0,L=h<0;h===0?i=i.add(zt(v,r[g])):u=u.add(zt(L,r[S]))}return{p:u,f:i}},wNAFUnsafe(n,r,o,s=t.ZERO){const{windows:a,windowSize:u}=Mt(n,e),i=BigInt(2**n-1),D=2**n,c=BigInt(n);for(let l=0;l<a;l++){const p=l*u;if(o===Se)break;let w=Number(o&i);if(o>>=c,w>u&&(w-=D,o+=gt),w===0)continue;let h=r[p+Math.abs(w)-1];w<0&&(h=h.negate()),s=s.add(h)}return s},getPrecomputes(n,r,o){let s=qt.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&qt.set(r,o(s))),s},wNAFCached(n,r,o){const s=$t(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){const a=$t(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,o),r,s)},setWindowSize(n,r){ve(r,e),Ie.set(n,r),qt.delete(n)}}}function br(t,e,n,r){if(dr(n,t),hr(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const o=t.ZERO,s=tr(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,u=(1<<a)-1,i=new Array(u+1).fill(o),D=Math.floor((e.BITS-1)/a)*a;let c=o;for(let l=D;l>=0;l-=a){i.fill(o);for(let w=0;w<r.length;w++){const h=r[w],g=Number(h>>BigInt(l)&BigInt(u));i[g]=i[g].add(n[w])}let p=o;for(let w=i.length-1,h=o;w>0;w--)h=h.add(i[w]),p=p.add(h);if(c=c.add(p),l!==0)for(let w=0;w<a;w++)c=c.double()}return c}function pr(t){return ar(t.Fp),Ot(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...me(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const G=BigInt(0),j=BigInt(1),yt=BigInt(2),wr=BigInt(8),Er={zip215:!0};function gr(t){const e=pr(t);return Ot(t,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...e})}function yr(t){const e=gr(t),{Fp:n,n:r,prehash:o,hash:s,randomBytes:a,nByteLength:u,h:i}=e,D=yt<<BigInt(u*8)-j,c=n.create,l=_e(e.n,e.nBitLength),p=e.uvRatio||((y,f)=>{try{return{isValid:!0,value:n.sqrt(y*n.inv(f))}}catch{return{isValid:!1,value:G}}}),w=e.adjustScalarBytes||(y=>y),h=e.domain||((y,f,b)=>{if(Tt(\"phflag\",b),f.length||b)throw new Error(\"Contexts/pre-hash are not supported\");return y});function g(y,f){ft(\"coordinate \"+y,f,G,D)}function S(y){if(!(y instanceof d))throw new Error(\"ExtendedPoint expected\")}const v=xe((y,f)=>{const{ex:b,ey:E,ez:B}=y,C=y.is0();f==null&&(f=C?wr:n.inv(B));const A=c(b*f),U=c(E*f),_=c(B*f);if(C)return{x:G,y:j};if(_!==j)throw new Error(\"invZ was invalid\");return{x:A,y:U}}),L=xe(y=>{const{a:f,d:b}=e;if(y.is0())throw new Error(\"bad point: ZERO\");const{ex:E,ey:B,ez:C,et:A}=y,U=c(E*E),_=c(B*B),T=c(C*C),$=c(T*T),R=c(U*f),V=c(T*c(R+_)),Y=c($+c(b*c(U*_)));if(V!==Y)throw new Error(\"bad point: equation left != right (1)\");const Z=c(E*B),X=c(C*A);if(Z!==X)throw new Error(\"bad point: equation left != right (2)\");return!0});class d{constructor(f,b,E,B){this.ex=f,this.ey=b,this.ez=E,this.et=B,g(\"x\",f),g(\"y\",b),g(\"z\",E),g(\"t\",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(f){if(f instanceof d)throw new Error(\"extended point not allowed\");const{x:b,y:E}=f||{};return g(\"x\",b),g(\"y\",E),new d(b,E,j,c(b*E))}static normalizeZ(f){const b=n.invertBatch(f.map(E=>E.ez));return f.map((E,B)=>E.toAffine(b[B])).map(d.fromAffine)}static msm(f,b){return br(d,l,f,b)}_setWindowSize(f){q.setWindowSize(this,f)}assertValidity(){L(this)}equals(f){S(f);const{ex:b,ey:E,ez:B}=this,{ex:C,ey:A,ez:U}=f,_=c(b*U),T=c(C*B),$=c(E*U),R=c(A*B);return _===T&&$===R}is0(){return this.equals(d.ZERO)}negate(){return new d(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:f}=e,{ex:b,ey:E,ez:B}=this,C=c(b*b),A=c(E*E),U=c(yt*c(B*B)),_=c(f*C),T=b+E,$=c(c(T*T)-C-A),R=_+A,V=R-U,Y=_-A,Z=c($*V),X=c(R*Y),et=c($*Y),pt=c(V*R);return new d(Z,X,pt,et)}add(f){S(f);const{a:b,d:E}=e,{ex:B,ey:C,ez:A,et:U}=this,{ex:_,ey:T,ez:$,et:R}=f;if(b===BigInt(-1)){const re=c((C-B)*(T+_)),oe=c((C+B)*(T-_)),mt=c(oe-re);if(mt===G)return this.double();const se=c(A*yt*R),ie=c(U*yt*$),ue=ie+se,ce=oe+re,ae=ie-se,Dn=c(ue*mt),dn=c(ce*ae),hn=c(ue*ae),ln=c(mt*ce);return new d(Dn,dn,ln,hn)}const V=c(B*_),Y=c(C*T),Z=c(U*E*R),X=c(A*$),et=c((B+C)*(_+T)-V-Y),pt=X-Z,ee=X+Z,ne=c(Y-b*V),un=c(et*pt),cn=c(ee*ne),an=c(et*ne),fn=c(pt*ee);return new d(un,cn,fn,an)}subtract(f){return this.add(f.negate())}wNAF(f){return q.wNAFCached(this,f,d.normalizeZ)}multiply(f){const b=f;ft(\"scalar\",b,j,r);const{p:E,f:B}=this.wNAF(b);return d.normalizeZ([E,B])[0]}multiplyUnsafe(f,b=d.ZERO){const E=f;return ft(\"scalar\",E,G,r),E===G?F:this.is0()||E===j?this:q.wNAFCachedUnsafe(this,E,d.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return q.unsafeLadder(this,r).is0()}toAffine(f){return v(this,f)}clearCofactor(){const{h:f}=e;return f===j?this:this.multiplyUnsafe(f)}static fromHex(f,b=!1){const{d:E,a:B}=e,C=n.BYTES;f=W(\"pointHex\",f,C),Tt(\"zip215\",b);const A=f.slice(),U=f[C-1];A[C-1]=U&-129;const _=Et(A),T=b?D:n.ORDER;ft(\"pointHex.y\",_,G,T);const $=c(_*_),R=c($-j),V=c(E*$-B);let{isValid:Y,value:Z}=p(R,V);if(!Y)throw new Error(\"Point.fromHex: invalid y coordinate\");const X=(Z&j)===j,et=(U&128)!==0;if(!b&&Z===G&&et)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return et!==X&&(Z=c(-Z)),d.fromAffine({x:Z,y:_})}static fromPrivateKey(f){return O(f).point}toRawBytes(){const{x:f,y:b}=this.toAffine(),E=Nt(b,n.BYTES);return E[E.length-1]|=f&j?128:0,E}toHex(){return Ft(this.toRawBytes())}}d.BASE=new d(e.Gx,e.Gy,j,c(e.Gx*e.Gy)),d.ZERO=new d(G,j,j,G);const{BASE:m,ZERO:F}=d,q=lr(d,u*8);function z(y){return H(y,r)}function I(y){return z(Et(y))}function O(y){const f=n.BYTES;y=W(\"private key\",y,f);const b=W(\"hashed private key\",s(y),2*f),E=w(b.slice(0,f)),B=b.slice(f,2*f),C=I(E),A=m.multiply(C),U=A.toRawBytes();return{head:E,prefix:B,scalar:C,point:A,pointBytes:U}}function ot(y){return O(y).pointBytes}function tt(y=new Uint8Array,...f){const b=ye(...f);return I(s(h(b,W(\"context\",y),!!o)))}function st(y,f,b={}){y=W(\"message\",y),o&&(y=o(y));const{prefix:E,scalar:B,pointBytes:C}=O(f),A=tt(b.context,E,y),U=m.multiply(A).toRawBytes(),_=tt(b.context,U,C,y),T=z(A+_*B);ft(\"signature.s\",T,G,r);const $=ye(U,Nt(T,n.BYTES));return W(\"result\",$,n.BYTES*2)}const at=Er;function Ct(y,f,b,E=at){const{context:B,zip215:C}=E,A=n.BYTES;y=W(\"signature\",y,2*A),f=W(\"message\",f),b=W(\"publicKey\",b,A),C!==void 0&&Tt(\"zip215\",C),o&&(f=o(f));const U=Et(y.slice(A,2*A));let _,T,$;try{_=d.fromHex(b,C),T=d.fromHex(y.slice(0,A),C),$=m.multiplyUnsafe(U)}catch{return!1}if(!C&&_.isSmallOrder())return!1;const R=tt(B,T.toRawBytes(),_.toRawBytes(),f);return T.add(_.multiplyUnsafe(R)).subtract($).clearCofactor().equals(d.ZERO)}return m._setWindowSize(8),{CURVE:e,getPublicKey:ot,sign:st,verify:Ct,ExtendedPoint:d,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>a(n.BYTES),precompute(y=8,f=d.BASE){return f._setWindowSize(y),f.multiply(BigInt(3)),f}}}}BigInt(0),BigInt(1);const kt=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),Ue=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\");BigInt(0);const xr=BigInt(1),Te=BigInt(2);BigInt(3);const Br=BigInt(5),Cr=BigInt(8);function Ar(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=kt,u=t*t%s*t%s,i=J(u,Te,s)*u%s,D=J(i,xr,s)*t%s,c=J(D,Br,s)*D%s,l=J(c,e,s)*c%s,p=J(l,n,s)*l%s,w=J(p,r,s)*p%s,h=J(w,o,s)*w%s,g=J(h,o,s)*w%s,S=J(g,e,s)*c%s;return{pow_p_5_8:J(S,Te,s)*t%s,b2:u}}function mr(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function _r(t,e){const n=kt,r=H(e*e*e,n),o=H(r*r*e,n),s=Ar(t*o).pow_p_5_8;let a=H(t*r*s,n);const u=H(e*a*a,n),i=a,D=H(a*Ue,n),c=u===t,l=u===H(-t,n),p=u===H(-t*Ue,n);return c&&(a=i),(l||p)&&(a=D),ur(a,n)&&(a=H(-a,n)),{isValid:c||l,value:a}}const Sr=(()=>_e(kt,void 0,!0))(),vr=(()=>({a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:Sr,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:Cr,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:Kn,randomBytes:he,adjustScalarBytes:mr,uvRatio:_r}))(),Rt=(()=>yr(vr))(),jt=\"EdDSA\",Zt=\"JWT\",ut=\".\",Dt=\"base64url\",Gt=\"utf8\",xt=\"utf8\",Vt=\":\",Yt=\"did\",Jt=\"key\",dt=\"base58btc\",Kt=\"z\",Wt=\"K36\",Fe=32,Ne=32;function Xt(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Le(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Oe(t,e){e||(e=t.reduce((o,s)=>o+s.length,0));const n=Le(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return Xt(n)}function Ir(t,e){if(t.length>=255)throw new TypeError(\"Alphabet too long\");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+\" is ambiguous\");n[a]=o}var u=t.length,i=t.charAt(0),D=Math.log(u)/Math.log(256),c=Math.log(256)/Math.log(u);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(h.length===0)return\"\";for(var g=0,S=0,v=0,L=h.length;v!==L&&h[v]===0;)v++,g++;for(var d=(L-v)*c+1>>>0,m=new Uint8Array(d);v!==L;){for(var F=h[v],q=0,z=d-1;(F!==0||q<S)&&z!==-1;z--,q++)F+=256*m[z]>>>0,m[z]=F%u>>>0,F=F/u>>>0;if(F!==0)throw new Error(\"Non-zero carry\");S=q,v++}for(var I=d-S;I!==d&&m[I]===0;)I++;for(var O=i.repeat(g);I<d;++I)O+=t.charAt(m[I]);return O}function p(h){if(typeof h!=\"string\")throw new TypeError(\"Expected String\");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==\" \"){for(var S=0,v=0;h[g]===i;)S++,g++;for(var L=(h.length-g)*D+1>>>0,d=new Uint8Array(L);h[g];){var m=n[h.charCodeAt(g)];if(m===255)return;for(var F=0,q=L-1;(m!==0||F<v)&&q!==-1;q--,F++)m+=u*d[q]>>>0,d[q]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error(\"Non-zero carry\");v=F,g++}if(h[g]!==\" \"){for(var z=L-v;z!==L&&d[z]===0;)z++;for(var I=new Uint8Array(S+(L-z)),O=S;z!==L;)I[O++]=d[z++];return I}}}function w(h){var g=p(h);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:p,decode:w}}var Ur=Ir,Tr=Ur;const He=t=>{if(t instanceof Uint8Array&&t.constructor.name===\"Uint8Array\")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error(\"Unknown type, must be binary type\")},Fr=t=>new TextEncoder().encode(t),Nr=t=>new TextDecoder().decode(t);class Lr{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class Or{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ze(this,e)}}class Hr{constructor(e){this.decoders=e}or(e){return ze(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ze=(t,e)=>new Hr({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class zr{constructor(e,n,r,o){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=o,this.encoder=new Lr(e,n,r),this.decoder=new Or(e,n,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bt=({name:t,prefix:e,encode:n,decode:r})=>new zr(t,e,n,r),ht=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:o}=Tr(n,e);return Bt({prefix:t,name:e,encode:r,decode:s=>He(o(s))})},Mr=(t,e,n,r)=>{const o={};for(let c=0;c<e.length;++c)o[e[c]]=c;let s=t.length;for(;t[s-1]===\"=\";)--s;const a=new Uint8Array(s*n/8|0);let u=0,i=0,D=0;for(let c=0;c<s;++c){const l=o[t[c]];if(l===void 0)throw new SyntaxError(`Non-${r} character`);i=i<<n|l,u+=n,u>=8&&(u-=8,a[D++]=255&i>>u)}if(u>=n||255&i<<8-u)throw new SyntaxError(\"Unexpected end of data\");return a},qr=(t,e,n)=>{const r=e[e.length-1]===\"=\",o=(1<<n)-1;let s=\"\",a=0,u=0;for(let i=0;i<t.length;++i)for(u=u<<8|t[i],a+=8;a>n;)a-=n,s+=e[o&u>>a];if(a&&(s+=e[o&u<<n-a]),r)for(;s.length*n&7;)s+=\"=\";return s},k=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Bt({prefix:e,name:t,encode(o){return qr(o,r,n)},decode(o){return Mr(o,r,n,t)}}),$r=Bt({prefix:\"\\0\",name:\"identity\",encode:t=>Nr(t),decode:t=>Fr(t)});var kr=Object.freeze({__proto__:null,identity:$r});const Rr=k({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var jr=Object.freeze({__proto__:null,base2:Rr});const Zr=k({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Gr=Object.freeze({__proto__:null,base8:Zr});const Vr=ht({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var Yr=Object.freeze({__proto__:null,base10:Vr});const Jr=k({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Kr=k({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Wr=Object.freeze({__proto__:null,base16:Jr,base16upper:Kr});const Xr=k({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Pr=k({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),Qr=k({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),to=k({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),eo=k({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),no=k({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),ro=k({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),oo=k({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),so=k({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var io=Object.freeze({__proto__:null,base32:Xr,base32upper:Pr,base32pad:Qr,base32padupper:to,base32hex:eo,base32hexupper:no,base32hexpad:ro,base32hexpadupper:oo,base32z:so});const uo=ht({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),co=ht({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var ao=Object.freeze({__proto__:null,base36:uo,base36upper:co});const fo=ht({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Do=ht({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var ho=Object.freeze({__proto__:null,base58btc:fo,base58flickr:Do});const lo=k({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),bo=k({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),po=k({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),wo=k({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var Eo=Object.freeze({__proto__:null,base64:lo,base64pad:bo,base64url:po,base64urlpad:wo});const Me=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),go=Me.reduce((t,e,n)=>(t[n]=e,t),[]),yo=Me.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xo(t){return t.reduce((e,n)=>(e+=go[n],e),\"\")}function Bo(t){const e=[];for(const n of t){const r=yo[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Co=Bt({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:xo,decode:Bo});var Ao=Object.freeze({__proto__:null,base256emoji:Co}),mo=$e,qe=128,_o=127,So=~_o,vo=Math.pow(2,31);function $e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vo;)e[n++]=t&255|qe,t/=128;for(;t&So;)e[n++]=t&255|qe,t>>>=7;return e[n]=t|0,$e.bytes=n-r+1,e}var Io=Pt,Uo=128,ke=127;function Pt(t,r){var n=0,r=r||0,o=0,s=r,a,u=t.length;do{if(s>=u)throw Pt.bytes=0,new RangeError(\"Could not decode varint\");a=t[s++],n+=o<28?(a&ke)<<o:(a&ke)*Math.pow(2,o),o+=7}while(a>=Uo);return Pt.bytes=s-r,n}var To=Math.pow(2,7),Fo=Math.pow(2,14),No=Math.pow(2,21),Lo=Math.pow(2,28),Oo=Math.pow(2,35),Ho=Math.pow(2,42),zo=Math.pow(2,49),Mo=Math.pow(2,56),qo=Math.pow(2,63),$o=function(t){return t<To?1:t<Fo?2:t<No?3:t<Lo?4:t<Oo?5:t<Ho?6:t<zo?7:t<Mo?8:t<qo?9:10},ko={encode:mo,decode:Io,encodingLength:$o},Re=ko;const je=(t,e,n=0)=>(Re.encode(t,e,n),e),Ze=t=>Re.encodingLength(t),Qt=(t,e)=>{const n=e.byteLength,r=Ze(t),o=r+Ze(n),s=new Uint8Array(o+n);return je(t,s,0),je(n,s,r),s.set(e,o),new Ro(t,n,e,s)};class Ro{constructor(e,n,r,o){this.code=e,this.size=n,this.digest=r,this.bytes=o}}const Ge=({name:t,code:e,encode:n})=>new jo(t,e,n);class jo{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Qt(this.code,n):n.then(r=>Qt(this.code,r))}else throw Error(\"Unknown type, must be binary type\")}}const Ve=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Zo=Ge({name:\"sha2-256\",code:18,encode:Ve(\"SHA-256\")}),Go=Ge({name:\"sha2-512\",code:19,encode:Ve(\"SHA-512\")});var Vo=Object.freeze({__proto__:null,sha256:Zo,sha512:Go});const Ye=0,Yo=\"identity\",Je=He,Jo=t=>Qt(Ye,Je(t)),Ko={code:Ye,name:Yo,encode:Je,digest:Jo};var Wo=Object.freeze({__proto__:null,identity:Ko});new TextEncoder,new TextDecoder;const Ke={...kr,...jr,...Gr,...Yr,...Wr,...io,...ao,...ho,...Eo,...Ao};({...Vo,...Wo});function We(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Xe=We(\"utf8\",\"u\",t=>\"u\"+new TextDecoder(\"utf8\").decode(t),t=>new TextEncoder().encode(t.substring(1))),te=We(\"ascii\",\"a\",t=>{let e=\"a\";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Le(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Pe={utf8:Xe,\"utf-8\":Xe,hex:Ke.base16,latin1:te,ascii:te,binary:te,...Ke};function ct(t,e=\"utf8\"){const n=Pe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString(\"utf8\"):n.encoder.encode(t).substring(1)}function rt(t,e=\"utf8\"){const n=Pe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt(globalThis.Buffer.from(t,\"utf-8\")):n.decoder.decode(`${n.prefix}${t}`)}function lt(t){return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonParse)(ct(rt(t,Dt),Gt))}function bt(t){return ct(rt((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(t),Gt),Dt)}function Qe(t){const e=rt(Wt,dt),n=Kt+ct(Oe([e,t]),dt);return[Yt,Jt,n].join(Vt)}function tn(t){const[e,n,r]=t.split(Vt);if(e!==Yt||n!==Jt)throw new Error('Issuer must be a DID with method \"key\"');if(r.slice(0,1)!==Kt)throw new Error(\"Issuer must be a key in mulicodec format\");const o=rt(r.slice(1),dt);if(ct(o.slice(0,2),dt)!==Wt)throw new Error('Issuer must be a public key with type \"Ed25519\"');const s=o.slice(2);if(s.length!==Fe)throw new Error(\"Issuer must be a public key with length 32 bytes\");return s}function en(t){return ct(t,Dt)}function nn(t){return rt(t,Dt)}function rn(t){return rt([bt(t.header),bt(t.payload)].join(ut),xt)}function Xo(t){const e=ct(t,xt).split(ut),n=lt(e[0]),r=lt(e[1]);return{header:n,payload:r}}function on(t){return[bt(t.header),bt(t.payload),en(t.signature)].join(ut)}function sn(t){const e=t.split(ut),n=lt(e[0]),r=lt(e[1]),o=nn(e[2]),s=rt(e.slice(0,2).join(ut),xt);return{header:n,payload:r,signature:o,data:s}}function Po(t=he(Ne)){const e=Rt.getPublicKey(t);return{secretKey:Oe([t,e]),publicKey:e}}async function Qo(t,e,n,r,o=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)(Date.now())){const s={alg:jt,typ:Zt},a=Qe(r.publicKey),u=o+n,i={iss:a,sub:t,aud:e,iat:o,exp:u},D=rn({header:s,payload:i}),c=Rt.sign(D,r.secretKey.slice(0,32));return on({header:s,payload:i,signature:c})}async function ts(t){const{header:e,payload:n,data:r,signature:o}=sn(t);if(e.alg!==jt||e.typ!==Zt)throw new Error(\"JWT must use EdDSA algorithm\");const s=tn(n.iss);return Rt.verify(o,r,s)}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5SSxlQUFlLHlGQUF5RixvQkFBb0IsaURBQWlELGtIQUFrSCxvQkFBb0IsbUVBQW1FLDBFQUEwRSxpQkFBaUIsTUFBTSxvQkFBb0IsMEZBQTBGLHFGQUFxRixtSUFBbUksZUFBZSxvRkFBb0YsbURBQW1ELGVBQWUsNkNBQTZDLFNBQVMsUUFBUSwwQkFBMEIsZUFBZSw0Q0FBNEMsd0VBQXdFLGtCQUFrQiwwRkFBMEYsa0VBQWtFLDBEQUEwRCxxQkFBcUIsa0VBQWtFLHVGQUF1RiwwQ0FBMEMsb0JBQW9CLHFCQUFxQiwwTEFBMEwsVUFBVSxTQUFTLE1BQU0sMkJBQTJCLE1BQU0sUUFBUSxpQkFBaUIsWUFBWSxJQUFJLEVBQUUsaUNBQWlDLFVBQVUsY0FBYyxLQUFLLE9BQU8sdUJBQXVCLFNBQVMsZ0dBQWdHLG9EQUFvRCxjQUFjLHFDQUFxQyxNQUFNLGtDQUFrQyxNQUFNLElBQUksTUFBTSxNQUFNLHVGQUF1RixZQUFZLElBQUksV0FBVyxvREFBb0QsK0JBQStCLHNFQUFzRSx5QkFBeUIsb0VBQW9FLFlBQVksSUFBSSw0QkFBNEIsU0FBUyxNQUFNLHFCQUFxQixNQUFNLG1CQUFtQixxQkFBcUIsd0JBQXdCLGNBQWMsaURBQWlELE1BQU0sMERBQTBELE1BQU0sNkVBQTZFLHVDQUF1QyxvQkFBb0IsVUFBVSxrQ0FBa0MsRUFBRSx1Q0FBdUMsb0JBQW9CLDREQUE0RCxZQUFZLFdBQVcsS0FBSyxNQUFNLFFBQVEsWUFBWSxrQkFBa0IsWUFBWSxnVkFBZ1YscUJBQXFCLHdCQUF3QixPQUFPLDJCQUEyQixxUUFBcVEsa05BQWtOLDB1REFBMHVELG9CQUFvQixjQUFjLG9VQUFvVSxNQUFNLE1BQU0sZ0ZBQWdGLE1BQU0sd0NBQXdDLHFDQUFxQyxnTUFBZ00sYUFBYSxZQUFZLEtBQUssb0RBQW9ELGFBQWEsS0FBSyxLQUFLLGlVQUFpVSxvQkFBb0IsSUFBSSxnRkFBZ0YsTUFBTSxZQUFZLEtBQUssS0FBSyxpVkFBaVYscUNBQXFDLFFBQVEsNkRBQTZELDJCQUEyQiw2QkFBNkIsRUFBRSxRQUFRLHNDQUFzQyxRQUFRLHFDQUFxQyxRQUFRLHFDQUFxQyxRQUFRLHFDQUFxQyxRQUFRLHFDQUFxQyxRQUFRLHFDQUFxQyxRQUFRLHFDQUFxQyxRQUFRLDhFQUE4RSxhQUFhLG9CQUFvQixVQUFVLCtEQUErRCx3QkFBd0IsbUhBQW1ILGVBQWUseUZBQXlGLGVBQWUsaURBQWlELGlCQUFpQixzRUFBc0UscUJBQXFCLFdBQVcsd0NBQXdDLGVBQWUsTUFBTSxTQUFTLFlBQVksV0FBVyxnQkFBZ0IsU0FBUyxlQUFlLDRFQUE0RSxnQ0FBZ0MsU0FBUyxrQ0FBa0MsZUFBZSxrQ0FBa0Msb0NBQW9DLG9DQUFvQyxlQUFlLDRFQUE0RSx1QkFBdUIsNkVBQTZFLDBCQUEwQixnQkFBZ0IsSUFBSSxVQUFVLG9EQUFvRCwyQkFBMkIsb0JBQW9CLGtGQUFrRixZQUFZLFNBQVMsZUFBZSxpQkFBaUIsZUFBZSxrREFBa0QsaUJBQWlCLDRDQUE0QyxpQkFBaUIseUJBQXlCLGtCQUFrQixNQUFNLDBCQUEwQixRQUFRLFNBQVMsa0VBQWtFLG1DQUFtQyw0REFBNEQsaUJBQWlCLG9GQUFvRixTQUFTLGtCQUFrQixRQUFRLFlBQVksV0FBVyxLQUFLLGFBQWEsa0JBQWtCLDBCQUEwQixnQkFBZ0IsV0FBVyxLQUFLLGFBQWEsdUJBQXVCLFNBQVMsc0NBQXNDLG1CQUFtQixzQ0FBc0MscUJBQXFCLGtGQUFrRixlQUFlLE1BQU0sUUFBUSxLQUFLLGFBQWEsU0FBUyxxQ0FBcUMsMlVBQTJVLG9CQUFvQixFQUFFLGtCQUFrQixjQUFjLHNFQUFzRSxhQUFhLHdHQUF3Ryw2Q0FBNkMsNkNBQTZDLFNBQVMsZUFBZSxvQkFBb0IsaUJBQWlCLGlCQUFpQix1QkFBdUIsa0JBQWtCLHFCQUFxQiwrRkFBK0YsZ0JBQWdCLFlBQVksa0JBQWtCLG1CQUFtQixrRUFBa0UsMkNBQTJDLGtCQUFrQixRQUFRLEtBQUssSUFBSSw4QkFBOEIsU0FBUyxrQkFBa0IsUUFBUSxLQUFLLE9BQU8sV0FBVyxTQUFTLGlCQUFpQiw2REFBNkQscUVBQXFFLHlCQUF5QixLQUFLLE1BQU0sRUFBRSwwQkFBMEIsZ0JBQWdCLG1EQUFtRCxjQUFjLGVBQWUsaUJBQWlCLFVBQVUsY0FBYyxTQUFTLFdBQVcsU0FBUyxxQkFBcUIsNEVBQTRFLFVBQVUsaUJBQWlCLHFCQUFxQixtQkFBbUIsaUVBQWlFLFVBQVUsaUJBQWlCLHFCQUFxQix3RUFBd0UsNERBQTRELEtBQUssZ0JBQWdCLEVBQUUsaUNBQWlDLFFBQVEsbUJBQW1CLHFCQUFxQixlQUFlLGtDQUFrQyx5Q0FBeUMsVUFBVSxlQUFlLGNBQWMsaUJBQWlCLHFCQUFxQixtQkFBbUIsaUVBQWlFLFVBQVUsY0FBYyxrQkFBa0IscUJBQXFCLCtGQUErRixpRUFBaUUsVUFBVSxhQUFhLHNKQUFzSixlQUFlLFNBQVMsd0VBQXdFLDJDQUEyQyxlQUFlLG1CQUFtQixrRUFBa0Usc0JBQXNCLGtCQUFrQixnQkFBZ0IsS0FBSyxJQUFJLHNDQUFzQyxTQUFTLGlCQUFpQixpR0FBaUcsOEVBQThFLGlCQUFpQiwyREFBMkQsT0FBTyw0QkFBNEIseUJBQXlCLEVBQUUscUVBQXFFLE1BQU0sMkJBQTJCLFNBQVMsNEVBQTRFLE1BQU0sdUJBQXVCLG1GQUFtRiwrRkFBK0YsaUJBQWlCLHFZQUFxWSx3RkFBd0Ysc0JBQXNCLEVBQUUsd0JBQXdCLGdDQUFnQyxpQkFBaUIsbUJBQW1CLGFBQWEsaUJBQWlCLDZHQUE2RyxpQkFBaUIsUUFBUSxvQ0FBb0MsT0FBTyx3QkFBd0IsaUJBQWlCLHVEQUF1RCxrQkFBa0Isa0VBQWtFLEVBQUUsaUJBQWlCLGtFQUFrRSxrQkFBa0IsK0RBQStELEVBQUUsb0NBQW9DLGVBQWUsb0JBQW9CLGlCQUFpQixPQUFPLHFDQUFxQyxpQkFBaUIsNEJBQTRCLFFBQVEsS0FBSyxLQUFLLHdDQUF3QyxTQUFTLHVCQUF1QixNQUFNLHVCQUF1QixjQUFjLFlBQVksWUFBWSxJQUFJLEtBQUssY0FBYyxZQUFZLElBQUkseUJBQXlCLGFBQWEsU0FBUyxhQUFhLE1BQU0sdUJBQXVCLFNBQVMsc0JBQXNCLDBDQUEwQyxZQUFZLElBQUksS0FBSyxZQUFZLGtCQUFrQix3QkFBd0IsNENBQTRDLDhDQUE4QyxPQUFPLFNBQVMsNEJBQTRCLE1BQU0sdUJBQXVCLDZDQUE2QyxZQUFZLElBQUksS0FBSyxZQUFZLGdCQUFnQixrQkFBa0IsMENBQTBDLHlCQUF5QiwrQkFBK0IsU0FBUyx1QkFBdUIsZ0JBQWdCLGlFQUFpRSxtQkFBbUIsY0FBYyxpREFBaUQsMkJBQTJCLGNBQWMsd0ZBQXdGLG9CQUFvQixtQ0FBbUMscUJBQXFCLDhHQUE4RyxnSUFBZ0ksUUFBUSxZQUFZLEtBQUssTUFBTSxVQUFVLFlBQVksV0FBVyxLQUFLLDhDQUE4QyxvQkFBb0IsUUFBUSx5QkFBeUIsSUFBSSw2QkFBNkIsZ0NBQWdDLElBQUksaUJBQWlCLFNBQVMsZUFBZSxzQkFBc0IsNENBQTRDLEVBQUUsdURBQXVELGlCQUFpQiwwQ0FBMEMsRUFBRSw0REFBNEQsV0FBVyxlQUFlLGNBQWMsYUFBYSw2REFBNkQsRUFBRSx3RkFBd0YsaUJBQWlCLEtBQUssRUFBRSxlQUFlLGVBQWUsMERBQTBELCtFQUErRSxJQUFJLE9BQU8scUNBQXFDLE1BQU0sT0FBTyxxQkFBcUIsdURBQXVELHFGQUFxRixTQUFTLEVBQUUsZ0JBQWdCLDBCQUEwQixjQUFjLCtEQUErRCxtQkFBbUIsTUFBTSxlQUFlLGFBQWEsMkJBQTJCLGlDQUFpQyxZQUFZLFNBQVMsNkNBQTZDLE9BQU8sU0FBUyxXQUFXLE1BQU0sUUFBUSxHQUFHLDhDQUE4QyxNQUFNLG9CQUFvQixpRkFBaUYsa0VBQWtFLHdCQUF3QixrRUFBa0UsU0FBUyxFQUFFLFFBQVEscUJBQXFCLGdHQUFnRyxRQUFRLHlCQUF5QixRQUFRLHlCQUF5QixxQkFBcUIsZ0VBQWdFLE1BQU0sUUFBUSxPQUFPLDZDQUE2QyxxQkFBcUIsc0NBQXNDLHdEQUF3RCxnQkFBZ0IsbUJBQW1CLGtCQUFrQix3QkFBd0IsaUJBQWlCLFFBQVEsVUFBVSxLQUFLLE1BQU0sZUFBZSxPQUFPLGVBQWUsdUNBQXVDLG9CQUFvQixNQUFNLDJCQUEyQixTQUFTLHNEQUFzRCxTQUFTLE1BQU0sSUFBSSxJQUFJLGVBQWUsOEhBQThILHdCQUF3QixPQUFPLEtBQUssTUFBTSxRQUFRLElBQUksb0JBQW9CLE9BQU8sb0JBQW9CLEdBQUcsbUJBQW1CLHNEQUFzRCwrQkFBK0IsMkdBQTJHLDBCQUEwQiw0SUFBNEksMEJBQTBCLFlBQVksNEJBQTRCLFFBQVEseUNBQXlDLFlBQVksVUFBVSxtQkFBbUIsTUFBTSxRQUFRLGNBQWMsOEJBQThCLDJCQUEyQixVQUFVLG1HQUFtRyxlQUFlLG9DQUFvQyxnQkFBZ0Isb0NBQW9DLFlBQVksaUJBQWlCLGdCQUFnQixNQUFNLElBQUksR0FBRyx5Q0FBeUMsdUJBQXVCLE1BQU0sUUFBUSxhQUFhLG1DQUFtQywyQkFBMkIsY0FBYyw0QkFBNEIsdUJBQXVCLG1DQUFtQyxJQUFJLGtCQUFrQixRQUFRLDZEQUE2RCxpQ0FBaUMsaUVBQWlFLHVDQUF1QyxRQUFRLEVBQUUseUJBQXlCLGtCQUFrQixhQUFhLE1BQU0sUUFBUSxpQ0FBaUMsa0NBQWtDLFFBQVEsOEJBQThCLDZEQUE2RCxNQUFNLGNBQWMsZUFBZSxjQUFjLGNBQWMsY0FBYyxnQkFBZ0IsY0FBYyxnQkFBZ0IsdUJBQXVCLG9IQUFvSCxPQUFPLCtDQUErQyxlQUFlLHVCQUF1QixtQ0FBbUMsaUJBQWlCLHFDQUFxQyxvQkFBb0IsRUFBRSw2QkFBNkIsTUFBTSwrQkFBK0Isd0ZBQXdGLHdCQUF3Qiw0QkFBNEIsK0JBQStCLFlBQVksd0JBQXdCLE1BQU0sbUJBQW1CLGFBQWEsb0dBQW9HLDJCQUEyQixVQUFVLElBQUksbUVBQW1FLE1BQU0sU0FBUyxpQ0FBaUMsOENBQThDLDZFQUE2RSw0QkFBNEIsaUVBQWlFLGdGQUFnRixzREFBc0Qsb0JBQW9CLDRMQUE0TCxVQUFVLGdDQUFnQyxVQUFVLGdDQUFnQyxlQUFlLHFOQUFxTixPQUFPLDhCQUE4QixlQUFlLHdDQUF3QyxpQkFBaUIseURBQXlELGlCQUFpQiwwRUFBMEUsb0RBQW9ELHNCQUFzQiw0Q0FBNEMsd2JBQXdiLHlKQUF5SixlQUFlLG9GQUFvRixpQkFBaUIsMkhBQTJILGlCQUFpQixxQ0FBcUMsY0FBYyxRQUFRLHdDQUF3QyxhQUFhLGlCQUFpQiwwREFBMEQsa0NBQWtDLFdBQVcsYUFBYSxZQUFZLFdBQVcsS0FBSyxvQ0FBb0MscURBQXFELE9BQU8scUZBQXFGLGNBQWMsd05BQXdOLHlCQUF5QiwrQkFBK0IsZ0JBQWdCLFNBQVMsNENBQTRDLE1BQU0sRUFBRSx5QkFBeUIscUJBQXFCLCtDQUErQywyQ0FBMkMsUUFBUSxjQUFjLGdCQUFnQixLQUFLLHNCQUFzQixJQUFJLHNCQUFzQixTQUFTLGNBQWMsNkRBQTZELHNDQUFzQyxRQUFRLGVBQWUsZ0JBQWdCLFNBQVMsU0FBUyxtREFBbUQsS0FBSyxFQUFFLHlCQUF5QixrQkFBa0Isa0JBQWtCLHFCQUFxQixpREFBaUQsMkNBQTJDLFFBQVEsZUFBZSxjQUFjLGdCQUFnQixLQUFLLHNDQUFzQyxNQUFNLGVBQWUsV0FBVyxjQUFjLFdBQVcsY0FBYyx1QkFBdUIsR0FBRyxZQUFZLE9BQU8sa0NBQWtDLGdCQUFnQixhQUFhLHVFQUF1RSxxREFBcUQsbUZBQW1GLHFEQUFxRCxxRUFBcUUsU0FBUyxtQkFBbUIsNENBQTRDLFVBQVUsb0NBQW9DLFlBQVksRUFBRSxtQkFBbUIsRUFBRSxrREFBa0QsU0FBUyxtQkFBbUIsbUdBQW1HLHdEQUF3RCxVQUFVLHVCQUF1Qiw0RkFBNEYsa0JBQWtCLElBQUksV0FBVyw2Q0FBNkMsWUFBWSxHQUFHLG9EQUFvRCxzREFBc0QsTUFBTSxtQkFBbUIsU0FBUyxlQUFlLGdCQUFnQixNQUFNLGtCQUFrQixVQUFVLGdDQUFnQyx3QkFBd0Isc0RBQXNELGtCQUFrQiw4QkFBOEIsNEJBQTRCLGlCQUFpQix3QkFBd0IsZ0JBQWdCLGFBQWEsaUJBQWlCLGNBQWMsRUFBRSxTQUFTLHFCQUFxQixvSEFBb0gsVUFBVSw4QkFBOEIsVUFBVSwrQkFBK0IsV0FBVyxrQ0FBa0Msd0JBQXdCLDJCQUEyQixJQUFJLE1BQU0sa0JBQWtCLFNBQVMsV0FBVyw0Q0FBNEMsRUFBRSxnQkFBZ0IsV0FBVyxZQUFZLFdBQVcsY0FBYyxlQUFlLEtBQUssYUFBYSxLQUFLLGdDQUFnQyxnQkFBZ0IsWUFBWSxJQUFJLEtBQUssZ0JBQWdCLDJDQUEyQyxHQUFHLFlBQVksMkNBQTJDLG9FQUFvRSxTQUFTLGNBQWMsdUNBQXVDLGlCQUFpQixZQUFZLFdBQVcseUJBQXlCLElBQUksbUJBQW1CLDhCQUE4QixhQUFhLFFBQVEsU0FBUyxLQUFLLHlDQUF5QyxPQUFPLDBCQUEwQixpQkFBaUIsV0FBVyxvQkFBb0IsU0FBUyw0REFBNEQsRUFBRSxzQkFBc0IsMkJBQTJCLEVBQUUsWUFBWSxvREFBb0QsRUFBRSxzQkFBc0Isd0JBQXdCLEVBQUUsWUFBWSwwREFBMEQsRUFBRSxzQkFBc0Isd0JBQXdCLEVBQUUsYUFBYSwrQ0FBK0MsRUFBRSxzQkFBc0IseUJBQXlCLEVBQUUsWUFBWSxtRUFBbUUsUUFBUSx3RUFBd0UsRUFBRSxzQkFBc0Isd0NBQXdDLEVBQUUsWUFBWSxtRkFBbUYsUUFBUSx3RkFBd0YsUUFBUSx1RkFBdUYsUUFBUSw0RkFBNEYsUUFBUSxzRkFBc0YsUUFBUSwyRkFBMkYsUUFBUSwwRkFBMEYsUUFBUSwrRkFBK0YsUUFBUSxvRkFBb0YsRUFBRSxzQkFBc0Isc0pBQXNKLEVBQUUsYUFBYSx5RUFBeUUsU0FBUyw4RUFBOEUsRUFBRSxzQkFBc0Isd0NBQXdDLEVBQUUsYUFBYSxrR0FBa0csU0FBUyxxR0FBcUcsRUFBRSxzQkFBc0IsNENBQTRDLEVBQUUsWUFBWSxtSEFBbUgsUUFBUSx1SEFBdUgsUUFBUSxzSEFBc0gsUUFBUSwwSEFBMEgsRUFBRSxzQkFBc0IsbUVBQW1FLEVBQUUsd0JBQXdCLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxxQkFBcUIsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sNEZBQTRGLGVBQWUsd0NBQXdDLGVBQWUsV0FBVyxrQkFBa0IsNkJBQTZCLDZEQUE2RCxFQUFFLEdBQUcsVUFBVSx5QkFBeUIsYUFBYSxXQUFXLE1BQU0sMENBQTBDLEVBQUUsc0JBQXNCLCtCQUErQiwrQ0FBK0MsbUJBQW1CLGVBQWUsWUFBWSxNQUFNLHdCQUF3QixLQUFLLEtBQUssd0JBQXdCLGlDQUFpQyx3QkFBd0IsaUJBQWlCLG9DQUFvQyxHQUFHLG1FQUFtRSxxREFBcUQsYUFBYSxzQkFBc0Isb0xBQW9MLHlFQUF5RSxLQUFLLHNDQUFzQyxPQUFPLCtFQUErRSw2REFBNkQsdURBQXVELFNBQVMscUJBQXFCLG9EQUFvRCxXQUFXLHVCQUF1QixpQkFBaUIsU0FBUyxtQkFBbUIsc0NBQXNDLFVBQVUsNEJBQTRCLHVCQUF1QiwwRUFBMEUsdURBQXVELDRFQUE0RSw2Q0FBNkMsU0FBUyw2Q0FBNkMsRUFBRSxzQkFBc0IsbUNBQW1DLEVBQUUsc0RBQXNELHFDQUFxQyxzQkFBc0IsMkJBQTJCLEVBQUUsZ0NBQWdDLFVBQVUsNkRBQTZELEVBQUUsWUFBWSxFQUFFLHFCQUFxQixPQUFPLHlCQUF5Qix5QkFBeUIsVUFBVSxXQUFXLG1JQUFtSSxVQUFVLFlBQVksV0FBVyxpQ0FBaUMsU0FBUyxLQUFLLGlCQUFpQixxQkFBcUIsWUFBWSxXQUFXLHlCQUF5QixTQUFTLE1BQU0scUVBQXFFLHdCQUF3QixjQUFjLCtDQUErQyxFQUFFLElBQUksb01BQW9NLHdCQUF3QixjQUFjLCtDQUErQyxFQUFFLElBQUksaUpBQWlKLFNBQVMsRUFBRSxFQUFFLEdBQUcsZUFBZSxPQUFPLHVFQUFFLGtCQUFrQixlQUFlLGFBQWEsMkVBQUUsWUFBWSxlQUFlLHdDQUF3Qyx5QkFBeUIsZUFBZSx5QkFBeUIsNEVBQTRFLGlGQUFpRiwwQkFBMEIsK0ZBQStGLG1CQUFtQixxRkFBcUYsU0FBUyxlQUFlLGdCQUFnQixlQUFlLGdCQUFnQixlQUFlLG9EQUFvRCxlQUFlLGlEQUFpRCxPQUFPLG9CQUFvQixlQUFlLDREQUE0RCxlQUFlLG9GQUFvRixPQUFPLHVDQUF1QyxzQkFBc0IsMkJBQTJCLE9BQU8saUNBQWlDLDRCQUE0QixvRUFBRSxjQUFjLFNBQVMsY0FBYyw0QkFBNEIsOEJBQThCLE9BQU8sbUJBQW1CLHVDQUF1QyxXQUFXLCtCQUErQixFQUFFLHFCQUFxQixNQUFNLHNDQUFzQyxPQUFPLDBFQUEwRSxrQkFBa0Isd0JBQW9rQjtBQUN4d3RDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGgvZGlzdC9pbmRleC5lcy5qcz8yYjk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtmcm9tTWlsaXNlY29uZHMgYXMgYm59ZnJvbVwiQHdhbGxldGNvbm5lY3QvdGltZVwiO2ltcG9ydHtzYWZlSnNvblBhcnNlIGFzIHBuLHNhZmVKc29uU3RyaW5naWZ5IGFzIHdufWZyb21cIkB3YWxsZXRjb25uZWN0L3NhZmUtanNvblwiO2Z1bmN0aW9uIEVuKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiBmZSh0LC4uLmUpe2lmKCFFbih0KSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpO2lmKGUubGVuZ3RoPjAmJiFlLmluY2x1ZGVzKHQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCBcIitlK1wiLCBnb3QgbGVuZ3RoPVwiK3QubGVuZ3RoKX1mdW5jdGlvbiBEZSh0LGU9ITApe2lmKHQuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkhhc2ggaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkXCIpO2lmKGUmJnQuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCNkaWdlc3QoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFwiKX1mdW5jdGlvbiBnbih0LGUpe2ZlKHQpO2NvbnN0IG49ZS5vdXRwdXRMZW47aWYodC5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoXCJkaWdlc3RJbnRvKCkgZXhwZWN0cyBvdXRwdXQgYnVmZmVyIG9mIGxlbmd0aCBhdCBsZWFzdCBcIituKX1jb25zdCBpdD10eXBlb2YgZ2xvYmFsVGhpcz09XCJvYmplY3RcIiYmXCJjcnlwdG9cImluIGdsb2JhbFRoaXM/Z2xvYmFsVGhpcy5jcnlwdG86dm9pZCAwOy8qISBub2JsZS1oYXNoZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9jb25zdCBfdD10PT5uZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk7ZnVuY3Rpb24geW4odCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwidXRmOFRvQnl0ZXMgZXhwZWN0ZWQgc3RyaW5nLCBnb3QgXCIrdHlwZW9mIHQpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIGRlKHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIiYmKHQ9eW4odCkpLGZlKHQpLHR9Y2xhc3MgeG57Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9fWZ1bmN0aW9uIEJuKHQpe2NvbnN0IGU9cj0+dCgpLnVwZGF0ZShkZShyKSkuZGlnZXN0KCksbj10KCk7cmV0dXJuIGUub3V0cHV0TGVuPW4ub3V0cHV0TGVuLGUuYmxvY2tMZW49bi5ibG9ja0xlbixlLmNyZWF0ZT0oKT0+dCgpLGV9ZnVuY3Rpb24gaGUodD0zMil7aWYoaXQmJnR5cGVvZiBpdC5nZXRSYW5kb21WYWx1ZXM9PVwiZnVuY3Rpb25cIilyZXR1cm4gaXQuZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHQpKTtpZihpdCYmdHlwZW9mIGl0LnJhbmRvbUJ5dGVzPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGl0LnJhbmRvbUJ5dGVzKHQpO3Rocm93IG5ldyBFcnJvcihcImNyeXB0by5nZXRSYW5kb21WYWx1ZXMgbXVzdCBiZSBkZWZpbmVkXCIpfWZ1bmN0aW9uIENuKHQsZSxuLHIpe2lmKHR5cGVvZiB0LnNldEJpZ1VpbnQ2ND09XCJmdW5jdGlvblwiKXJldHVybiB0LnNldEJpZ1VpbnQ2NChlLG4scik7Y29uc3Qgbz1CaWdJbnQoMzIpLHM9QmlnSW50KDQyOTQ5NjcyOTUpLGE9TnVtYmVyKG4+Pm8mcyksdT1OdW1iZXIobiZzKSxpPXI/NDowLEQ9cj8wOjQ7dC5zZXRVaW50MzIoZStpLGEsciksdC5zZXRVaW50MzIoZStELHUscil9Y2xhc3MgQW4gZXh0ZW5kcyB4bntjb25zdHJ1Y3RvcihlLG4scixvKXtzdXBlcigpLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj1uLHRoaXMucGFkT2Zmc2V0PXIsdGhpcy5pc0xFPW8sdGhpcy5maW5pc2hlZD0hMSx0aGlzLmxlbmd0aD0wLHRoaXMucG9zPTAsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoZSksdGhpcy52aWV3PV90KHRoaXMuYnVmZmVyKX11cGRhdGUoZSl7RGUodGhpcyk7Y29uc3R7dmlldzpuLGJ1ZmZlcjpyLGJsb2NrTGVuOm99PXRoaXM7ZT1kZShlKTtjb25zdCBzPWUubGVuZ3RoO2ZvcihsZXQgYT0wO2E8czspe2NvbnN0IHU9TWF0aC5taW4oby10aGlzLnBvcyxzLWEpO2lmKHU9PT1vKXtjb25zdCBpPV90KGUpO2Zvcig7bzw9cy1hO2ErPW8pdGhpcy5wcm9jZXNzKGksYSk7Y29udGludWV9ci5zZXQoZS5zdWJhcnJheShhLGErdSksdGhpcy5wb3MpLHRoaXMucG9zKz11LGErPXUsdGhpcy5wb3M9PT1vJiYodGhpcy5wcm9jZXNzKG4sMCksdGhpcy5wb3M9MCl9cmV0dXJuIHRoaXMubGVuZ3RoKz1lLmxlbmd0aCx0aGlzLnJvdW5kQ2xlYW4oKSx0aGlzfWRpZ2VzdEludG8oZSl7RGUodGhpcyksZ24oZSx0aGlzKSx0aGlzLmZpbmlzaGVkPSEwO2NvbnN0e2J1ZmZlcjpuLHZpZXc6cixibG9ja0xlbjpvLGlzTEU6c309dGhpcztsZXR7cG9zOmF9PXRoaXM7blthKytdPTEyOCx0aGlzLmJ1ZmZlci5zdWJhcnJheShhKS5maWxsKDApLHRoaXMucGFkT2Zmc2V0Pm8tYSYmKHRoaXMucHJvY2VzcyhyLDApLGE9MCk7Zm9yKGxldCBsPWE7bDxvO2wrKyluW2xdPTA7Q24ocixvLTgsQmlnSW50KHRoaXMubGVuZ3RoKjgpLHMpLHRoaXMucHJvY2VzcyhyLDApO2NvbnN0IHU9X3QoZSksaT10aGlzLm91dHB1dExlbjtpZihpJTQpdGhyb3cgbmV3IEVycm9yKFwiX3NoYTI6IG91dHB1dExlbiBzaG91bGQgYmUgYWxpZ25lZCB0byAzMmJpdFwiKTtjb25zdCBEPWkvNCxjPXRoaXMuZ2V0KCk7aWYoRD5jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIGJpZ2dlciB0aGFuIHN0YXRlXCIpO2ZvcihsZXQgbD0wO2w8RDtsKyspdS5zZXRVaW50MzIoNCpsLGNbbF0scyl9ZGlnZXN0KCl7Y29uc3R7YnVmZmVyOmUsb3V0cHV0TGVuOm59PXRoaXM7dGhpcy5kaWdlc3RJbnRvKGUpO2NvbnN0IHI9ZS5zbGljZSgwLG4pO3JldHVybiB0aGlzLmRlc3Ryb3koKSxyfV9jbG9uZUludG8oZSl7ZXx8KGU9bmV3IHRoaXMuY29uc3RydWN0b3IpLGUuc2V0KC4uLnRoaXMuZ2V0KCkpO2NvbnN0e2Jsb2NrTGVuOm4sYnVmZmVyOnIsbGVuZ3RoOm8sZmluaXNoZWQ6cyxkZXN0cm95ZWQ6YSxwb3M6dX09dGhpcztyZXR1cm4gZS5sZW5ndGg9byxlLnBvcz11LGUuZmluaXNoZWQ9cyxlLmRlc3Ryb3llZD1hLG8lbiYmZS5idWZmZXIuc2V0KHIpLGV9fWNvbnN0IHd0PUJpZ0ludCgyKiozMi0xKSxTdD1CaWdJbnQoMzIpO2Z1bmN0aW9uIGxlKHQsZT0hMSl7cmV0dXJuIGU/e2g6TnVtYmVyKHQmd3QpLGw6TnVtYmVyKHQ+PlN0Jnd0KX06e2g6TnVtYmVyKHQ+PlN0Jnd0KXwwLGw6TnVtYmVyKHQmd3QpfDB9fWZ1bmN0aW9uIG1uKHQsZT0hMSl7bGV0IG49bmV3IFVpbnQzMkFycmF5KHQubGVuZ3RoKSxyPW5ldyBVaW50MzJBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspe2NvbnN0e2g6cyxsOmF9PWxlKHRbb10sZSk7W25bb10scltvXV09W3MsYV19cmV0dXJuW24scl19Y29uc3QgX249KHQsZSk9PkJpZ0ludCh0Pj4+MCk8PFN0fEJpZ0ludChlPj4+MCksU249KHQsZSxuKT0+dD4+Pm4sdm49KHQsZSxuKT0+dDw8MzItbnxlPj4+bixJbj0odCxlLG4pPT50Pj4+bnxlPDwzMi1uLFVuPSh0LGUsbik9PnQ8PDMyLW58ZT4+Pm4sVG49KHQsZSxuKT0+dDw8NjQtbnxlPj4+bi0zMixGbj0odCxlLG4pPT50Pj4+bi0zMnxlPDw2NC1uLE5uPSh0LGUpPT5lLExuPSh0LGUpPT50LE9uPSh0LGUsbik9PnQ8PG58ZT4+PjMyLW4sSG49KHQsZSxuKT0+ZTw8bnx0Pj4+MzItbix6bj0odCxlLG4pPT5lPDxuLTMyfHQ+Pj42NC1uLE1uPSh0LGUsbik9PnQ8PG4tMzJ8ZT4+PjY0LW47ZnVuY3Rpb24gcW4odCxlLG4scil7Y29uc3Qgbz0oZT4+PjApKyhyPj4+MCk7cmV0dXJue2g6dCtuKyhvLzIqKjMyfDApfDAsbDpvfDB9fWNvbnN0ICRuPSh0LGUsbik9Pih0Pj4+MCkrKGU+Pj4wKSsobj4+PjApLGtuPSh0LGUsbixyKT0+ZStuK3IrKHQvMioqMzJ8MCl8MCxSbj0odCxlLG4scik9Pih0Pj4+MCkrKGU+Pj4wKSsobj4+PjApKyhyPj4+MCksam49KHQsZSxuLHIsbyk9PmUrbityK28rKHQvMioqMzJ8MCl8MCxabj0odCxlLG4scixvKT0+KHQ+Pj4wKSsoZT4+PjApKyhuPj4+MCkrKHI+Pj4wKSsobz4+PjApLEduPSh0LGUsbixyLG8scyk9PmUrbityK28rcysodC8yKiozMnwwKXwwLHg9e2Zyb21CaWc6bGUsc3BsaXQ6bW4sdG9CaWc6X24sc2hyU0g6U24sc2hyU0w6dm4scm90clNIOkluLHJvdHJTTDpVbixyb3RyQkg6VG4scm90ckJMOkZuLHJvdHIzMkg6Tm4scm90cjMyTDpMbixyb3RsU0g6T24scm90bFNMOkhuLHJvdGxCSDp6bixyb3RsQkw6TW4sYWRkOnFuLGFkZDNMOiRuLGFkZDNIOmtuLGFkZDRMOlJuLGFkZDRIOmpuLGFkZDVIOkduLGFkZDVMOlpufSxbVm4sWW5dPSgoKT0+eC5zcGxpdChbXCIweDQyOGEyZjk4ZDcyOGFlMjJcIixcIjB4NzEzNzQ0OTEyM2VmNjVjZFwiLFwiMHhiNWMwZmJjZmVjNGQzYjJmXCIsXCIweGU5YjVkYmE1ODE4OWRiYmNcIixcIjB4Mzk1NmMyNWJmMzQ4YjUzOFwiLFwiMHg1OWYxMTFmMWI2MDVkMDE5XCIsXCIweDkyM2Y4MmE0YWYxOTRmOWJcIixcIjB4YWIxYzVlZDVkYTZkODExOFwiLFwiMHhkODA3YWE5OGEzMDMwMjQyXCIsXCIweDEyODM1YjAxNDU3MDZmYmVcIixcIjB4MjQzMTg1YmU0ZWU0YjI4Y1wiLFwiMHg1NTBjN2RjM2Q1ZmZiNGUyXCIsXCIweDcyYmU1ZDc0ZjI3Yjg5NmZcIixcIjB4ODBkZWIxZmUzYjE2OTZiMVwiLFwiMHg5YmRjMDZhNzI1YzcxMjM1XCIsXCIweGMxOWJmMTc0Y2Y2OTI2OTRcIixcIjB4ZTQ5YjY5YzE5ZWYxNGFkMlwiLFwiMHhlZmJlNDc4NjM4NGYyNWUzXCIsXCIweDBmYzE5ZGM2OGI4Y2Q1YjVcIixcIjB4MjQwY2ExY2M3N2FjOWM2NVwiLFwiMHgyZGU5MmM2ZjU5MmIwMjc1XCIsXCIweDRhNzQ4NGFhNmVhNmU0ODNcIixcIjB4NWNiMGE5ZGNiZDQxZmJkNFwiLFwiMHg3NmY5ODhkYTgzMTE1M2I1XCIsXCIweDk4M2U1MTUyZWU2NmRmYWJcIixcIjB4YTgzMWM2NmQyZGI0MzIxMFwiLFwiMHhiMDAzMjdjODk4ZmIyMTNmXCIsXCIweGJmNTk3ZmM3YmVlZjBlZTRcIixcIjB4YzZlMDBiZjMzZGE4OGZjMlwiLFwiMHhkNWE3OTE0NzkzMGFhNzI1XCIsXCIweDA2Y2E2MzUxZTAwMzgyNmZcIixcIjB4MTQyOTI5NjcwYTBlNmU3MFwiLFwiMHgyN2I3MGE4NTQ2ZDIyZmZjXCIsXCIweDJlMWIyMTM4NWMyNmM5MjZcIixcIjB4NGQyYzZkZmM1YWM0MmFlZFwiLFwiMHg1MzM4MGQxMzlkOTViM2RmXCIsXCIweDY1MGE3MzU0OGJhZjYzZGVcIixcIjB4NzY2YTBhYmIzYzc3YjJhOFwiLFwiMHg4MWMyYzkyZTQ3ZWRhZWU2XCIsXCIweDkyNzIyYzg1MTQ4MjM1M2JcIixcIjB4YTJiZmU4YTE0Y2YxMDM2NFwiLFwiMHhhODFhNjY0YmJjNDIzMDAxXCIsXCIweGMyNGI4YjcwZDBmODk3OTFcIixcIjB4Yzc2YzUxYTMwNjU0YmUzMFwiLFwiMHhkMTkyZTgxOWQ2ZWY1MjE4XCIsXCIweGQ2OTkwNjI0NTU2NWE5MTBcIixcIjB4ZjQwZTM1ODU1NzcxMjAyYVwiLFwiMHgxMDZhYTA3MDMyYmJkMWI4XCIsXCIweDE5YTRjMTE2YjhkMmQwYzhcIixcIjB4MWUzNzZjMDg1MTQxYWI1M1wiLFwiMHgyNzQ4Nzc0Y2RmOGVlYjk5XCIsXCIweDM0YjBiY2I1ZTE5YjQ4YThcIixcIjB4MzkxYzBjYjNjNWM5NWE2M1wiLFwiMHg0ZWQ4YWE0YWUzNDE4YWNiXCIsXCIweDViOWNjYTRmNzc2M2UzNzNcIixcIjB4NjgyZTZmZjNkNmIyYjhhM1wiLFwiMHg3NDhmODJlZTVkZWZiMmZjXCIsXCIweDc4YTU2MzZmNDMxNzJmNjBcIixcIjB4ODRjODc4MTRhMWYwYWI3MlwiLFwiMHg4Y2M3MDIwODFhNjQzOWVjXCIsXCIweDkwYmVmZmZhMjM2MzFlMjhcIixcIjB4YTQ1MDZjZWJkZTgyYmRlOVwiLFwiMHhiZWY5YTNmN2IyYzY3OTE1XCIsXCIweGM2NzE3OGYyZTM3MjUzMmJcIixcIjB4Y2EyNzNlY2VlYTI2NjE5Y1wiLFwiMHhkMTg2YjhjNzIxYzBjMjA3XCIsXCIweGVhZGE3ZGQ2Y2RlMGViMWVcIixcIjB4ZjU3ZDRmN2ZlZTZlZDE3OFwiLFwiMHgwNmYwNjdhYTcyMTc2ZmJhXCIsXCIweDBhNjM3ZGM1YTJjODk4YTZcIixcIjB4MTEzZjk4MDRiZWY5MGRhZVwiLFwiMHgxYjcxMGIzNTEzMWM0NzFiXCIsXCIweDI4ZGI3N2Y1MjMwNDdkODRcIixcIjB4MzJjYWFiN2I0MGM3MjQ5M1wiLFwiMHgzYzllYmUwYTE1YzliZWJjXCIsXCIweDQzMWQ2N2M0OWMxMDBkNGNcIixcIjB4NGNjNWQ0YmVjYjNlNDJiNlwiLFwiMHg1OTdmMjk5Y2ZjNjU3ZTJhXCIsXCIweDVmY2I2ZmFiM2FkNmZhZWNcIixcIjB4NmM0NDE5OGM0YTQ3NTgxN1wiXS5tYXAodD0+QmlnSW50KHQpKSkpKCksUD1uZXcgVWludDMyQXJyYXkoODApLFE9bmV3IFVpbnQzMkFycmF5KDgwKTtjbGFzcyBKbiBleHRlbmRzIEFue2NvbnN0cnVjdG9yKCl7c3VwZXIoMTI4LDY0LDE2LCExKSx0aGlzLkFoPTE3NzkwMzM3MDMsdGhpcy5BbD0tMjA1NzMxNTc2LHRoaXMuQmg9LTExNTA4MzMwMTksdGhpcy5CbD0tMjA2NzA5MzcwMSx0aGlzLkNoPTEwMTM5MDQyNDIsdGhpcy5DbD0tMjM3OTE1NzMsdGhpcy5EaD0tMTUyMTQ4NjUzNCx0aGlzLkRsPTE1OTU3NTAxMjksdGhpcy5FaD0xMzU5ODkzMTE5LHRoaXMuRWw9LTEzNzc0MDIxNTksdGhpcy5GaD0tMTY5NDE0NDM3Mix0aGlzLkZsPTcyNTUxMTE5OSx0aGlzLkdoPTUyODczNDYzNSx0aGlzLkdsPS03OTU3Nzc0OSx0aGlzLkhoPTE1NDE0NTkyMjUsdGhpcy5IbD0zMjcwMzMyMDl9Z2V0KCl7Y29uc3R7QWg6ZSxBbDpuLEJoOnIsQmw6byxDaDpzLENsOmEsRGg6dSxEbDppLEVoOkQsRWw6YyxGaDpsLEZsOnAsR2g6dyxHbDpoLEhoOmcsSGw6U309dGhpcztyZXR1cm5bZSxuLHIsbyxzLGEsdSxpLEQsYyxsLHAsdyxoLGcsU119c2V0KGUsbixyLG8scyxhLHUsaSxELGMsbCxwLHcsaCxnLFMpe3RoaXMuQWg9ZXwwLHRoaXMuQWw9bnwwLHRoaXMuQmg9cnwwLHRoaXMuQmw9b3wwLHRoaXMuQ2g9c3wwLHRoaXMuQ2w9YXwwLHRoaXMuRGg9dXwwLHRoaXMuRGw9aXwwLHRoaXMuRWg9RHwwLHRoaXMuRWw9Y3wwLHRoaXMuRmg9bHwwLHRoaXMuRmw9cHwwLHRoaXMuR2g9d3wwLHRoaXMuR2w9aHwwLHRoaXMuSGg9Z3wwLHRoaXMuSGw9U3wwfXByb2Nlc3MoZSxuKXtmb3IobGV0IGQ9MDtkPDE2O2QrKyxuKz00KVBbZF09ZS5nZXRVaW50MzIobiksUVtkXT1lLmdldFVpbnQzMihuKz00KTtmb3IobGV0IGQ9MTY7ZDw4MDtkKyspe2NvbnN0IG09UFtkLTE1XXwwLEY9UVtkLTE1XXwwLHE9eC5yb3RyU0gobSxGLDEpXngucm90clNIKG0sRiw4KV54LnNoclNIKG0sRiw3KSx6PXgucm90clNMKG0sRiwxKV54LnJvdHJTTChtLEYsOCleeC5zaHJTTChtLEYsNyksST1QW2QtMl18MCxPPVFbZC0yXXwwLG90PXgucm90clNIKEksTywxOSleeC5yb3RyQkgoSSxPLDYxKV54LnNoclNIKEksTyw2KSx0dD14LnJvdHJTTChJLE8sMTkpXngucm90ckJMKEksTyw2MSleeC5zaHJTTChJLE8sNiksc3Q9eC5hZGQ0TCh6LHR0LFFbZC03XSxRW2QtMTZdKSxhdD14LmFkZDRIKHN0LHEsb3QsUFtkLTddLFBbZC0xNl0pO1BbZF09YXR8MCxRW2RdPXN0fDB9bGV0e0FoOnIsQWw6byxCaDpzLEJsOmEsQ2g6dSxDbDppLERoOkQsRGw6YyxFaDpsLEVsOnAsRmg6dyxGbDpoLEdoOmcsR2w6UyxIaDp2LEhsOkx9PXRoaXM7Zm9yKGxldCBkPTA7ZDw4MDtkKyspe2NvbnN0IG09eC5yb3RyU0gobCxwLDE0KV54LnJvdHJTSChsLHAsMTgpXngucm90ckJIKGwscCw0MSksRj14LnJvdHJTTChsLHAsMTQpXngucm90clNMKGwscCwxOCleeC5yb3RyQkwobCxwLDQxKSxxPWwmd15+bCZnLHo9cCZoXn5wJlMsST14LmFkZDVMKEwsRix6LFluW2RdLFFbZF0pLE89eC5hZGQ1SChJLHYsbSxxLFZuW2RdLFBbZF0pLG90PUl8MCx0dD14LnJvdHJTSChyLG8sMjgpXngucm90ckJIKHIsbywzNCleeC5yb3RyQkgocixvLDM5KSxzdD14LnJvdHJTTChyLG8sMjgpXngucm90ckJMKHIsbywzNCleeC5yb3RyQkwocixvLDM5KSxhdD1yJnNeciZ1XnMmdSxDdD1vJmFebyZpXmEmaTt2PWd8MCxMPVN8MCxnPXd8MCxTPWh8MCx3PWx8MCxoPXB8MCx7aDpsLGw6cH09eC5hZGQoRHwwLGN8MCxPfDAsb3R8MCksRD11fDAsYz1pfDAsdT1zfDAsaT1hfDAscz1yfDAsYT1vfDA7Y29uc3QgQXQ9eC5hZGQzTChvdCxzdCxDdCk7cj14LmFkZDNIKEF0LE8sdHQsYXQpLG89QXR8MH0oe2g6cixsOm99PXguYWRkKHRoaXMuQWh8MCx0aGlzLkFsfDAscnwwLG98MCkpLHtoOnMsbDphfT14LmFkZCh0aGlzLkJofDAsdGhpcy5CbHwwLHN8MCxhfDApLHtoOnUsbDppfT14LmFkZCh0aGlzLkNofDAsdGhpcy5DbHwwLHV8MCxpfDApLHtoOkQsbDpjfT14LmFkZCh0aGlzLkRofDAsdGhpcy5EbHwwLER8MCxjfDApLHtoOmwsbDpwfT14LmFkZCh0aGlzLkVofDAsdGhpcy5FbHwwLGx8MCxwfDApLHtoOncsbDpofT14LmFkZCh0aGlzLkZofDAsdGhpcy5GbHwwLHd8MCxofDApLHtoOmcsbDpTfT14LmFkZCh0aGlzLkdofDAsdGhpcy5HbHwwLGd8MCxTfDApLHtoOnYsbDpMfT14LmFkZCh0aGlzLkhofDAsdGhpcy5IbHwwLHZ8MCxMfDApLHRoaXMuc2V0KHIsbyxzLGEsdSxpLEQsYyxsLHAsdyxoLGcsUyx2LEwpfXJvdW5kQ2xlYW4oKXtQLmZpbGwoMCksUS5maWxsKDApfWRlc3Ryb3koKXt0aGlzLmJ1ZmZlci5maWxsKDApLHRoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApfX1jb25zdCBLbj1CbigoKT0+bmV3IEpuKTsvKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovY29uc3QgdnQ9QmlnSW50KDApLGJlPUJpZ0ludCgxKSxXbj1CaWdJbnQoMik7ZnVuY3Rpb24gSXQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJnQuY29uc3RydWN0b3IubmFtZT09PVwiVWludDhBcnJheVwifWZ1bmN0aW9uIFV0KHQpe2lmKCFJdCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpfWZ1bmN0aW9uIFR0KHQsZSl7aWYodHlwZW9mIGUhPVwiYm9vbGVhblwiKXRocm93IG5ldyBFcnJvcih0K1wiIGJvb2xlYW4gZXhwZWN0ZWQsIGdvdCBcIitlKX1jb25zdCBYbj1BcnJheS5mcm9tKHtsZW5ndGg6MjU2fSwodCxlKT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpO2Z1bmN0aW9uIEZ0KHQpe1V0KHQpO2xldCBlPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSs9WG5bdFtuXV07cmV0dXJuIGV9ZnVuY3Rpb24gcGUodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdD09PVwiXCI/dnQ6QmlnSW50KFwiMHhcIit0KX1jb25zdCBLPXtfMDo0OCxfOTo1NyxBOjY1LEY6NzAsYTo5NyxmOjEwMn07ZnVuY3Rpb24gd2UodCl7aWYodD49Sy5fMCYmdDw9Sy5fOSlyZXR1cm4gdC1LLl8wO2lmKHQ+PUsuQSYmdDw9Sy5GKXJldHVybiB0LShLLkEtMTApO2lmKHQ+PUsuYSYmdDw9Sy5mKXJldHVybiB0LShLLmEtMTApfWZ1bmN0aW9uIEVlKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgdCk7Y29uc3QgZT10Lmxlbmd0aCxuPWUvMjtpZihlJTIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IHVucGFkZGVkIGhleCBvZiBsZW5ndGggXCIrZSk7Y29uc3Qgcj1uZXcgVWludDhBcnJheShuKTtmb3IobGV0IG89MCxzPTA7bzxuO28rKyxzKz0yKXtjb25zdCBhPXdlKHQuY2hhckNvZGVBdChzKSksdT13ZSh0LmNoYXJDb2RlQXQocysxKSk7aWYoYT09PXZvaWQgMHx8dT09PXZvaWQgMCl7Y29uc3QgaT10W3NdK3RbcysxXTt0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBub24taGV4IGNoYXJhY3RlciBcIicraSsnXCIgYXQgaW5kZXggJytzKX1yW29dPWEqMTYrdX1yZXR1cm4gcn1mdW5jdGlvbiBQbih0KXtyZXR1cm4gcGUoRnQodCkpfWZ1bmN0aW9uIEV0KHQpe3JldHVybiBVdCh0KSxwZShGdChVaW50OEFycmF5LmZyb20odCkucmV2ZXJzZSgpKSl9ZnVuY3Rpb24gZ2UodCxlKXtyZXR1cm4gRWUodC50b1N0cmluZygxNikucGFkU3RhcnQoZSoyLFwiMFwiKSl9ZnVuY3Rpb24gTnQodCxlKXtyZXR1cm4gZ2UodCxlKS5yZXZlcnNlKCl9ZnVuY3Rpb24gVyh0LGUsbil7bGV0IHI7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpdHJ5e3I9RWUoZSl9Y2F0Y2gocyl7dGhyb3cgbmV3IEVycm9yKHQrXCIgbXVzdCBiZSBoZXggc3RyaW5nIG9yIFVpbnQ4QXJyYXksIGNhdXNlOiBcIitzKX1lbHNlIGlmKEl0KGUpKXI9VWludDhBcnJheS5mcm9tKGUpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKHQrXCIgbXVzdCBiZSBoZXggc3RyaW5nIG9yIFVpbnQ4QXJyYXlcIik7Y29uc3Qgbz1yLmxlbmd0aDtpZih0eXBlb2Ygbj09XCJudW1iZXJcIiYmbyE9PW4pdGhyb3cgbmV3IEVycm9yKHQrXCIgb2YgbGVuZ3RoIFwiK24rXCIgZXhwZWN0ZWQsIGdvdCBcIitvKTtyZXR1cm4gcn1mdW5jdGlvbiB5ZSguLi50KXtsZXQgZT0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBvPXRbcl07VXQobyksZSs9by5sZW5ndGh9Y29uc3Qgbj1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IHI9MCxvPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IHM9dFtyXTtuLnNldChzLG8pLG8rPXMubGVuZ3RofXJldHVybiBufWNvbnN0IEx0PXQ9PnR5cGVvZiB0PT1cImJpZ2ludFwiJiZ2dDw9dDtmdW5jdGlvbiBRbih0LGUsbil7cmV0dXJuIEx0KHQpJiZMdChlKSYmTHQobikmJmU8PXQmJnQ8bn1mdW5jdGlvbiBmdCh0LGUsbixyKXtpZighUW4oZSxuLHIpKXRocm93IG5ldyBFcnJvcihcImV4cGVjdGVkIHZhbGlkIFwiK3QrXCI6IFwiK24rXCIgPD0gbiA8IFwiK3IrXCIsIGdvdCBcIitlKX1mdW5jdGlvbiB0cih0KXtsZXQgZTtmb3IoZT0wO3Q+dnQ7dD4+PWJlLGUrPTEpO3JldHVybiBlfWNvbnN0IGVyPXQ9PihXbjw8QmlnSW50KHQtMSkpLWJlLG5yPXtiaWdpbnQ6dD0+dHlwZW9mIHQ9PVwiYmlnaW50XCIsZnVuY3Rpb246dD0+dHlwZW9mIHQ9PVwiZnVuY3Rpb25cIixib29sZWFuOnQ9PnR5cGVvZiB0PT1cImJvb2xlYW5cIixzdHJpbmc6dD0+dHlwZW9mIHQ9PVwic3RyaW5nXCIsc3RyaW5nT3JVaW50OEFycmF5OnQ9PnR5cGVvZiB0PT1cInN0cmluZ1wifHxJdCh0KSxpc1NhZmVJbnRlZ2VyOnQ9Pk51bWJlci5pc1NhZmVJbnRlZ2VyKHQpLGFycmF5OnQ9PkFycmF5LmlzQXJyYXkodCksZmllbGQ6KHQsZSk9PmUuRnAuaXNWYWxpZCh0KSxoYXNoOnQ9PnR5cGVvZiB0PT1cImZ1bmN0aW9uXCImJk51bWJlci5pc1NhZmVJbnRlZ2VyKHQub3V0cHV0TGVuKX07ZnVuY3Rpb24gT3QodCxlLG49e30pe2NvbnN0IHI9KG8scyxhKT0+e2NvbnN0IHU9bnJbc107aWYodHlwZW9mIHUhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHZhbGlkYXRvciBmdW5jdGlvblwiKTtjb25zdCBpPXRbb107aWYoIShhJiZpPT09dm9pZCAwKSYmIXUoaSx0KSl0aHJvdyBuZXcgRXJyb3IoXCJwYXJhbSBcIitTdHJpbmcobykrXCIgaXMgaW52YWxpZC4gRXhwZWN0ZWQgXCIrcytcIiwgZ290IFwiK2kpfTtmb3IoY29uc3RbbyxzXW9mIE9iamVjdC5lbnRyaWVzKGUpKXIobyxzLCExKTtmb3IoY29uc3RbbyxzXW9mIE9iamVjdC5lbnRyaWVzKG4pKXIobyxzLCEwKTtyZXR1cm4gdH1mdW5jdGlvbiB4ZSh0KXtjb25zdCBlPW5ldyBXZWFrTWFwO3JldHVybihuLC4uLnIpPT57Y29uc3Qgbz1lLmdldChuKTtpZihvIT09dm9pZCAwKXJldHVybiBvO2NvbnN0IHM9dChuLC4uLnIpO3JldHVybiBlLnNldChuLHMpLHN9fWNvbnN0IE09QmlnSW50KDApLE49QmlnSW50KDEpLG50PUJpZ0ludCgyKSxycj1CaWdJbnQoMyksSHQ9QmlnSW50KDQpLEJlPUJpZ0ludCg1KSxDZT1CaWdJbnQoOCk7ZnVuY3Rpb24gSCh0LGUpe2NvbnN0IG49dCVlO3JldHVybiBuPj1NP246ZStufWZ1bmN0aW9uIG9yKHQsZSxuKXtpZihlPE0pdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBleHBvbmVudCwgbmVnYXRpdmVzIHVuc3VwcG9ydGVkXCIpO2lmKG48PU0pdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBtb2R1bHVzXCIpO2lmKG49PT1OKXJldHVybiBNO2xldCByPU47Zm9yKDtlPk07KWUmTiYmKHI9cip0JW4pLHQ9dCp0JW4sZT4+PU47cmV0dXJuIHJ9ZnVuY3Rpb24gSih0LGUsbil7bGV0IHI9dDtmb3IoO2UtLSA+TTspcio9cixyJT1uO3JldHVybiByfWZ1bmN0aW9uIEFlKHQsZSl7aWYodD09PU0pdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBub24temVybyBudW1iZXJcIik7aWYoZTw9TSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZlcnQ6IGV4cGVjdGVkIHBvc2l0aXZlIG1vZHVsdXMsIGdvdCBcIitlKTtsZXQgbj1IKHQsZSkscj1lLG89TSxzPU47Zm9yKDtuIT09TTspe2NvbnN0IHU9ci9uLGk9ciVuLEQ9by1zKnU7cj1uLG49aSxvPXMscz1EfWlmKHIhPT1OKXRocm93IG5ldyBFcnJvcihcImludmVydDogZG9lcyBub3QgZXhpc3RcIik7cmV0dXJuIEgobyxlKX1mdW5jdGlvbiBzcih0KXtjb25zdCBlPSh0LU4pL250O2xldCBuLHIsbztmb3Iobj10LU4scj0wO24lbnQ9PT1NO24vPW50LHIrKyk7Zm9yKG89bnQ7bzx0JiZvcihvLGUsdCkhPT10LU47bysrKWlmKG8+MWUzKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290OiBsaWtlbHkgbm9uLXByaW1lIFBcIik7aWYocj09PTEpe2NvbnN0IGE9KHQrTikvSHQ7cmV0dXJuIGZ1bmN0aW9uKGksRCl7Y29uc3QgYz1pLnBvdyhELGEpO2lmKCFpLmVxbChpLnNxcihjKSxEKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4gY319Y29uc3Qgcz0obitOKS9udDtyZXR1cm4gZnVuY3Rpb24odSxpKXtpZih1LnBvdyhpLGUpPT09dS5uZWcodS5PTkUpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO2xldCBEPXIsYz11LnBvdyh1Lm11bCh1Lk9ORSxvKSxuKSxsPXUucG93KGkscykscD11LnBvdyhpLG4pO2Zvcig7IXUuZXFsKHAsdS5PTkUpOyl7aWYodS5lcWwocCx1LlpFUk8pKXJldHVybiB1LlpFUk87bGV0IHc9MTtmb3IobGV0IGc9dS5zcXIocCk7dzxEJiYhdS5lcWwoZyx1Lk9ORSk7dysrKWc9dS5zcXIoZyk7Y29uc3QgaD11LnBvdyhjLE48PEJpZ0ludChELXctMSkpO2M9dS5zcXIoaCksbD11Lm11bChsLGgpLHA9dS5tdWwocCxjKSxEPXd9cmV0dXJuIGx9fWZ1bmN0aW9uIGlyKHQpe2lmKHQlSHQ9PT1ycil7Y29uc3QgZT0odCtOKS9IdDtyZXR1cm4gZnVuY3Rpb24ocixvKXtjb25zdCBzPXIucG93KG8sZSk7aWYoIXIuZXFsKHIuc3FyKHMpLG8pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO3JldHVybiBzfX1pZih0JUNlPT09QmUpe2NvbnN0IGU9KHQtQmUpL0NlO3JldHVybiBmdW5jdGlvbihyLG8pe2NvbnN0IHM9ci5tdWwobyxudCksYT1yLnBvdyhzLGUpLHU9ci5tdWwobyxhKSxpPXIubXVsKHIubXVsKHUsbnQpLGEpLEQ9ci5tdWwodSxyLnN1YihpLHIuT05FKSk7aWYoIXIuZXFsKHIuc3FyKEQpLG8pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO3JldHVybiBEfX1yZXR1cm4gc3IodCl9Y29uc3QgdXI9KHQsZSk9PihIKHQsZSkmTik9PT1OLGNyPVtcImNyZWF0ZVwiLFwiaXNWYWxpZFwiLFwiaXMwXCIsXCJuZWdcIixcImludlwiLFwic3FydFwiLFwic3FyXCIsXCJlcWxcIixcImFkZFwiLFwic3ViXCIsXCJtdWxcIixcInBvd1wiLFwiZGl2XCIsXCJhZGROXCIsXCJzdWJOXCIsXCJtdWxOXCIsXCJzcXJOXCJdO2Z1bmN0aW9uIGFyKHQpe2NvbnN0IGU9e09SREVSOlwiYmlnaW50XCIsTUFTSzpcImJpZ2ludFwiLEJZVEVTOlwiaXNTYWZlSW50ZWdlclwiLEJJVFM6XCJpc1NhZmVJbnRlZ2VyXCJ9LG49Y3IucmVkdWNlKChyLG8pPT4ocltvXT1cImZ1bmN0aW9uXCIsciksZSk7cmV0dXJuIE90KHQsbil9ZnVuY3Rpb24gZnIodCxlLG4pe2lmKG48TSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGV4cG9uZW50LCBuZWdhdGl2ZXMgdW5zdXBwb3J0ZWRcIik7aWYobj09PU0pcmV0dXJuIHQuT05FO2lmKG49PT1OKXJldHVybiBlO2xldCByPXQuT05FLG89ZTtmb3IoO24+TTspbiZOJiYocj10Lm11bChyLG8pKSxvPXQuc3FyKG8pLG4+Pj1OO3JldHVybiByfWZ1bmN0aW9uIERyKHQsZSl7Y29uc3Qgbj1uZXcgQXJyYXkoZS5sZW5ndGgpLHI9ZS5yZWR1Y2UoKHMsYSx1KT0+dC5pczAoYSk/czooblt1XT1zLHQubXVsKHMsYSkpLHQuT05FKSxvPXQuaW52KHIpO3JldHVybiBlLnJlZHVjZVJpZ2h0KChzLGEsdSk9PnQuaXMwKGEpP3M6KG5bdV09dC5tdWwocyxuW3VdKSx0Lm11bChzLGEpKSxvKSxufWZ1bmN0aW9uIG1lKHQsZSl7Y29uc3Qgbj1lIT09dm9pZCAwP2U6dC50b1N0cmluZygyKS5sZW5ndGgscj1NYXRoLmNlaWwobi84KTtyZXR1cm57bkJpdExlbmd0aDpuLG5CeXRlTGVuZ3RoOnJ9fWZ1bmN0aW9uIF9lKHQsZSxuPSExLHI9e30pe2lmKHQ8PU0pdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgPiAwLCBnb3QgXCIrdCk7Y29uc3R7bkJpdExlbmd0aDpvLG5CeXRlTGVuZ3RoOnN9PW1lKHQsZSk7aWYocz4yMDQ4KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSIG9mIDw9IDIwNDggYnl0ZXNcIik7bGV0IGE7Y29uc3QgdT1PYmplY3QuZnJlZXplKHtPUkRFUjp0LGlzTEU6bixCSVRTOm8sQllURVM6cyxNQVNLOmVyKG8pLFpFUk86TSxPTkU6TixjcmVhdGU6aT0+SChpLHQpLGlzVmFsaWQ6aT0+e2lmKHR5cGVvZiBpIT1cImJpZ2ludFwiKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQgZWxlbWVudDogZXhwZWN0ZWQgYmlnaW50LCBnb3QgXCIrdHlwZW9mIGkpO3JldHVybiBNPD1pJiZpPHR9LGlzMDppPT5pPT09TSxpc09kZDppPT4oaSZOKT09PU4sbmVnOmk9PkgoLWksdCksZXFsOihpLEQpPT5pPT09RCxzcXI6aT0+SChpKmksdCksYWRkOihpLEQpPT5IKGkrRCx0KSxzdWI6KGksRCk9PkgoaS1ELHQpLG11bDooaSxEKT0+SChpKkQsdCkscG93OihpLEQpPT5mcih1LGksRCksZGl2OihpLEQpPT5IKGkqQWUoRCx0KSx0KSxzcXJOOmk9PmkqaSxhZGROOihpLEQpPT5pK0Qsc3ViTjooaSxEKT0+aS1ELG11bE46KGksRCk9PmkqRCxpbnY6aT0+QWUoaSx0KSxzcXJ0OnIuc3FydHx8KGk9PihhfHwoYT1pcih0KSksYSh1LGkpKSksaW52ZXJ0QmF0Y2g6aT0+RHIodSxpKSxjbW92OihpLEQsYyk9PmM/RDppLHRvQnl0ZXM6aT0+bj9OdChpLHMpOmdlKGkscyksZnJvbUJ5dGVzOmk9PntpZihpLmxlbmd0aCE9PXMpdGhyb3cgbmV3IEVycm9yKFwiRmllbGQuZnJvbUJ5dGVzOiBleHBlY3RlZCBcIitzK1wiIGJ5dGVzLCBnb3QgXCIraS5sZW5ndGgpO3JldHVybiBuP0V0KGkpOlBuKGkpfX0pO3JldHVybiBPYmplY3QuZnJlZXplKHUpfWNvbnN0IFNlPUJpZ0ludCgwKSxndD1CaWdJbnQoMSk7ZnVuY3Rpb24genQodCxlKXtjb25zdCBuPWUubmVnYXRlKCk7cmV0dXJuIHQ/bjplfWZ1bmN0aW9uIHZlKHQsZSl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHQpfHx0PD0wfHx0PmUpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB3aW5kb3cgc2l6ZSwgZXhwZWN0ZWQgWzEuLlwiK2UrXCJdLCBnb3QgVz1cIit0KX1mdW5jdGlvbiBNdCh0LGUpe3ZlKHQsZSk7Y29uc3Qgbj1NYXRoLmNlaWwoZS90KSsxLHI9MioqKHQtMSk7cmV0dXJue3dpbmRvd3M6bix3aW5kb3dTaXplOnJ9fWZ1bmN0aW9uIGRyKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXkgZXhwZWN0ZWRcIik7dC5mb3JFYWNoKChuLHIpPT57aWYoIShuIGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwb2ludCBhdCBpbmRleCBcIityKX0pfWZ1bmN0aW9uIGhyKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXkgb2Ygc2NhbGFycyBleHBlY3RlZFwiKTt0LmZvckVhY2goKG4scik9PntpZighZS5pc1ZhbGlkKG4pKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyIGF0IGluZGV4IFwiK3IpfSl9Y29uc3QgcXQ9bmV3IFdlYWtNYXAsSWU9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gJHQodCl7cmV0dXJuIEllLmdldCh0KXx8MX1mdW5jdGlvbiBscih0LGUpe3JldHVybntjb25zdFRpbWVOZWdhdGU6enQsaGFzUHJlY29tcHV0ZXMobil7cmV0dXJuICR0KG4pIT09MX0sdW5zYWZlTGFkZGVyKG4scixvPXQuWkVSTyl7bGV0IHM9bjtmb3IoO3I+U2U7KXImZ3QmJihvPW8uYWRkKHMpKSxzPXMuZG91YmxlKCkscj4+PWd0O3JldHVybiBvfSxwcmVjb21wdXRlV2luZG93KG4scil7Y29uc3R7d2luZG93czpvLHdpbmRvd1NpemU6c309TXQocixlKSxhPVtdO2xldCB1PW4saT11O2ZvcihsZXQgRD0wO0Q8bztEKyspe2k9dSxhLnB1c2goaSk7Zm9yKGxldCBjPTE7YzxzO2MrKylpPWkuYWRkKHUpLGEucHVzaChpKTt1PWkuZG91YmxlKCl9cmV0dXJuIGF9LHdOQUYobixyLG8pe2NvbnN0e3dpbmRvd3M6cyx3aW5kb3dTaXplOmF9PU10KG4sZSk7bGV0IHU9dC5aRVJPLGk9dC5CQVNFO2NvbnN0IEQ9QmlnSW50KDIqKm4tMSksYz0yKipuLGw9QmlnSW50KG4pO2ZvcihsZXQgcD0wO3A8cztwKyspe2NvbnN0IHc9cCphO2xldCBoPU51bWJlcihvJkQpO28+Pj1sLGg+YSYmKGgtPWMsbys9Z3QpO2NvbnN0IGc9dyxTPXcrTWF0aC5hYnMoaCktMSx2PXAlMiE9PTAsTD1oPDA7aD09PTA/aT1pLmFkZCh6dCh2LHJbZ10pKTp1PXUuYWRkKHp0KEwscltTXSkpfXJldHVybntwOnUsZjppfX0sd05BRlVuc2FmZShuLHIsbyxzPXQuWkVSTyl7Y29uc3R7d2luZG93czphLHdpbmRvd1NpemU6dX09TXQobixlKSxpPUJpZ0ludCgyKipuLTEpLEQ9MioqbixjPUJpZ0ludChuKTtmb3IobGV0IGw9MDtsPGE7bCsrKXtjb25zdCBwPWwqdTtpZihvPT09U2UpYnJlYWs7bGV0IHc9TnVtYmVyKG8maSk7aWYobz4+PWMsdz51JiYody09RCxvKz1ndCksdz09PTApY29udGludWU7bGV0IGg9cltwK01hdGguYWJzKHcpLTFdO3c8MCYmKGg9aC5uZWdhdGUoKSkscz1zLmFkZChoKX1yZXR1cm4gc30sZ2V0UHJlY29tcHV0ZXMobixyLG8pe2xldCBzPXF0LmdldChyKTtyZXR1cm4gc3x8KHM9dGhpcy5wcmVjb21wdXRlV2luZG93KHIsbiksbiE9PTEmJnF0LnNldChyLG8ocykpKSxzfSx3TkFGQ2FjaGVkKG4scixvKXtjb25zdCBzPSR0KG4pO3JldHVybiB0aGlzLndOQUYocyx0aGlzLmdldFByZWNvbXB1dGVzKHMsbixvKSxyKX0sd05BRkNhY2hlZFVuc2FmZShuLHIsbyxzKXtjb25zdCBhPSR0KG4pO3JldHVybiBhPT09MT90aGlzLnVuc2FmZUxhZGRlcihuLHIscyk6dGhpcy53TkFGVW5zYWZlKGEsdGhpcy5nZXRQcmVjb21wdXRlcyhhLG4sbykscixzKX0sc2V0V2luZG93U2l6ZShuLHIpe3ZlKHIsZSksSWUuc2V0KG4scikscXQuZGVsZXRlKG4pfX19ZnVuY3Rpb24gYnIodCxlLG4scil7aWYoZHIobix0KSxocihyLGUpLG4ubGVuZ3RoIT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXlzIG9mIHBvaW50cyBhbmQgc2NhbGFycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoXCIpO2NvbnN0IG89dC5aRVJPLHM9dHIoQmlnSW50KG4ubGVuZ3RoKSksYT1zPjEyP3MtMzpzPjQ/cy0yOnM/MjoxLHU9KDE8PGEpLTEsaT1uZXcgQXJyYXkodSsxKS5maWxsKG8pLEQ9TWF0aC5mbG9vcigoZS5CSVRTLTEpL2EpKmE7bGV0IGM9bztmb3IobGV0IGw9RDtsPj0wO2wtPWEpe2kuZmlsbChvKTtmb3IobGV0IHc9MDt3PHIubGVuZ3RoO3crKyl7Y29uc3QgaD1yW3ddLGc9TnVtYmVyKGg+PkJpZ0ludChsKSZCaWdJbnQodSkpO2lbZ109aVtnXS5hZGQoblt3XSl9bGV0IHA9bztmb3IobGV0IHc9aS5sZW5ndGgtMSxoPW87dz4wO3ctLSloPWguYWRkKGlbd10pLHA9cC5hZGQoaCk7aWYoYz1jLmFkZChwKSxsIT09MClmb3IobGV0IHc9MDt3PGE7dysrKWM9Yy5kb3VibGUoKX1yZXR1cm4gY31mdW5jdGlvbiBwcih0KXtyZXR1cm4gYXIodC5GcCksT3QodCx7bjpcImJpZ2ludFwiLGg6XCJiaWdpbnRcIixHeDpcImZpZWxkXCIsR3k6XCJmaWVsZFwifSx7bkJpdExlbmd0aDpcImlzU2FmZUludGVnZXJcIixuQnl0ZUxlbmd0aDpcImlzU2FmZUludGVnZXJcIn0pLE9iamVjdC5mcmVlemUoey4uLm1lKHQubix0Lm5CaXRMZW5ndGgpLC4uLnQscDp0LkZwLk9SREVSfSl9Y29uc3QgRz1CaWdJbnQoMCksaj1CaWdJbnQoMSkseXQ9QmlnSW50KDIpLHdyPUJpZ0ludCg4KSxFcj17emlwMjE1OiEwfTtmdW5jdGlvbiBncih0KXtjb25zdCBlPXByKHQpO3JldHVybiBPdCh0LHtoYXNoOlwiZnVuY3Rpb25cIixhOlwiYmlnaW50XCIsZDpcImJpZ2ludFwiLHJhbmRvbUJ5dGVzOlwiZnVuY3Rpb25cIn0se2FkanVzdFNjYWxhckJ5dGVzOlwiZnVuY3Rpb25cIixkb21haW46XCJmdW5jdGlvblwiLHV2UmF0aW86XCJmdW5jdGlvblwiLG1hcFRvQ3VydmU6XCJmdW5jdGlvblwifSksT2JqZWN0LmZyZWV6ZSh7Li4uZX0pfWZ1bmN0aW9uIHlyKHQpe2NvbnN0IGU9Z3IodCkse0ZwOm4sbjpyLHByZWhhc2g6byxoYXNoOnMscmFuZG9tQnl0ZXM6YSxuQnl0ZUxlbmd0aDp1LGg6aX09ZSxEPXl0PDxCaWdJbnQodSo4KS1qLGM9bi5jcmVhdGUsbD1fZShlLm4sZS5uQml0TGVuZ3RoKSxwPWUudXZSYXRpb3x8KCh5LGYpPT57dHJ5e3JldHVybntpc1ZhbGlkOiEwLHZhbHVlOm4uc3FydCh5Km4uaW52KGYpKX19Y2F0Y2h7cmV0dXJue2lzVmFsaWQ6ITEsdmFsdWU6R319fSksdz1lLmFkanVzdFNjYWxhckJ5dGVzfHwoeT0+eSksaD1lLmRvbWFpbnx8KCh5LGYsYik9PntpZihUdChcInBoZmxhZ1wiLGIpLGYubGVuZ3RofHxiKXRocm93IG5ldyBFcnJvcihcIkNvbnRleHRzL3ByZS1oYXNoIGFyZSBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiB5fSk7ZnVuY3Rpb24gZyh5LGYpe2Z0KFwiY29vcmRpbmF0ZSBcIit5LGYsRyxEKX1mdW5jdGlvbiBTKHkpe2lmKCEoeSBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBFcnJvcihcIkV4dGVuZGVkUG9pbnQgZXhwZWN0ZWRcIil9Y29uc3Qgdj14ZSgoeSxmKT0+e2NvbnN0e2V4OmIsZXk6RSxlejpCfT15LEM9eS5pczAoKTtmPT1udWxsJiYoZj1DP3dyOm4uaW52KEIpKTtjb25zdCBBPWMoYipmKSxVPWMoRSpmKSxfPWMoQipmKTtpZihDKXJldHVybnt4OkcseTpqfTtpZihfIT09ail0aHJvdyBuZXcgRXJyb3IoXCJpbnZaIHdhcyBpbnZhbGlkXCIpO3JldHVybnt4OkEseTpVfX0pLEw9eGUoeT0+e2NvbnN0e2E6ZixkOmJ9PWU7aWYoeS5pczAoKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IFpFUk9cIik7Y29uc3R7ZXg6RSxleTpCLGV6OkMsZXQ6QX09eSxVPWMoRSpFKSxfPWMoQipCKSxUPWMoQypDKSwkPWMoVCpUKSxSPWMoVSpmKSxWPWMoVCpjKFIrXykpLFk9YygkK2MoYipjKFUqXykpKTtpZihWIT09WSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHQgKDEpXCIpO2NvbnN0IFo9YyhFKkIpLFg9YyhDKkEpO2lmKFohPT1YKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodCAoMilcIik7cmV0dXJuITB9KTtjbGFzcyBke2NvbnN0cnVjdG9yKGYsYixFLEIpe3RoaXMuZXg9Zix0aGlzLmV5PWIsdGhpcy5lej1FLHRoaXMuZXQ9QixnKFwieFwiLGYpLGcoXCJ5XCIsYiksZyhcInpcIixFKSxnKFwidFwiLEIpLE9iamVjdC5mcmVlemUodGhpcyl9Z2V0IHgoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnh9Z2V0IHkoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnl9c3RhdGljIGZyb21BZmZpbmUoZil7aWYoZiBpbnN0YW5jZW9mIGQpdGhyb3cgbmV3IEVycm9yKFwiZXh0ZW5kZWQgcG9pbnQgbm90IGFsbG93ZWRcIik7Y29uc3R7eDpiLHk6RX09Znx8e307cmV0dXJuIGcoXCJ4XCIsYiksZyhcInlcIixFKSxuZXcgZChiLEUsaixjKGIqRSkpfXN0YXRpYyBub3JtYWxpemVaKGYpe2NvbnN0IGI9bi5pbnZlcnRCYXRjaChmLm1hcChFPT5FLmV6KSk7cmV0dXJuIGYubWFwKChFLEIpPT5FLnRvQWZmaW5lKGJbQl0pKS5tYXAoZC5mcm9tQWZmaW5lKX1zdGF0aWMgbXNtKGYsYil7cmV0dXJuIGJyKGQsbCxmLGIpfV9zZXRXaW5kb3dTaXplKGYpe3Euc2V0V2luZG93U2l6ZSh0aGlzLGYpfWFzc2VydFZhbGlkaXR5KCl7TCh0aGlzKX1lcXVhbHMoZil7UyhmKTtjb25zdHtleDpiLGV5OkUsZXo6Qn09dGhpcyx7ZXg6QyxleTpBLGV6OlV9PWYsXz1jKGIqVSksVD1jKEMqQiksJD1jKEUqVSksUj1jKEEqQik7cmV0dXJuIF89PT1UJiYkPT09Un1pczAoKXtyZXR1cm4gdGhpcy5lcXVhbHMoZC5aRVJPKX1uZWdhdGUoKXtyZXR1cm4gbmV3IGQoYygtdGhpcy5leCksdGhpcy5leSx0aGlzLmV6LGMoLXRoaXMuZXQpKX1kb3VibGUoKXtjb25zdHthOmZ9PWUse2V4OmIsZXk6RSxlejpCfT10aGlzLEM9YyhiKmIpLEE9YyhFKkUpLFU9Yyh5dCpjKEIqQikpLF89YyhmKkMpLFQ9YitFLCQ9YyhjKFQqVCktQy1BKSxSPV8rQSxWPVItVSxZPV8tQSxaPWMoJCpWKSxYPWMoUipZKSxldD1jKCQqWSkscHQ9YyhWKlIpO3JldHVybiBuZXcgZChaLFgscHQsZXQpfWFkZChmKXtTKGYpO2NvbnN0e2E6YixkOkV9PWUse2V4OkIsZXk6QyxlejpBLGV0OlV9PXRoaXMse2V4Ol8sZXk6VCxlejokLGV0OlJ9PWY7aWYoYj09PUJpZ0ludCgtMSkpe2NvbnN0IHJlPWMoKEMtQikqKFQrXykpLG9lPWMoKEMrQikqKFQtXykpLG10PWMob2UtcmUpO2lmKG10PT09RylyZXR1cm4gdGhpcy5kb3VibGUoKTtjb25zdCBzZT1jKEEqeXQqUiksaWU9YyhVKnl0KiQpLHVlPWllK3NlLGNlPW9lK3JlLGFlPWllLXNlLERuPWModWUqbXQpLGRuPWMoY2UqYWUpLGhuPWModWUqYWUpLGxuPWMobXQqY2UpO3JldHVybiBuZXcgZChEbixkbixsbixobil9Y29uc3QgVj1jKEIqXyksWT1jKEMqVCksWj1jKFUqRSpSKSxYPWMoQSokKSxldD1jKChCK0MpKihfK1QpLVYtWSkscHQ9WC1aLGVlPVgrWixuZT1jKFktYipWKSx1bj1jKGV0KnB0KSxjbj1jKGVlKm5lKSxhbj1jKGV0Km5lKSxmbj1jKHB0KmVlKTtyZXR1cm4gbmV3IGQodW4sY24sZm4sYW4pfXN1YnRyYWN0KGYpe3JldHVybiB0aGlzLmFkZChmLm5lZ2F0ZSgpKX13TkFGKGYpe3JldHVybiBxLndOQUZDYWNoZWQodGhpcyxmLGQubm9ybWFsaXplWil9bXVsdGlwbHkoZil7Y29uc3QgYj1mO2Z0KFwic2NhbGFyXCIsYixqLHIpO2NvbnN0e3A6RSxmOkJ9PXRoaXMud05BRihiKTtyZXR1cm4gZC5ub3JtYWxpemVaKFtFLEJdKVswXX1tdWx0aXBseVVuc2FmZShmLGI9ZC5aRVJPKXtjb25zdCBFPWY7cmV0dXJuIGZ0KFwic2NhbGFyXCIsRSxHLHIpLEU9PT1HP0Y6dGhpcy5pczAoKXx8RT09PWo/dGhpczpxLndOQUZDYWNoZWRVbnNhZmUodGhpcyxFLGQubm9ybWFsaXplWixiKX1pc1NtYWxsT3JkZXIoKXtyZXR1cm4gdGhpcy5tdWx0aXBseVVuc2FmZShpKS5pczAoKX1pc1RvcnNpb25GcmVlKCl7cmV0dXJuIHEudW5zYWZlTGFkZGVyKHRoaXMscikuaXMwKCl9dG9BZmZpbmUoZil7cmV0dXJuIHYodGhpcyxmKX1jbGVhckNvZmFjdG9yKCl7Y29uc3R7aDpmfT1lO3JldHVybiBmPT09aj90aGlzOnRoaXMubXVsdGlwbHlVbnNhZmUoZil9c3RhdGljIGZyb21IZXgoZixiPSExKXtjb25zdHtkOkUsYTpCfT1lLEM9bi5CWVRFUztmPVcoXCJwb2ludEhleFwiLGYsQyksVHQoXCJ6aXAyMTVcIixiKTtjb25zdCBBPWYuc2xpY2UoKSxVPWZbQy0xXTtBW0MtMV09VSYtMTI5O2NvbnN0IF89RXQoQSksVD1iP0Q6bi5PUkRFUjtmdChcInBvaW50SGV4LnlcIixfLEcsVCk7Y29uc3QgJD1jKF8qXyksUj1jKCQtaiksVj1jKEUqJC1CKTtsZXR7aXNWYWxpZDpZLHZhbHVlOlp9PXAoUixWKTtpZighWSl0aHJvdyBuZXcgRXJyb3IoXCJQb2ludC5mcm9tSGV4OiBpbnZhbGlkIHkgY29vcmRpbmF0ZVwiKTtjb25zdCBYPShaJmopPT09aixldD0oVSYxMjgpIT09MDtpZighYiYmWj09PUcmJmV0KXRocm93IG5ldyBFcnJvcihcIlBvaW50LmZyb21IZXg6IHg9MCBhbmQgeF8wPTFcIik7cmV0dXJuIGV0IT09WCYmKFo9YygtWikpLGQuZnJvbUFmZmluZSh7eDpaLHk6X30pfXN0YXRpYyBmcm9tUHJpdmF0ZUtleShmKXtyZXR1cm4gTyhmKS5wb2ludH10b1Jhd0J5dGVzKCl7Y29uc3R7eDpmLHk6Yn09dGhpcy50b0FmZmluZSgpLEU9TnQoYixuLkJZVEVTKTtyZXR1cm4gRVtFLmxlbmd0aC0xXXw9ZiZqPzEyODowLEV9dG9IZXgoKXtyZXR1cm4gRnQodGhpcy50b1Jhd0J5dGVzKCkpfX1kLkJBU0U9bmV3IGQoZS5HeCxlLkd5LGosYyhlLkd4KmUuR3kpKSxkLlpFUk89bmV3IGQoRyxqLGosRyk7Y29uc3R7QkFTRTptLFpFUk86Rn09ZCxxPWxyKGQsdSo4KTtmdW5jdGlvbiB6KHkpe3JldHVybiBIKHkscil9ZnVuY3Rpb24gSSh5KXtyZXR1cm4geihFdCh5KSl9ZnVuY3Rpb24gTyh5KXtjb25zdCBmPW4uQllURVM7eT1XKFwicHJpdmF0ZSBrZXlcIix5LGYpO2NvbnN0IGI9VyhcImhhc2hlZCBwcml2YXRlIGtleVwiLHMoeSksMipmKSxFPXcoYi5zbGljZSgwLGYpKSxCPWIuc2xpY2UoZiwyKmYpLEM9SShFKSxBPW0ubXVsdGlwbHkoQyksVT1BLnRvUmF3Qnl0ZXMoKTtyZXR1cm57aGVhZDpFLHByZWZpeDpCLHNjYWxhcjpDLHBvaW50OkEscG9pbnRCeXRlczpVfX1mdW5jdGlvbiBvdCh5KXtyZXR1cm4gTyh5KS5wb2ludEJ5dGVzfWZ1bmN0aW9uIHR0KHk9bmV3IFVpbnQ4QXJyYXksLi4uZil7Y29uc3QgYj15ZSguLi5mKTtyZXR1cm4gSShzKGgoYixXKFwiY29udGV4dFwiLHkpLCEhbykpKX1mdW5jdGlvbiBzdCh5LGYsYj17fSl7eT1XKFwibWVzc2FnZVwiLHkpLG8mJih5PW8oeSkpO2NvbnN0e3ByZWZpeDpFLHNjYWxhcjpCLHBvaW50Qnl0ZXM6Q309TyhmKSxBPXR0KGIuY29udGV4dCxFLHkpLFU9bS5tdWx0aXBseShBKS50b1Jhd0J5dGVzKCksXz10dChiLmNvbnRleHQsVSxDLHkpLFQ9eihBK18qQik7ZnQoXCJzaWduYXR1cmUuc1wiLFQsRyxyKTtjb25zdCAkPXllKFUsTnQoVCxuLkJZVEVTKSk7cmV0dXJuIFcoXCJyZXN1bHRcIiwkLG4uQllURVMqMil9Y29uc3QgYXQ9RXI7ZnVuY3Rpb24gQ3QoeSxmLGIsRT1hdCl7Y29uc3R7Y29udGV4dDpCLHppcDIxNTpDfT1FLEE9bi5CWVRFUzt5PVcoXCJzaWduYXR1cmVcIix5LDIqQSksZj1XKFwibWVzc2FnZVwiLGYpLGI9VyhcInB1YmxpY0tleVwiLGIsQSksQyE9PXZvaWQgMCYmVHQoXCJ6aXAyMTVcIixDKSxvJiYoZj1vKGYpKTtjb25zdCBVPUV0KHkuc2xpY2UoQSwyKkEpKTtsZXQgXyxULCQ7dHJ5e189ZC5mcm9tSGV4KGIsQyksVD1kLmZyb21IZXgoeS5zbGljZSgwLEEpLEMpLCQ9bS5tdWx0aXBseVVuc2FmZShVKX1jYXRjaHtyZXR1cm4hMX1pZighQyYmXy5pc1NtYWxsT3JkZXIoKSlyZXR1cm4hMTtjb25zdCBSPXR0KEIsVC50b1Jhd0J5dGVzKCksXy50b1Jhd0J5dGVzKCksZik7cmV0dXJuIFQuYWRkKF8ubXVsdGlwbHlVbnNhZmUoUikpLnN1YnRyYWN0KCQpLmNsZWFyQ29mYWN0b3IoKS5lcXVhbHMoZC5aRVJPKX1yZXR1cm4gbS5fc2V0V2luZG93U2l6ZSg4KSx7Q1VSVkU6ZSxnZXRQdWJsaWNLZXk6b3Qsc2lnbjpzdCx2ZXJpZnk6Q3QsRXh0ZW5kZWRQb2ludDpkLHV0aWxzOntnZXRFeHRlbmRlZFB1YmxpY0tleTpPLHJhbmRvbVByaXZhdGVLZXk6KCk9PmEobi5CWVRFUykscHJlY29tcHV0ZSh5PTgsZj1kLkJBU0Upe3JldHVybiBmLl9zZXRXaW5kb3dTaXplKHkpLGYubXVsdGlwbHkoQmlnSW50KDMpKSxmfX19fUJpZ0ludCgwKSxCaWdJbnQoMSk7Y29uc3Qga3Q9QmlnSW50KFwiNTc4OTYwNDQ2MTg2NTgwOTc3MTE3ODU0OTI1MDQzNDM5NTM5MjY2MzQ5OTIzMzI4MjAyODIwMTk3Mjg3OTIwMDM5NTY1NjQ4MTk5NDlcIiksVWU9QmlnSW50KFwiMTk2ODExNjEzNzY3MDc1MDU5NTY4MDcwNzkzMDQ5ODg1NDIwMTU0NDYwNjY1MTU5MjM4OTAxNjI3NDQwMjEwNzMxMjM4Mjk3ODQ3NTJcIik7QmlnSW50KDApO2NvbnN0IHhyPUJpZ0ludCgxKSxUZT1CaWdJbnQoMik7QmlnSW50KDMpO2NvbnN0IEJyPUJpZ0ludCg1KSxDcj1CaWdJbnQoOCk7ZnVuY3Rpb24gQXIodCl7Y29uc3QgZT1CaWdJbnQoMTApLG49QmlnSW50KDIwKSxyPUJpZ0ludCg0MCksbz1CaWdJbnQoODApLHM9a3QsdT10KnQlcyp0JXMsaT1KKHUsVGUscykqdSVzLEQ9SihpLHhyLHMpKnQlcyxjPUooRCxCcixzKSpEJXMsbD1KKGMsZSxzKSpjJXMscD1KKGwsbixzKSpsJXMsdz1KKHAscixzKSpwJXMsaD1KKHcsbyxzKSp3JXMsZz1KKGgsbyxzKSp3JXMsUz1KKGcsZSxzKSpjJXM7cmV0dXJue3Bvd19wXzVfODpKKFMsVGUscykqdCVzLGIyOnV9fWZ1bmN0aW9uIG1yKHQpe3JldHVybiB0WzBdJj0yNDgsdFszMV0mPTEyNyx0WzMxXXw9NjQsdH1mdW5jdGlvbiBfcih0LGUpe2NvbnN0IG49a3Qscj1IKGUqZSplLG4pLG89SChyKnIqZSxuKSxzPUFyKHQqbykucG93X3BfNV84O2xldCBhPUgodCpyKnMsbik7Y29uc3QgdT1IKGUqYSphLG4pLGk9YSxEPUgoYSpVZSxuKSxjPXU9PT10LGw9dT09PUgoLXQsbikscD11PT09SCgtdCpVZSxuKTtyZXR1cm4gYyYmKGE9aSksKGx8fHApJiYoYT1EKSx1cihhLG4pJiYoYT1IKC1hLG4pKSx7aXNWYWxpZDpjfHxsLHZhbHVlOmF9fWNvbnN0IFNyPSgoKT0+X2Uoa3Qsdm9pZCAwLCEwKSkoKSx2cj0oKCk9Pih7YTpCaWdJbnQoLTEpLGQ6QmlnSW50KFwiMzcwOTU3MDU5MzQ2Njk0MzkzNDMxMzgwODM1MDg3NTQ1NjUxODk1NDIxMTM4Nzk4NDMyMTkwMTYzODg3ODU1MzMwODU5NDAyODM1NTVcIiksRnA6U3IsbjpCaWdJbnQoXCI3MjM3MDA1NTc3MzMyMjYyMjEzOTczMTg2NTYzMDQyOTk0MjQwODU3MTE2MzU5Mzc5OTA3NjA2MDAxOTUwOTM4Mjg1NDU0MjUwOTg5XCIpLGg6Q3IsR3g6QmlnSW50KFwiMTUxMTIyMjEzNDk1MzU0MDA3NzI1MDExNTE0MDk1ODg1MzE1MTE0NTQwMTI2OTMwNDE4NTcyMDYwNDYxMTMyODM5NDk4NDc3NjIyMDJcIiksR3k6QmlnSW50KFwiNDYzMTY4MzU2OTQ5MjY0NzgxNjk0MjgzOTQwMDM0NzUxNjMxNDEzMDc5OTM4NjYyNTYyMjU2MTU3ODMwMzM2MDMxNjUyNTE4NTU5NjBcIiksaGFzaDpLbixyYW5kb21CeXRlczpoZSxhZGp1c3RTY2FsYXJCeXRlczptcix1dlJhdGlvOl9yfSkpKCksUnQ9KCgpPT55cih2cikpKCksanQ9XCJFZERTQVwiLFp0PVwiSldUXCIsdXQ9XCIuXCIsRHQ9XCJiYXNlNjR1cmxcIixHdD1cInV0ZjhcIix4dD1cInV0ZjhcIixWdD1cIjpcIixZdD1cImRpZFwiLEp0PVwia2V5XCIsZHQ9XCJiYXNlNThidGNcIixLdD1cInpcIixXdD1cIkszNlwiLEZlPTMyLE5lPTMyO2Z1bmN0aW9uIFh0KHQpe3JldHVybiBnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbD9uZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKTp0fWZ1bmN0aW9uIExlKHQ9MCl7cmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZSE9bnVsbD9YdChnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZSh0KSk6bmV3IFVpbnQ4QXJyYXkodCl9ZnVuY3Rpb24gT2UodCxlKXtlfHwoZT10LnJlZHVjZSgobyxzKT0+bytzLmxlbmd0aCwwKSk7Y29uc3Qgbj1MZShlKTtsZXQgcj0wO2Zvcihjb25zdCBvIG9mIHQpbi5zZXQobyxyKSxyKz1vLmxlbmd0aDtyZXR1cm4gWHQobil9ZnVuY3Rpb24gSXIodCxlKXtpZih0Lmxlbmd0aD49MjU1KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHBoYWJldCB0b28gbG9uZ1wiKTtmb3IodmFyIG49bmV3IFVpbnQ4QXJyYXkoMjU2KSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXT0yNTU7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXQuY2hhckF0KG8pLGE9cy5jaGFyQ29kZUF0KDApO2lmKG5bYV0hPT0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihzK1wiIGlzIGFtYmlndW91c1wiKTtuW2FdPW99dmFyIHU9dC5sZW5ndGgsaT10LmNoYXJBdCgwKSxEPU1hdGgubG9nKHUpL01hdGgubG9nKDI1NiksYz1NYXRoLmxvZygyNTYpL01hdGgubG9nKHUpO2Z1bmN0aW9uIGwoaCl7aWYoaCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fChBcnJheUJ1ZmZlci5pc1ZpZXcoaCk/aD1uZXcgVWludDhBcnJheShoLmJ1ZmZlcixoLmJ5dGVPZmZzZXQsaC5ieXRlTGVuZ3RoKTpBcnJheS5pc0FycmF5KGgpJiYoaD1VaW50OEFycmF5LmZyb20oaCkpKSwhKGggaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgVWludDhBcnJheVwiKTtpZihoLmxlbmd0aD09PTApcmV0dXJuXCJcIjtmb3IodmFyIGc9MCxTPTAsdj0wLEw9aC5sZW5ndGg7diE9PUwmJmhbdl09PT0wOyl2KyssZysrO2Zvcih2YXIgZD0oTC12KSpjKzE+Pj4wLG09bmV3IFVpbnQ4QXJyYXkoZCk7diE9PUw7KXtmb3IodmFyIEY9aFt2XSxxPTAsej1kLTE7KEYhPT0wfHxxPFMpJiZ6IT09LTE7ei0tLHErKylGKz0yNTYqbVt6XT4+PjAsbVt6XT1GJXU+Pj4wLEY9Ri91Pj4+MDtpZihGIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTtTPXEsdisrfWZvcih2YXIgST1kLVM7SSE9PWQmJm1bSV09PT0wOylJKys7Zm9yKHZhciBPPWkucmVwZWF0KGcpO0k8ZDsrK0kpTys9dC5jaGFyQXQobVtJXSk7cmV0dXJuIE99ZnVuY3Rpb24gcChoKXtpZih0eXBlb2YgaCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgU3RyaW5nXCIpO2lmKGgubGVuZ3RoPT09MClyZXR1cm4gbmV3IFVpbnQ4QXJyYXk7dmFyIGc9MDtpZihoW2ddIT09XCIgXCIpe2Zvcih2YXIgUz0wLHY9MDtoW2ddPT09aTspUysrLGcrKztmb3IodmFyIEw9KGgubGVuZ3RoLWcpKkQrMT4+PjAsZD1uZXcgVWludDhBcnJheShMKTtoW2ddOyl7dmFyIG09bltoLmNoYXJDb2RlQXQoZyldO2lmKG09PT0yNTUpcmV0dXJuO2Zvcih2YXIgRj0wLHE9TC0xOyhtIT09MHx8Rjx2KSYmcSE9PS0xO3EtLSxGKyspbSs9dSpkW3FdPj4+MCxkW3FdPW0lMjU2Pj4+MCxtPW0vMjU2Pj4+MDtpZihtIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTt2PUYsZysrfWlmKGhbZ10hPT1cIiBcIil7Zm9yKHZhciB6PUwtdjt6IT09TCYmZFt6XT09PTA7KXorKztmb3IodmFyIEk9bmV3IFVpbnQ4QXJyYXkoUysoTC16KSksTz1TO3ohPT1MOylJW08rK109ZFt6KytdO3JldHVybiBJfX19ZnVuY3Rpb24gdyhoKXt2YXIgZz1wKGgpO2lmKGcpcmV0dXJuIGc7dGhyb3cgbmV3IEVycm9yKGBOb24tJHtlfSBjaGFyYWN0ZXJgKX1yZXR1cm57ZW5jb2RlOmwsZGVjb2RlVW5zYWZlOnAsZGVjb2RlOnd9fXZhciBVcj1JcixUcj1Vcjtjb25zdCBIZT10PT57aWYodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJnQuY29uc3RydWN0b3IubmFtZT09PVwiVWludDhBcnJheVwiKXJldHVybiB0O2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiBuZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKTt0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9LEZyPXQ9Pm5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KSxOcj10PT5uZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodCk7Y2xhc3MgTHJ7Y29uc3RydWN0b3IoZSxuLHIpe3RoaXMubmFtZT1lLHRoaXMucHJlZml4PW4sdGhpcy5iYXNlRW5jb2RlPXJ9ZW5jb2RlKGUpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXJldHVybmAke3RoaXMucHJlZml4fSR7dGhpcy5iYXNlRW5jb2RlKGUpfWA7dGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9fWNsYXNzIE9ye2NvbnN0cnVjdG9yKGUsbixyKXtpZih0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD1uLG4uY29kZVBvaW50QXQoMCk9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcmVmaXggY2hhcmFjdGVyXCIpO3RoaXMucHJlZml4Q29kZVBvaW50PW4uY29kZVBvaW50QXQoMCksdGhpcy5iYXNlRGVjb2RlPXJ9ZGVjb2RlKGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXtpZihlLmNvZGVQb2ludEF0KDApIT09dGhpcy5wcmVmaXhDb2RlUG9pbnQpdGhyb3cgRXJyb3IoYFVuYWJsZSB0byBkZWNvZGUgbXVsdGliYXNlIHN0cmluZyAke0pTT04uc3RyaW5naWZ5KGUpfSwgJHt0aGlzLm5hbWV9IGRlY29kZXIgb25seSBzdXBwb3J0cyBpbnB1dHMgcHJlZml4ZWQgd2l0aCAke3RoaXMucHJlZml4fWApO3JldHVybiB0aGlzLmJhc2VEZWNvZGUoZS5zbGljZSh0aGlzLnByZWZpeC5sZW5ndGgpKX1lbHNlIHRocm93IEVycm9yKFwiQ2FuIG9ubHkgbXVsdGliYXNlIGRlY29kZSBzdHJpbmdzXCIpfW9yKGUpe3JldHVybiB6ZSh0aGlzLGUpfX1jbGFzcyBIcntjb25zdHJ1Y3RvcihlKXt0aGlzLmRlY29kZXJzPWV9b3IoZSl7cmV0dXJuIHplKHRoaXMsZSl9ZGVjb2RlKGUpe2NvbnN0IG49ZVswXSxyPXRoaXMuZGVjb2RlcnNbbl07aWYocilyZXR1cm4gci5kZWNvZGUoZSk7dGhyb3cgUmFuZ2VFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCBvbmx5IGlucHV0cyBwcmVmaXhlZCB3aXRoICR7T2JqZWN0LmtleXModGhpcy5kZWNvZGVycyl9IGFyZSBzdXBwb3J0ZWRgKX19Y29uc3QgemU9KHQsZSk9Pm5ldyBIcih7Li4udC5kZWNvZGVyc3x8e1t0LnByZWZpeF06dH0sLi4uZS5kZWNvZGVyc3x8e1tlLnByZWZpeF06ZX19KTtjbGFzcyB6cntjb25zdHJ1Y3RvcihlLG4scixvKXt0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD1uLHRoaXMuYmFzZUVuY29kZT1yLHRoaXMuYmFzZURlY29kZT1vLHRoaXMuZW5jb2Rlcj1uZXcgTHIoZSxuLHIpLHRoaXMuZGVjb2Rlcj1uZXcgT3IoZSxuLG8pfWVuY29kZShlKXtyZXR1cm4gdGhpcy5lbmNvZGVyLmVuY29kZShlKX1kZWNvZGUoZSl7cmV0dXJuIHRoaXMuZGVjb2Rlci5kZWNvZGUoZSl9fWNvbnN0IEJ0PSh7bmFtZTp0LHByZWZpeDplLGVuY29kZTpuLGRlY29kZTpyfSk9Pm5ldyB6cih0LGUsbixyKSxodD0oe3ByZWZpeDp0LG5hbWU6ZSxhbHBoYWJldDpufSk9Pntjb25zdHtlbmNvZGU6cixkZWNvZGU6b309VHIobixlKTtyZXR1cm4gQnQoe3ByZWZpeDp0LG5hbWU6ZSxlbmNvZGU6cixkZWNvZGU6cz0+SGUobyhzKSl9KX0sTXI9KHQsZSxuLHIpPT57Y29uc3Qgbz17fTtmb3IobGV0IGM9MDtjPGUubGVuZ3RoOysrYylvW2VbY11dPWM7bGV0IHM9dC5sZW5ndGg7Zm9yKDt0W3MtMV09PT1cIj1cIjspLS1zO2NvbnN0IGE9bmV3IFVpbnQ4QXJyYXkocypuLzh8MCk7bGV0IHU9MCxpPTAsRD0wO2ZvcihsZXQgYz0wO2M8czsrK2Mpe2NvbnN0IGw9b1t0W2NdXTtpZihsPT09dm9pZCAwKXRocm93IG5ldyBTeW50YXhFcnJvcihgTm9uLSR7cn0gY2hhcmFjdGVyYCk7aT1pPDxufGwsdSs9bix1Pj04JiYodS09OCxhW0QrK109MjU1Jmk+PnUpfWlmKHU+PW58fDI1NSZpPDw4LXUpdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2YgZGF0YVwiKTtyZXR1cm4gYX0scXI9KHQsZSxuKT0+e2NvbnN0IHI9ZVtlLmxlbmd0aC0xXT09PVwiPVwiLG89KDE8PG4pLTE7bGV0IHM9XCJcIixhPTAsdT0wO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KytpKWZvcih1PXU8PDh8dFtpXSxhKz04O2E+bjspYS09bixzKz1lW28mdT4+YV07aWYoYSYmKHMrPWVbbyZ1PDxuLWFdKSxyKWZvcig7cy5sZW5ndGgqbiY3OylzKz1cIj1cIjtyZXR1cm4gc30saz0oe25hbWU6dCxwcmVmaXg6ZSxiaXRzUGVyQ2hhcjpuLGFscGhhYmV0OnJ9KT0+QnQoe3ByZWZpeDplLG5hbWU6dCxlbmNvZGUobyl7cmV0dXJuIHFyKG8scixuKX0sZGVjb2RlKG8pe3JldHVybiBNcihvLHIsbix0KX19KSwkcj1CdCh7cHJlZml4OlwiXFwwXCIsbmFtZTpcImlkZW50aXR5XCIsZW5jb2RlOnQ9Pk5yKHQpLGRlY29kZTp0PT5Gcih0KX0pO3ZhciBrcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpZGVudGl0eTokcn0pO2NvbnN0IFJyPWsoe3ByZWZpeDpcIjBcIixuYW1lOlwiYmFzZTJcIixhbHBoYWJldDpcIjAxXCIsYml0c1BlckNoYXI6MX0pO3ZhciBqcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMjpScn0pO2NvbnN0IFpyPWsoe3ByZWZpeDpcIjdcIixuYW1lOlwiYmFzZThcIixhbHBoYWJldDpcIjAxMjM0NTY3XCIsYml0c1BlckNoYXI6M30pO3ZhciBHcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlODpacn0pO2NvbnN0IFZyPWh0KHtwcmVmaXg6XCI5XCIsbmFtZTpcImJhc2UxMFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OVwifSk7dmFyIFlyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UxMDpWcn0pO2NvbnN0IEpyPWsoe3ByZWZpeDpcImZcIixuYW1lOlwiYmFzZTE2XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmXCIsYml0c1BlckNoYXI6NH0pLEtyPWsoe3ByZWZpeDpcIkZcIixuYW1lOlwiYmFzZTE2dXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZcIixiaXRzUGVyQ2hhcjo0fSk7dmFyIFdyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UxNjpKcixiYXNlMTZ1cHBlcjpLcn0pO2NvbnN0IFhyPWsoe3ByZWZpeDpcImJcIixuYW1lOlwiYmFzZTMyXCIsYWxwaGFiZXQ6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2N1wiLGJpdHNQZXJDaGFyOjV9KSxQcj1rKHtwcmVmaXg6XCJCXCIsbmFtZTpcImJhc2UzMnVwcGVyXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2N1wiLGJpdHNQZXJDaGFyOjV9KSxRcj1rKHtwcmVmaXg6XCJjXCIsbmFtZTpcImJhc2UzMnBhZFwiLGFscGhhYmV0OlwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoyMzQ1Njc9XCIsYml0c1BlckNoYXI6NX0pLHRvPWsoe3ByZWZpeDpcIkNcIixuYW1lOlwiYmFzZTMycGFkdXBwZXJcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMjM0NTY3PVwiLGJpdHNQZXJDaGFyOjV9KSxlbz1rKHtwcmVmaXg6XCJ2XCIsbmFtZTpcImJhc2UzMmhleFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZcIixiaXRzUGVyQ2hhcjo1fSksbm89ayh7cHJlZml4OlwiVlwiLG5hbWU6XCJiYXNlMzJoZXh1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZcIixiaXRzUGVyQ2hhcjo1fSkscm89ayh7cHJlZml4OlwidFwiLG5hbWU6XCJiYXNlMzJoZXhwYWRcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2PVwiLGJpdHNQZXJDaGFyOjV9KSxvbz1rKHtwcmVmaXg6XCJUXCIsbmFtZTpcImJhc2UzMmhleHBhZHVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVj1cIixiaXRzUGVyQ2hhcjo1fSksc289ayh7cHJlZml4OlwiaFwiLG5hbWU6XCJiYXNlMzJ6XCIsYWxwaGFiZXQ6XCJ5Ym5kcmZnOGVqa21jcHF4b3QxdXdpc3phMzQ1aDc2OVwiLGJpdHNQZXJDaGFyOjV9KTt2YXIgaW89T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTMyOlhyLGJhc2UzMnVwcGVyOlByLGJhc2UzMnBhZDpRcixiYXNlMzJwYWR1cHBlcjp0byxiYXNlMzJoZXg6ZW8sYmFzZTMyaGV4dXBwZXI6bm8sYmFzZTMyaGV4cGFkOnJvLGJhc2UzMmhleHBhZHVwcGVyOm9vLGJhc2UzMno6c299KTtjb25zdCB1bz1odCh7cHJlZml4Olwia1wiLG5hbWU6XCJiYXNlMzZcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwifSksY289aHQoe3ByZWZpeDpcIktcIixuYW1lOlwiYmFzZTM2dXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwifSk7dmFyIGFvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UzNjp1byxiYXNlMzZ1cHBlcjpjb30pO2NvbnN0IGZvPWh0KHtuYW1lOlwiYmFzZTU4YnRjXCIscHJlZml4OlwielwiLGFscGhhYmV0OlwiMTIzNDU2Nzg5QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaYWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5elwifSksRG89aHQoe25hbWU6XCJiYXNlNThmbGlja3JcIixwcmVmaXg6XCJaXCIsYWxwaGFiZXQ6XCIxMjM0NTY3ODlhYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaXCJ9KTt2YXIgaG89T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTU4YnRjOmZvLGJhc2U1OGZsaWNrcjpEb30pO2NvbnN0IGxvPWsoe3ByZWZpeDpcIm1cIixuYW1lOlwiYmFzZTY0XCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsYml0c1BlckNoYXI6Nn0pLGJvPWsoe3ByZWZpeDpcIk1cIixuYW1lOlwiYmFzZTY0cGFkXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLGJpdHNQZXJDaGFyOjZ9KSxwbz1rKHtwcmVmaXg6XCJ1XCIsbmFtZTpcImJhc2U2NHVybFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktX1wiLGJpdHNQZXJDaGFyOjZ9KSx3bz1rKHtwcmVmaXg6XCJVXCIsbmFtZTpcImJhc2U2NHVybHBhZFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXz1cIixiaXRzUGVyQ2hhcjo2fSk7dmFyIEVvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U2NDpsbyxiYXNlNjRwYWQ6Ym8sYmFzZTY0dXJsOnBvLGJhc2U2NHVybHBhZDp3b30pO2NvbnN0IE1lPUFycmF5LmZyb20oXCJcXHV7MUY2ODB9XFx1ezFGQTkwfVxcdTI2MDRcXHV7MUY2RjB9XFx1ezFGMzBDfVxcdXsxRjMxMX1cXHV7MUYzMTJ9XFx1ezFGMzEzfVxcdXsxRjMxNH1cXHV7MUYzMTV9XFx1ezFGMzE2fVxcdXsxRjMxN31cXHV7MUYzMTh9XFx1ezFGMzBEfVxcdXsxRjMwRn1cXHV7MUYzMEV9XFx1ezFGNDA5fVxcdTI2MDBcXHV7MUY0QkJ9XFx1ezFGNUE1fVxcdXsxRjRCRX1cXHV7MUY0QkZ9XFx1ezFGNjAyfVxcdTI3NjRcXHV7MUY2MER9XFx1ezFGOTIzfVxcdXsxRjYwQX1cXHV7MUY2NEZ9XFx1ezFGNDk1fVxcdXsxRjYyRH1cXHV7MUY2MTh9XFx1ezFGNDREfVxcdXsxRjYwNX1cXHV7MUY0NEZ9XFx1ezFGNjAxfVxcdXsxRjUyNX1cXHV7MUY5NzB9XFx1ezFGNDk0fVxcdXsxRjQ5Nn1cXHV7MUY0OTl9XFx1ezFGNjIyfVxcdXsxRjkxNH1cXHV7MUY2MDZ9XFx1ezFGNjQ0fVxcdXsxRjRBQX1cXHV7MUY2MDl9XFx1MjYzQVxcdXsxRjQ0Q31cXHV7MUY5MTd9XFx1ezFGNDlDfVxcdXsxRjYxNH1cXHV7MUY2MEV9XFx1ezFGNjA3fVxcdXsxRjMzOX1cXHV7MUY5MjZ9XFx1ezFGMzg5fVxcdXsxRjQ5RX1cXHUyNzBDXFx1MjcyOFxcdXsxRjkzN31cXHV7MUY2MzF9XFx1ezFGNjBDfVxcdXsxRjMzOH1cXHV7MUY2NEN9XFx1ezFGNjBCfVxcdXsxRjQ5N31cXHV7MUY0OUF9XFx1ezFGNjBGfVxcdXsxRjQ5Qn1cXHV7MUY2NDJ9XFx1ezFGNDkzfVxcdXsxRjkyOX1cXHV7MUY2MDR9XFx1ezFGNjAwfVxcdXsxRjVBNH1cXHV7MUY2MDN9XFx1ezFGNEFGfVxcdXsxRjY0OH1cXHV7MUY0NDd9XFx1ezFGM0I2fVxcdXsxRjYxMn1cXHV7MUY5MkR9XFx1Mjc2M1xcdXsxRjYxQ31cXHV7MUY0OEJ9XFx1ezFGNDQwfVxcdXsxRjYyQX1cXHV7MUY2MTF9XFx1ezFGNEE1fVxcdXsxRjY0Qn1cXHV7MUY2MUV9XFx1ezFGNjI5fVxcdXsxRjYyMX1cXHV7MUY5MkF9XFx1ezFGNDRBfVxcdXsxRjk3M31cXHV7MUY2MjV9XFx1ezFGOTI0fVxcdXsxRjQ0OX1cXHV7MUY0ODN9XFx1ezFGNjMzfVxcdTI3MEJcXHV7MUY2MUF9XFx1ezFGNjFEfVxcdXsxRjYzNH1cXHV7MUYzMUZ9XFx1ezFGNjJDfVxcdXsxRjY0M31cXHV7MUYzNDB9XFx1ezFGMzM3fVxcdXsxRjYzQn1cXHV7MUY2MTN9XFx1MkI1MFxcdTI3MDVcXHV7MUY5N0F9XFx1ezFGMzA4fVxcdXsxRjYwOH1cXHV7MUY5MTh9XFx1ezFGNEE2fVxcdTI3MTRcXHV7MUY2MjN9XFx1ezFGM0MzfVxcdXsxRjQ5MH1cXHUyNjM5XFx1ezFGMzhBfVxcdXsxRjQ5OH1cXHV7MUY2MjB9XFx1MjYxRFxcdXsxRjYxNX1cXHV7MUYzM0F9XFx1ezFGMzgyfVxcdXsxRjMzQn1cXHV7MUY2MTB9XFx1ezFGNTk1fVxcdXsxRjQ5RH1cXHV7MUY2NEF9XFx1ezFGNjM5fVxcdXsxRjVFM31cXHV7MUY0QUJ9XFx1ezFGNDgwfVxcdXsxRjQ1MX1cXHV7MUYzQjV9XFx1ezFGOTFFfVxcdXsxRjYxQn1cXHV7MUY1MzR9XFx1ezFGNjI0fVxcdXsxRjMzQ31cXHV7MUY2MkJ9XFx1MjZCRFxcdXsxRjkxOX1cXHUyNjE1XFx1ezFGM0M2fVxcdXsxRjkyQn1cXHV7MUY0NDh9XFx1ezFGNjJFfVxcdXsxRjY0Nn1cXHV7MUYzN0J9XFx1ezFGMzQzfVxcdXsxRjQzNn1cXHV7MUY0ODF9XFx1ezFGNjMyfVxcdXsxRjMzRn1cXHV7MUY5RTF9XFx1ezFGMzgxfVxcdTI2QTFcXHV7MUYzMUV9XFx1ezFGMzg4fVxcdTI3NENcXHUyNzBBXFx1ezFGNDRCfVxcdXsxRjYzMH1cXHV7MUY5Mjh9XFx1ezFGNjM2fVxcdXsxRjkxRH1cXHV7MUY2QjZ9XFx1ezFGNEIwfVxcdXsxRjM1M31cXHV7MUY0QTJ9XFx1ezFGOTFGfVxcdXsxRjY0MX1cXHV7MUY2QTh9XFx1ezFGNEE4fVxcdXsxRjkyQ31cXHUyNzA4XFx1ezFGMzgwfVxcdXsxRjM3QX1cXHV7MUY5MTN9XFx1ezFGNjE5fVxcdXsxRjQ5Rn1cXHV7MUYzMzF9XFx1ezFGNjE2fVxcdXsxRjQ3Nn1cXHV7MUY5NzR9XFx1MjVCNlxcdTI3QTFcXHUyNzUzXFx1ezFGNDhFfVxcdXsxRjRCOH1cXHUyQjA3XFx1ezFGNjI4fVxcdXsxRjMxQX1cXHV7MUY5OEJ9XFx1ezFGNjM3fVxcdXsxRjU3QX1cXHUyNkEwXFx1ezFGNjQ1fVxcdXsxRjYxRn1cXHV7MUY2MzV9XFx1ezFGNDRFfVxcdXsxRjkzMn1cXHV7MUY5MjB9XFx1ezFGOTI3fVxcdXsxRjRDQ31cXHV7MUY1MzV9XFx1ezFGNDg1fVxcdXsxRjlEMH1cXHV7MUY0M0V9XFx1ezFGMzUyfVxcdXsxRjYxN31cXHV7MUY5MTF9XFx1ezFGMzBBfVxcdXsxRjkyRn1cXHV7MUY0Mzd9XFx1MjYwRVxcdXsxRjRBN31cXHV7MUY2MkZ9XFx1ezFGNDg2fVxcdXsxRjQ0Nn1cXHV7MUYzQTR9XFx1ezFGNjQ3fVxcdXsxRjM1MX1cXHUyNzQ0XFx1ezFGMzM0fVxcdXsxRjRBM31cXHV7MUY0Mzh9XFx1ezFGNDhDfVxcdXsxRjRDRH1cXHV7MUY5NDB9XFx1ezFGOTIyfVxcdXsxRjQ0NX1cXHV7MUY0QTF9XFx1ezFGNEE5fVxcdXsxRjQ1MH1cXHV7MUY0Rjh9XFx1ezFGNDdCfVxcdXsxRjkxMH1cXHV7MUY5MkV9XFx1ezFGM0JDfVxcdXsxRjk3NX1cXHV7MUY2QTl9XFx1ezFGMzRFfVxcdXsxRjM0QX1cXHV7MUY0N0N9XFx1ezFGNDhEfVxcdXsxRjRFM31cXHV7MUY5NDJ9XCIpLGdvPU1lLnJlZHVjZSgodCxlLG4pPT4odFtuXT1lLHQpLFtdKSx5bz1NZS5yZWR1Y2UoKHQsZSxuKT0+KHRbZS5jb2RlUG9pbnRBdCgwKV09bix0KSxbXSk7ZnVuY3Rpb24geG8odCl7cmV0dXJuIHQucmVkdWNlKChlLG4pPT4oZSs9Z29bbl0sZSksXCJcIil9ZnVuY3Rpb24gQm8odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCByPXlvW24uY29kZVBvaW50QXQoMCldO2lmKHI9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBOb24tYmFzZTI1NmVtb2ppIGNoYXJhY3RlcjogJHtufWApO2UucHVzaChyKX1yZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSl9Y29uc3QgQ289QnQoe3ByZWZpeDpcIlxcdXsxRjY4MH1cIixuYW1lOlwiYmFzZTI1NmVtb2ppXCIsZW5jb2RlOnhvLGRlY29kZTpCb30pO3ZhciBBbz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMjU2ZW1vamk6Q299KSxtbz0kZSxxZT0xMjgsX289MTI3LFNvPX5fbyx2bz1NYXRoLnBvdygyLDMxKTtmdW5jdGlvbiAkZSh0LGUsbil7ZT1lfHxbXSxuPW58fDA7Zm9yKHZhciByPW47dD49dm87KWVbbisrXT10JjI1NXxxZSx0Lz0xMjg7Zm9yKDt0JlNvOyllW24rK109dCYyNTV8cWUsdD4+Pj03O3JldHVybiBlW25dPXR8MCwkZS5ieXRlcz1uLXIrMSxlfXZhciBJbz1QdCxVbz0xMjgsa2U9MTI3O2Z1bmN0aW9uIFB0KHQscil7dmFyIG49MCxyPXJ8fDAsbz0wLHM9cixhLHU9dC5sZW5ndGg7ZG97aWYocz49dSl0aHJvdyBQdC5ieXRlcz0wLG5ldyBSYW5nZUVycm9yKFwiQ291bGQgbm90IGRlY29kZSB2YXJpbnRcIik7YT10W3MrK10sbis9bzwyOD8oYSZrZSk8PG86KGEma2UpKk1hdGgucG93KDIsbyksbys9N313aGlsZShhPj1Vbyk7cmV0dXJuIFB0LmJ5dGVzPXMtcixufXZhciBUbz1NYXRoLnBvdygyLDcpLEZvPU1hdGgucG93KDIsMTQpLE5vPU1hdGgucG93KDIsMjEpLExvPU1hdGgucG93KDIsMjgpLE9vPU1hdGgucG93KDIsMzUpLEhvPU1hdGgucG93KDIsNDIpLHpvPU1hdGgucG93KDIsNDkpLE1vPU1hdGgucG93KDIsNTYpLHFvPU1hdGgucG93KDIsNjMpLCRvPWZ1bmN0aW9uKHQpe3JldHVybiB0PFRvPzE6dDxGbz8yOnQ8Tm8/Mzp0PExvPzQ6dDxPbz81OnQ8SG8/Njp0PHpvPzc6dDxNbz84OnQ8cW8/OToxMH0sa289e2VuY29kZTptbyxkZWNvZGU6SW8sZW5jb2RpbmdMZW5ndGg6JG99LFJlPWtvO2NvbnN0IGplPSh0LGUsbj0wKT0+KFJlLmVuY29kZSh0LGUsbiksZSksWmU9dD0+UmUuZW5jb2RpbmdMZW5ndGgodCksUXQ9KHQsZSk9Pntjb25zdCBuPWUuYnl0ZUxlbmd0aCxyPVplKHQpLG89citaZShuKSxzPW5ldyBVaW50OEFycmF5KG8rbik7cmV0dXJuIGplKHQscywwKSxqZShuLHMscikscy5zZXQoZSxvKSxuZXcgUm8odCxuLGUscyl9O2NsYXNzIFJve2NvbnN0cnVjdG9yKGUsbixyLG8pe3RoaXMuY29kZT1lLHRoaXMuc2l6ZT1uLHRoaXMuZGlnZXN0PXIsdGhpcy5ieXRlcz1vfX1jb25zdCBHZT0oe25hbWU6dCxjb2RlOmUsZW5jb2RlOm59KT0+bmV3IGpvKHQsZSxuKTtjbGFzcyBqb3tjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5uYW1lPWUsdGhpcy5jb2RlPW4sdGhpcy5lbmNvZGU9cn1kaWdlc3QoZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe2NvbnN0IG49dGhpcy5lbmNvZGUoZSk7cmV0dXJuIG4gaW5zdGFuY2VvZiBVaW50OEFycmF5P1F0KHRoaXMuY29kZSxuKTpuLnRoZW4ocj0+UXQodGhpcy5jb2RlLHIpKX1lbHNlIHRocm93IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfX1jb25zdCBWZT10PT5hc3luYyBlPT5uZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCh0LGUpKSxabz1HZSh7bmFtZTpcInNoYTItMjU2XCIsY29kZToxOCxlbmNvZGU6VmUoXCJTSEEtMjU2XCIpfSksR289R2Uoe25hbWU6XCJzaGEyLTUxMlwiLGNvZGU6MTksZW5jb2RlOlZlKFwiU0hBLTUxMlwiKX0pO3ZhciBWbz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxzaGEyNTY6Wm8sc2hhNTEyOkdvfSk7Y29uc3QgWWU9MCxZbz1cImlkZW50aXR5XCIsSmU9SGUsSm89dD0+UXQoWWUsSmUodCkpLEtvPXtjb2RlOlllLG5hbWU6WW8sZW5jb2RlOkplLGRpZ2VzdDpKb307dmFyIFdvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGlkZW50aXR5OktvfSk7bmV3IFRleHRFbmNvZGVyLG5ldyBUZXh0RGVjb2Rlcjtjb25zdCBLZT17Li4ua3IsLi4uanIsLi4uR3IsLi4uWXIsLi4uV3IsLi4uaW8sLi4uYW8sLi4uaG8sLi4uRW8sLi4uQW99Oyh7Li4uVm8sLi4uV299KTtmdW5jdGlvbiBXZSh0LGUsbixyKXtyZXR1cm57bmFtZTp0LHByZWZpeDplLGVuY29kZXI6e25hbWU6dCxwcmVmaXg6ZSxlbmNvZGU6bn0sZGVjb2Rlcjp7ZGVjb2RlOnJ9fX1jb25zdCBYZT1XZShcInV0ZjhcIixcInVcIix0PT5cInVcIituZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIpLmRlY29kZSh0KSx0PT5uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodC5zdWJzdHJpbmcoMSkpKSx0ZT1XZShcImFzY2lpXCIsXCJhXCIsdD0+e2xldCBlPVwiYVwiO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUodFtuXSk7cmV0dXJuIGV9LHQ9Pnt0PXQuc3Vic3RyaW5nKDEpO2NvbnN0IGU9TGUodC5sZW5ndGgpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWVbbl09dC5jaGFyQ29kZUF0KG4pO3JldHVybiBlfSksUGU9e3V0Zjg6WGUsXCJ1dGYtOFwiOlhlLGhleDpLZS5iYXNlMTYsbGF0aW4xOnRlLGFzY2lpOnRlLGJpbmFyeTp0ZSwuLi5LZX07ZnVuY3Rpb24gY3QodCxlPVwidXRmOFwiKXtjb25zdCBuPVBlW2VdO2lmKCFuKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2V9XCJgKTtyZXR1cm4oZT09PVwidXRmOFwifHxlPT09XCJ1dGYtOFwiKSYmZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmZyb20hPW51bGw/Z2xvYmFsVGhpcy5CdWZmZXIuZnJvbSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKS50b1N0cmluZyhcInV0ZjhcIik6bi5lbmNvZGVyLmVuY29kZSh0KS5zdWJzdHJpbmcoMSl9ZnVuY3Rpb24gcnQodCxlPVwidXRmOFwiKXtjb25zdCBuPVBlW2VdO2lmKCFuKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2V9XCJgKTtyZXR1cm4oZT09PVwidXRmOFwifHxlPT09XCJ1dGYtOFwiKSYmZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmZyb20hPW51bGw/WHQoZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbSh0LFwidXRmLThcIikpOm4uZGVjb2Rlci5kZWNvZGUoYCR7bi5wcmVmaXh9JHt0fWApfWZ1bmN0aW9uIGx0KHQpe3JldHVybiBwbihjdChydCh0LER0KSxHdCkpfWZ1bmN0aW9uIGJ0KHQpe3JldHVybiBjdChydCh3bih0KSxHdCksRHQpfWZ1bmN0aW9uIFFlKHQpe2NvbnN0IGU9cnQoV3QsZHQpLG49S3QrY3QoT2UoW2UsdF0pLGR0KTtyZXR1cm5bWXQsSnQsbl0uam9pbihWdCl9ZnVuY3Rpb24gdG4odCl7Y29uc3RbZSxuLHJdPXQuc3BsaXQoVnQpO2lmKGUhPT1ZdHx8biE9PUp0KXRocm93IG5ldyBFcnJvcignSXNzdWVyIG11c3QgYmUgYSBESUQgd2l0aCBtZXRob2QgXCJrZXlcIicpO2lmKHIuc2xpY2UoMCwxKSE9PUt0KXRocm93IG5ldyBFcnJvcihcIklzc3VlciBtdXN0IGJlIGEga2V5IGluIG11bGljb2RlYyBmb3JtYXRcIik7Y29uc3Qgbz1ydChyLnNsaWNlKDEpLGR0KTtpZihjdChvLnNsaWNlKDAsMiksZHQpIT09V3QpdGhyb3cgbmV3IEVycm9yKCdJc3N1ZXIgbXVzdCBiZSBhIHB1YmxpYyBrZXkgd2l0aCB0eXBlIFwiRWQyNTUxOVwiJyk7Y29uc3Qgcz1vLnNsaWNlKDIpO2lmKHMubGVuZ3RoIT09RmUpdGhyb3cgbmV3IEVycm9yKFwiSXNzdWVyIG11c3QgYmUgYSBwdWJsaWMga2V5IHdpdGggbGVuZ3RoIDMyIGJ5dGVzXCIpO3JldHVybiBzfWZ1bmN0aW9uIGVuKHQpe3JldHVybiBjdCh0LER0KX1mdW5jdGlvbiBubih0KXtyZXR1cm4gcnQodCxEdCl9ZnVuY3Rpb24gcm4odCl7cmV0dXJuIHJ0KFtidCh0LmhlYWRlciksYnQodC5wYXlsb2FkKV0uam9pbih1dCkseHQpfWZ1bmN0aW9uIFhvKHQpe2NvbnN0IGU9Y3QodCx4dCkuc3BsaXQodXQpLG49bHQoZVswXSkscj1sdChlWzFdKTtyZXR1cm57aGVhZGVyOm4scGF5bG9hZDpyfX1mdW5jdGlvbiBvbih0KXtyZXR1cm5bYnQodC5oZWFkZXIpLGJ0KHQucGF5bG9hZCksZW4odC5zaWduYXR1cmUpXS5qb2luKHV0KX1mdW5jdGlvbiBzbih0KXtjb25zdCBlPXQuc3BsaXQodXQpLG49bHQoZVswXSkscj1sdChlWzFdKSxvPW5uKGVbMl0pLHM9cnQoZS5zbGljZSgwLDIpLmpvaW4odXQpLHh0KTtyZXR1cm57aGVhZGVyOm4scGF5bG9hZDpyLHNpZ25hdHVyZTpvLGRhdGE6c319ZnVuY3Rpb24gUG8odD1oZShOZSkpe2NvbnN0IGU9UnQuZ2V0UHVibGljS2V5KHQpO3JldHVybntzZWNyZXRLZXk6T2UoW3QsZV0pLHB1YmxpY0tleTplfX1hc3luYyBmdW5jdGlvbiBRbyh0LGUsbixyLG89Ym4oRGF0ZS5ub3coKSkpe2NvbnN0IHM9e2FsZzpqdCx0eXA6WnR9LGE9UWUoci5wdWJsaWNLZXkpLHU9bytuLGk9e2lzczphLHN1Yjp0LGF1ZDplLGlhdDpvLGV4cDp1fSxEPXJuKHtoZWFkZXI6cyxwYXlsb2FkOml9KSxjPVJ0LnNpZ24oRCxyLnNlY3JldEtleS5zbGljZSgwLDMyKSk7cmV0dXJuIG9uKHtoZWFkZXI6cyxwYXlsb2FkOmksc2lnbmF0dXJlOmN9KX1hc3luYyBmdW5jdGlvbiB0cyh0KXtjb25zdHtoZWFkZXI6ZSxwYXlsb2FkOm4sZGF0YTpyLHNpZ25hdHVyZTpvfT1zbih0KTtpZihlLmFsZyE9PWp0fHxlLnR5cCE9PVp0KXRocm93IG5ldyBFcnJvcihcIkpXVCBtdXN0IHVzZSBFZERTQSBhbGdvcml0aG1cIik7Y29uc3Qgcz10bihuLmlzcyk7cmV0dXJuIFJ0LnZlcmlmeShvLHIscyl9ZXhwb3J0e3h0IGFzIERBVEFfRU5DT0RJTkcsVnQgYXMgRElEX0RFTElNSVRFUixKdCBhcyBESURfTUVUSE9ELFl0IGFzIERJRF9QUkVGSVgsR3QgYXMgSlNPTl9FTkNPRElORyx1dCBhcyBKV1RfREVMSU1JVEVSLER0IGFzIEpXVF9FTkNPRElORyxqdCBhcyBKV1RfSVJJRElVTV9BTEcsWnQgYXMgSldUX0lSSURJVU1fVFlQLE5lIGFzIEtFWV9QQUlSX1NFRURfTEVOR1RILEt0IGFzIE1VTFRJQ09ERUNfRUQyNTUxOV9CQVNFLGR0IGFzIE1VTFRJQ09ERUNfRUQyNTUxOV9FTkNPRElORyxXdCBhcyBNVUxUSUNPREVDX0VEMjU1MTlfSEVBREVSLEZlIGFzIE1VTFRJQ09ERUNfRUQyNTUxOV9MRU5HVEgsWG8gYXMgZGVjb2RlRGF0YSx0biBhcyBkZWNvZGVJc3MsbHQgYXMgZGVjb2RlSlNPTixzbiBhcyBkZWNvZGVKV1Qsbm4gYXMgZGVjb2RlU2lnLHJuIGFzIGVuY29kZURhdGEsUWUgYXMgZW5jb2RlSXNzLGJ0IGFzIGVuY29kZUpTT04sb24gYXMgZW5jb2RlSldULGVuIGFzIGVuY29kZVNpZyxQbyBhcyBnZW5lcmF0ZUtleVBhaXIsUW8gYXMgc2lnbkpXVCx0cyBhcyB2ZXJpZnlKV1R9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/safe-json/dist/esm/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   safeJsonParse: () => (/* binding */ safeJsonParse),\n/* harmony export */   safeJsonStringify: () => (/* binding */ safeJsonStringify)\n/* harmony export */ });\nconst JSONStringify = data => JSON.stringify(data, (_, value) => typeof value === \"bigint\" ? value.toString() + \"n\" : value);\nconst JSONParse = json => {\n    const numbersBiggerThanMaxInt = /([\\[:])?(\\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\\}\\]])/g;\n    const serializedData = json.replace(numbersBiggerThanMaxInt, \"$1\\\"$2n\\\"$3\");\n    return JSON.parse(serializedData, (_, value) => {\n        const isCustomFormatBigInt = typeof value === \"string\" && value.match(/^\\d+n$/);\n        if (isCustomFormatBigInt)\n            return BigInt(value.substring(0, value.length - 1));\n        return value;\n    });\n};\nfunction safeJsonParse(value) {\n    if (typeof value !== \"string\") {\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSONParse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nfunction safeJsonStringify(value) {\n    return typeof value === \"string\" ? value : JSONStringify(value) || \"\";\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBLGlEQUFpRCxJQUFJLDZPQUE2TztBQUNsUztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0EsZ0VBQWdFLGFBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3NhZmUtanNvbi9kaXN0L2VzbS9pbmRleC5qcz9lYzYyIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpTT05TdHJpbmdpZnkgPSBkYXRhID0+IEpTT04uc3RyaW5naWZ5KGRhdGEsIChfLCB2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiID8gdmFsdWUudG9TdHJpbmcoKSArIFwiblwiIDogdmFsdWUpO1xuY29uc3QgSlNPTlBhcnNlID0ganNvbiA9PiB7XG4gICAgY29uc3QgbnVtYmVyc0JpZ2dlclRoYW5NYXhJbnQgPSAvKFtcXFs6XSk/KFxcZHsxNyx9fCg/Ols5XSg/OlsxLTldMDcxOTkyNTQ3NDA5OTF8MFsxLTldNzE5OTI1NDc0MDk5MXwwMFs4LTldMTk5MjU0NzQwOTkxfDAwN1syLTldOTkyNTQ3NDA5OTF8MDA3MTk5WzMtOV01NDc0MDk5MXwwMDcxOTkyWzYtOV00NzQwOTkxfDAwNzE5OTI1WzUtOV03NDA5OTF8MDA3MTk5MjU0WzgtOV00MDk5MXwwMDcxOTkyNTQ3WzUtOV0wOTkxfDAwNzE5OTI1NDc0WzEtOV05OTF8MDA3MTk5MjU0NzQwOTlbMi05XSkpKShbLFxcfVxcXV0pL2c7XG4gICAgY29uc3Qgc2VyaWFsaXplZERhdGEgPSBqc29uLnJlcGxhY2UobnVtYmVyc0JpZ2dlclRoYW5NYXhJbnQsIFwiJDFcXFwiJDJuXFxcIiQzXCIpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKHNlcmlhbGl6ZWREYXRhLCAoXywgdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgaXNDdXN0b21Gb3JtYXRCaWdJbnQgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUubWF0Y2goL15cXGQrbiQvKTtcbiAgICAgICAgaWYgKGlzQ3VzdG9tRm9ybWF0QmlnSW50KVxuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMSkpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVKc29uUGFyc2UodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHNhZmUganNvbiBwYXJzZSB2YWx1ZSBvZiB0eXBlICR7dHlwZW9mIHZhbHVlfWApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTlBhcnNlKHZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2FmZUpzb25TdHJpbmdpZnkodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUgOiBKU09OU3RyaW5naWZ5KHZhbHVlKSB8fCBcIlwiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/sign-client/dist/index.es.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/sign-client/dist/index.es.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONTEXT: () => (/* binding */ ft),\n/* harmony export */   AUTH_KEYS_CONTEXT: () => (/* binding */ Et),\n/* harmony export */   AUTH_PAIRING_TOPIC_CONTEXT: () => (/* binding */ St),\n/* harmony export */   AUTH_PROTOCOL: () => (/* binding */ _t),\n/* harmony export */   AUTH_PUBLIC_KEY_NAME: () => (/* binding */ pe),\n/* harmony export */   AUTH_REQUEST_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   AUTH_STORAGE_PREFIX: () => (/* binding */ le),\n/* harmony export */   AUTH_VERSION: () => (/* binding */ Ns),\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ gt),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ M),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ P),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Ts),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ Is),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ qs),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ mt),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ dt),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ Ps),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ Me),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ wt),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ ut),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ B),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ _e),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ De),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ me),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ Rs),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ Ce),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ vs),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ we),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ ke),\n/* harmony export */   SessionStore: () => (/* binding */ Qs),\n/* harmony export */   SignClient: () => (/* binding */ Hs),\n/* harmony export */   TVF_METHODS: () => (/* binding */ yt),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ Le),\n/* harmony export */   \"default\": () => (/* binding */ fe)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(ssr)/./node_modules/@walletconnect/core/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst Ce=\"wc\",ke=2,De=\"client\",we=`${Ce}@${ke}:${De}:`,me={name:De,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.org\"},Rs={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_authenticate:\"session_authenticate\",session_request_expire:\"session_request_expire\",session_connect:\"session_connect\"},vs={database:\":memory:\"},Le=\"WALLETCONNECT_DEEPLINK_CHOICE\",Is={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Ts=\"history\",qs=\"0.3\",dt=\"proposal\",Ps=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.THIRTY_DAYS,Me=\"Proposal expired\",ut=\"session\",B=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS,gt=\"engine\",P={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS},M={idle:\"IDLE\",active:\"ACTIVE\"},yt={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"},sui_signAndExecuteTransaction:{key:\"digest\"},sui_signTransaction:{key:\"\"},hedera_signAndExecuteTransaction:{key:\"transactionId\"},hedera_executeTransaction:{key:\"transactionId\"},near_signTransaction:{key:\"\"},near_signTransactions:{key:\"\"},tron_signTransaction:{key:\"txID\"},xrpl_signTransaction:{key:\"\"},xrpl_signTransactionFor:{key:\"\"},algo_signTxn:{key:\"\"},sendTransfer:{key:\"txid\"},stacks_stxTransfer:{key:\"txId\"},polkadot_signTransaction:{key:\"\"},cosmos_signDirect:{key:\"\"}},wt=\"request\",mt=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],_t=\"wc\",Ns=1.5,ft=\"auth\",Et=\"authKeys\",St=\"pairingTopics\",Rt=\"requests\",le=`${_t}@${1.5}:${ft}:`,pe=`${le}:PUB_KEY`;var Os=Object.defineProperty,bs=Object.defineProperties,As=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,xs=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,$e=(E,o,t)=>o in E?Os(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,R=(E,o)=>{for(var t in o||(o={}))xs.call(o,t)&&$e(E,t,o[t]);if(vt)for(var t of vt(o))Vs.call(o,t)&&$e(E,t,o[t]);return E},O=(E,o)=>bs(E,As(o)),c=(E,o,t)=>$e(E,typeof o!=\"symbol\"?o+\"\":o,t);class Cs extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(o){super(o),c(this,\"name\",gt),c(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_1___default())),c(this,\"initialized\",!1),c(this,\"requestQueue\",{state:M.idle,queue:[]}),c(this,\"sessionRequestQueue\",{state:M.idle,queue:[]}),c(this,\"emittedSessionRequests\",new _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.LimitedSet({limit:500})),c(this,\"requestQueueDelay\",_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_SECOND),c(this,\"expectedPairingMethodMap\",new Map),c(this,\"recentlyDeletedMap\",new Map),c(this,\"recentlyDeletedLimit\",200),c(this,\"relayMessageCache\",[]),c(this,\"pendingSessions\",new Map),c(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(P)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay)))}),c(this,\"connect\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const e=O(R({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e),e.optionalNamespaces=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeRequiredAndOptionalNamespaces)(e.requiredNamespaces,e.optionalNamespaces),e.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:n,scopedProperties:a,relays:l}=e;let p=s,h,u=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),u=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:$}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=T,h=$}if(!p){const{message:T}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),y=P.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,w=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(y),m=O(R(R({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:p},n&&{sessionProperties:n}),a&&{scopedProperties:a}),{id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()}),S=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",m.id),{reject:_,resolve:b,done:C}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(y,Me),I=({id:T})=>{T===m.id&&(this.client.events.off(\"proposal_expire\",I),this.pendingSessions.delete(m.id),this.events.emit(S,{error:{message:Me,code:0}}))};return this.client.events.on(\"proposal_expire\",I),this.events.once(S,({error:T,session:$})=>{this.client.events.off(\"proposal_expire\",I),T?_(T):$&&b($)}),await this.sendProposeSession({proposal:m,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:m.id}}}),await this.setProposal(m.id,m),{uri:h,approval:C}}),c(this,\"pair\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(e){throw this.client.logger.error(\"pair() failed\"),e}}),c(this,\"approve\",async t=>{var e,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(e=t?.id)==null?void 0:e.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),N}try{await this.isValidProposalId(t?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),N}try{await this.isValidApprove(t)}catch(N){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),N}const{id:n,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t,d=this.client.proposal.get(n);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:y,proposer:w,requiredNamespaces:m,optionalNamespaces:S}=d;let _=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:y});_||(_=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:y,trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),C=w.publicKey,I=await this.client.core.crypto.generateSharedKey(b,C),T=R(R(R({relay:{protocol:a??\"irn\"},namespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),$=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:$,internal:{skipSubscribe:!0}})}catch(N){throw _.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),N}_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);const Ee=O(R({},T),{topic:I,requiredNamespaces:m,optionalNamespaces:S,pairingTopic:y,acknowledged:!1,self:T.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:b,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(I,Ee),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.store_session);try{await this.sendApproveSession({sessionTopic:I,proposal:d,pairingProposalResponse:{relay:{protocol:a??\"irn\"},responderPublicKey:b},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:n}}}),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(I),N}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:w.metadata}),await this.deleteProposal(n),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),c(this,\"reject\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(r){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),r}const{id:e,reason:s}=t;let i;try{i=this.client.proposal.get(e).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${e}) failed`),r}i&&await this.sendError({id:e,topic:i,error:s,rpcOpts:P.wc_sessionPropose.reject}),await this.deleteProposal(e)}),c(this,\"update\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:e,namespaces:s}=t,{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(),a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),p=this.client.session.get(e).namespaces;return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",a),({error:h})=>{h?n(h):r()}),await this.client.session.update(e,{namespaces:s}),await this.sendRequest({topic:e,method:\"wc_sessionUpdate\",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(e,{namespaces:p}),n(h)}),{acknowledged:i}}),c(this,\"extend\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(a){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),a}const{topic:e}=t,s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),({error:a})=>{a?n(a):r()}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B)),this.sendRequest({topic:e,method:\"wc_sessionExtend\",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{n(a)}),{acknowledged:i}}),c(this,\"request\",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(m){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),m}const{chainId:e,request:s,topic:i,expiry:r=P.wc_sessionRequest.req.ttl}=t,n=this.client.session.get(i);n?.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:p,resolve:h,reject:u}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(r,\"Request expired. Please try again.\");this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",a),({error:m,result:S})=>{m?u(m):h(S)});const d=\"wc_sessionRequest\",y=this.getAppLinkIfEnabled(n.peer.metadata,n.transportType);if(y)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:O(R({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:e},expiry:r,throwOnFailedPublish:!0,appLink:y}).catch(m=>u(m)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:e,id:a}),await p();const w={request:O(R({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:e};return await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:w,expiry:r,throwOnFailedPublish:!0,tvf:this.getTVFParams(a,w)}).catch(S=>u(S)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:e,id:a}),m()}),new Promise(async m=>{var S;if(!((S=n.sessionConfig)!=null&&S.disableDeepLink)){const _=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,Le);await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:a,topic:i,wcDeepLink:_})}m()}),p()]).then(m=>m[2])}),c(this,\"respond\",async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:e,response:s}=t,{id:i}=s,r=this.client.session.get(e);r.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const n=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?await this.sendResult({id:i,topic:e,result:s.result,throwOnFailedPublish:!0,appLink:n}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&await this.sendError({id:i,topic:e,error:s.error,appLink:n}),this.cleanupAfterResponse(t)}),c(this,\"ping\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(s){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),s}const{topic:e}=t;if(this.client.session.keys.includes(e)){const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:r,resolve:n,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),({error:l})=>{l?a(l):n()}),await Promise.all([this.sendRequest({topic:e,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(e)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:e}))}),c(this,\"emit\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:e,event:s,chainId:i}=t,r=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),n=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();await this.sendRequest({topic:e,method:\"wc_sessionEvent\",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:n})}),c(this,\"disconnect\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:e}=t;if(this.client.session.keys.includes(e))await this.sendRequest({topic:e,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:e,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(e))await this.client.core.pairing.disconnect({topic:e});else{const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${e}`);throw new Error(s)}}),c(this,\"find\",t=>(this.isInitialized(),this.client.session.getAll().filter(e=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(e,t)))),c(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),c(this,\"authenticate\",async(t,e)=>{var s;this.isInitialized(),this.isValidAuthenticate(t);const i=e&&this.client.core.linkModeSupportedApps.includes(e)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;r===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const{chains:n,statement:a=\"\",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:y,methods:w=[],expiry:m}=t,S=[...t.resources||[]],{topic:_,uri:b}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:r});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:_,uri:b}});const C=await this.client.core.crypto.generateKeyPair(),I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(C);if(await Promise.all([this.client.auth.authKeys.set(pe,{responseTopic:I,publicKey:C}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:_})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${_}`),w.length>0){const{namespace:A}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(n[0]);let k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createEncodedRecap)(A,\"request\",w);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(S)&&(k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeEncodedRecaps)(k,S.pop())),S.push(k)}const T=m&&m>P.wc_sessionAuthenticate.req.ttl?m:P.wc_sessionAuthenticate.req.ttl,$={authPayload:{type:u??\"caip122\",chains:n,statement:a,aud:l,domain:p,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:d,nbf:y,resources:S},requester:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(T)},Ee={eip155:{chains:n,methods:[...new Set([\"personal_sign\",...w])],events:[\"chainChanged\",\"accountsChanged\"]}},N={requiredNamespaces:{},optionalNamespaces:Ee,relays:[{protocol:\"irn\"}],pairingTopic:_,proposer:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl),id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()},{done:Tt,resolve:Ue,reject:Se}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(T,\"Request expired\"),se=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),he=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",N.id),Re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",se),de=async({error:A,session:k})=>{this.events.off(Re,ve),A?Se(A):k&&Ue({session:k})},ve=async A=>{var k,Ge,je;if(await this.deletePendingAuthRequest(se,{message:\"fulfilled\",code:0}),A.error){const re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return A.error.code===re.code?void 0:(this.events.off(he,de),Se(A.error.message))}await this.deleteProposal(N.id),this.events.off(he,de);const{cacaos:Fe,responder:H}=A.result,Te=[],Qe=[];for(const re of Fe){await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:re,projectId:this.client.core.projectId})||(this.client.logger.error(re,\"Signature verification failed\"),Se((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:qe}=re,Pe=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(qe.resources),He=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(qe.iss)],qt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(qe.iss);if(Pe){const Ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(Pe),Pt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(Pe);Te.push(...Ne),He.push(...Pt)}for(const Ne of He)Qe.push(`${Ne}:${qt}`)}const ie=await this.client.core.crypto.generateSharedKey(C,H.publicKey);let ue;Te.length>0&&(ue={topic:ie,acknowledged:!0,self:{publicKey:C,metadata:this.client.metadata},peer:H,controller:H.publicKey,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:_,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(Te)],[...new Set(Qe)]),transportType:r},await this.client.core.relayer.subscribe(ie,{transportType:r}),await this.client.session.set(ie,ue),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:H.metadata}),ue=this.client.session.get(ie)),(k=this.client.metadata.redirect)!=null&&k.linkMode&&(Ge=H.metadata.redirect)!=null&&Ge.linkMode&&(je=H.metadata.redirect)!=null&&je.universal&&e&&(this.client.core.addLinkModeSupportedApp(H.metadata.redirect.universal),this.client.session.update(ie,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode})),Ue({auths:Fe,session:ue})};this.events.once(he,de),this.events.once(Re,ve);let Ie;try{if(i){const A=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionAuthenticate\",$,se);this.client.core.history.set(_,A);const k=await this.client.core.crypto.encode(\"\",A,{type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_2,encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL});Ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(e,_,k)}else await Promise.all([this.sendRequest({topic:_,method:\"wc_sessionAuthenticate\",params:$,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:se}),this.sendRequest({topic:_,method:\"wc_sessionPropose\",params:N,expiry:P.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(A){throw this.events.off(he,de),this.events.off(Re,ve),A}return await this.setProposal(N.id,N),await this.setAuthRequest(se,{request:O(R({},$),{verifyContext:{}}),pairingTopic:_,transportType:r}),{uri:Ie??b,response:Tt}}),c(this,\"approveSessionAuthenticate\",async t=>{const{id:e,auths:s}=t,i=this.client.core.eventClient.createEvent({properties:{topic:e.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),m}const r=this.getPendingAuthRequest(e);if(!r)throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${e}`);const n=r.transportType||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(a),h={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const m of s){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:m,projectId:this.client.core.projectId})){i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:e,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);const{p:S}=m,_=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(S.resources),b=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(S.iss)],C=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(S.iss);if(_){const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(_),T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(_);u.push(...I),b.push(...T)}for(const I of b)d.push(`${I}:${C}`)}const y=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let w;if(u?.length>0){w={topic:y,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:r.pairingTopic,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(u)],[...new Set(d)]),transportType:n},i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:n})}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),m}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(y,w),i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:e,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,n)})}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(e,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:w}}),c(this,\"rejectSessionAuthenticate\",async t=>{this.isInitialized();const{id:e,reason:s}=t,i=this.getPendingAuthRequest(e);if(!i)throw new Error(`Could not find pending auth request with id ${e}`);i.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,n=await this.client.core.crypto.generateKeyPair(),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(r),l={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:r,senderPublicKey:n};await this.sendError({id:e,topic:a,error:s,encodeOpts:l,rpcOpts:P.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(e,{message:\"rejected\",code:0}),await this.deleteProposal(e)}),c(this,\"formatAuthMessage\",t=>{this.isInitialized();const{request:e,iss:s}=t;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.formatMessage)(e,s)}),c(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),c(this,\"cleanupDuplicatePairings\",async t=>{if(t.pairingTopic)try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,n;return((r=i.peerMetadata)==null?void 0:r.url)&&((n=i.peerMetadata)==null?void 0:n.url)===t.peer.metadata.url&&i.topic&&i.topic!==e.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(e){this.client.logger.error(e)}}),c(this,\"deleteSession\",async t=>{var e;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:n=0}=t,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(s,\"session\"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Le).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),s===((e=this.sessionRequestQueue.queue[0])==null?void 0:e.topic)&&(this.sessionRequestQueue.state=M.idle),r&&this.client.events.emit(\"session_delete\",{id:n,topic:s})}),c(this,\"deleteProposal\",async(t,e)=>{if(e)try{const s=this.client.proposal.get(t),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),e?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,\"proposal\")}),c(this,\"deletePendingSessionRequest\",async(t,e,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),s?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==t),s&&(this.sessionRequestQueue.state=M.idle,this.client.events.emit(\"session_request_expire\",{id:t}))}),c(this,\"deletePendingAuthRequest\",async(t,e,s=!1)=>{await Promise.all([this.client.auth.requests.delete(t,e),s?Promise.resolve():this.client.core.expirer.del(t)])}),c(this,\"setExpiry\",async(t,e)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,e),await this.client.session.update(t,{expiry:e}))}),c(this,\"setProposal\",async(t,e)=>{this.client.core.expirer.set(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,e)}),c(this,\"setAuthRequest\",async(t,e)=>{const{request:s,pairingTopic:i,transportType:r=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}=e;this.client.core.expirer.set(t,s.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:t,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})}),c(this,\"setPendingSessionRequest\",async t=>{const{id:e,topic:s,params:i,verifyContext:r}=t,n=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionRequest.req.ttl);this.client.core.expirer.set(e,n),await this.client.pendingRequest.set(e,{id:e,topic:s,params:i,verifyContext:r})}),c(this,\"sendRequest\",async t=>{const{topic:e,method:s,params:i,expiry:r,relayRpcId:n,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h,publishOpts:u={}}=t,d=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(s,i,a);let y;const w=!!p;try{const _=w?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;y=await this.client.core.crypto.encode(e,d,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${e} failed`),_}let m;if(mt.includes(s)){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(d)),b=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(y);m=await this.client.core.verify.register({id:b,decryptedId:_})}const S=R(R({},P[s].req),u);if(S.attestation=m,r&&(S.ttl=r),n&&(S.id=n),this.client.core.history.set(e,d),w){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(p,e,y);await global.Linking.openURL(_,this.client.name)}else S.tvf=O(R({},h),{correlationId:d.id}),l?(S.internal=O(R({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e,y,S)):this.client.core.relayer.publish(e,y,S).catch(_=>this.client.logger.error(_));return d.id}),c(this,\"sendProposeSession\",async t=>{const{proposal:e,publishOpts:s}=t,i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",e,e.id);this.client.core.history.set(e.pairingTopic,i);const r=await this.client.core.crypto.encode(e.pairingTopic,i,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64}),n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(r),l=await this.client.core.verify.register({id:a,decryptedId:n});await this.client.core.relayer.publishCustom({payload:{pairingTopic:e.pairingTopic,sessionProposal:r},opts:O(R({},s),{publishMethod:\"wc_proposeSession\",attestation:l})})}),c(this,\"sendApproveSession\",async t=>{const{sessionTopic:e,pairingProposalResponse:s,proposal:i,sessionSettleRequest:r,publishOpts:n}=t,a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,a,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64}),p=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionSettle\",r,n?.id),h=await this.client.core.crypto.encode(e,p,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});this.client.core.history.set(e,p),await this.client.core.relayer.publishCustom({payload:{sessionTopic:e,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:h},opts:O(R({},n),{publishMethod:\"wc_approveSession\"})})}),c(this,\"sendResult\",async t=>{const{id:e,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:n,appLink:a}=t,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(e,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const y=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,O(R({},n||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),y}let u,d;try{u=await this.client.core.history.get(s,e);const y=u.request;try{d=this.getTVFParams(e,y.params,i)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w?.message}`)}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${e}) failed`),y}if(h){const y=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(y,this.client.name)}else{const y=u.request.method,w=P[y].res;w.tvf=O(R({},d),{correlationId:e}),r?(w.internal=O(R({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,w)):this.client.core.relayer.publish(s,p,w).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),c(this,\"sendError\",async t=>{const{id:e,topic:s,error:i,encodeOpts:r,rpcOpts:n,appLink:a}=t,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(e,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const d=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,O(R({},r||{}),{encoding:d}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,e)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${e}) failed`),d}if(h){const d=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(d,this.client.name)}else{const d=u.request.method,y=n||P[d].res;this.client.core.relayer.publish(s,p,y)}await this.client.core.history.resolve(l)}),c(this,\"cleanup\",async()=>{const t=[],e=[];this.client.session.getAll().forEach(s=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&t.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiryTimestamp)&&e.push(s.id)}),await Promise.all([...t.map(s=>this.deleteSession({topic:s})),...e.map(s=>this.deleteProposal(s))])}),c(this,\"onProviderMessageEvent\",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),c(this,\"onRelayEventRequest\",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),c(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===M.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=M.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=M.idle}),c(this,\"processRequest\",async t=>{const{topic:e,payload:s,attestation:i,transportType:r,encryptedId:n}=t,a=s.method;if(!this.shouldIgnorePairingRequest({topic:e,requestMethod:a}))switch(a){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:e,payload:s,attestation:i,encryptedId:n});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(e,s);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(e,s);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(e,s);case\"wc_sessionPing\":return await this.onSessionPingRequest(e,s);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(e,s);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:e,payload:s,attestation:i,encryptedId:n,transportType:r});case\"wc_sessionEvent\":return await this.onSessionEventRequest(e,s);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:e,payload:s,attestation:i,encryptedId:n,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c(this,\"onRelayEventResponse\",async t=>{const{topic:e,payload:s,transportType:i}=t,r=(await this.client.core.history.get(e,s.id)).request.method;switch(r){case\"wc_sessionPropose\":return this.onSessionProposeResponse(e,s,i);case\"wc_sessionSettle\":return this.onSessionSettleResponse(e,s);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(e,s);case\"wc_sessionExtend\":return this.onSessionExtendResponse(e,s);case\"wc_sessionPing\":return this.onSessionPingResponse(e,s);case\"wc_sessionRequest\":return this.onSessionRequestResponse(e,s);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(e,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c(this,\"onRelayEventUnknownPayload\",t=>{const{topic:e}=t,{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c(this,\"shouldIgnorePairingRequest\",t=>{const{topic:e,requestMethod:s}=t,i=this.expectedPairingMethodMap.get(e);return!i||i.includes(s)?!1:!!(i.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),c(this,\"onSessionProposeRequest\",async t=>{const{topic:e,payload:s,attestation:i,encryptedId:r}=t,{params:n,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:e});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),this.isValidConnect(R({},s.params));const p=n.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl),h=R({id:a,pairingTopic:e,expiryTimestamp:p,attestation:i,encryptedId:r},n);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:a,params:h,verifyContext:u})}catch(l){await this.sendError({id:a,topic:e,error:l,rpcOpts:P.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),c(this,\"onSessionProposeResponse\",async(t,e,s)=>{const{id:i}=e;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)){const{result:r}=e;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:r});const n=this.client.proposal.get(i);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:n});const a=n.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:t,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:t})}else if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)){await this.deleteProposal(i);const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:e.error})}}),c(this,\"onSessionSettleRequest\",async(t,e)=>{const{id:s,params:i}=e;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:n,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e.params,d=[...this.pendingSessions.values()].find(m=>m.sessionTopic===t);if(!d)return this.client.logger.error(`Pending session not found for topic ${t}`);const y=this.client.proposal.get(d.proposalId),w=O(R(R(R({topic:t,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:n.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit(\"session_connect\",{session:w}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",d.proposalId),{session:w}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:e.id,topic:t,result:!0})}catch(r){await this.sendError({id:s,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionSettleResponse\",async(t,e)=>{const{id:s}=e;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&(await this.client.session.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{error:e.error}))}),c(this,\"onSessionUpdateRequest\",async(t,e)=>{const{params:s,id:i}=e;try{const r=`${t}_session_update`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:t,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(R({topic:t},s));try{_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,i),await this.client.session.update(t,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:t,result:!0})}catch(a){throw _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.delete(r),a}this.client.events.emit(\"session_update\",{id:i,topic:t,params:s})}catch(r){await this.sendError({id:i,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"isRequestOutOfSync\",(t,e)=>e.toString().slice(0,-3)<t.toString().slice(0,-3)),c(this,\"onSessionUpdateResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{error:e.error})}),c(this,\"onSessionExtendRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B)),await this.sendResult({id:s,topic:t,result:!0}),this.client.events.emit(\"session_extend\",{id:s,topic:t})}catch(i){await this.sendError({id:s,topic:t,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionExtendResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{error:e.error})}),c(this,\"onSessionPingRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidPing({topic:t}),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:s,topic:t})}catch(i){await this.sendError({id:s,topic:t,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionPingResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{error:e.error})},500)}),c(this,\"onSessionDeleteRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:t,id:s}))})}),this.sendResult({id:s,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),c(this,\"onSessionRequest\",async t=>{var e,s,i;const{topic:r,payload:n,attestation:a,encryptedId:l,transportType:p}=t,{id:h,params:u}=n;try{await this.isValidRequest(R({topic:r},u));const d=this.client.session.get(r),y=await this.getVerifyContext({attestationId:a,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),w={id:h,topic:r,params:u,verifyContext:y};await this.setPendingSessionRequest(w),p===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(e=d.peer.metadata.redirect)!=null&&e.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d)}}),c(this,\"onSessionRequestResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:e.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:e.error})}),c(this,\"onSessionEventRequest\",async(t,e)=>{const{id:s,params:i}=e;try{const r=`${t}_session_event_${i.event.name}`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(R({topic:t},i)),this.client.events.emit(\"session_event\",{id:s,topic:t,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,s)}catch(r){await this.sendError({id:s,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionAuthenticateResponse\",(t,e)=>{const{id:s}=e;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:t,payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:e.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:e.error})}),c(this,\"onSessionAuthenticateRequest\",async t=>{var e;const{topic:s,payload:i,attestation:r,encryptedId:n,transportType:a}=t;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),encryptedId:n,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(e=l.metadata.redirect)!=null&&e.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:s,params:i.params,id:i.id,verifyContext:u})}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:P.wc_sessionAuthenticate.autoReject,appLink:u})}}),c(this,\"addSessionRequestToSessionRequestQueue\",t=>{this.sessionRequestQueue.queue.push(t)}),c(this,\"cleanupAfterResponse\",t=>{this.deletePendingSessionRequest(t.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=M.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay))}),c(this,\"cleanupPendingSentRequestsForTopic\",({topic:t,error:e})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===t&&i.request.method===\"wc_sessionRequest\").forEach(i=>{const r=i.request.id,n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",r);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:e})})}),c(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===M.active){this.client.logger.info(\"session request queue is already active.\");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info(\"session request queue is empty.\");return}try{this.emitSessionRequest(t)}catch(e){this.client.logger.error(e)}}),c(this,\"emitSessionRequest\",t=>{if(this.emittedSessionRequests.has(t.id)){this.client.logger.warn({id:t.id},`Skipping emitting \\`session_request\\` event for duplicate request. id: ${t.id}`);return}this.sessionRequestQueue.state=M.active,this.emittedSessionRequests.add(t.id),this.client.events.emit(\"session_request\",t)}),c(this,\"onPairingCreated\",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const e=this.client.proposal.getAll().find(s=>s.pairingTopic===t.topic);e&&this.onSessionProposeRequest({topic:t.topic,payload:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",O(R({},e),{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer,sessionProperties:e.sessionProperties,scopedProperties:e.scopedProperties}),e.id),attestation:e.attestation,encryptedId:e.encryptedId})}),c(this,\"isValidConnect\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(t)}`);throw new Error(l)}const{pairingTopic:e,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:n,relays:a}=t;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(e)||await this.isValidPairingTopic(e),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(a,!0)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${a}`);throw new Error(l)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s)!==0){const l=\"requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces\";[\"fatal\",\"error\",\"silent\"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,\"requiredNamespaces\")}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)){this.validateSessionProps(n,\"scopedProperties\");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(n).every(p=>l.includes(p.split(\":\")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(n)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),c(this,\"validateNamespaces\",(t,e)=>{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(t,\"connect()\",e);if(s)throw new Error(s.message)}),c(this,\"isValidApprove\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${t}`).message);const{id:e,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:n}=t;this.checkRecentlyDeleted(e),await this.isValidProposalId(e);const a=this.client.proposal.get(e),l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"approve()\");if(l)throw new Error(l.message);const p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(a.requiredNamespaces,s,\"approve()\");if(p)throw new Error(p.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(h)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)){this.validateSessionProps(n,\"scopedProperties\");const h=new Set(Object.keys(s));if(!Object.keys(n).every(u=>h.has(u.split(\":\")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(n)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),c(this,\"isValidReject\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${t}`);throw new Error(i)}const{id:e,reason:s}=t;if(this.checkRecentlyDeleted(e),await this.isValidProposalId(e),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c(this,\"isValidSessionSettleRequest\",t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${t}`);throw new Error(l)}const{relay:e,controller:s,namespaces:i,expiry:r}=t;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(s,\"onSessionSettleRequest()\");if(n)throw new Error(n.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(r)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),c(this,\"isValidUpdate\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${t}`);throw new Error(a)}const{topic:e,namespaces:s}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const i=this.client.session.get(e),r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"update()\");if(r)throw new Error(r.message);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,s,\"update()\");if(n)throw new Error(n.message)}),c(this,\"isValidExtend\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${t}`);throw new Error(s)}const{topic:e}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e)}),c(this,\"isValidRequest\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${t}`);throw new Error(a)}const{topic:e,request:s,chainId:i,expiry:r}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const{namespaces:n}=this.client.session.get(e);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(n,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(n,i,s.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${s.method}`);throw new Error(a)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(r,_e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(a)}}),c(this,\"isValidRespond\",async t=>{var e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${t}`);throw new Error(r)}const{topic:s,response:i}=t;try{await this.isValidSessionTopic(s)}catch(r){throw(e=t?.response)!=null&&e.id&&this.cleanupAfterResponse(t),r}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}}),c(this,\"isValidPing\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${t}`);throw new Error(s)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)}),c(this,\"isValidEmit\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${t}`);throw new Error(n)}const{topic:e,event:s,chainId:i}=t;await this.isValidSessionTopic(e);const{namespaces:r}=this.client.session.get(e);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(r,i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(s)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(r,i,s.name)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}}),c(this,\"isValidDisconnect\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${t}`);throw new Error(s)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)}),c(this,\"isValidAuthenticate\",t=>{const{chains:e,uri:s,domain:i,nonce:r}=t;if(!Array.isArray(e)||e.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1))throw new Error(\"uri is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!1))throw new Error(\"domain is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1))throw new Error(\"nonce is required parameter\");if([...new Set(e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(a).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(e[0]);if(n!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),c(this,\"getVerifyContext\",async t=>{const{attestationId:e,hash:s,encryptedId:i,metadata:r,transportType:n}=t,a={verified:{verifyUrl:r.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:r.url||\"\"}};try{if(n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode){const p=this.getAppLinkIfEnabled(r,n);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?\"VALID\":\"INVALID\",a}const l=await this.client.core.verify.resolve({attestationId:e,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c(this,\"validateSessionProps\",(t,e)=>{Object.values(t).forEach((s,i)=>{if(s==null){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${e} must contain an existing value for each key. Received: ${s} for key ${Object.keys(t)[i]}`);throw new Error(r)}})}),c(this,\"getPendingAuthRequest\",t=>{const e=this.client.auth.requests.get(t);return typeof e==\"object\"?e:void 0}),c(this,\"addToRecentlyDeleted\",(t,e)=>{if(this.recentlyDeletedMap.set(t,e),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}}),c(this,\"checkRecentlyDeleted\",t=>{const e=this.recentlyDeletedMap.get(t);if(e){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${e}: ${t}`);throw new Error(s)}}),c(this,\"isLinkModeEnabled\",(t,e)=>{var s,i,r,n,a,l,p,h,u;return!t||e!==_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((n=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:n.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==\"\"&&((p=t?.redirect)==null?void 0:p.universal)!==void 0&&((h=t?.redirect)==null?void 0:h.universal)!==\"\"&&((u=t?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),c(this,\"getAppLinkIfEnabled\",(t,e)=>{var s;return this.isLinkModeEnabled(t,e)?(s=t?.redirect)==null?void 0:s.universal:void 0}),c(this,\"handleLinkModeMessage\",({url:t})=>{if(!t||!t.includes(\"wc_ev\")||!t.includes(\"topic\"))return;const e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(t,\"topic\")||\"\",s=decodeURIComponent((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(t,\"wc_ev\")||\"\"),i=this.client.session.keys.includes(e);i&&this.client.session.update(e,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:e,message:s,sessionExists:i})}),c(this,\"registerLinkModeListeners\",async()=>{var t;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isTestRun)()||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isReactNative)()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const e=global==null?void 0:global.Linking;if(typeof e<\"u\"){e.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const s=await e.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),c(this,\"getTVFParams\",(t,e,s)=>{var i,r,n;if(!((i=e.request)!=null&&i.method))return{};const a={correlationId:t,rpcMethods:[e.request.method],chainId:e.chainId};try{const l=this.extractTxHashesFromResult(e.request,s);a.txHashes=l,a.contractAddresses=this.isValidContractData(e.request.params)?[(n=(r=e.request.params)==null?void 0:r[0])==null?void 0:n.to]:[]}catch(l){this.client.logger.warn(\"Error getting TVF params\",l)}return a}),c(this,\"isValidContractData\",t=>{var e;if(!t)return!1;try{const s=t?.data||((e=t?.[0])==null?void 0:e.data);if(!s.startsWith(\"0x\"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),c(this,\"extractTxHashesFromResult\",(t,e)=>{var s;try{if(!e)return[];const i=t.method,r=yt[i];if(i===\"sui_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSuiDigest)(e.transactionBytes)];if(i===\"near_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNearTransactionIdFromSignedTransaction)(e)];if(i===\"near_signTransactions\")return e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNearTransactionIdFromSignedTransaction)(a));if(i===\"xrpl_signTransactionFor\"||i===\"xrpl_signTransaction\")return[(s=e.tx_json)==null?void 0:s.hash];if(i===\"polkadot_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildSignedExtrinsicHash)({transaction:t.params.transactionPayload,signature:e.signature})];if(i===\"algo_signTxn\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(e)?e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAlgorandTransactionId)(a)):[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAlgorandTransactionId)(e)];if(i===\"cosmos_signDirect\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSignDirectHash)(e)];if(typeof e==\"string\")return[e];const n=e[r.key];if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(n))return i===\"solana_signAllTransactions\"?n.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.extractSolanaTransactionId)(a)):n;if(typeof n==\"string\")return[n]}catch(i){this.client.logger.warn(\"Error extracting tx hashes from result\",i)}return[]})}async processPendingMessageEvents(){try{const o=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(o);for(const[e,s]of Object.entries(t))for(const i of s)try{await this.onProviderMessageEvent({topic:e,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${i}`)}}catch(o){this.client.logger.warn(\"processPendingMessageEvents failed\",o)}}isInitialized(){if(!this.initialized){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(o)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,o=>{this.onProviderMessageEvent(o)})}async onRelayMessage(o){const{topic:t,message:e,attestation:s,transportType:i}=o,{publicKey:r}=this.client.auth.authKeys.keys.includes(pe)?this.client.auth.authKeys.get(pe):{responseTopic:void 0,publicKey:void 0};try{const n=await this.client.core.crypto.decode(t,e,{receiverPublicKey:r,encoding:i===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(n)?(this.client.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n,attestation:s,transportType:i,encryptedId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(e)})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n,transportType:i}),this.client.core.history.delete(t,n.id)):await this.onRelayEventUnknownPayload({topic:t,payload:n,transportType:i}),await this.client.core.relayer.messages.ack(t,e)}catch(n){this.client.logger.error(n)}}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async o=>{const{topic:t,id:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(o.target);if(e&&this.client.pendingRequest.keys.includes(e))return await this.deletePendingSessionRequest(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);if(e&&this.client.auth.requests.keys.includes(e))return await this.deletePendingAuthRequest(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:t})):e&&(await this.deleteProposal(e,!0),this.client.events.emit(\"proposal_expire\",{id:e}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,o=>this.onPairingCreated(o)),this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.delete,o=>{this.addToRecentlyDeleted(o.topic,\"pairing\")})}isValidPairingTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${o}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(o).expiry)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${o}`);throw new Error(t)}}async isValidSessionTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${o}`);throw new Error(t)}if(this.checkRecentlyDeleted(o),!this.client.session.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(o).expiry)){await this.deleteSession({topic:o});const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${o}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${o}`);throw await this.deleteSession({topic:o}),new Error(t)}}async isValidSessionOrPairingTopic(o){if(this.checkRecentlyDeleted(o),this.client.session.keys.includes(o))await this.isValidSessionTopic(o);else if(this.client.core.pairing.pairings.keys.includes(o))this.isValidPairingTopic(o);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${o}`);throw new Error(t)}else{const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${o}`);throw new Error(t)}}async isValidProposalId(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${o}`);throw new Error(t)}if(!this.client.proposal.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(o).expiryTimestamp)){await this.deleteProposal(o);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${o}`);throw new Error(t)}}}class ks extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,dt,we),this.core=o,this.logger=t}}class It extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,ut,we),this.core=o,this.logger=t}}class Ds extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,wt,we,e=>e.id),this.core=o,this.logger=t}}class Ls extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,Et,le,()=>pe),this.core=o,this.logger=t}}class Ms extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,St,le),this.core=o,this.logger=t}}class $s extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,Rt,le,e=>e.id),this.core=o,this.logger=t}}var Ks=Object.defineProperty,Us=(E,o,t)=>o in E?Ks(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,Ke=(E,o,t)=>Us(E,typeof o!=\"symbol\"?o+\"\":o,t);class Gs{constructor(o,t){this.core=o,this.logger=t,Ke(this,\"authKeys\"),Ke(this,\"pairingTopics\"),Ke(this,\"requests\"),this.authKeys=new Ls(this.core,this.logger),this.pairingTopics=new Ms(this.core,this.logger),this.requests=new $s(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var js=Object.defineProperty,Fs=(E,o,t)=>o in E?js(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,f=(E,o,t)=>Fs(E,typeof o!=\"symbol\"?o+\"\":o,t);class fe extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(o){super(o),f(this,\"protocol\",Ce),f(this,\"version\",ke),f(this,\"name\",me.name),f(this,\"metadata\"),f(this,\"core\"),f(this,\"logger\"),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter),f(this,\"engine\"),f(this,\"session\"),f(this,\"proposal\"),f(this,\"pendingRequest\"),f(this,\"auth\"),f(this,\"signConfig\"),f(this,\"on\",(e,s)=>this.events.on(e,s)),f(this,\"once\",(e,s)=>this.events.once(e,s)),f(this,\"off\",(e,s)=>this.events.off(e,s)),f(this,\"removeListener\",(e,s)=>this.events.removeListener(e,s)),f(this,\"removeAllListeners\",e=>this.events.removeAllListeners(e)),f(this,\"connect\",async e=>{try{return await this.engine.connect(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"pair\",async e=>{try{return await this.engine.pair(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"approve\",async e=>{try{return await this.engine.approve(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"reject\",async e=>{try{return await this.engine.reject(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"update\",async e=>{try{return await this.engine.update(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"extend\",async e=>{try{return await this.engine.extend(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"request\",async e=>{try{return await this.engine.request(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"respond\",async e=>{try{return await this.engine.respond(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"ping\",async e=>{try{return await this.engine.ping(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"emit\",async e=>{try{return await this.engine.emit(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"disconnect\",async e=>{try{return await this.engine.disconnect(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"find\",e=>{try{return this.engine.find(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),f(this,\"authenticate\",async(e,s)=>{try{return await this.engine.authenticate(e,s)}catch(i){throw this.logger.error(i.message),i}}),f(this,\"formatAuthMessage\",e=>{try{return this.engine.formatAuthMessage(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"approveSessionAuthenticate\",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"rejectSessionAuthenticate\",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(s){throw this.logger.error(s.message),s}}),this.name=o?.name||me.name,this.metadata=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.populateAppMetadata)(o?.metadata),this.signConfig=o?.signConfig;const t=typeof o?.logger<\"u\"&&typeof o?.logger!=\"string\"?o.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:o?.logger||me.logger}));this.core=o?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(o),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.generateChildLogger)(t,this.name),this.session=new It(this.core,this.logger),this.proposal=new ks(this.core,this.logger),this.pendingRequest=new Ds(this.core,this.logger),this.engine=new Cs(this),this.auth=new Gs(this.core,this.logger)}static async init(o){const t=new fe(o);return await t.initialize(),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\")}catch(o){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(o.message),o}}}const Qs=It,Hs=fe;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXc2RSxxQ0FBcUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLE9BQU8sOEVBQThFLEtBQUssNGNBQTRjLEtBQUssb0JBQW9CLHdDQUF3QyxrR0FBa0csd0NBQXdDLDREQUFFLHNDQUFzQywyREFBRSxnQkFBZ0IsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLG9CQUFvQixTQUFTLElBQUksNkRBQUMsb0JBQW9CLGFBQWEsSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsb0JBQW9CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixrQkFBa0IsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQix5QkFBeUIsS0FBSyxJQUFJLHlEQUFFLG9CQUFvQixNQUFNLElBQUkseURBQUUsb0JBQW9CLFNBQVMsSUFBSSw2REFBQyxvQkFBb0IsYUFBYSxJQUFJLDZEQUFDLHNCQUFzQixLQUFLLElBQUksNkRBQUMsS0FBSywyREFBRSxDQUFDLElBQUksNEJBQTRCLEtBQUsscUJBQXFCLE9BQU8seUJB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LElBQUksb05BQW9OLFNBQVMsNkZBQTZGLGtCQUFpMkI7QUFDMW1pRSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudC9kaXN0L2luZGV4LmVzLmpzPzA3NzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e1JFTEFZRVJfRVZFTlRTIGFzIHplLFRSQU5TUE9SVF9UWVBFUyBhcyBxLEVYUElSRVJfRVZFTlRTIGFzIE50LFBBSVJJTkdfRVZFTlRTIGFzIFllLFJFTEFZRVJfREVGQVVMVF9QUk9UT0NPTCBhcyBPdCxFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMgYXMgSyxFVkVOVF9DTElFTlRfU0VTU0lPTl9FUlJPUlMgYXMgbmUsRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9UUkFDRVMgYXMgeixFVkVOVF9DTElFTlRfQVVUSEVOVElDQVRFX0VSUk9SUyBhcyBvZSxFVkVOVF9DTElFTlRfUEFJUklOR19FUlJPUlMgYXMgYnQsRVZFTlRfQ0xJRU5UX1BBSVJJTkdfVFJBQ0VTIGFzIEF0LFZFUklGWV9TRVJWRVIgYXMgeHQsU3RvcmUgYXMgVyxDb3JlIGFzIFZ0fWZyb21cIkB3YWxsZXRjb25uZWN0L2NvcmVcIjtpbXBvcnR7cGlubyBhcyBDdCxnZXREZWZhdWx0TG9nZ2VyT3B0aW9ucyBhcyBrdCxnZW5lcmF0ZUNoaWxkTG9nZ2VyIGFzIER0LGdldExvZ2dlckNvbnRleHQgYXMgTHR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvbG9nZ2VyXCI7aW1wb3J0e0lFbmdpbmUgYXMgTXQsSVNpZ25DbGllbnQgYXMgJHR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdHlwZXNcIjtpbXBvcnR7TGltaXRlZFNldCBhcyBLdCxnZXRJbnRlcm5hbEVycm9yIGFzIGcsQkFTRTY0VVJMIGFzIGFlLEJBU0U2NCBhcyBZLGhhc2hNZXNzYWdlIGFzIFUscGFyc2VFeHBpcmVyVGFyZ2V0IGFzIFV0LGlzVmFsaWRTdHJpbmcgYXMgSixpc0V4cGlyZWQgYXMgWixpc1ZhbGlkSWQgYXMgR3QsbWVyZ2VSZXF1aXJlZEFuZE9wdGlvbmFsTmFtZXNwYWNlcyBhcyBqdCxjYWxjRXhwaXJ5IGFzIHgsZW5naW5lRXZlbnQgYXMgdixjcmVhdGVEZWxheWVkUHJvbWlzZSBhcyBlZSxnZXRTZGtFcnJvciBhcyBELGdldERlZXBMaW5rIGFzIEZ0LGhhbmRsZURlZXBsaW5rUmVkaXJlY3QgYXMgUXQsaXNTZXNzaW9uQ29tcGF0aWJsZSBhcyBIdCxoYXNoS2V5IGFzIE9lLHBhcnNlQ2hhaW5JZCBhcyBiZSxjcmVhdGVFbmNvZGVkUmVjYXAgYXMgenQsZ2V0UmVjYXBGcm9tUmVzb3VyY2VzIGFzIEFlLG1lcmdlRW5jb2RlZFJlY2FwcyBhcyBZdCxUWVBFXzIgYXMgSnQsZ2V0TGlua01vZGVVUkwgYXMgZ2UsdmFsaWRhdGVTaWduZWRDYWNhbyBhcyBKZSxnZXROYW1lc3BhY2VkRGlkQ2hhaW5JZCBhcyBYZSxnZXREaWRBZGRyZXNzIGFzIEJlLGdldE1ldGhvZHNGcm9tUmVjYXAgYXMgV2UsZ2V0Q2hhaW5zRnJvbVJlY2FwIGFzIFplLGJ1aWxkTmFtZXNwYWNlc0Zyb21BdXRoIGFzIGV0LGZvcm1hdE1lc3NhZ2UgYXMgWHQsTWVtb3J5U3RvcmUgYXMgY2UsaXNWYWxpZFBhcmFtcyBhcyBMLGlzVW5kZWZpbmVkIGFzIFgsaXNWYWxpZFJlbGF5cyBhcyBCdCxpc1ZhbGlkT2JqZWN0IGFzIHR0LGlzVmFsaWRSZXF1aXJlZE5hbWVzcGFjZXMgYXMgV3QsaXNWYWxpZE5hbWVzcGFjZXMgYXMgeGUsaXNDb25mb3JtaW5nTmFtZXNwYWNlcyBhcyBzdCxpc1ZhbGlkRXJyb3JSZWFzb24gYXMgWnQsaXNWYWxpZFJlbGF5IGFzIGVzLGlzVmFsaWRDb250cm9sbGVyIGFzIHRzLGlzVmFsaWROYW1lc3BhY2VzQ2hhaW5JZCBhcyBpdCxpc1ZhbGlkUmVxdWVzdCBhcyBzcyxpc1ZhbGlkTmFtZXNwYWNlc1JlcXVlc3QgYXMgaXMsaXNWYWxpZFJlcXVlc3RFeHBpcnkgYXMgcnMsaXNWYWxpZFJlc3BvbnNlIGFzIG5zLGlzVmFsaWRFdmVudCBhcyBvcyxpc1ZhbGlkTmFtZXNwYWNlc0V2ZW50IGFzIGFzLGdldFNlYXJjaFBhcmFtRnJvbVVSTCBhcyBydCxpc1Rlc3RSdW4gYXMgY3MsaXNSZWFjdE5hdGl2ZSBhcyBscyxnZXRTdWlEaWdlc3QgYXMgcHMsZ2V0TmVhclRyYW5zYWN0aW9uSWRGcm9tU2lnbmVkVHJhbnNhY3Rpb24gYXMgbnQsYnVpbGRTaWduZWRFeHRyaW5zaWNIYXNoIGFzIGhzLGlzVmFsaWRBcnJheSBhcyBvdCxnZXRBbGdvcmFuZFRyYW5zYWN0aW9uSWQgYXMgYXQsZ2V0U2lnbkRpcmVjdEhhc2ggYXMgZHMsZXh0cmFjdFNvbGFuYVRyYW5zYWN0aW9uSWQgYXMgdXMsVFlQRV8xIGFzIFZlLHBvcHVsYXRlQXBwTWV0YWRhdGEgYXMgZ3N9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnQgeXMse0V2ZW50RW1pdHRlciBhcyB3c31mcm9tXCJldmVudHNcIjtpbXBvcnR7VEhJUlRZX0RBWVMgYXMgbXMsU0VWRU5fREFZUyBhcyBjdCxGSVZFX01JTlVURVMgYXMgVixPTkVfREFZIGFzIEcsT05FX0hPVVIgYXMgbHQsT05FX1NFQ09ORCBhcyBfcyx0b01pbGlzZWNvbmRzIGFzIHB0fWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7aXNKc29uUnBjUmVxdWVzdCBhcyBmcyxpc0pzb25ScGNSZXNwb25zZSBhcyBFcyxwYXlsb2FkSWQgYXMgaixnZXRCaWdJbnRScGNJZCBhcyB5ZSxpc0pzb25ScGNSZXN1bHQgYXMgRixpc0pzb25ScGNFcnJvciBhcyBRLGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIHRlLGZvcm1hdEpzb25ScGNSZXN1bHQgYXMgaHQsZm9ybWF0SnNvblJwY0Vycm9yIGFzIFNzfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtjb25zdCBDZT1cIndjXCIsa2U9MixEZT1cImNsaWVudFwiLHdlPWAke0NlfUAke2tlfToke0RlfTpgLG1lPXtuYW1lOkRlLGxvZ2dlcjpcImVycm9yXCIsY29udHJvbGxlcjohMSxyZWxheVVybDpcIndzczovL3JlbGF5LndhbGxldGNvbm5lY3Qub3JnXCJ9LFJzPXtzZXNzaW9uX3Byb3Bvc2FsOlwic2Vzc2lvbl9wcm9wb3NhbFwiLHNlc3Npb25fdXBkYXRlOlwic2Vzc2lvbl91cGRhdGVcIixzZXNzaW9uX2V4dGVuZDpcInNlc3Npb25fZXh0ZW5kXCIsc2Vzc2lvbl9waW5nOlwic2Vzc2lvbl9waW5nXCIsc2Vzc2lvbl9kZWxldGU6XCJzZXNzaW9uX2RlbGV0ZVwiLHNlc3Npb25fZXhwaXJlOlwic2Vzc2lvbl9leHBpcmVcIixzZXNzaW9uX3JlcXVlc3Q6XCJzZXNzaW9uX3JlcXVlc3RcIixzZXNzaW9uX3JlcXVlc3Rfc2VudDpcInNlc3Npb25fcmVxdWVzdF9zZW50XCIsc2Vzc2lvbl9ldmVudDpcInNlc3Npb25fZXZlbnRcIixwcm9wb3NhbF9leHBpcmU6XCJwcm9wb3NhbF9leHBpcmVcIixzZXNzaW9uX2F1dGhlbnRpY2F0ZTpcInNlc3Npb25fYXV0aGVudGljYXRlXCIsc2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZTpcInNlc3Npb25fcmVxdWVzdF9leHBpcmVcIixzZXNzaW9uX2Nvbm5lY3Q6XCJzZXNzaW9uX2Nvbm5lY3RcIn0sdnM9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sTGU9XCJXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRVwiLElzPXtjcmVhdGVkOlwiaGlzdG9yeV9jcmVhdGVkXCIsdXBkYXRlZDpcImhpc3RvcnlfdXBkYXRlZFwiLGRlbGV0ZWQ6XCJoaXN0b3J5X2RlbGV0ZWRcIixzeW5jOlwiaGlzdG9yeV9zeW5jXCJ9LFRzPVwiaGlzdG9yeVwiLHFzPVwiMC4zXCIsZHQ9XCJwcm9wb3NhbFwiLFBzPW1zLE1lPVwiUHJvcG9zYWwgZXhwaXJlZFwiLHV0PVwic2Vzc2lvblwiLEI9Y3QsZ3Q9XCJlbmdpbmVcIixQPXt3Y19zZXNzaW9uUHJvcG9zZTp7cmVxOnt0dGw6Vixwcm9tcHQ6ITAsdGFnOjExMDB9LHJlczp7dHRsOlYscHJvbXB0OiExLHRhZzoxMTAxfSxyZWplY3Q6e3R0bDpWLHByb21wdDohMSx0YWc6MTEyMH0sYXV0b1JlamVjdDp7dHRsOlYscHJvbXB0OiExLHRhZzoxMTIxfX0sd2Nfc2Vzc2lvblNldHRsZTp7cmVxOnt0dGw6Vixwcm9tcHQ6ITEsdGFnOjExMDJ9LHJlczp7dHRsOlYscHJvbXB0OiExLHRhZzoxMTAzfX0sd2Nfc2Vzc2lvblVwZGF0ZTp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMDR9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTA1fX0sd2Nfc2Vzc2lvbkV4dGVuZDp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMDZ9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTA3fX0sd2Nfc2Vzc2lvblJlcXVlc3Q6e3JlcTp7dHRsOlYscHJvbXB0OiEwLHRhZzoxMTA4fSxyZXM6e3R0bDpWLHByb21wdDohMSx0YWc6MTEwOX19LHdjX3Nlc3Npb25FdmVudDp7cmVxOnt0dGw6Vixwcm9tcHQ6ITAsdGFnOjExMTB9LHJlczp7dHRsOlYscHJvbXB0OiExLHRhZzoxMTExfX0sd2Nfc2Vzc2lvbkRlbGV0ZTp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMTJ9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTEzfX0sd2Nfc2Vzc2lvblBpbmc6e3JlcTp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTE0fSxyZXM6e3R0bDpHLHByb21wdDohMSx0YWc6MTExNX19LHdjX3Nlc3Npb25BdXRoZW50aWNhdGU6e3JlcTp7dHRsOmx0LHByb21wdDohMCx0YWc6MTExNn0scmVzOnt0dGw6bHQscHJvbXB0OiExLHRhZzoxMTE3fSxyZWplY3Q6e3R0bDpWLHByb21wdDohMSx0YWc6MTExOH0sYXV0b1JlamVjdDp7dHRsOlYscHJvbXB0OiExLHRhZzoxMTE5fX19LF9lPXttaW46VixtYXg6Y3R9LE09e2lkbGU6XCJJRExFXCIsYWN0aXZlOlwiQUNUSVZFXCJ9LHl0PXtldGhfc2VuZFRyYW5zYWN0aW9uOntrZXk6XCJcIn0sZXRoX3NlbmRSYXdUcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LHdhbGxldF9zZW5kQ2FsbHM6e2tleTpcIlwifSxzb2xhbmFfc2lnblRyYW5zYWN0aW9uOntrZXk6XCJzaWduYXR1cmVcIn0sc29sYW5hX3NpZ25BbGxUcmFuc2FjdGlvbnM6e2tleTpcInRyYW5zYWN0aW9uc1wifSxzb2xhbmFfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbjp7a2V5Olwic2lnbmF0dXJlXCJ9LHN1aV9zaWduQW5kRXhlY3V0ZVRyYW5zYWN0aW9uOntrZXk6XCJkaWdlc3RcIn0sc3VpX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LGhlZGVyYV9zaWduQW5kRXhlY3V0ZVRyYW5zYWN0aW9uOntrZXk6XCJ0cmFuc2FjdGlvbklkXCJ9LGhlZGVyYV9leGVjdXRlVHJhbnNhY3Rpb246e2tleTpcInRyYW5zYWN0aW9uSWRcIn0sbmVhcl9zaWduVHJhbnNhY3Rpb246e2tleTpcIlwifSxuZWFyX3NpZ25UcmFuc2FjdGlvbnM6e2tleTpcIlwifSx0cm9uX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwidHhJRFwifSx4cnBsX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LHhycGxfc2lnblRyYW5zYWN0aW9uRm9yOntrZXk6XCJcIn0sYWxnb19zaWduVHhuOntrZXk6XCJcIn0sc2VuZFRyYW5zZmVyOntrZXk6XCJ0eGlkXCJ9LHN0YWNrc19zdHhUcmFuc2Zlcjp7a2V5OlwidHhJZFwifSxwb2xrYWRvdF9zaWduVHJhbnNhY3Rpb246e2tleTpcIlwifSxjb3Ntb3Nfc2lnbkRpcmVjdDp7a2V5OlwiXCJ9fSx3dD1cInJlcXVlc3RcIixtdD1bXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLFwid2Nfc2Vzc2lvblJlcXVlc3RcIixcIndjX2F1dGhSZXF1ZXN0XCIsXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCJdLF90PVwid2NcIixOcz0xLjUsZnQ9XCJhdXRoXCIsRXQ9XCJhdXRoS2V5c1wiLFN0PVwicGFpcmluZ1RvcGljc1wiLFJ0PVwicmVxdWVzdHNcIixsZT1gJHtfdH1AJHsxLjV9OiR7ZnR9OmAscGU9YCR7bGV9OlBVQl9LRVlgO3ZhciBPcz1PYmplY3QuZGVmaW5lUHJvcGVydHksYnM9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsQXM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsdnQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyx4cz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFZzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsJGU9KEUsbyx0KT0+byBpbiBFP09zKEUsbyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOkVbb109dCxSPShFLG8pPT57Zm9yKHZhciB0IGluIG98fChvPXt9KSl4cy5jYWxsKG8sdCkmJiRlKEUsdCxvW3RdKTtpZih2dClmb3IodmFyIHQgb2YgdnQobykpVnMuY2FsbChvLHQpJiYkZShFLHQsb1t0XSk7cmV0dXJuIEV9LE89KEUsbyk9PmJzKEUsQXMobykpLGM9KEUsbyx0KT0+JGUoRSx0eXBlb2YgbyE9XCJzeW1ib2xcIj9vK1wiXCI6byx0KTtjbGFzcyBDcyBleHRlbmRzIE10e2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLGModGhpcyxcIm5hbWVcIixndCksYyh0aGlzLFwiZXZlbnRzXCIsbmV3IHlzKSxjKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxjKHRoaXMsXCJyZXF1ZXN0UXVldWVcIix7c3RhdGU6TS5pZGxlLHF1ZXVlOltdfSksYyh0aGlzLFwic2Vzc2lvblJlcXVlc3RRdWV1ZVwiLHtzdGF0ZTpNLmlkbGUscXVldWU6W119KSxjKHRoaXMsXCJlbWl0dGVkU2Vzc2lvblJlcXVlc3RzXCIsbmV3IEt0KHtsaW1pdDo1MDB9KSksYyh0aGlzLFwicmVxdWVzdFF1ZXVlRGVsYXlcIixfcyksYyh0aGlzLFwiZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwXCIsbmV3IE1hcCksYyh0aGlzLFwicmVjZW50bHlEZWxldGVkTWFwXCIsbmV3IE1hcCksYyh0aGlzLFwicmVjZW50bHlEZWxldGVkTGltaXRcIiwyMDApLGModGhpcyxcInJlbGF5TWVzc2FnZUNhY2hlXCIsW10pLGModGhpcyxcInBlbmRpbmdTZXNzaW9uc1wiLG5ldyBNYXApLGModGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpLGF3YWl0IHRoaXMucmVnaXN0ZXJMaW5rTW9kZUxpc3RlbmVycygpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5yZWdpc3Rlcih7bWV0aG9kczpPYmplY3Qua2V5cyhQKX0pLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsc2V0VGltZW91dChhc3luYygpPT57YXdhaXQgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMoKSx0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWU9dGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpfSxwdCh0aGlzLnJlcXVlc3RRdWV1ZURlbGF5KSkpfSksYyh0aGlzLFwiY29ubmVjdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBlPU8oUih7fSx0KSx7cmVxdWlyZWROYW1lc3BhY2VzOnQucmVxdWlyZWROYW1lc3BhY2VzfHx7fSxvcHRpb25hbE5hbWVzcGFjZXM6dC5vcHRpb25hbE5hbWVzcGFjZXN8fHt9fSk7YXdhaXQgdGhpcy5pc1ZhbGlkQ29ubmVjdChlKSxlLm9wdGlvbmFsTmFtZXNwYWNlcz1qdChlLnJlcXVpcmVkTmFtZXNwYWNlcyxlLm9wdGlvbmFsTmFtZXNwYWNlcyksZS5yZXF1aXJlZE5hbWVzcGFjZXM9e307Y29uc3R7cGFpcmluZ1RvcGljOnMscmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIsc2Vzc2lvblByb3BlcnRpZXM6bixzY29wZWRQcm9wZXJ0aWVzOmEscmVsYXlzOmx9PWU7bGV0IHA9cyxoLHU9ITE7dHJ5e2lmKHApe2NvbnN0IFQ9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChwKTt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcImNvbm5lY3QoKSB3aXRoIGV4aXN0aW5nIHBhaXJpbmcgdG9waWMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpLHU9VC5hY3RpdmV9fWNhdGNoKFQpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgY29ubmVjdCgpIC0+IHBhaXJpbmcuZ2V0KCR7cH0pIGZhaWxlZGApLFR9aWYoIXB8fCF1KXtjb25zdHt0b3BpYzpULHVyaTokfT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKHtpbnRlcm5hbDp7c2tpcFN1YnNjcmliZTohMH19KTtwPVQsaD0kfWlmKCFwKXtjb25zdHttZXNzYWdlOlR9PWcoXCJOT19NQVRDSElOR19LRVlcIixgY29ubmVjdCgpIHBhaXJpbmcgdG9waWM6ICR7cH1gKTt0aHJvdyBuZXcgRXJyb3IoVCl9Y29uc3QgZD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSx5PVAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bHx8Vix3PXgoeSksbT1PKFIoUih7cmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIscmVsYXlzOmw/P1t7cHJvdG9jb2w6T3R9XSxwcm9wb3Nlcjp7cHVibGljS2V5OmQsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDp3LHBhaXJpbmdUb3BpYzpwfSxuJiZ7c2Vzc2lvblByb3BlcnRpZXM6bn0pLGEmJntzY29wZWRQcm9wZXJ0aWVzOmF9KSx7aWQ6aigpfSksUz12KFwic2Vzc2lvbl9jb25uZWN0XCIsbS5pZCkse3JlamVjdDpfLHJlc29sdmU6Yixkb25lOkN9PWVlKHksTWUpLEk9KHtpZDpUfSk9PntUPT09bS5pZCYmKHRoaXMuY2xpZW50LmV2ZW50cy5vZmYoXCJwcm9wb3NhbF9leHBpcmVcIixJKSx0aGlzLnBlbmRpbmdTZXNzaW9ucy5kZWxldGUobS5pZCksdGhpcy5ldmVudHMuZW1pdChTLHtlcnJvcjp7bWVzc2FnZTpNZSxjb2RlOjB9fSkpfTtyZXR1cm4gdGhpcy5jbGllbnQuZXZlbnRzLm9uKFwicHJvcG9zYWxfZXhwaXJlXCIsSSksdGhpcy5ldmVudHMub25jZShTLCh7ZXJyb3I6VCxzZXNzaW9uOiR9KT0+e3RoaXMuY2xpZW50LmV2ZW50cy5vZmYoXCJwcm9wb3NhbF9leHBpcmVcIixJKSxUP18oVCk6JCYmYigkKX0pLGF3YWl0IHRoaXMuc2VuZFByb3Bvc2VTZXNzaW9uKHtwcm9wb3NhbDptLHB1Ymxpc2hPcHRzOntpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9LHR2Zjp7Y29ycmVsYXRpb25JZDptLmlkfX19KSxhd2FpdCB0aGlzLnNldFByb3Bvc2FsKG0uaWQsbSkse3VyaTpoLGFwcHJvdmFsOkN9fSksYyh0aGlzLFwicGFpclwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyKHQpfWNhdGNoKGUpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInBhaXIoKSBmYWlsZWRcIiksZX19KSxjKHRoaXMsXCJhcHByb3ZlXCIsYXN5bmMgdD0+e3ZhciBlLHMsaTtjb25zdCByPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOihlPXQ/LmlkKT09bnVsbD92b2lkIDA6ZS50b1N0cmluZygpLHRyYWNlOltLLnNlc3Npb25fYXBwcm92ZV9zdGFydGVkXX19KTt0cnl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9Y2F0Y2goTil7dGhyb3cgci5zZXRFcnJvcihuZS5ub19pbnRlcm5ldF9jb25uZWN0aW9uKSxOfXRyeXthd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKHQ/LmlkKX1jYXRjaChOKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYGFwcHJvdmUoKSAtPiBwcm9wb3NhbC5nZXQoJHt0Py5pZH0pIGZhaWxlZGApLHIuc2V0RXJyb3IobmUucHJvcG9zYWxfbm90X2ZvdW5kKSxOfXRyeXthd2FpdCB0aGlzLmlzVmFsaWRBcHByb3ZlKHQpfWNhdGNoKE4pe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcImFwcHJvdmUoKSAtPiBpc1ZhbGlkQXBwcm92ZSgpIGZhaWxlZFwiKSxyLnNldEVycm9yKG5lLnNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlKSxOfWNvbnN0e2lkOm4scmVsYXlQcm90b2NvbDphLG5hbWVzcGFjZXM6bCxzZXNzaW9uUHJvcGVydGllczpwLHNjb3BlZFByb3BlcnRpZXM6aCxzZXNzaW9uQ29uZmlnOnV9PXQsZD10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQobik7dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDpyLmV2ZW50SWR9KTtjb25zdHtwYWlyaW5nVG9waWM6eSxwcm9wb3Nlcjp3LHJlcXVpcmVkTmFtZXNwYWNlczptLG9wdGlvbmFsTmFtZXNwYWNlczpTfT1kO2xldCBfPShzPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQpPT1udWxsP3ZvaWQgMDpzLmdldEV2ZW50KHt0b3BpYzp5fSk7X3x8KF89KGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudCk9PW51bGw/dm9pZCAwOmkuY3JlYXRlRXZlbnQoe3R5cGU6Sy5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZCxwcm9wZXJ0aWVzOnt0b3BpYzp5LHRyYWNlOltLLnNlc3Npb25fYXBwcm92ZV9zdGFydGVkLEsuc2Vzc2lvbl9uYW1lc3BhY2VzX3ZhbGlkYXRpb25fc3VjY2Vzc119fSkpO2NvbnN0IGI9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksQz13LnB1YmxpY0tleSxJPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGIsQyksVD1SKFIoUih7cmVsYXk6e3Byb3RvY29sOmE/P1wiaXJuXCJ9LG5hbWVzcGFjZXM6bCxjb250cm9sbGVyOntwdWJsaWNLZXk6YixtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5OngoQil9LHAmJntzZXNzaW9uUHJvcGVydGllczpwfSksaCYme3Njb3BlZFByb3BlcnRpZXM6aH0pLHUmJntzZXNzaW9uQ29uZmlnOnV9KSwkPXEucmVsYXk7Xy5hZGRUcmFjZShLLnN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWMpO3RyeXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKEkse3RyYW5zcG9ydFR5cGU6JCxpbnRlcm5hbDp7c2tpcFN1YnNjcmliZTohMH19KX1jYXRjaChOKXt0aHJvdyBfLnNldEVycm9yKG5lLnN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmUpLE59Xy5hZGRUcmFjZShLLnN1YnNjcmliZV9zZXNzaW9uX3RvcGljX3N1Y2Nlc3MpO2NvbnN0IEVlPU8oUih7fSxUKSx7dG9waWM6SSxyZXF1aXJlZE5hbWVzcGFjZXM6bSxvcHRpb25hbE5hbWVzcGFjZXM6UyxwYWlyaW5nVG9waWM6eSxhY2tub3dsZWRnZWQ6ITEsc2VsZjpULmNvbnRyb2xsZXIscGVlcjp7cHVibGljS2V5OncucHVibGljS2V5LG1ldGFkYXRhOncubWV0YWRhdGF9LGNvbnRyb2xsZXI6Yix0cmFuc3BvcnRUeXBlOnEucmVsYXl9KTthd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldChJLEVlKSxfLmFkZFRyYWNlKEsuc3RvcmVfc2Vzc2lvbik7dHJ5e2F3YWl0IHRoaXMuc2VuZEFwcHJvdmVTZXNzaW9uKHtzZXNzaW9uVG9waWM6SSxwcm9wb3NhbDpkLHBhaXJpbmdQcm9wb3NhbFJlc3BvbnNlOntyZWxheTp7cHJvdG9jb2w6YT8/XCJpcm5cIn0scmVzcG9uZGVyUHVibGljS2V5OmJ9LHNlc3Npb25TZXR0bGVSZXF1ZXN0OlQscHVibGlzaE9wdHM6e2ludGVybmFsOnt0aHJvd09uRmFpbGVkUHVibGlzaDohMH0sdHZmOntjb3JyZWxhdGlvbklkOm59fX0pLF8uYWRkVHJhY2UoSy5zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzKX1jYXRjaChOKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoTiksdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUoSSxEKFwiVVNFUl9ESVNDT05ORUNURURcIikpLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci51bnN1YnNjcmliZShJKSxOfXJldHVybiB0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmRlbGV0ZUV2ZW50KHtldmVudElkOl8uZXZlbnRJZH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6eSxtZXRhZGF0YTp3Lm1ldGFkYXRhfSksYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChuKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuYWN0aXZhdGUoe3RvcGljOnl9KSxhd2FpdCB0aGlzLnNldEV4cGlyeShJLHgoQikpLHt0b3BpYzpJLGFja25vd2xlZGdlZDooKT0+UHJvbWlzZS5yZXNvbHZlKHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KEkpKX19KSxjKHRoaXMsXCJyZWplY3RcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFJlamVjdCh0KX1jYXRjaChyKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJyZWplY3QoKSAtPiBpc1ZhbGlkUmVqZWN0KCkgZmFpbGVkXCIpLHJ9Y29uc3R7aWQ6ZSxyZWFzb246c309dDtsZXQgaTt0cnl7aT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZSkucGFpcmluZ1RvcGljfWNhdGNoKHIpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgcmVqZWN0KCkgLT4gcHJvcG9zYWwuZ2V0KCR7ZX0pIGZhaWxlZGApLHJ9aSYmYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmUsdG9waWM6aSxlcnJvcjpzLHJwY09wdHM6UC53Y19zZXNzaW9uUHJvcG9zZS5yZWplY3R9KSxhd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKGUpfSksYyh0aGlzLFwidXBkYXRlXCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRVcGRhdGUodCl9Y2F0Y2goaCl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwidXBkYXRlKCkgLT4gaXNWYWxpZFVwZGF0ZSgpIGZhaWxlZFwiKSxofWNvbnN0e3RvcGljOmUsbmFtZXNwYWNlczpzfT10LHtkb25lOmkscmVzb2x2ZTpyLHJlamVjdDpufT1lZSgpLGE9aigpLGw9eWUoKS50b1N0cmluZygpLHA9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZSkubmFtZXNwYWNlcztyZXR1cm4gdGhpcy5ldmVudHMub25jZSh2KFwic2Vzc2lvbl91cGRhdGVcIixhKSwoe2Vycm9yOmh9KT0+e2g/bihoKTpyKCl9KSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHtuYW1lc3BhY2VzOnN9KSxhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzplLG1ldGhvZDpcIndjX3Nlc3Npb25VcGRhdGVcIixwYXJhbXM6e25hbWVzcGFjZXM6c30sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6YSxyZWxheVJwY0lkOmx9KS5jYXRjaChoPT57dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGgpLHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUse25hbWVzcGFjZXM6cH0pLG4oaCl9KSx7YWNrbm93bGVkZ2VkOml9fSksYyh0aGlzLFwiZXh0ZW5kXCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRFeHRlbmQodCl9Y2F0Y2goYSl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwiZXh0ZW5kKCkgLT4gaXNWYWxpZEV4dGVuZCgpIGZhaWxlZFwiKSxhfWNvbnN0e3RvcGljOmV9PXQscz1qKCkse2RvbmU6aSxyZXNvbHZlOnIscmVqZWN0Om59PWVlKCk7cmV0dXJuIHRoaXMuZXZlbnRzLm9uY2UodihcInNlc3Npb25fZXh0ZW5kXCIscyksKHtlcnJvcjphfSk9PnthP24oYSk6cigpfSksYXdhaXQgdGhpcy5zZXRFeHBpcnkoZSx4KEIpKSx0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzplLG1ldGhvZDpcIndjX3Nlc3Npb25FeHRlbmRcIixwYXJhbXM6e30sY2xpZW50UnBjSWQ6cyx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLmNhdGNoKGE9PntuKGEpfSkse2Fja25vd2xlZGdlZDppfX0pLGModGhpcyxcInJlcXVlc3RcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFJlcXVlc3QodCl9Y2F0Y2gobSl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicmVxdWVzdCgpIC0+IGlzVmFsaWRSZXF1ZXN0KCkgZmFpbGVkXCIpLG19Y29uc3R7Y2hhaW5JZDplLHJlcXVlc3Q6cyx0b3BpYzppLGV4cGlyeTpyPVAud2Nfc2Vzc2lvblJlcXVlc3QucmVxLnR0bH09dCxuPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGkpO24/LnRyYW5zcG9ydFR5cGU9PT1xLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBhPWooKSxsPXllKCkudG9TdHJpbmcoKSx7ZG9uZTpwLHJlc29sdmU6aCxyZWplY3Q6dX09ZWUocixcIlJlcXVlc3QgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7dGhpcy5ldmVudHMub25jZSh2KFwic2Vzc2lvbl9yZXF1ZXN0XCIsYSksKHtlcnJvcjptLHJlc3VsdDpTfSk9PnttP3UobSk6aChTKX0pO2NvbnN0IGQ9XCJ3Y19zZXNzaW9uUmVxdWVzdFwiLHk9dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKG4ucGVlci5tZXRhZGF0YSxuLnRyYW5zcG9ydFR5cGUpO2lmKHkpcmV0dXJuIGF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe2NsaWVudFJwY0lkOmEscmVsYXlScGNJZDpsLHRvcGljOmksbWV0aG9kOmQscGFyYW1zOntyZXF1ZXN0Ok8oUih7fSxzKSx7ZXhwaXJ5VGltZXN0YW1wOngocil9KSxjaGFpbklkOmV9LGV4cGlyeTpyLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGFwcExpbms6eX0pLmNhdGNoKG09PnUobSkpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0X3NlbnRcIix7dG9waWM6aSxyZXF1ZXN0OnMsY2hhaW5JZDplLGlkOmF9KSxhd2FpdCBwKCk7Y29uc3Qgdz17cmVxdWVzdDpPKFIoe30scykse2V4cGlyeVRpbWVzdGFtcDp4KHIpfSksY2hhaW5JZDplfTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoW25ldyBQcm9taXNlKGFzeW5jIG09Pnthd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHtjbGllbnRScGNJZDphLHJlbGF5UnBjSWQ6bCx0b3BpYzppLG1ldGhvZDpkLHBhcmFtczp3LGV4cGlyeTpyLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLHR2Zjp0aGlzLmdldFRWRlBhcmFtcyhhLHcpfSkuY2F0Y2goUz0+dShTKSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHt0b3BpYzppLHJlcXVlc3Q6cyxjaGFpbklkOmUsaWQ6YX0pLG0oKX0pLG5ldyBQcm9taXNlKGFzeW5jIG09Pnt2YXIgUztpZighKChTPW4uc2Vzc2lvbkNvbmZpZykhPW51bGwmJlMuZGlzYWJsZURlZXBMaW5rKSl7Y29uc3QgXz1hd2FpdCBGdCh0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UsTGUpO2F3YWl0IFF0KHtpZDphLHRvcGljOmksd2NEZWVwTGluazpffSl9bSgpfSkscCgpXSkudGhlbihtPT5tWzJdKX0pLGModGhpcyxcInJlc3BvbmRcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5pc1ZhbGlkUmVzcG9uZCh0KTtjb25zdHt0b3BpYzplLHJlc3BvbnNlOnN9PXQse2lkOml9PXMscj10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKTtyLnRyYW5zcG9ydFR5cGU9PT1xLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBuPXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChyLnBlZXIubWV0YWRhdGEsci50cmFuc3BvcnRUeXBlKTtGKHMpP2F3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6aSx0b3BpYzplLHJlc3VsdDpzLnJlc3VsdCx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxhcHBMaW5rOm59KTpRKHMpJiZhd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aSx0b3BpYzplLGVycm9yOnMuZXJyb3IsYXBwTGluazpufSksdGhpcy5jbGVhbnVwQWZ0ZXJSZXNwb25zZSh0KX0pLGModGhpcyxcInBpbmdcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFBpbmcodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicGluZygpIC0+IGlzVmFsaWRQaW5nKCkgZmFpbGVkXCIpLHN9Y29uc3R7dG9waWM6ZX09dDtpZih0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoZSkpe2NvbnN0IHM9aigpLGk9eWUoKS50b1N0cmluZygpLHtkb25lOnIscmVzb2x2ZTpuLHJlamVjdDphfT1lZSgpO3RoaXMuZXZlbnRzLm9uY2UodihcInNlc3Npb25fcGluZ1wiLHMpLCh7ZXJyb3I6bH0pPT57bD9hKGwpOm4oKX0pLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzplLG1ldGhvZDpcIndjX3Nlc3Npb25QaW5nXCIscGFyYW1zOnt9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOnMscmVsYXlScGNJZDppfSkscigpXSl9ZWxzZSB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhlKSYmKHRoaXMuY2xpZW50LmxvZ2dlci53YXJuKFwicGluZygpIG9uIHBhaXJpbmcgdG9waWMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5waW5nKHt0b3BpYzplfSkpfSksYyh0aGlzLFwiZW1pdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxhd2FpdCB0aGlzLmlzVmFsaWRFbWl0KHQpO2NvbnN0e3RvcGljOmUsZXZlbnQ6cyxjaGFpbklkOml9PXQscj15ZSgpLnRvU3RyaW5nKCksbj1qKCk7YXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6ZSxtZXRob2Q6XCJ3Y19zZXNzaW9uRXZlbnRcIixwYXJhbXM6e2V2ZW50OnMsY2hhaW5JZDppfSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxyZWxheVJwY0lkOnIsY2xpZW50UnBjSWQ6bn0pfSksYyh0aGlzLFwiZGlzY29ubmVjdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxhd2FpdCB0aGlzLmlzVmFsaWREaXNjb25uZWN0KHQpO2NvbnN0e3RvcGljOmV9PXQ7aWYodGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKGUpKWF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmUsbWV0aG9kOlwid2Nfc2Vzc2lvbkRlbGV0ZVwiLHBhcmFtczpEKFwiVVNFUl9ESVNDT05ORUNURURcIiksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOmUsZW1pdEV2ZW50OiExfSk7ZWxzZSBpZih0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhlKSlhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZGlzY29ubmVjdCh7dG9waWM6ZX0pO2Vsc2V7Y29uc3R7bWVzc2FnZTpzfT1nKFwiTUlTTUFUQ0hFRF9UT1BJQ1wiLGBTZXNzaW9uIG9yIHBhaXJpbmcgdG9waWMgbm90IGZvdW5kOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHMpfX0pLGModGhpcyxcImZpbmRcIix0PT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5maWx0ZXIoZT0+SHQoZSx0KSkpKSxjKHRoaXMsXCJnZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzXCIsKCk9PnRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmdldEFsbCgpKSxjKHRoaXMsXCJhdXRoZW50aWNhdGVcIixhc3luYyh0LGUpPT57dmFyIHM7dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5pc1ZhbGlkQXV0aGVudGljYXRlKHQpO2NvbnN0IGk9ZSYmdGhpcy5jbGllbnQuY29yZS5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZSkmJigocz10aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnMubGlua01vZGUpLHI9aT9xLmxpbmtfbW9kZTpxLnJlbGF5O3I9PT1xLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdHtjaGFpbnM6bixzdGF0ZW1lbnQ6YT1cIlwiLHVyaTpsLGRvbWFpbjpwLG5vbmNlOmgsdHlwZTp1LGV4cDpkLG5iZjp5LG1ldGhvZHM6dz1bXSxleHBpcnk6bX09dCxTPVsuLi50LnJlc291cmNlc3x8W11dLHt0b3BpYzpfLHVyaTpifT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKHttZXRob2RzOltcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIl0sdHJhbnNwb3J0VHlwZTpyfSk7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oe21lc3NhZ2U6XCJHZW5lcmF0ZWQgbmV3IHBhaXJpbmdcIixwYWlyaW5nOnt0b3BpYzpfLHVyaTpifX0pO2NvbnN0IEM9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksST1PZShDKTtpZihhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQuYXV0aC5hdXRoS2V5cy5zZXQocGUse3Jlc3BvbnNlVG9waWM6SSxwdWJsaWNLZXk6Q30pLHRoaXMuY2xpZW50LmF1dGgucGFpcmluZ1RvcGljcy5zZXQoSSx7dG9waWM6SSxwYWlyaW5nVG9waWM6X30pXSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShJLHt0cmFuc3BvcnRUeXBlOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgc2VuZGluZyByZXF1ZXN0IHRvIG5ldyBwYWlyaW5nIHRvcGljOiAke199YCksdy5sZW5ndGg+MCl7Y29uc3R7bmFtZXNwYWNlOkF9PWJlKG5bMF0pO2xldCBrPXp0KEEsXCJyZXF1ZXN0XCIsdyk7QWUoUykmJihrPVl0KGssUy5wb3AoKSkpLFMucHVzaChrKX1jb25zdCBUPW0mJm0+UC53Y19zZXNzaW9uQXV0aGVudGljYXRlLnJlcS50dGw/bTpQLndjX3Nlc3Npb25BdXRoZW50aWNhdGUucmVxLnR0bCwkPXthdXRoUGF5bG9hZDp7dHlwZTp1Pz9cImNhaXAxMjJcIixjaGFpbnM6bixzdGF0ZW1lbnQ6YSxhdWQ6bCxkb21haW46cCx2ZXJzaW9uOlwiMVwiLG5vbmNlOmgsaWF0Om5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxleHA6ZCxuYmY6eSxyZXNvdXJjZXM6U30scmVxdWVzdGVyOntwdWJsaWNLZXk6QyxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5VGltZXN0YW1wOngoVCl9LEVlPXtlaXAxNTU6e2NoYWluczpuLG1ldGhvZHM6Wy4uLm5ldyBTZXQoW1wicGVyc29uYWxfc2lnblwiLC4uLnddKV0sZXZlbnRzOltcImNoYWluQ2hhbmdlZFwiLFwiYWNjb3VudHNDaGFuZ2VkXCJdfX0sTj17cmVxdWlyZWROYW1lc3BhY2VzOnt9LG9wdGlvbmFsTmFtZXNwYWNlczpFZSxyZWxheXM6W3twcm90b2NvbDpcImlyblwifV0scGFpcmluZ1RvcGljOl8scHJvcG9zZXI6e3B1YmxpY0tleTpDLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6eChQLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpLGlkOmooKX0se2RvbmU6VHQscmVzb2x2ZTpVZSxyZWplY3Q6U2V9PWVlKFQsXCJSZXF1ZXN0IGV4cGlyZWRcIiksc2U9aigpLGhlPXYoXCJzZXNzaW9uX2Nvbm5lY3RcIixOLmlkKSxSZT12KFwic2Vzc2lvbl9yZXF1ZXN0XCIsc2UpLGRlPWFzeW5jKHtlcnJvcjpBLHNlc3Npb246a30pPT57dGhpcy5ldmVudHMub2ZmKFJlLHZlKSxBP1NlKEEpOmsmJlVlKHtzZXNzaW9uOmt9KX0sdmU9YXN5bmMgQT0+e3ZhciBrLEdlLGplO2lmKGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ0F1dGhSZXF1ZXN0KHNlLHttZXNzYWdlOlwiZnVsZmlsbGVkXCIsY29kZTowfSksQS5lcnJvcil7Y29uc3QgcmU9RChcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiKTtyZXR1cm4gQS5lcnJvci5jb2RlPT09cmUuY29kZT92b2lkIDA6KHRoaXMuZXZlbnRzLm9mZihoZSxkZSksU2UoQS5lcnJvci5tZXNzYWdlKSl9YXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChOLmlkKSx0aGlzLmV2ZW50cy5vZmYoaGUsZGUpO2NvbnN0e2NhY2FvczpGZSxyZXNwb25kZXI6SH09QS5yZXN1bHQsVGU9W10sUWU9W107Zm9yKGNvbnN0IHJlIG9mIEZlKXthd2FpdCBKZSh7Y2FjYW86cmUscHJvamVjdElkOnRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkfSl8fCh0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IocmUsXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKSxTZShEKFwiU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRFwiLFwiU2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIikpKTtjb25zdHtwOnFlfT1yZSxQZT1BZShxZS5yZXNvdXJjZXMpLEhlPVtYZShxZS5pc3MpXSxxdD1CZShxZS5pc3MpO2lmKFBlKXtjb25zdCBOZT1XZShQZSksUHQ9WmUoUGUpO1RlLnB1c2goLi4uTmUpLEhlLnB1c2goLi4uUHQpfWZvcihjb25zdCBOZSBvZiBIZSlRZS5wdXNoKGAke05lfToke3F0fWApfWNvbnN0IGllPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KEMsSC5wdWJsaWNLZXkpO2xldCB1ZTtUZS5sZW5ndGg+MCYmKHVlPXt0b3BpYzppZSxhY2tub3dsZWRnZWQ6ITAsc2VsZjp7cHVibGljS2V5OkMsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LHBlZXI6SCxjb250cm9sbGVyOkgucHVibGljS2V5LGV4cGlyeTp4KEIpLHJlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6e30scmVsYXk6e3Byb3RvY29sOlwiaXJuXCJ9LHBhaXJpbmdUb3BpYzpfLG5hbWVzcGFjZXM6ZXQoWy4uLm5ldyBTZXQoVGUpXSxbLi4ubmV3IFNldChRZSldKSx0cmFuc3BvcnRUeXBlOnJ9LGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoaWUse3RyYW5zcG9ydFR5cGU6cn0pLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KGllLHVlKSxfJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOl8sbWV0YWRhdGE6SC5tZXRhZGF0YX0pLHVlPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGllKSksKGs9dGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZrLmxpbmtNb2RlJiYoR2U9SC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJkdlLmxpbmtNb2RlJiYoamU9SC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJmplLnVuaXZlcnNhbCYmZSYmKHRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoSC5tZXRhZGF0YS5yZWRpcmVjdC51bml2ZXJzYWwpLHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGllLHt0cmFuc3BvcnRUeXBlOnEubGlua19tb2RlfSkpLFVlKHthdXRoczpGZSxzZXNzaW9uOnVlfSl9O3RoaXMuZXZlbnRzLm9uY2UoaGUsZGUpLHRoaXMuZXZlbnRzLm9uY2UoUmUsdmUpO2xldCBJZTt0cnl7aWYoaSl7Y29uc3QgQT10ZShcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIiwkLHNlKTt0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KF8sQSk7Y29uc3Qgaz1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUoXCJcIixBLHt0eXBlOkp0LGVuY29kaW5nOmFlfSk7SWU9Z2UoZSxfLGspfWVsc2UgYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOl8sbWV0aG9kOlwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLHBhcmFtczokLGV4cGlyeTp0LmV4cGlyeSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDpzZX0pLHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOl8sbWV0aG9kOlwid2Nfc2Vzc2lvblByb3Bvc2VcIixwYXJhbXM6TixleHBpcnk6UC53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOk4uaWR9KV0pfWNhdGNoKEEpe3Rocm93IHRoaXMuZXZlbnRzLm9mZihoZSxkZSksdGhpcy5ldmVudHMub2ZmKFJlLHZlKSxBfXJldHVybiBhd2FpdCB0aGlzLnNldFByb3Bvc2FsKE4uaWQsTiksYXdhaXQgdGhpcy5zZXRBdXRoUmVxdWVzdChzZSx7cmVxdWVzdDpPKFIoe30sJCkse3ZlcmlmeUNvbnRleHQ6e319KSxwYWlyaW5nVG9waWM6Xyx0cmFuc3BvcnRUeXBlOnJ9KSx7dXJpOkllPz9iLHJlc3BvbnNlOlR0fX0pLGModGhpcyxcImFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgdD0+e2NvbnN0e2lkOmUsYXV0aHM6c309dCxpPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOmUudG9TdHJpbmcoKSx0cmFjZTpbei5hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkXX19KTt0cnl7dGhpcy5pc0luaXRpYWxpemVkKCl9Y2F0Y2gobSl7dGhyb3cgaS5zZXRFcnJvcihvZS5ub19pbnRlcm5ldF9jb25uZWN0aW9uKSxtfWNvbnN0IHI9dGhpcy5nZXRQZW5kaW5nQXV0aFJlcXVlc3QoZSk7aWYoIXIpdGhyb3cgaS5zZXRFcnJvcihvZS5hdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZCksbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBwZW5kaW5nIGF1dGggcmVxdWVzdCB3aXRoIGlkICR7ZX1gKTtjb25zdCBuPXIudHJhbnNwb3J0VHlwZXx8cS5yZWxheTtuPT09cS5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3QgYT1yLnJlcXVlc3Rlci5wdWJsaWNLZXksbD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxwPU9lKGEpLGg9e3R5cGU6VmUscmVjZWl2ZXJQdWJsaWNLZXk6YSxzZW5kZXJQdWJsaWNLZXk6bH0sdT1bXSxkPVtdO2Zvcihjb25zdCBtIG9mIHMpe2lmKCFhd2FpdCBKZSh7Y2FjYW86bSxwcm9qZWN0SWQ6dGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWR9KSl7aS5zZXRFcnJvcihvZS5pbnZhbGlkX2NhY2FvKTtjb25zdCBJPUQoXCJTRVNTSU9OX1NFVFRMRU1FTlRfRkFJTEVEXCIsXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKTt0aHJvdyBhd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6ZSx0b3BpYzpwLGVycm9yOkksZW5jb2RlT3B0czpofSksbmV3IEVycm9yKEkubWVzc2FnZSl9aS5hZGRUcmFjZSh6LmNhY2Fvc192ZXJpZmllZCk7Y29uc3R7cDpTfT1tLF89QWUoUy5yZXNvdXJjZXMpLGI9W1hlKFMuaXNzKV0sQz1CZShTLmlzcyk7aWYoXyl7Y29uc3QgST1XZShfKSxUPVplKF8pO3UucHVzaCguLi5JKSxiLnB1c2goLi4uVCl9Zm9yKGNvbnN0IEkgb2YgYilkLnB1c2goYCR7SX06JHtDfWApfWNvbnN0IHk9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkobCxhKTtpLmFkZFRyYWNlKHouY3JlYXRlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYyk7bGV0IHc7aWYodT8ubGVuZ3RoPjApe3c9e3RvcGljOnksYWNrbm93bGVkZ2VkOiEwLHNlbGY6e3B1YmxpY0tleTpsLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxwZWVyOntwdWJsaWNLZXk6YSxtZXRhZGF0YTpyLnJlcXVlc3Rlci5tZXRhZGF0YX0sY29udHJvbGxlcjphLGV4cGlyeTp4KEIpLGF1dGhlbnRpY2F0aW9uOnMscmVxdWlyZWROYW1lc3BhY2VzOnt9LG9wdGlvbmFsTmFtZXNwYWNlczp7fSxyZWxheTp7cHJvdG9jb2w6XCJpcm5cIn0scGFpcmluZ1RvcGljOnIucGFpcmluZ1RvcGljLG5hbWVzcGFjZXM6ZXQoWy4uLm5ldyBTZXQodSldLFsuLi5uZXcgU2V0KGQpXSksdHJhbnNwb3J0VHlwZTpufSxpLmFkZFRyYWNlKHouc3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljKTt0cnl7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZSh5LHt0cmFuc3BvcnRUeXBlOm59KX1jYXRjaChtKXt0aHJvdyBpLnNldEVycm9yKG9lLnN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZSksbX1pLmFkZFRyYWNlKHouc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldCh5LHcpLGkuYWRkVHJhY2Uoei5zdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb24pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6ci5wYWlyaW5nVG9waWMsbWV0YWRhdGE6ci5yZXF1ZXN0ZXIubWV0YWRhdGF9KX1pLmFkZFRyYWNlKHoucHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZSk7dHJ5e2F3YWl0IHRoaXMuc2VuZFJlc3VsdCh7dG9waWM6cCxpZDplLHJlc3VsdDp7Y2FjYW9zOnMscmVzcG9uZGVyOntwdWJsaWNLZXk6bCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX19LGVuY29kZU9wdHM6aCx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxhcHBMaW5rOnRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChyLnJlcXVlc3Rlci5tZXRhZGF0YSxuKX0pfWNhdGNoKG0pe3Rocm93IGkuc2V0RXJyb3Iob2UuYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlKSxtfXJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmRlbGV0ZShlLHttZXNzYWdlOlwiZnVsZmlsbGVkXCIsY29kZTowfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzpyLnBhaXJpbmdUb3BpY30pLHRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZGVsZXRlRXZlbnQoe2V2ZW50SWQ6aS5ldmVudElkfSkse3Nlc3Npb246d319KSxjKHRoaXMsXCJyZWplY3RTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e2lkOmUscmVhc29uOnN9PXQsaT10aGlzLmdldFBlbmRpbmdBdXRoUmVxdWVzdChlKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHBlbmRpbmcgYXV0aCByZXF1ZXN0IHdpdGggaWQgJHtlfWApO2kudHJhbnNwb3J0VHlwZT09PXEucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IHI9aS5yZXF1ZXN0ZXIucHVibGljS2V5LG49YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksYT1PZShyKSxsPXt0eXBlOlZlLHJlY2VpdmVyUHVibGljS2V5OnIsc2VuZGVyUHVibGljS2V5Om59O2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDplLHRvcGljOmEsZXJyb3I6cyxlbmNvZGVPcHRzOmwscnBjT3B0czpQLndjX3Nlc3Npb25BdXRoZW50aWNhdGUucmVqZWN0LGFwcExpbms6dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKGkucmVxdWVzdGVyLm1ldGFkYXRhLGkudHJhbnNwb3J0VHlwZSl9KSxhd2FpdCB0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmRlbGV0ZShlLHttZXNzYWdlOlwicmVqZWN0ZWRcIixjb2RlOjB9KSxhd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKGUpfSksYyh0aGlzLFwiZm9ybWF0QXV0aE1lc3NhZ2VcIix0PT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3R7cmVxdWVzdDplLGlzczpzfT10O3JldHVybiBYdChlLHMpfSksYyh0aGlzLFwicHJvY2Vzc1JlbGF5TWVzc2FnZUNhY2hlXCIsKCk9PntzZXRUaW1lb3V0KGFzeW5jKCk9PntpZih0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLmxlbmd0aCE9PTApZm9yKDt0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLmxlbmd0aD4wOyl0cnl7Y29uc3QgdD10aGlzLnJlbGF5TWVzc2FnZUNhY2hlLnNoaWZ0KCk7dCYmYXdhaXQgdGhpcy5vblJlbGF5TWVzc2FnZSh0KX1jYXRjaCh0KXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IodCl9fSw1MCl9KSxjKHRoaXMsXCJjbGVhbnVwRHVwbGljYXRlUGFpcmluZ3NcIixhc3luYyB0PT57aWYodC5wYWlyaW5nVG9waWMpdHJ5e2NvbnN0IGU9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldCh0LnBhaXJpbmdUb3BpYykscz10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0QWxsKCkuZmlsdGVyKGk9Pnt2YXIgcixuO3JldHVybigocj1pLnBlZXJNZXRhZGF0YSk9PW51bGw/dm9pZCAwOnIudXJsKSYmKChuPWkucGVlck1ldGFkYXRhKT09bnVsbD92b2lkIDA6bi51cmwpPT09dC5wZWVyLm1ldGFkYXRhLnVybCYmaS50b3BpYyYmaS50b3BpYyE9PWUudG9waWN9KTtpZihzLmxlbmd0aD09PTApcmV0dXJuO3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBDbGVhbmluZyB1cCAke3MubGVuZ3RofSBkdXBsaWNhdGUgcGFpcmluZyhzKWApLGF3YWl0IFByb21pc2UuYWxsKHMubWFwKGk9PnRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5kaXNjb25uZWN0KHt0b3BpYzppLnRvcGljfSkpKSx0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcIkR1cGxpY2F0ZSBwYWlyaW5ncyBjbGVhbiB1cCBmaW5pc2hlZFwiKX1jYXRjaChlKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZSl9fSksYyh0aGlzLFwiZGVsZXRlU2Vzc2lvblwiLGFzeW5jIHQ9Pnt2YXIgZTtjb25zdHt0b3BpYzpzLGV4cGlyZXJIYXNEZWxldGVkOmk9ITEsZW1pdEV2ZW50OnI9ITAsaWQ6bj0wfT10LHtzZWxmOmF9PXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHMpO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci51bnN1YnNjcmliZShzKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZShzLEQoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZChzLFwic2Vzc2lvblwiKSx0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMoYS5wdWJsaWNLZXkpJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5kZWxldGVLZXlQYWlyKGEucHVibGljS2V5KSx0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMocykmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlbGV0ZVN5bUtleShzKSxpfHx0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKHMpLHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5yZW1vdmVJdGVtKExlKS5jYXRjaChsPT50aGlzLmNsaWVudC5sb2dnZXIud2FybihsKSksdGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCkuZm9yRWFjaChsPT57bC50b3BpYz09PXMmJnRoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGwuaWQsRChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKX0pLHM9PT0oKGU9dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlWzBdKT09bnVsbD92b2lkIDA6ZS50b3BpYykmJih0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9TS5pZGxlKSxyJiZ0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZGVsZXRlXCIse2lkOm4sdG9waWM6c30pfSksYyh0aGlzLFwiZGVsZXRlUHJvcG9zYWxcIixhc3luYyh0LGUpPT57aWYoZSl0cnl7Y29uc3Qgcz10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQodCksaT10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmdldEV2ZW50KHt0b3BpYzpzLnBhaXJpbmdUb3BpY30pO2k/LnNldEVycm9yKG5lLnByb3Bvc2FsX2V4cGlyZWQpfWNhdGNoe31hd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKHQsRChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxlP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwodCldKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKHQsXCJwcm9wb3NhbFwiKX0pLGModGhpcyxcImRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdFwiLGFzeW5jKHQsZSxzPSExKT0+e2F3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5kZWxldGUodCxlKSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwodCldKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKHQsXCJyZXF1ZXN0XCIpLHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZT10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWUuZmlsdGVyKGk9PmkuaWQhPT10KSxzJiYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPU0uaWRsZSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9leHBpcmVcIix7aWQ6dH0pKX0pLGModGhpcyxcImRlbGV0ZVBlbmRpbmdBdXRoUmVxdWVzdFwiLGFzeW5jKHQsZSxzPSExKT0+e2F3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmRlbGV0ZSh0LGUpLHM/UHJvbWlzZS5yZXNvbHZlKCk6dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbCh0KV0pfSksYyh0aGlzLFwic2V0RXhwaXJ5XCIsYXN5bmModCxlKT0+e3RoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyh0KSYmKHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQodCxlKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHtleHBpcnk6ZX0pKX0pLGModGhpcyxcInNldFByb3Bvc2FsXCIsYXN5bmModCxlKT0+e3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQodCx4KFAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCkpLGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLnNldCh0LGUpfSksYyh0aGlzLFwic2V0QXV0aFJlcXVlc3RcIixhc3luYyh0LGUpPT57Y29uc3R7cmVxdWVzdDpzLHBhaXJpbmdUb3BpYzppLHRyYW5zcG9ydFR5cGU6cj1xLnJlbGF5fT1lO3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQodCxzLmV4cGlyeVRpbWVzdGFtcCksYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5zZXQodCx7YXV0aFBheWxvYWQ6cy5hdXRoUGF5bG9hZCxyZXF1ZXN0ZXI6cy5yZXF1ZXN0ZXIsZXhwaXJ5VGltZXN0YW1wOnMuZXhwaXJ5VGltZXN0YW1wLGlkOnQscGFpcmluZ1RvcGljOmksdmVyaWZ5Q29udGV4dDpzLnZlcmlmeUNvbnRleHQsdHJhbnNwb3J0VHlwZTpyfSl9KSxjKHRoaXMsXCJzZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RcIixhc3luYyB0PT57Y29uc3R7aWQ6ZSx0b3BpYzpzLHBhcmFtczppLHZlcmlmeUNvbnRleHQ6cn09dCxuPWkucmVxdWVzdC5leHBpcnlUaW1lc3RhbXB8fHgoUC53Y19zZXNzaW9uUmVxdWVzdC5yZXEudHRsKTt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KGUsbiksYXdhaXQgdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3Quc2V0KGUse2lkOmUsdG9waWM6cyxwYXJhbXM6aSx2ZXJpZnlDb250ZXh0OnJ9KX0pLGModGhpcyxcInNlbmRSZXF1ZXN0XCIsYXN5bmMgdD0+e2NvbnN0e3RvcGljOmUsbWV0aG9kOnMscGFyYW1zOmksZXhwaXJ5OnIscmVsYXlScGNJZDpuLGNsaWVudFJwY0lkOmEsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6bCxhcHBMaW5rOnAsdHZmOmgscHVibGlzaE9wdHM6dT17fX09dCxkPXRlKHMsaSxhKTtsZXQgeTtjb25zdCB3PSEhcDt0cnl7Y29uc3QgXz13P2FlOlk7eT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUoZSxkLHtlbmNvZGluZzpffSl9Y2F0Y2goXyl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVxdWVzdCgpIC0+IGNvcmUuY3J5cHRvLmVuY29kZSgpIGZvciB0b3BpYyAke2V9IGZhaWxlZGApLF99bGV0IG07aWYobXQuaW5jbHVkZXMocykpe2NvbnN0IF89VShKU09OLnN0cmluZ2lmeShkKSksYj1VKHkpO209YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVnaXN0ZXIoe2lkOmIsZGVjcnlwdGVkSWQ6X30pfWNvbnN0IFM9UihSKHt9LFBbc10ucmVxKSx1KTtpZihTLmF0dGVzdGF0aW9uPW0sciYmKFMudHRsPXIpLG4mJihTLmlkPW4pLHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoZSxkKSx3KXtjb25zdCBfPWdlKHAsZSx5KTthd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKF8sdGhpcy5jbGllbnQubmFtZSl9ZWxzZSBTLnR2Zj1PKFIoe30saCkse2NvcnJlbGF0aW9uSWQ6ZC5pZH0pLGw/KFMuaW50ZXJuYWw9TyhSKHt9LFMuaW50ZXJuYWwpLHt0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKGUseSxTKSk6dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2goZSx5LFMpLmNhdGNoKF89PnRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihfKSk7cmV0dXJuIGQuaWR9KSxjKHRoaXMsXCJzZW5kUHJvcG9zZVNlc3Npb25cIixhc3luYyB0PT57Y29uc3R7cHJvcG9zYWw6ZSxwdWJsaXNoT3B0czpzfT10LGk9dGUoXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLGUsZS5pZCk7dGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldChlLnBhaXJpbmdUb3BpYyxpKTtjb25zdCByPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShlLnBhaXJpbmdUb3BpYyxpLHtlbmNvZGluZzpZfSksbj1VKEpTT04uc3RyaW5naWZ5KGkpKSxhPVUociksbD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnZlcmlmeS5yZWdpc3Rlcih7aWQ6YSxkZWNyeXB0ZWRJZDpufSk7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2hDdXN0b20oe3BheWxvYWQ6e3BhaXJpbmdUb3BpYzplLnBhaXJpbmdUb3BpYyxzZXNzaW9uUHJvcG9zYWw6cn0sb3B0czpPKFIoe30scykse3B1Ymxpc2hNZXRob2Q6XCJ3Y19wcm9wb3NlU2Vzc2lvblwiLGF0dGVzdGF0aW9uOmx9KX0pfSksYyh0aGlzLFwic2VuZEFwcHJvdmVTZXNzaW9uXCIsYXN5bmMgdD0+e2NvbnN0e3Nlc3Npb25Ub3BpYzplLHBhaXJpbmdQcm9wb3NhbFJlc3BvbnNlOnMscHJvcG9zYWw6aSxzZXNzaW9uU2V0dGxlUmVxdWVzdDpyLHB1Ymxpc2hPcHRzOm59PXQsYT1odChpLmlkLHMpLGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKGkucGFpcmluZ1RvcGljLGEse2VuY29kaW5nOll9KSxwPXRlKFwid2Nfc2Vzc2lvblNldHRsZVwiLHIsbj8uaWQpLGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKGUscCx7ZW5jb2Rpbmc6WX0pO3RoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoZSxwKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaEN1c3RvbSh7cGF5bG9hZDp7c2Vzc2lvblRvcGljOmUscGFpcmluZ1RvcGljOmkucGFpcmluZ1RvcGljLHNlc3Npb25Qcm9wb3NhbFJlc3BvbnNlOmwsc2Vzc2lvblNldHRsZW1lbnRSZXF1ZXN0Omh9LG9wdHM6TyhSKHt9LG4pLHtwdWJsaXNoTWV0aG9kOlwid2NfYXBwcm92ZVNlc3Npb25cIn0pfSl9KSxjKHRoaXMsXCJzZW5kUmVzdWx0XCIsYXN5bmMgdD0+e2NvbnN0e2lkOmUsdG9waWM6cyxyZXN1bHQ6aSx0aHJvd09uRmFpbGVkUHVibGlzaDpyLGVuY29kZU9wdHM6bixhcHBMaW5rOmF9PXQsbD1odChlLGkpO2xldCBwO2NvbnN0IGg9YSYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmcpPFwidVwiO3RyeXtjb25zdCB5PWg/YWU6WTtwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShzLGwsTyhSKHt9LG58fHt9KSx7ZW5jb2Rpbmc6eX0pKX1jYXRjaCh5KXt0aHJvdyBhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRSZXN1bHQoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtzfSBmYWlsZWRgKSx5fWxldCB1LGQ7dHJ5e3U9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmdldChzLGUpO2NvbnN0IHk9dS5yZXF1ZXN0O3RyeXtkPXRoaXMuZ2V0VFZGUGFyYW1zKGUseS5wYXJhbXMsaSl9Y2F0Y2godyl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oYHNlbmRSZXN1bHQoKSAtPiBnZXRUVkZQYXJhbXMoKSBmYWlsZWQ6ICR7dz8ubWVzc2FnZX1gKX19Y2F0Y2goeSl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVzdWx0KCkgLT4gaGlzdG9yeS5nZXQoJHtzfSwgJHtlfSkgZmFpbGVkYCkseX1pZihoKXtjb25zdCB5PWdlKGEscyxwKTthd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKHksdGhpcy5jbGllbnQubmFtZSl9ZWxzZXtjb25zdCB5PXUucmVxdWVzdC5tZXRob2Qsdz1QW3ldLnJlczt3LnR2Zj1PKFIoe30sZCkse2NvcnJlbGF0aW9uSWQ6ZX0pLHI/KHcuaW50ZXJuYWw9TyhSKHt9LHcuaW50ZXJuYWwpLHt0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMscCx3KSk6dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxwLHcpLmNhdGNoKG09PnRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihtKSl9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnJlc29sdmUobCl9KSxjKHRoaXMsXCJzZW5kRXJyb3JcIixhc3luYyB0PT57Y29uc3R7aWQ6ZSx0b3BpYzpzLGVycm9yOmksZW5jb2RlT3B0czpyLHJwY09wdHM6bixhcHBMaW5rOmF9PXQsbD1TcyhlLGkpO2xldCBwO2NvbnN0IGg9YSYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmcpPFwidVwiO3RyeXtjb25zdCBkPWg/YWU6WTtwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShzLGwsTyhSKHt9LHJ8fHt9KSx7ZW5jb2Rpbmc6ZH0pKX1jYXRjaChkKXt0aHJvdyBhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRFcnJvcigpIC0+IGNvcmUuY3J5cHRvLmVuY29kZSgpIGZvciB0b3BpYyAke3N9IGZhaWxlZGApLGR9bGV0IHU7dHJ5e3U9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmdldChzLGUpfWNhdGNoKGQpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZEVycm9yKCkgLT4gaGlzdG9yeS5nZXQoJHtzfSwgJHtlfSkgZmFpbGVkYCksZH1pZihoKXtjb25zdCBkPWdlKGEscyxwKTthd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKGQsdGhpcy5jbGllbnQubmFtZSl9ZWxzZXtjb25zdCBkPXUucmVxdWVzdC5tZXRob2QseT1ufHxQW2RdLnJlczt0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLHAseSl9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnJlc29sdmUobCl9KSxjKHRoaXMsXCJjbGVhbnVwXCIsYXN5bmMoKT0+e2NvbnN0IHQ9W10sZT1bXTt0aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpLmZvckVhY2gocz0+e2xldCBpPSExO1oocy5leHBpcnkpJiYoaT0hMCksdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKHMudG9waWMpfHwoaT0hMCksaSYmdC5wdXNoKHMudG9waWMpfSksdGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0QWxsKCkuZm9yRWFjaChzPT57WihzLmV4cGlyeVRpbWVzdGFtcCkmJmUucHVzaChzLmlkKX0pLGF3YWl0IFByb21pc2UuYWxsKFsuLi50Lm1hcChzPT50aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnN9KSksLi4uZS5tYXAocz0+dGhpcy5kZWxldGVQcm9wb3NhbChzKSldKX0pLGModGhpcyxcIm9uUHJvdmlkZXJNZXNzYWdlRXZlbnRcIixhc3luYyB0PT57IXRoaXMuaW5pdGlhbGl6ZWR8fHRoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoPjA/dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5wdXNoKHQpOmF3YWl0IHRoaXMub25SZWxheU1lc3NhZ2UodCl9KSxjKHRoaXMsXCJvblJlbGF5RXZlbnRSZXF1ZXN0XCIsYXN5bmMgdD0+e3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnB1c2godCksYXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdHNRdWV1ZSgpfSksYyh0aGlzLFwicHJvY2Vzc1JlcXVlc3RzUXVldWVcIixhc3luYygpPT57aWYodGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9PT1NLmFjdGl2ZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJSZXF1ZXN0IHF1ZXVlIGFscmVhZHkgYWN0aXZlLCBza2lwcGluZy4uLlwiKTtyZXR1cm59Zm9yKHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBSZXF1ZXN0IHF1ZXVlIHN0YXJ0aW5nIHdpdGggJHt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5sZW5ndGh9IHJlcXVlc3RzYCk7dGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RoPjA7KXt0aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZT1NLmFjdGl2ZTtjb25zdCB0PXRoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnNoaWZ0KCk7aWYodCl0cnl7YXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdCh0KX1jYXRjaChlKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihlKX19dGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9TS5pZGxlfSksYyh0aGlzLFwicHJvY2Vzc1JlcXVlc3RcIixhc3luYyB0PT57Y29uc3R7dG9waWM6ZSxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSx0cmFuc3BvcnRUeXBlOnIsZW5jcnlwdGVkSWQ6bn09dCxhPXMubWV0aG9kO2lmKCF0aGlzLnNob3VsZElnbm9yZVBhaXJpbmdSZXF1ZXN0KHt0b3BpYzplLHJlcXVlc3RNZXRob2Q6YX0pKXN3aXRjaChhKXtjYXNlXCJ3Y19zZXNzaW9uUHJvcG9zZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXF1ZXN0KHt0b3BpYzplLHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOm59KTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uU2V0dGxlUmVxdWVzdChlLHMpO2Nhc2VcIndjX3Nlc3Npb25VcGRhdGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25VcGRhdGVSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkV4dGVuZFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblBpbmdSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkRlbGV0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkRlbGV0ZVJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUmVxdWVzdFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblJlcXVlc3Qoe3RvcGljOmUscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6bix0cmFuc3BvcnRUeXBlOnJ9KTtjYXNlXCJ3Y19zZXNzaW9uRXZlbnRcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25FdmVudFJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uQXV0aGVudGljYXRlUmVxdWVzdCh7dG9waWM6ZSxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpuLHRyYW5zcG9ydFR5cGU6cn0pO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBVbnN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZCAke2F9YCl9fSksYyh0aGlzLFwib25SZWxheUV2ZW50UmVzcG9uc2VcIixhc3luYyB0PT57Y29uc3R7dG9waWM6ZSxwYXlsb2FkOnMsdHJhbnNwb3J0VHlwZTppfT10LHI9KGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQoZSxzLmlkKSkucmVxdWVzdC5tZXRob2Q7c3dpdGNoKHIpe2Nhc2VcIndjX3Nlc3Npb25Qcm9wb3NlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlKGUscyxpKTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uU2V0dGxlUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uVXBkYXRlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uVXBkYXRlUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uRXh0ZW5kXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uRXh0ZW5kUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiB0aGlzLm9uU2Vzc2lvblBpbmdSZXNwb25zZShlLHMpO2Nhc2VcIndjX3Nlc3Npb25SZXF1ZXN0XCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlKGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlKGUscyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFVuc3VwcG9ydGVkIHJlc3BvbnNlIG1ldGhvZCAke3J9YCl9fSksYyh0aGlzLFwib25SZWxheUV2ZW50VW5rbm93blBheWxvYWRcIix0PT57Y29uc3R7dG9waWM6ZX09dCx7bWVzc2FnZTpzfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYERlY29kZWQgcGF5bG9hZCBvbiB0b3BpYyAke2V9IGlzIG5vdCBpZGVudGlmaWFibGUgYXMgYSBKU09OLVJQQyByZXF1ZXN0IG9yIGEgcmVzcG9uc2UuYCk7dGhyb3cgbmV3IEVycm9yKHMpfSksYyh0aGlzLFwic2hvdWxkSWdub3JlUGFpcmluZ1JlcXVlc3RcIix0PT57Y29uc3R7dG9waWM6ZSxyZXF1ZXN0TWV0aG9kOnN9PXQsaT10aGlzLmV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcC5nZXQoZSk7cmV0dXJuIWl8fGkuaW5jbHVkZXMocyk/ITE6ISEoaS5pbmNsdWRlcyhcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIikmJnRoaXMuY2xpZW50LmV2ZW50cy5saXN0ZW5lckNvdW50KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIik+MCl9KSxjKHRoaXMsXCJvblNlc3Npb25Qcm9wb3NlUmVxdWVzdFwiLGFzeW5jIHQ9Pntjb25zdHt0b3BpYzplLHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOnJ9PXQse3BhcmFtczpuLGlkOmF9PXM7dHJ5e2NvbnN0IGw9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5nZXRFdmVudCh7dG9waWM6ZX0pO3RoaXMuY2xpZW50LmV2ZW50cy5saXN0ZW5lckNvdW50KFwic2Vzc2lvbl9wcm9wb3NhbFwiKT09PTAmJihjb25zb2xlLndhcm4oXCJObyBsaXN0ZW5lciBmb3Igc2Vzc2lvbl9wcm9wb3NhbCBldmVudFwiKSxsPy5zZXRFcnJvcihidC5wcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmQpKSx0aGlzLmlzVmFsaWRDb25uZWN0KFIoe30scy5wYXJhbXMpKTtjb25zdCBwPW4uZXhwaXJ5VGltZXN0YW1wfHx4KFAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCksaD1SKHtpZDphLHBhaXJpbmdUb3BpYzplLGV4cGlyeVRpbWVzdGFtcDpwLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6cn0sbik7YXdhaXQgdGhpcy5zZXRQcm9wb3NhbChhLGgpO2NvbnN0IHU9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOmksaGFzaDpVKEpTT04uc3RyaW5naWZ5KHMpKSxlbmNyeXB0ZWRJZDpyLG1ldGFkYXRhOmgucHJvcG9zZXIubWV0YWRhdGF9KTtsPy5hZGRUcmFjZShBdC5lbWl0X3Nlc3Npb25fcHJvcG9zYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9wcm9wb3NhbFwiLHtpZDphLHBhcmFtczpoLHZlcmlmeUNvbnRleHQ6dX0pfWNhdGNoKGwpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDphLHRvcGljOmUsZXJyb3I6bCxycGNPcHRzOlAud2Nfc2Vzc2lvblByb3Bvc2UuYXV0b1JlamVjdH0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihsKX19KSxjKHRoaXMsXCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixhc3luYyh0LGUscyk9Pntjb25zdHtpZDppfT1lO2lmKEYoZSkpe2NvbnN0e3Jlc3VsdDpyfT1lO3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHJlc3VsdDpyfSk7Y29uc3Qgbj10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoaSk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscHJvcG9zYWw6bn0pO2NvbnN0IGE9bi5wcm9wb3Nlci5wdWJsaWNLZXk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc2VsZlB1YmxpY0tleTphfSk7Y29uc3QgbD1yLnJlc3BvbmRlclB1YmxpY0tleTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixwZWVyUHVibGljS2V5Omx9KTtjb25zdCBwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGEsbCk7dGhpcy5wZW5kaW5nU2Vzc2lvbnMuc2V0KGkse3Nlc3Npb25Ub3BpYzpwLHBhaXJpbmdUb3BpYzp0LHByb3Bvc2FsSWQ6aSxwdWJsaWNLZXk6YX0pO2NvbnN0IGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShwLHt0cmFuc3BvcnRUeXBlOnN9KTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixzdWJzY3JpcHRpb25JZDpofSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzp0fSl9ZWxzZSBpZihRKGUpKXthd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKGkpO2NvbnN0IHI9dihcInNlc3Npb25fY29ubmVjdFwiLGkpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQocik9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtyfSB3aXRob3V0IGFueSBsaXN0ZW5lcnMsIDk1NGApO3RoaXMuZXZlbnRzLmVtaXQocix7ZXJyb3I6ZS5lcnJvcn0pfX0pLGModGhpcyxcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3RcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6cyxwYXJhbXM6aX09ZTt0cnl7dGhpcy5pc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3QoaSk7Y29uc3R7cmVsYXk6cixjb250cm9sbGVyOm4sZXhwaXJ5OmEsbmFtZXNwYWNlczpsLHNlc3Npb25Qcm9wZXJ0aWVzOnAsc2NvcGVkUHJvcGVydGllczpoLHNlc3Npb25Db25maWc6dX09ZS5wYXJhbXMsZD1bLi4udGhpcy5wZW5kaW5nU2Vzc2lvbnMudmFsdWVzKCldLmZpbmQobT0+bS5zZXNzaW9uVG9waWM9PT10KTtpZighZClyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBQZW5kaW5nIHNlc3Npb24gbm90IGZvdW5kIGZvciB0b3BpYyAke3R9YCk7Y29uc3QgeT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZC5wcm9wb3NhbElkKSx3PU8oUihSKFIoe3RvcGljOnQscmVsYXk6cixleHBpcnk6YSxuYW1lc3BhY2VzOmwsYWNrbm93bGVkZ2VkOiEwLHBhaXJpbmdUb3BpYzpkLnBhaXJpbmdUb3BpYyxyZXF1aXJlZE5hbWVzcGFjZXM6eS5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnkub3B0aW9uYWxOYW1lc3BhY2VzLGNvbnRyb2xsZXI6bi5wdWJsaWNLZXksc2VsZjp7cHVibGljS2V5OmQucHVibGljS2V5LG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxwZWVyOntwdWJsaWNLZXk6bi5wdWJsaWNLZXksbWV0YWRhdGE6bi5tZXRhZGF0YX19LHAmJntzZXNzaW9uUHJvcGVydGllczpwfSksaCYme3Njb3BlZFByb3BlcnRpZXM6aH0pLHUmJntzZXNzaW9uQ29uZmlnOnV9KSx7dHJhbnNwb3J0VHlwZTpxLnJlbGF5fSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQody50b3BpYyx3KSxhd2FpdCB0aGlzLnNldEV4cGlyeSh3LnRvcGljLHcuZXhwaXJ5KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOmQucGFpcmluZ1RvcGljLG1ldGFkYXRhOncucGVlci5tZXRhZGF0YX0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9jb25uZWN0XCIse3Nlc3Npb246d30pLHRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fY29ubmVjdFwiLGQucHJvcG9zYWxJZCkse3Nlc3Npb246d30pLHRoaXMucGVuZGluZ1Nlc3Npb25zLmRlbGV0ZShkLnByb3Bvc2FsSWQpLHRoaXMuZGVsZXRlUHJvcG9zYWwoZC5wcm9wb3NhbElkLCExKSx0aGlzLmNsZWFudXBEdXBsaWNhdGVQYWlyaW5ncyh3KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOmUuaWQsdG9waWM6dCxyZXN1bHQ6ITB9KX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwib25TZXNzaW9uU2V0dGxlUmVzcG9uc2VcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6c309ZTtGKGUpPyhhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHthY2tub3dsZWRnZWQ6ITB9KSx0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX2FwcHJvdmVcIixzKSx7fSkpOlEoZSkmJihhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZSh0LEQoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9hcHByb3ZlXCIscykse2Vycm9yOmUuZXJyb3J9KSl9KSxjKHRoaXMsXCJvblNlc3Npb25VcGRhdGVSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e3BhcmFtczpzLGlkOml9PWU7dHJ5e2NvbnN0IHI9YCR7dH1fc2Vzc2lvbl91cGRhdGVgLG49Y2UuZ2V0KHIpO2lmKG4mJnRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKG4saSkpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBEaXNjYXJkaW5nIG91dCBvZiBzeW5jIHJlcXVlc3QgLSAke2l9YCksdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6dCxlcnJvcjpEKFwiSU5WQUxJRF9VUERBVEVfUkVRVUVTVFwiKX0pO3JldHVybn10aGlzLmlzVmFsaWRVcGRhdGUoUih7dG9waWM6dH0scykpO3RyeXtjZS5zZXQocixpKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHtuYW1lc3BhY2VzOnMubmFtZXNwYWNlc30pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6aSx0b3BpYzp0LHJlc3VsdDohMH0pfWNhdGNoKGEpe3Rocm93IGNlLmRlbGV0ZShyKSxhfXRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7aWQ6aSx0b3BpYzp0LHBhcmFtczpzfSl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6dCxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0pLGModGhpcyxcImlzUmVxdWVzdE91dE9mU3luY1wiLCh0LGUpPT5lLnRvU3RyaW5nKCkuc2xpY2UoMCwtMyk8dC50b1N0cmluZygpLnNsaWNlKDAsLTMpKSxjKHRoaXMsXCJvblNlc3Npb25VcGRhdGVSZXNwb25zZVwiLCh0LGUpPT57Y29uc3R7aWQ6c309ZSxpPXYoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fdXBkYXRlXCIscykse30pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fdXBkYXRlXCIscykse2Vycm9yOmUuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3RcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6c309ZTt0cnl7dGhpcy5pc1ZhbGlkRXh0ZW5kKHt0b3BpYzp0fSksYXdhaXQgdGhpcy5zZXRFeHBpcnkodCx4KEIpKSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6dCxyZXN1bHQ6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXh0ZW5kXCIse2lkOnMsdG9waWM6dH0pfWNhdGNoKGkpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpzLHRvcGljOnQsZXJyb3I6aX0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKX19KSxjKHRoaXMsXCJvblNlc3Npb25FeHRlbmRSZXNwb25zZVwiLCh0LGUpPT57Y29uc3R7aWQ6c309ZSxpPXYoXCJzZXNzaW9uX2V4dGVuZFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fZXh0ZW5kXCIscykse30pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fZXh0ZW5kXCIscykse2Vycm9yOmUuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvblBpbmdSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnN9PWU7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOnR9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6dCxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcGluZ1wiLHtpZDpzLHRvcGljOnR9KX1jYXRjaChpKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOml9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uUGluZ1Jlc3BvbnNlXCIsKHQsZSk9Pntjb25zdHtpZDpzfT1lLGk9dihcInNlc3Npb25fcGluZ1wiLHMpO3NldFRpbWVvdXQoKCk9PntpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzIDIxNzZgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcGluZ1wiLHMpLHt9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3BpbmdcIixzKSx7ZXJyb3I6ZS5lcnJvcn0pfSw1MDApfSksYyh0aGlzLFwib25TZXNzaW9uRGVsZXRlUmVxdWVzdFwiLGFzeW5jKHQsZSk9Pntjb25zdHtpZDpzfT1lO3RyeXt0aGlzLmlzVmFsaWREaXNjb25uZWN0KHt0b3BpYzp0LHJlYXNvbjplLnBhcmFtc30pLGF3YWl0IFByb21pc2UuYWxsKFtuZXcgUHJvbWlzZShpPT57dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm9uY2UoemUucHVibGlzaCxhc3luYygpPT57aShhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnQsaWQ6c30pKX0pfSksdGhpcy5zZW5kUmVzdWx0KHtpZDpzLHRvcGljOnQscmVzdWx0OiEwfSksdGhpcy5jbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljKHt0b3BpYzp0LGVycm9yOkQoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKX0pXSkuY2F0Y2goaT0+dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpKX1jYXRjaChpKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uUmVxdWVzdFwiLGFzeW5jIHQ9Pnt2YXIgZSxzLGk7Y29uc3R7dG9waWM6cixwYXlsb2FkOm4sYXR0ZXN0YXRpb246YSxlbmNyeXB0ZWRJZDpsLHRyYW5zcG9ydFR5cGU6cH09dCx7aWQ6aCxwYXJhbXM6dX09bjt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVxdWVzdChSKHt0b3BpYzpyfSx1KSk7Y29uc3QgZD10aGlzLmNsaWVudC5zZXNzaW9uLmdldChyKSx5PWF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7YXR0ZXN0YXRpb25JZDphLGhhc2g6VShKU09OLnN0cmluZ2lmeSh0ZShcIndjX3Nlc3Npb25SZXF1ZXN0XCIsdSxoKSkpLGVuY3J5cHRlZElkOmwsbWV0YWRhdGE6ZC5wZWVyLm1ldGFkYXRhLHRyYW5zcG9ydFR5cGU6cH0pLHc9e2lkOmgsdG9waWM6cixwYXJhbXM6dSx2ZXJpZnlDb250ZXh0Onl9O2F3YWl0IHRoaXMuc2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0KHcpLHA9PT1xLmxpbmtfbW9kZSYmKGU9ZC5wZWVyLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmZS51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoKHM9ZC5wZWVyLm1ldGFkYXRhLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy51bml2ZXJzYWwpLChpPXRoaXMuY2xpZW50LnNpZ25Db25maWcpIT1udWxsJiZpLmRpc2FibGVSZXF1ZXN0UXVldWU/dGhpcy5lbWl0U2Vzc2lvblJlcXVlc3Qodyk6KHRoaXMuYWRkU2Vzc2lvblJlcXVlc3RUb1Nlc3Npb25SZXF1ZXN0UXVldWUodyksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpKX1jYXRjaChkKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aCx0b3BpYzpyLGVycm9yOmR9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZCl9fSksYyh0aGlzLFwib25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlXCIsKHQsZSk9Pntjb25zdHtpZDpzfT1lLGk9dihcInNlc3Npb25fcmVxdWVzdFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtyZXN1bHQ6ZS5yZXN1bHR9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7ZXJyb3I6ZS5lcnJvcn0pfSksYyh0aGlzLFwib25TZXNzaW9uRXZlbnRSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnMscGFyYW1zOml9PWU7dHJ5e2NvbnN0IHI9YCR7dH1fc2Vzc2lvbl9ldmVudF8ke2kuZXZlbnQubmFtZX1gLG49Y2UuZ2V0KHIpO2lmKG4mJnRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKG4scykpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBEaXNjYXJkaW5nIG91dCBvZiBzeW5jIHJlcXVlc3QgLSAke3N9YCk7cmV0dXJufXRoaXMuaXNWYWxpZEVtaXQoUih7dG9waWM6dH0saSkpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLHtpZDpzLHRvcGljOnQscGFyYW1zOml9KSxjZS5zZXQocixzKX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIiwodCxlKT0+e2NvbnN0e2lkOnN9PWU7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIix0b3BpYzp0LHBheWxvYWQ6ZX0pLEYoZSk/dGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9yZXF1ZXN0XCIscykse3Jlc3VsdDplLnJlc3VsdH0pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtlcnJvcjplLmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25BdXRoZW50aWNhdGVSZXF1ZXN0XCIsYXN5bmMgdD0+e3ZhciBlO2NvbnN0e3RvcGljOnMscGF5bG9hZDppLGF0dGVzdGF0aW9uOnIsZW5jcnlwdGVkSWQ6bix0cmFuc3BvcnRUeXBlOmF9PXQ7dHJ5e2NvbnN0e3JlcXVlc3RlcjpsLGF1dGhQYXlsb2FkOnAsZXhwaXJ5VGltZXN0YW1wOmh9PWkucGFyYW1zLHU9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOnIsaGFzaDpVKEpTT04uc3RyaW5naWZ5KGkpKSxlbmNyeXB0ZWRJZDpuLG1ldGFkYXRhOmwubWV0YWRhdGEsdHJhbnNwb3J0VHlwZTphfSksZD17cmVxdWVzdGVyOmwscGFpcmluZ1RvcGljOnMsaWQ6aS5pZCxhdXRoUGF5bG9hZDpwLHZlcmlmeUNvbnRleHQ6dSxleHBpcnlUaW1lc3RhbXA6aH07YXdhaXQgdGhpcy5zZXRBdXRoUmVxdWVzdChpLmlkLHtyZXF1ZXN0OmQscGFpcmluZ1RvcGljOnMsdHJhbnNwb3J0VHlwZTphfSksYT09PXEubGlua19tb2RlJiYoZT1sLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmZS51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAobC5tZXRhZGF0YS5yZWRpcmVjdC51bml2ZXJzYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIix7dG9waWM6cyxwYXJhbXM6aS5wYXJhbXMsaWQ6aS5pZCx2ZXJpZnlDb250ZXh0OnV9KX1jYXRjaChsKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobCk7Y29uc3QgcD1pLnBhcmFtcy5yZXF1ZXN0ZXIucHVibGljS2V5LGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksdT10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoaS5wYXJhbXMucmVxdWVzdGVyLm1ldGFkYXRhLGEpLGQ9e3R5cGU6VmUscmVjZWl2ZXJQdWJsaWNLZXk6cCxzZW5kZXJQdWJsaWNLZXk6aH07YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmkuaWQsdG9waWM6cyxlcnJvcjpsLGVuY29kZU9wdHM6ZCxycGNPcHRzOlAud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5hdXRvUmVqZWN0LGFwcExpbms6dX0pfX0pLGModGhpcyxcImFkZFNlc3Npb25SZXF1ZXN0VG9TZXNzaW9uUmVxdWVzdFF1ZXVlXCIsdD0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKHQpfSksYyh0aGlzLFwiY2xlYW51cEFmdGVyUmVzcG9uc2VcIix0PT57dGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QodC5yZXNwb25zZS5pZCx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLHNldFRpbWVvdXQoKCk9Pnt0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9TS5pZGxlLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKX0scHQodGhpcy5yZXF1ZXN0UXVldWVEZWxheSkpfSksYyh0aGlzLFwiY2xlYW51cFBlbmRpbmdTZW50UmVxdWVzdHNGb3JUb3BpY1wiLCh7dG9waWM6dCxlcnJvcjplfSk9Pntjb25zdCBzPXRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5wZW5kaW5nO3MubGVuZ3RoPjAmJnMuZmlsdGVyKGk9PmkudG9waWM9PT10JiZpLnJlcXVlc3QubWV0aG9kPT09XCJ3Y19zZXNzaW9uUmVxdWVzdFwiKS5mb3JFYWNoKGk9Pntjb25zdCByPWkucmVxdWVzdC5pZCxuPXYoXCJzZXNzaW9uX3JlcXVlc3RcIixyKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KG4pPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7bn0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7dGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9yZXF1ZXN0XCIsaS5yZXF1ZXN0LmlkKSx7ZXJyb3I6ZX0pfSl9KSxjKHRoaXMsXCJwcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZVwiLCgpPT57aWYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPT09TS5hY3RpdmUpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGFscmVhZHkgYWN0aXZlLlwiKTtyZXR1cm59Y29uc3QgdD10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWVbMF07aWYoIXQpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGVtcHR5LlwiKTtyZXR1cm59dHJ5e3RoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KHQpfWNhdGNoKGUpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihlKX19KSxjKHRoaXMsXCJlbWl0U2Vzc2lvblJlcXVlc3RcIix0PT57aWYodGhpcy5lbWl0dGVkU2Vzc2lvblJlcXVlc3RzLmhhcyh0LmlkKSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oe2lkOnQuaWR9LGBTa2lwcGluZyBlbWl0dGluZyBcXGBzZXNzaW9uX3JlcXVlc3RcXGAgZXZlbnQgZm9yIGR1cGxpY2F0ZSByZXF1ZXN0LiBpZDogJHt0LmlkfWApO3JldHVybn10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9TS5hY3RpdmUsdGhpcy5lbWl0dGVkU2Vzc2lvblJlcXVlc3RzLmFkZCh0LmlkKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdFwiLHQpfSksYyh0aGlzLFwib25QYWlyaW5nQ3JlYXRlZFwiLHQ9PntpZih0Lm1ldGhvZHMmJnRoaXMuZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwLnNldCh0LnRvcGljLHQubWV0aG9kcyksdC5hY3RpdmUpcmV0dXJuO2NvbnN0IGU9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0QWxsKCkuZmluZChzPT5zLnBhaXJpbmdUb3BpYz09PXQudG9waWMpO2UmJnRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3Qoe3RvcGljOnQudG9waWMscGF5bG9hZDp0ZShcIndjX3Nlc3Npb25Qcm9wb3NlXCIsTyhSKHt9LGUpLHtyZXF1aXJlZE5hbWVzcGFjZXM6ZS5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOmUub3B0aW9uYWxOYW1lc3BhY2VzLHJlbGF5czplLnJlbGF5cyxwcm9wb3NlcjplLnByb3Bvc2VyLHNlc3Npb25Qcm9wZXJ0aWVzOmUuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczplLnNjb3BlZFByb3BlcnRpZXN9KSxlLmlkKSxhdHRlc3RhdGlvbjplLmF0dGVzdGF0aW9uLGVuY3J5cHRlZElkOmUuZW5jcnlwdGVkSWR9KX0pLGModGhpcyxcImlzVmFsaWRDb25uZWN0XCIsYXN5bmMgdD0+e2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOmx9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgY29ubmVjdCgpIHBhcmFtczogJHtKU09OLnN0cmluZ2lmeSh0KX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3R7cGFpcmluZ1RvcGljOmUscmVxdWlyZWROYW1lc3BhY2VzOnMsb3B0aW9uYWxOYW1lc3BhY2VzOmksc2Vzc2lvblByb3BlcnRpZXM6cixzY29wZWRQcm9wZXJ0aWVzOm4scmVsYXlzOmF9PXQ7aWYoWChlKXx8YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKGUpLCFCdChhLCEwKSl7Y29uc3R7bWVzc2FnZTpsfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGNvbm5lY3QoKSByZWxheXM6ICR7YX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9aWYoIVgocykmJnR0KHMpIT09MCl7Y29uc3QgbD1cInJlcXVpcmVkTmFtZXNwYWNlcyBhcmUgZGVwcmVjYXRlZCBhbmQgYXJlIGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG8gb3B0aW9uYWxOYW1lc3BhY2VzXCI7W1wiZmF0YWxcIixcImVycm9yXCIsXCJzaWxlbnRcIl0uaW5jbHVkZXModGhpcy5jbGllbnQubG9nZ2VyLmxldmVsKT9jb25zb2xlLndhcm4obCk6dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCksdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXMocyxcInJlcXVpcmVkTmFtZXNwYWNlc1wiKX1pZighWChpKSYmdHQoaSkhPT0wJiZ0aGlzLnZhbGlkYXRlTmFtZXNwYWNlcyhpLFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpLFgocil8fHRoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMocixcInNlc3Npb25Qcm9wZXJ0aWVzXCIpLCFYKG4pKXt0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKG4sXCJzY29wZWRQcm9wZXJ0aWVzXCIpO2NvbnN0IGw9T2JqZWN0LmtleXMoc3x8e30pLmNvbmNhdChPYmplY3Qua2V5cyhpfHx7fSkpO2lmKCFPYmplY3Qua2V5cyhuKS5ldmVyeShwPT5sLmluY2x1ZGVzKHAuc3BsaXQoXCI6XCIpWzBdKSkpdGhyb3cgbmV3IEVycm9yKGBTY29wZWQgcHJvcGVydGllcyBtdXN0IGJlIGEgc3Vic2V0IG9mIHJlcXVpcmVkL29wdGlvbmFsIG5hbWVzcGFjZXMsIHJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KG4pfSwgcmVxdWlyZWQvb3B0aW9uYWwgbmFtZXNwYWNlczogJHtKU09OLnN0cmluZ2lmeShsKX1gKX19KSxjKHRoaXMsXCJ2YWxpZGF0ZU5hbWVzcGFjZXNcIiwodCxlKT0+e2NvbnN0IHM9V3QodCxcImNvbm5lY3QoKVwiLGUpO2lmKHMpdGhyb3cgbmV3IEVycm9yKHMubWVzc2FnZSl9KSxjKHRoaXMsXCJpc1ZhbGlkQXBwcm92ZVwiLGFzeW5jIHQ9PntpZighTCh0KSl0aHJvdyBuZXcgRXJyb3IoZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBhcHByb3ZlKCkgcGFyYW1zOiAke3R9YCkubWVzc2FnZSk7Y29uc3R7aWQ6ZSxuYW1lc3BhY2VzOnMscmVsYXlQcm90b2NvbDppLHNlc3Npb25Qcm9wZXJ0aWVzOnIsc2NvcGVkUHJvcGVydGllczpufT10O3RoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQoZSksYXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZChlKTtjb25zdCBhPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChlKSxsPXhlKHMsXCJhcHByb3ZlKClcIik7aWYobCl0aHJvdyBuZXcgRXJyb3IobC5tZXNzYWdlKTtjb25zdCBwPXN0KGEucmVxdWlyZWROYW1lc3BhY2VzLHMsXCJhcHByb3ZlKClcIik7aWYocCl0aHJvdyBuZXcgRXJyb3IocC5tZXNzYWdlKTtpZighSihpLCEwKSl7Y29uc3R7bWVzc2FnZTpofT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGFwcHJvdmUoKSByZWxheVByb3RvY29sOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKGgpfWlmKFgocil8fHRoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMocixcInNlc3Npb25Qcm9wZXJ0aWVzXCIpLCFYKG4pKXt0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKG4sXCJzY29wZWRQcm9wZXJ0aWVzXCIpO2NvbnN0IGg9bmV3IFNldChPYmplY3Qua2V5cyhzKSk7aWYoIU9iamVjdC5rZXlzKG4pLmV2ZXJ5KHU9PmguaGFzKHUuc3BsaXQoXCI6XCIpWzBdKSkpdGhyb3cgbmV3IEVycm9yKGBTY29wZWQgcHJvcGVydGllcyBtdXN0IGJlIGEgc3Vic2V0IG9mIGFwcHJvdmVkIG5hbWVzcGFjZXMsIHJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KG4pfSwgYXBwcm92ZWQgbmFtZXNwYWNlczogJHtBcnJheS5mcm9tKGgpLmpvaW4oXCIsIFwiKX1gKX19KSxjKHRoaXMsXCJpc1ZhbGlkUmVqZWN0XCIsYXN5bmMgdD0+e2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOml9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVqZWN0KCkgcGFyYW1zOiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKGkpfWNvbnN0e2lkOmUscmVhc29uOnN9PXQ7aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChlKSxhd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKGUpLCFadChzKSl7Y29uc3R7bWVzc2FnZTppfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlamVjdCgpIHJlYXNvbjogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9fSksYyh0aGlzLFwiaXNWYWxpZFNlc3Npb25TZXR0bGVSZXF1ZXN0XCIsdD0+e2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOmx9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgb25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihsKX1jb25zdHtyZWxheTplLGNvbnRyb2xsZXI6cyxuYW1lc3BhY2VzOmksZXhwaXJ5OnJ9PXQ7aWYoIWVzKGUpKXtjb25zdHttZXNzYWdlOmx9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKSByZWxheSBwcm90b2NvbCBzaG91bGQgYmUgYSBzdHJpbmdcIik7dGhyb3cgbmV3IEVycm9yKGwpfWNvbnN0IG49dHMocyxcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTtpZihuKXRocm93IG5ldyBFcnJvcihuLm1lc3NhZ2UpO2NvbnN0IGE9eGUoaSxcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTtpZihhKXRocm93IG5ldyBFcnJvcihhLm1lc3NhZ2UpO2lmKFoocikpe2NvbnN0e21lc3NhZ2U6bH09ZyhcIkVYUElSRURcIixcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTt0aHJvdyBuZXcgRXJyb3IobCl9fSksYyh0aGlzLFwiaXNWYWxpZFVwZGF0ZVwiLGFzeW5jIHQ9PntpZighTCh0KSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHVwZGF0ZSgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzplLG5hbWVzcGFjZXM6c309dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhlKTtjb25zdCBpPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUpLHI9eGUocyxcInVwZGF0ZSgpXCIpO2lmKHIpdGhyb3cgbmV3IEVycm9yKHIubWVzc2FnZSk7Y29uc3Qgbj1zdChpLnJlcXVpcmVkTmFtZXNwYWNlcyxzLFwidXBkYXRlKClcIik7aWYobil0aHJvdyBuZXcgRXJyb3Iobi5tZXNzYWdlKX0pLGModGhpcyxcImlzVmFsaWRFeHRlbmRcIixhc3luYyB0PT57aWYoIUwodCkpe2NvbnN0e21lc3NhZ2U6c309ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBleHRlbmQoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6ZX09dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhlKX0pLGModGhpcyxcImlzVmFsaWRSZXF1ZXN0XCIsYXN5bmMgdD0+e2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOmF9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzplLHJlcXVlc3Q6cyxjaGFpbklkOmksZXhwaXJ5OnJ9PXQ7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChlKSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMoZSk7Y29uc3R7bmFtZXNwYWNlczpufT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKTtpZighaXQobixpKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKCFzcyhzKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZighaXMobixpLHMubWV0aG9kKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBtZXRob2Q6ICR7cy5tZXRob2R9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKHImJiFycyhyLF9lKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBleHBpcnk6ICR7cn0uIEV4cGlyeSBtdXN0IGJlIGEgbnVtYmVyIChpbiBzZWNvbmRzKSBiZXR3ZWVuICR7X2UubWlufSBhbmQgJHtfZS5tYXh9YCk7dGhyb3cgbmV3IEVycm9yKGEpfX0pLGModGhpcyxcImlzVmFsaWRSZXNwb25kXCIsYXN5bmMgdD0+e3ZhciBlO2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOnJ9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVzcG9uZCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihyKX1jb25zdHt0b3BpYzpzLHJlc3BvbnNlOml9PXQ7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhzKX1jYXRjaChyKXt0aHJvdyhlPXQ/LnJlc3BvbnNlKSE9bnVsbCYmZS5pZCYmdGhpcy5jbGVhbnVwQWZ0ZXJSZXNwb25zZSh0KSxyfWlmKCFucyhpKSl7Y29uc3R7bWVzc2FnZTpyfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlc3BvbmQoKSByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShpKX1gKTt0aHJvdyBuZXcgRXJyb3Iocil9fSksYyh0aGlzLFwiaXNWYWxpZFBpbmdcIixhc3luYyB0PT57aWYoIUwodCkpe2NvbnN0e21lc3NhZ2U6c309ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwaW5nKCkgcGFyYW1zOiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWNvbnN0e3RvcGljOmV9PXQ7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvbk9yUGFpcmluZ1RvcGljKGUpfSksYyh0aGlzLFwiaXNWYWxpZEVtaXRcIixhc3luYyB0PT57aWYoIUwodCkpe2NvbnN0e21lc3NhZ2U6bn09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgcGFyYW1zOiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWNvbnN0e3RvcGljOmUsZXZlbnQ6cyxjaGFpbklkOml9PXQ7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKGUpO2NvbnN0e25hbWVzcGFjZXM6cn09dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZSk7aWYoIWl0KHIsaSkpe2NvbnN0e21lc3NhZ2U6bn09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgY2hhaW5JZDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1pZighb3Mocykpe2NvbnN0e21lc3NhZ2U6bn09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWlmKCFhcyhyLGkscy5uYW1lKSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBldmVudDogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9fSksYyh0aGlzLFwiaXNWYWxpZERpc2Nvbm5lY3RcIixhc3luYyB0PT57aWYoIUwodCkpe2NvbnN0e21lc3NhZ2U6c309ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBkaXNjb25uZWN0KCkgcGFyYW1zOiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWNvbnN0e3RvcGljOmV9PXQ7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvbk9yUGFpcmluZ1RvcGljKGUpfSksYyh0aGlzLFwiaXNWYWxpZEF1dGhlbnRpY2F0ZVwiLHQ9Pntjb25zdHtjaGFpbnM6ZSx1cmk6cyxkb21haW46aSxub25jZTpyfT10O2lmKCFBcnJheS5pc0FycmF5KGUpfHxlLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiY2hhaW5zIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5XCIpO2lmKCFKKHMsITEpKXRocm93IG5ldyBFcnJvcihcInVyaSBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7aWYoIUooaSwhMSkpdGhyb3cgbmV3IEVycm9yKFwiZG9tYWluIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZighSihyLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJub25jZSBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7aWYoWy4uLm5ldyBTZXQoZS5tYXAoYT0+YmUoYSkubmFtZXNwYWNlKSldLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcihcIk11bHRpLW5hbWVzcGFjZSByZXF1ZXN0cyBhcmUgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHJlcXVlc3Qgc2luZ2xlIG5hbWVzcGFjZSBvbmx5LlwiKTtjb25zdHtuYW1lc3BhY2U6bn09YmUoZVswXSk7aWYobiE9PVwiZWlwMTU1XCIpdGhyb3cgbmV3IEVycm9yKFwiT25seSBlaXAxNTUgbmFtZXNwYWNlIGlzIHN1cHBvcnRlZCBmb3IgYXV0aGVudGljYXRlZCBzZXNzaW9ucy4gUGxlYXNlIHVzZSAuY29ubmVjdCgpIGZvciBub24tZWlwMTU1IGNoYWlucy5cIil9KSxjKHRoaXMsXCJnZXRWZXJpZnlDb250ZXh0XCIsYXN5bmMgdD0+e2NvbnN0e2F0dGVzdGF0aW9uSWQ6ZSxoYXNoOnMsZW5jcnlwdGVkSWQ6aSxtZXRhZGF0YTpyLHRyYW5zcG9ydFR5cGU6bn09dCxhPXt2ZXJpZmllZDp7dmVyaWZ5VXJsOnIudmVyaWZ5VXJsfHx4dCx2YWxpZGF0aW9uOlwiVU5LTk9XTlwiLG9yaWdpbjpyLnVybHx8XCJcIn19O3RyeXtpZihuPT09cS5saW5rX21vZGUpe2NvbnN0IHA9dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKHIsbik7cmV0dXJuIGEudmVyaWZpZWQudmFsaWRhdGlvbj1wJiZuZXcgVVJMKHApLm9yaWdpbj09PW5ldyBVUkwoci51cmwpLm9yaWdpbj9cIlZBTElEXCI6XCJJTlZBTElEXCIsYX1jb25zdCBsPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUudmVyaWZ5LnJlc29sdmUoe2F0dGVzdGF0aW9uSWQ6ZSxoYXNoOnMsZW5jcnlwdGVkSWQ6aSx2ZXJpZnlVcmw6ci52ZXJpZnlVcmx9KTtsJiYoYS52ZXJpZmllZC5vcmlnaW49bC5vcmlnaW4sYS52ZXJpZmllZC5pc1NjYW09bC5pc1NjYW0sYS52ZXJpZmllZC52YWxpZGF0aW9uPWwub3JpZ2luPT09bmV3IFVSTChyLnVybCkub3JpZ2luP1wiVkFMSURcIjpcIklOVkFMSURcIil9Y2F0Y2gobCl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCl9cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5kZWJ1ZyhgVmVyaWZ5IGNvbnRleHQ6ICR7SlNPTi5zdHJpbmdpZnkoYSl9YCksYX0pLGModGhpcyxcInZhbGlkYXRlU2Vzc2lvblByb3BzXCIsKHQsZSk9PntPYmplY3QudmFsdWVzKHQpLmZvckVhY2goKHMsaSk9PntpZihzPT1udWxsKXtjb25zdHttZXNzYWdlOnJ9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgJHtlfSBtdXN0IGNvbnRhaW4gYW4gZXhpc3RpbmcgdmFsdWUgZm9yIGVhY2gga2V5LiBSZWNlaXZlZDogJHtzfSBmb3Iga2V5ICR7T2JqZWN0LmtleXModClbaV19YCk7dGhyb3cgbmV3IEVycm9yKHIpfX0pfSksYyh0aGlzLFwiZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0XCIsdD0+e2NvbnN0IGU9dGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5nZXQodCk7cmV0dXJuIHR5cGVvZiBlPT1cIm9iamVjdFwiP2U6dm9pZCAwfSksYyh0aGlzLFwiYWRkVG9SZWNlbnRseURlbGV0ZWRcIiwodCxlKT0+e2lmKHRoaXMucmVjZW50bHlEZWxldGVkTWFwLnNldCh0LGUpLHRoaXMucmVjZW50bHlEZWxldGVkTWFwLnNpemU+PXRoaXMucmVjZW50bHlEZWxldGVkTGltaXQpe2xldCBzPTA7Y29uc3QgaT10aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0LzI7Zm9yKGNvbnN0IHIgb2YgdGhpcy5yZWNlbnRseURlbGV0ZWRNYXAua2V5cygpKXtpZihzKys+PWkpYnJlYWs7dGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuZGVsZXRlKHIpfX19KSxjKHRoaXMsXCJjaGVja1JlY2VudGx5RGVsZXRlZFwiLHQ9Pntjb25zdCBlPXRoaXMucmVjZW50bHlEZWxldGVkTWFwLmdldCh0KTtpZihlKXtjb25zdHttZXNzYWdlOnN9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgUmVjb3JkIHdhcyByZWNlbnRseSBkZWxldGVkIC0gJHtlfTogJHt0fWApO3Rocm93IG5ldyBFcnJvcihzKX19KSxjKHRoaXMsXCJpc0xpbmtNb2RlRW5hYmxlZFwiLCh0LGUpPT57dmFyIHMsaSxyLG4sYSxsLHAsaCx1O3JldHVybiF0fHxlIT09cS5saW5rX21vZGU/ITE6KChpPShzPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6cy5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmkubGlua01vZGUpPT09ITAmJigobj0ocj10aGlzLmNsaWVudC5tZXRhZGF0YSk9PW51bGw/dm9pZCAwOnIucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpuLnVuaXZlcnNhbCkhPT12b2lkIDAmJigobD0oYT10aGlzLmNsaWVudC5tZXRhZGF0YSk9PW51bGw/dm9pZCAwOmEucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpsLnVuaXZlcnNhbCkhPT1cIlwiJiYoKHA9dD8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpwLnVuaXZlcnNhbCkhPT12b2lkIDAmJigoaD10Py5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmgudW5pdmVyc2FsKSE9PVwiXCImJigodT10Py5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnUubGlua01vZGUpPT09ITAmJnRoaXMuY2xpZW50LmNvcmUubGlua01vZGVTdXBwb3J0ZWRBcHBzLmluY2x1ZGVzKHQucmVkaXJlY3QudW5pdmVyc2FsKSYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmcpPFwidVwifSksYyh0aGlzLFwiZ2V0QXBwTGlua0lmRW5hYmxlZFwiLCh0LGUpPT57dmFyIHM7cmV0dXJuIHRoaXMuaXNMaW5rTW9kZUVuYWJsZWQodCxlKT8ocz10Py5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnMudW5pdmVyc2FsOnZvaWQgMH0pLGModGhpcyxcImhhbmRsZUxpbmtNb2RlTWVzc2FnZVwiLCh7dXJsOnR9KT0+e2lmKCF0fHwhdC5pbmNsdWRlcyhcIndjX2V2XCIpfHwhdC5pbmNsdWRlcyhcInRvcGljXCIpKXJldHVybjtjb25zdCBlPXJ0KHQsXCJ0b3BpY1wiKXx8XCJcIixzPWRlY29kZVVSSUNvbXBvbmVudChydCh0LFwid2NfZXZcIil8fFwiXCIpLGk9dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKGUpO2kmJnRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUse3RyYW5zcG9ydFR5cGU6cS5saW5rX21vZGV9KSx0aGlzLmNsaWVudC5jb3JlLmRpc3BhdGNoRW52ZWxvcGUoe3RvcGljOmUsbWVzc2FnZTpzLHNlc3Npb25FeGlzdHM6aX0pfSksYyh0aGlzLFwicmVnaXN0ZXJMaW5rTW9kZUxpc3RlbmVyc1wiLGFzeW5jKCk9Pnt2YXIgdDtpZihjcygpfHxscygpJiYodD10aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJnQubGlua01vZGUpe2NvbnN0IGU9Z2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZztpZih0eXBlb2YgZTxcInVcIil7ZS5hZGRFdmVudExpc3RlbmVyKFwidXJsXCIsdGhpcy5oYW5kbGVMaW5rTW9kZU1lc3NhZ2UsdGhpcy5jbGllbnQubmFtZSk7Y29uc3Qgcz1hd2FpdCBlLmdldEluaXRpYWxVUkwoKTtzJiZzZXRUaW1lb3V0KCgpPT57dGhpcy5oYW5kbGVMaW5rTW9kZU1lc3NhZ2Uoe3VybDpzfSl9LDUwKX19fSksYyh0aGlzLFwiZ2V0VFZGUGFyYW1zXCIsKHQsZSxzKT0+e3ZhciBpLHIsbjtpZighKChpPWUucmVxdWVzdCkhPW51bGwmJmkubWV0aG9kKSlyZXR1cm57fTtjb25zdCBhPXtjb3JyZWxhdGlvbklkOnQscnBjTWV0aG9kczpbZS5yZXF1ZXN0Lm1ldGhvZF0sY2hhaW5JZDplLmNoYWluSWR9O3RyeXtjb25zdCBsPXRoaXMuZXh0cmFjdFR4SGFzaGVzRnJvbVJlc3VsdChlLnJlcXVlc3Qscyk7YS50eEhhc2hlcz1sLGEuY29udHJhY3RBZGRyZXNzZXM9dGhpcy5pc1ZhbGlkQ29udHJhY3REYXRhKGUucmVxdWVzdC5wYXJhbXMpP1sobj0ocj1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6clswXSk9PW51bGw/dm9pZCAwOm4udG9dOltdfWNhdGNoKGwpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKFwiRXJyb3IgZ2V0dGluZyBUVkYgcGFyYW1zXCIsbCl9cmV0dXJuIGF9KSxjKHRoaXMsXCJpc1ZhbGlkQ29udHJhY3REYXRhXCIsdD0+e3ZhciBlO2lmKCF0KXJldHVybiExO3RyeXtjb25zdCBzPXQ/LmRhdGF8fCgoZT10Py5bMF0pPT1udWxsP3ZvaWQgMDplLmRhdGEpO2lmKCFzLnN0YXJ0c1dpdGgoXCIweFwiKSlyZXR1cm4hMTtjb25zdCBpPXMuc2xpY2UoMik7cmV0dXJuL15bMC05YS1mQS1GXSokLy50ZXN0KGkpP2kubGVuZ3RoJTI9PT0wOiExfWNhdGNoe31yZXR1cm4hMX0pLGModGhpcyxcImV4dHJhY3RUeEhhc2hlc0Zyb21SZXN1bHRcIiwodCxlKT0+e3ZhciBzO3RyeXtpZighZSlyZXR1cm5bXTtjb25zdCBpPXQubWV0aG9kLHI9eXRbaV07aWYoaT09PVwic3VpX3NpZ25UcmFuc2FjdGlvblwiKXJldHVybltwcyhlLnRyYW5zYWN0aW9uQnl0ZXMpXTtpZihpPT09XCJuZWFyX3NpZ25UcmFuc2FjdGlvblwiKXJldHVybltudChlKV07aWYoaT09PVwibmVhcl9zaWduVHJhbnNhY3Rpb25zXCIpcmV0dXJuIGUubWFwKGE9Pm50KGEpKTtpZihpPT09XCJ4cnBsX3NpZ25UcmFuc2FjdGlvbkZvclwifHxpPT09XCJ4cnBsX3NpZ25UcmFuc2FjdGlvblwiKXJldHVyblsocz1lLnR4X2pzb24pPT1udWxsP3ZvaWQgMDpzLmhhc2hdO2lmKGk9PT1cInBvbGthZG90X3NpZ25UcmFuc2FjdGlvblwiKXJldHVybltocyh7dHJhbnNhY3Rpb246dC5wYXJhbXMudHJhbnNhY3Rpb25QYXlsb2FkLHNpZ25hdHVyZTplLnNpZ25hdHVyZX0pXTtpZihpPT09XCJhbGdvX3NpZ25UeG5cIilyZXR1cm4gb3QoZSk/ZS5tYXAoYT0+YXQoYSkpOlthdChlKV07aWYoaT09PVwiY29zbW9zX3NpZ25EaXJlY3RcIilyZXR1cm5bZHMoZSldO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXJldHVybltlXTtjb25zdCBuPWVbci5rZXldO2lmKG90KG4pKXJldHVybiBpPT09XCJzb2xhbmFfc2lnbkFsbFRyYW5zYWN0aW9uc1wiP24ubWFwKGE9PnVzKGEpKTpuO2lmKHR5cGVvZiBuPT1cInN0cmluZ1wiKXJldHVybltuXX1jYXRjaChpKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcIkVycm9yIGV4dHJhY3RpbmcgdHggaGFzaGVzIGZyb20gcmVzdWx0XCIsaSl9cmV0dXJuW119KX1hc3luYyBwcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMoKXt0cnl7Y29uc3Qgbz10aGlzLmNsaWVudC5zZXNzaW9uLmtleXMsdD10aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIubWVzc2FnZXMuZ2V0V2l0aG91dEFjayhvKTtmb3IoY29uc3RbZSxzXW9mIE9iamVjdC5lbnRyaWVzKHQpKWZvcihjb25zdCBpIG9mIHMpdHJ5e2F3YWl0IHRoaXMub25Qcm92aWRlck1lc3NhZ2VFdmVudCh7dG9waWM6ZSxtZXNzYWdlOmkscHVibGlzaGVkQXQ6RGF0ZS5ub3coKX0pfWNhdGNoe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBFcnJvciBwcm9jZXNzaW5nIHBlbmRpbmcgbWVzc2FnZSBldmVudCBmb3IgdG9waWM6ICR7ZX0sIG1lc3NhZ2U6ICR7aX1gKX19Y2F0Y2gobyl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJwcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMgZmFpbGVkXCIsbyl9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTpvfT1nKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3Iobyl9fWFzeW5jIGNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpfXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5vbih6ZS5tZXNzYWdlLG89Pnt0aGlzLm9uUHJvdmlkZXJNZXNzYWdlRXZlbnQobyl9KX1hc3luYyBvblJlbGF5TWVzc2FnZShvKXtjb25zdHt0b3BpYzp0LG1lc3NhZ2U6ZSxhdHRlc3RhdGlvbjpzLHRyYW5zcG9ydFR5cGU6aX09byx7cHVibGljS2V5OnJ9PXRoaXMuY2xpZW50LmF1dGguYXV0aEtleXMua2V5cy5pbmNsdWRlcyhwZSk/dGhpcy5jbGllbnQuYXV0aC5hdXRoS2V5cy5nZXQocGUpOntyZXNwb25zZVRvcGljOnZvaWQgMCxwdWJsaWNLZXk6dm9pZCAwfTt0cnl7Y29uc3Qgbj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5kZWNvZGUodCxlLHtyZWNlaXZlclB1YmxpY0tleTpyLGVuY29kaW5nOmk9PT1xLmxpbmtfbW9kZT9hZTpZfSk7ZnMobik/KHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQodCxuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpuLGF0dGVzdGF0aW9uOnMsdHJhbnNwb3J0VHlwZTppLGVuY3J5cHRlZElkOlUoZSl9KSk6RXMobik/KGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKG4pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVzcG9uc2Uoe3RvcGljOnQscGF5bG9hZDpuLHRyYW5zcG9ydFR5cGU6aX0pLHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5kZWxldGUodCxuLmlkKSk6YXdhaXQgdGhpcy5vblJlbGF5RXZlbnRVbmtub3duUGF5bG9hZCh7dG9waWM6dCxwYXlsb2FkOm4sdHJhbnNwb3J0VHlwZTppfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm1lc3NhZ2VzLmFjayh0LGUpfWNhdGNoKG4pe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihuKX19cmVnaXN0ZXJFeHBpcmVyRXZlbnRzKCl7dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLm9uKE50LmV4cGlyZWQsYXN5bmMgbz0+e2NvbnN0e3RvcGljOnQsaWQ6ZX09VXQoby50YXJnZXQpO2lmKGUmJnRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmtleXMuaW5jbHVkZXMoZSkpcmV0dXJuIGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGUsZyhcIkVYUElSRURcIiksITApO2lmKGUmJnRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMua2V5cy5pbmNsdWRlcyhlKSlyZXR1cm4gYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nQXV0aFJlcXVlc3QoZSxnKFwiRVhQSVJFRFwiKSwhMCk7dD90aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCkmJihhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnQsZXhwaXJlckhhc0RlbGV0ZWQ6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXhwaXJlXCIse3RvcGljOnR9KSk6ZSYmKGF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwoZSwhMCksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJwcm9wb3NhbF9leHBpcmVcIix7aWQ6ZX0pKX0pfXJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUucGFpcmluZy5ldmVudHMub24oWWUuY3JlYXRlLG89PnRoaXMub25QYWlyaW5nQ3JlYXRlZChvKSksdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmV2ZW50cy5vbihZZS5kZWxldGUsbz0+e3RoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQoby50b3BpYyxcInBhaXJpbmdcIil9KX1pc1ZhbGlkUGFpcmluZ1RvcGljKG8pe2lmKCFKKG8sITEpKXtjb25zdHttZXNzYWdlOnR9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoIXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG8pKXtjb25zdHttZXNzYWdlOnR9PWcoXCJOT19NQVRDSElOR19LRVlcIixgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWlmKFoodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChvKS5leHBpcnkpKXtjb25zdHttZXNzYWdlOnR9PWcoXCJFWFBJUkVEXCIsYHBhaXJpbmcgdG9waWM6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uVG9waWMobyl7aWYoIUoobywhMSkpe2NvbnN0e21lc3NhZ2U6dH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBzZXNzaW9uIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZih0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKG8pLCF0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMobykpe2NvbnN0e21lc3NhZ2U6dH09ZyhcIk5PX01BVENISU5HX0tFWVwiLGBzZXNzaW9uIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoWih0aGlzLmNsaWVudC5zZXNzaW9uLmdldChvKS5leHBpcnkpKXthd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm99KTtjb25zdHttZXNzYWdlOnR9PWcoXCJFWFBJUkVEXCIsYHNlc3Npb24gdG9waWM6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoIXRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgZG9lcyBub3QgZXhpc3QgaW4ga2V5Y2hhaW46ICR7b31gKTt0aHJvdyBhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm99KSxuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMobyl7aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChvKSx0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMobykpYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKG8pO2Vsc2UgaWYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobykpdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKG8pO2Vsc2UgaWYoSihvLCExKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWVsc2V7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRQcm9wb3NhbElkKG8pe2lmKCFHdChvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHByb3Bvc2FsIGlkIHNob3VsZCBiZSBhIG51bWJlcjogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZighdGhpcy5jbGllbnQucHJvcG9zYWwua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHByb3Bvc2FsIGlkIGRvZXNuJ3QgZXhpc3Q6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoWih0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQobykuZXhwaXJ5VGltZXN0YW1wKSl7YXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChvKTtjb25zdHttZXNzYWdlOnR9PWcoXCJFWFBJUkVEXCIsYHByb3Bvc2FsIGlkOiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfX19Y2xhc3Mga3MgZXh0ZW5kcyBXe2NvbnN0cnVjdG9yKG8sdCl7c3VwZXIobyx0LGR0LHdlKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBJdCBleHRlbmRzIFd7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsdXQsd2UpLHRoaXMuY29yZT1vLHRoaXMubG9nZ2VyPXR9fWNsYXNzIERzIGV4dGVuZHMgV3tjb25zdHJ1Y3RvcihvLHQpe3N1cGVyKG8sdCx3dCx3ZSxlPT5lLmlkKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBMcyBleHRlbmRzIFd7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsRXQsbGUsKCk9PnBlKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBNcyBleHRlbmRzIFd7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsU3QsbGUpLHRoaXMuY29yZT1vLHRoaXMubG9nZ2VyPXR9fWNsYXNzICRzIGV4dGVuZHMgV3tjb25zdHJ1Y3RvcihvLHQpe3N1cGVyKG8sdCxSdCxsZSxlPT5lLmlkKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX12YXIgS3M9T2JqZWN0LmRlZmluZVByb3BlcnR5LFVzPShFLG8sdCk9Pm8gaW4gRT9LcyhFLG8se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpFW29dPXQsS2U9KEUsbyx0KT0+VXMoRSx0eXBlb2YgbyE9XCJzeW1ib2xcIj9vK1wiXCI6byx0KTtjbGFzcyBHc3tjb25zdHJ1Y3RvcihvLHQpe3RoaXMuY29yZT1vLHRoaXMubG9nZ2VyPXQsS2UodGhpcyxcImF1dGhLZXlzXCIpLEtlKHRoaXMsXCJwYWlyaW5nVG9waWNzXCIpLEtlKHRoaXMsXCJyZXF1ZXN0c1wiKSx0aGlzLmF1dGhLZXlzPW5ldyBMcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGFpcmluZ1RvcGljcz1uZXcgTXModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnJlcXVlc3RzPW5ldyAkcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpfWFzeW5jIGluaXQoKXthd2FpdCB0aGlzLmF1dGhLZXlzLmluaXQoKSxhd2FpdCB0aGlzLnBhaXJpbmdUb3BpY3MuaW5pdCgpLGF3YWl0IHRoaXMucmVxdWVzdHMuaW5pdCgpfX12YXIganM9T2JqZWN0LmRlZmluZVByb3BlcnR5LEZzPShFLG8sdCk9Pm8gaW4gRT9qcyhFLG8se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpFW29dPXQsZj0oRSxvLHQpPT5GcyhFLHR5cGVvZiBvIT1cInN5bWJvbFwiP28rXCJcIjpvLHQpO2NsYXNzIGZlIGV4dGVuZHMgJHR7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksZih0aGlzLFwicHJvdG9jb2xcIixDZSksZih0aGlzLFwidmVyc2lvblwiLGtlKSxmKHRoaXMsXCJuYW1lXCIsbWUubmFtZSksZih0aGlzLFwibWV0YWRhdGFcIiksZih0aGlzLFwiY29yZVwiKSxmKHRoaXMsXCJsb2dnZXJcIiksZih0aGlzLFwiZXZlbnRzXCIsbmV3IHdzKSxmKHRoaXMsXCJlbmdpbmVcIiksZih0aGlzLFwic2Vzc2lvblwiKSxmKHRoaXMsXCJwcm9wb3NhbFwiKSxmKHRoaXMsXCJwZW5kaW5nUmVxdWVzdFwiKSxmKHRoaXMsXCJhdXRoXCIpLGYodGhpcyxcInNpZ25Db25maWdcIiksZih0aGlzLFwib25cIiwoZSxzKT0+dGhpcy5ldmVudHMub24oZSxzKSksZih0aGlzLFwib25jZVwiLChlLHMpPT50aGlzLmV2ZW50cy5vbmNlKGUscykpLGYodGhpcyxcIm9mZlwiLChlLHMpPT50aGlzLmV2ZW50cy5vZmYoZSxzKSksZih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoZSxzKT0+dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSxzKSksZih0aGlzLFwicmVtb3ZlQWxsTGlzdGVuZXJzXCIsZT0+dGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKGUpKSxmKHRoaXMsXCJjb25uZWN0XCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuY29ubmVjdChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwicGFpclwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnBhaXIoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImFwcHJvdmVcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5hcHByb3ZlKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJyZWplY3RcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZWplY3QoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInVwZGF0ZVwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnVwZGF0ZShlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwiZXh0ZW5kXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZXh0ZW5kKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVxdWVzdChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwicmVzcG9uZFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlc3BvbmQoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInBpbmdcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5waW5nKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJlbWl0XCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZW1pdChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwiZGlzY29ubmVjdFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmRpc2Nvbm5lY3QoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImZpbmRcIixlPT57dHJ5e3JldHVybiB0aGlzLmVuZ2luZS5maW5kKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJnZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzXCIsKCk9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKX1jYXRjaChlKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpLGV9fSksZih0aGlzLFwiYXV0aGVudGljYXRlXCIsYXN5bmMoZSxzKT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXV0aGVudGljYXRlKGUscyl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaS5tZXNzYWdlKSxpfX0pLGYodGhpcyxcImZvcm1hdEF1dGhNZXNzYWdlXCIsZT0+e3RyeXtyZXR1cm4gdGhpcy5lbmdpbmUuZm9ybWF0QXV0aE1lc3NhZ2UoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGUoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInJlamVjdFNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZWplY3RTZXNzaW9uQXV0aGVudGljYXRlKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSx0aGlzLm5hbWU9bz8ubmFtZXx8bWUubmFtZSx0aGlzLm1ldGFkYXRhPWdzKG8/Lm1ldGFkYXRhKSx0aGlzLnNpZ25Db25maWc9bz8uc2lnbkNvbmZpZztjb25zdCB0PXR5cGVvZiBvPy5sb2dnZXI8XCJ1XCImJnR5cGVvZiBvPy5sb2dnZXIhPVwic3RyaW5nXCI/by5sb2dnZXI6Q3Qoa3Qoe2xldmVsOm8/LmxvZ2dlcnx8bWUubG9nZ2VyfSkpO3RoaXMuY29yZT1vPy5jb3JlfHxuZXcgVnQobyksdGhpcy5sb2dnZXI9RHQodCx0aGlzLm5hbWUpLHRoaXMuc2Vzc2lvbj1uZXcgSXQodGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnByb3Bvc2FsPW5ldyBrcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGVuZGluZ1JlcXVlc3Q9bmV3IERzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5lbmdpbmU9bmV3IENzKHRoaXMpLHRoaXMuYXV0aD1uZXcgR3ModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1zdGF0aWMgYXN5bmMgaW5pdChvKXtjb25zdCB0PW5ldyBmZShvKTtyZXR1cm4gYXdhaXQgdC5pbml0aWFsaXplKCksdH1nZXQgY29udGV4dCgpe3JldHVybiBMdCh0aGlzLmxvZ2dlcil9Z2V0IHBhaXJpbmcoKXtyZXR1cm4gdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3N9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY29yZS5zdGFydCgpLGF3YWl0IHRoaXMuc2Vzc2lvbi5pbml0KCksYXdhaXQgdGhpcy5wcm9wb3NhbC5pbml0KCksYXdhaXQgdGhpcy5wZW5kaW5nUmVxdWVzdC5pbml0KCksYXdhaXQgdGhpcy5hdXRoLmluaXQoKSxhd2FpdCB0aGlzLmVuZ2luZS5pbml0KCksdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChvKXt0aHJvdyB0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBGYWlsdXJlXCIpLHRoaXMubG9nZ2VyLmVycm9yKG8ubWVzc2FnZSksb319fWNvbnN0IFFzPUl0LEhzPWZlO2V4cG9ydHtmdCBhcyBBVVRIX0NPTlRFWFQsRXQgYXMgQVVUSF9LRVlTX0NPTlRFWFQsU3QgYXMgQVVUSF9QQUlSSU5HX1RPUElDX0NPTlRFWFQsX3QgYXMgQVVUSF9QUk9UT0NPTCxwZSBhcyBBVVRIX1BVQkxJQ19LRVlfTkFNRSxSdCBhcyBBVVRIX1JFUVVFU1RfQ09OVEVYVCxsZSBhcyBBVVRIX1NUT1JBR0VfUFJFRklYLE5zIGFzIEFVVEhfVkVSU0lPTixndCBhcyBFTkdJTkVfQ09OVEVYVCxNIGFzIEVOR0lORV9RVUVVRV9TVEFURVMsUCBhcyBFTkdJTkVfUlBDX09QVFMsVHMgYXMgSElTVE9SWV9DT05URVhULElzIGFzIEhJU1RPUllfRVZFTlRTLHFzIGFzIEhJU1RPUllfU1RPUkFHRV9WRVJTSU9OLG10IGFzIE1FVEhPRFNfVE9fVkVSSUZZLGR0IGFzIFBST1BPU0FMX0NPTlRFWFQsUHMgYXMgUFJPUE9TQUxfRVhQSVJZLE1lIGFzIFBST1BPU0FMX0VYUElSWV9NRVNTQUdFLHd0IGFzIFJFUVVFU1RfQ09OVEVYVCx1dCBhcyBTRVNTSU9OX0NPTlRFWFQsQiBhcyBTRVNTSU9OX0VYUElSWSxfZSBhcyBTRVNTSU9OX1JFUVVFU1RfRVhQSVJZX0JPVU5EQVJJRVMsRGUgYXMgU0lHTl9DTElFTlRfQ09OVEVYVCxtZSBhcyBTSUdOX0NMSUVOVF9ERUZBVUxULFJzIGFzIFNJR05fQ0xJRU5UX0VWRU5UUyxDZSBhcyBTSUdOX0NMSUVOVF9QUk9UT0NPTCx2cyBhcyBTSUdOX0NMSUVOVF9TVE9SQUdFX09QVElPTlMsd2UgYXMgU0lHTl9DTElFTlRfU1RPUkFHRV9QUkVGSVgsa2UgYXMgU0lHTl9DTElFTlRfVkVSU0lPTixRcyBhcyBTZXNzaW9uU3RvcmUsSHMgYXMgU2lnbkNsaWVudCx5dCBhcyBUVkZfTUVUSE9EUyxMZSBhcyBXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSxmZSBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/sign-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./misc */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsdUZBQU87QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsbUZBQVE7QUFDckMscUJBQXFCLG1CQUFPLENBQUMsbUZBQVE7QUFDckMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvaW5kZXguanM/Y2JkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9taXNjXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RpbWVcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/misc.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ONE_THOUSAND = exports.ONE_HUNDRED = void 0;\nexports.ONE_HUNDRED = 100;\nexports.ONE_THOUSAND = 1000;\n//# sourceMappingURL=misc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvbWlzYy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyxtQkFBbUI7QUFDMUMsbUJBQW1CO0FBQ25CLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL2NvbnN0YW50cy9taXNjLmpzPzQwZjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9ORV9USE9VU0FORCA9IGV4cG9ydHMuT05FX0hVTkRSRUQgPSB2b2lkIDA7XG5leHBvcnRzLk9ORV9IVU5EUkVEID0gMTAwO1xuZXhwb3J0cy5PTkVfVEhPVVNBTkQgPSAxMDAwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWlzYy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/time.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ONE_YEAR = exports.FOUR_WEEKS = exports.THREE_WEEKS = exports.TWO_WEEKS = exports.ONE_WEEK = exports.THIRTY_DAYS = exports.SEVEN_DAYS = exports.FIVE_DAYS = exports.THREE_DAYS = exports.ONE_DAY = exports.TWENTY_FOUR_HOURS = exports.TWELVE_HOURS = exports.SIX_HOURS = exports.THREE_HOURS = exports.ONE_HOUR = exports.SIXTY_MINUTES = exports.THIRTY_MINUTES = exports.TEN_MINUTES = exports.FIVE_MINUTES = exports.ONE_MINUTE = exports.SIXTY_SECONDS = exports.THIRTY_SECONDS = exports.TEN_SECONDS = exports.FIVE_SECONDS = exports.ONE_SECOND = void 0;\nexports.ONE_SECOND = 1;\nexports.FIVE_SECONDS = 5;\nexports.TEN_SECONDS = 10;\nexports.THIRTY_SECONDS = 30;\nexports.SIXTY_SECONDS = 60;\nexports.ONE_MINUTE = exports.SIXTY_SECONDS;\nexports.FIVE_MINUTES = exports.ONE_MINUTE * 5;\nexports.TEN_MINUTES = exports.ONE_MINUTE * 10;\nexports.THIRTY_MINUTES = exports.ONE_MINUTE * 30;\nexports.SIXTY_MINUTES = exports.ONE_MINUTE * 60;\nexports.ONE_HOUR = exports.SIXTY_MINUTES;\nexports.THREE_HOURS = exports.ONE_HOUR * 3;\nexports.SIX_HOURS = exports.ONE_HOUR * 6;\nexports.TWELVE_HOURS = exports.ONE_HOUR * 12;\nexports.TWENTY_FOUR_HOURS = exports.ONE_HOUR * 24;\nexports.ONE_DAY = exports.TWENTY_FOUR_HOURS;\nexports.THREE_DAYS = exports.ONE_DAY * 3;\nexports.FIVE_DAYS = exports.ONE_DAY * 5;\nexports.SEVEN_DAYS = exports.ONE_DAY * 7;\nexports.THIRTY_DAYS = exports.ONE_DAY * 30;\nexports.ONE_WEEK = exports.SEVEN_DAYS;\nexports.TWO_WEEKS = exports.ONE_WEEK * 2;\nexports.THREE_WEEKS = exports.ONE_WEEK * 3;\nexports.FOUR_WEEKS = exports.ONE_WEEK * 4;\nexports.ONE_YEAR = exports.ONE_DAY * 365;\n//# sourceMappingURL=time.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvdGltZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyxpQkFBaUIsR0FBRyxnQkFBZ0IsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0IsR0FBRyxpQkFBaUIsR0FBRyxrQkFBa0IsR0FBRyxlQUFlLEdBQUcseUJBQXlCLEdBQUcsb0JBQW9CLEdBQUcsaUJBQWlCLEdBQUcsbUJBQW1CLEdBQUcsZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsb0JBQW9CLEdBQUcsa0JBQWtCLEdBQUcscUJBQXFCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsb0JBQW9CLEdBQUcsa0JBQWtCO0FBQzloQixrQkFBa0I7QUFDbEIsb0JBQW9CO0FBQ3BCLG1CQUFtQjtBQUNuQixzQkFBc0I7QUFDdEIscUJBQXFCO0FBQ3JCLGtCQUFrQjtBQUNsQixvQkFBb0I7QUFDcEIsbUJBQW1CO0FBQ25CLHNCQUFzQjtBQUN0QixxQkFBcUI7QUFDckIsZ0JBQWdCO0FBQ2hCLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakIsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6QixlQUFlO0FBQ2Ysa0JBQWtCO0FBQ2xCLGlCQUFpQjtBQUNqQixrQkFBa0I7QUFDbEIsbUJBQW1CO0FBQ25CLGdCQUFnQjtBQUNoQixpQkFBaUI7QUFDakIsbUJBQW1CO0FBQ25CLGtCQUFrQjtBQUNsQixnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvdGltZS5qcz8xOTU5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PTkVfWUVBUiA9IGV4cG9ydHMuRk9VUl9XRUVLUyA9IGV4cG9ydHMuVEhSRUVfV0VFS1MgPSBleHBvcnRzLlRXT19XRUVLUyA9IGV4cG9ydHMuT05FX1dFRUsgPSBleHBvcnRzLlRISVJUWV9EQVlTID0gZXhwb3J0cy5TRVZFTl9EQVlTID0gZXhwb3J0cy5GSVZFX0RBWVMgPSBleHBvcnRzLlRIUkVFX0RBWVMgPSBleHBvcnRzLk9ORV9EQVkgPSBleHBvcnRzLlRXRU5UWV9GT1VSX0hPVVJTID0gZXhwb3J0cy5UV0VMVkVfSE9VUlMgPSBleHBvcnRzLlNJWF9IT1VSUyA9IGV4cG9ydHMuVEhSRUVfSE9VUlMgPSBleHBvcnRzLk9ORV9IT1VSID0gZXhwb3J0cy5TSVhUWV9NSU5VVEVTID0gZXhwb3J0cy5USElSVFlfTUlOVVRFUyA9IGV4cG9ydHMuVEVOX01JTlVURVMgPSBleHBvcnRzLkZJVkVfTUlOVVRFUyA9IGV4cG9ydHMuT05FX01JTlVURSA9IGV4cG9ydHMuU0lYVFlfU0VDT05EUyA9IGV4cG9ydHMuVEhJUlRZX1NFQ09ORFMgPSBleHBvcnRzLlRFTl9TRUNPTkRTID0gZXhwb3J0cy5GSVZFX1NFQ09ORFMgPSBleHBvcnRzLk9ORV9TRUNPTkQgPSB2b2lkIDA7XG5leHBvcnRzLk9ORV9TRUNPTkQgPSAxO1xuZXhwb3J0cy5GSVZFX1NFQ09ORFMgPSA1O1xuZXhwb3J0cy5URU5fU0VDT05EUyA9IDEwO1xuZXhwb3J0cy5USElSVFlfU0VDT05EUyA9IDMwO1xuZXhwb3J0cy5TSVhUWV9TRUNPTkRTID0gNjA7XG5leHBvcnRzLk9ORV9NSU5VVEUgPSBleHBvcnRzLlNJWFRZX1NFQ09ORFM7XG5leHBvcnRzLkZJVkVfTUlOVVRFUyA9IGV4cG9ydHMuT05FX01JTlVURSAqIDU7XG5leHBvcnRzLlRFTl9NSU5VVEVTID0gZXhwb3J0cy5PTkVfTUlOVVRFICogMTA7XG5leHBvcnRzLlRISVJUWV9NSU5VVEVTID0gZXhwb3J0cy5PTkVfTUlOVVRFICogMzA7XG5leHBvcnRzLlNJWFRZX01JTlVURVMgPSBleHBvcnRzLk9ORV9NSU5VVEUgKiA2MDtcbmV4cG9ydHMuT05FX0hPVVIgPSBleHBvcnRzLlNJWFRZX01JTlVURVM7XG5leHBvcnRzLlRIUkVFX0hPVVJTID0gZXhwb3J0cy5PTkVfSE9VUiAqIDM7XG5leHBvcnRzLlNJWF9IT1VSUyA9IGV4cG9ydHMuT05FX0hPVVIgKiA2O1xuZXhwb3J0cy5UV0VMVkVfSE9VUlMgPSBleHBvcnRzLk9ORV9IT1VSICogMTI7XG5leHBvcnRzLlRXRU5UWV9GT1VSX0hPVVJTID0gZXhwb3J0cy5PTkVfSE9VUiAqIDI0O1xuZXhwb3J0cy5PTkVfREFZID0gZXhwb3J0cy5UV0VOVFlfRk9VUl9IT1VSUztcbmV4cG9ydHMuVEhSRUVfREFZUyA9IGV4cG9ydHMuT05FX0RBWSAqIDM7XG5leHBvcnRzLkZJVkVfREFZUyA9IGV4cG9ydHMuT05FX0RBWSAqIDU7XG5leHBvcnRzLlNFVkVOX0RBWVMgPSBleHBvcnRzLk9ORV9EQVkgKiA3O1xuZXhwb3J0cy5USElSVFlfREFZUyA9IGV4cG9ydHMuT05FX0RBWSAqIDMwO1xuZXhwb3J0cy5PTkVfV0VFSyA9IGV4cG9ydHMuU0VWRU5fREFZUztcbmV4cG9ydHMuVFdPX1dFRUtTID0gZXhwb3J0cy5PTkVfV0VFSyAqIDI7XG5leHBvcnRzLlRIUkVFX1dFRUtTID0gZXhwb3J0cy5PTkVfV0VFSyAqIDM7XG5leHBvcnRzLkZPVVJfV0VFS1MgPSBleHBvcnRzLk9ORV9XRUVLICogNDtcbmV4cG9ydHMuT05FX1lFQVIgPSBleHBvcnRzLk9ORV9EQVkgKiAzNjU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./watch */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1RkFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQywyRUFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBYTtBQUMxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL2luZGV4LmpzP2U4ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXRpbHNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vd2F0Y2hcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHlwZXNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY29uc3RhbnRzXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/types/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./watch */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy90eXBlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1RkFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3R5cGVzL2luZGV4LmpzPzU4Y2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vd2F0Y2hcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/types/watch.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IWatch = void 0;\nclass IWatch {\n}\nexports.IWatch = IWatch;\n//# sourceMappingURL=watch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy90eXBlcy93YXRjaC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3R5cGVzL3dhdGNoLmpzP2IyNWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklXYXRjaCA9IHZvaWQgMDtcbmNsYXNzIElXYXRjaCB7XG59XG5leHBvcnRzLklXYXRjaCA9IElXYXRjaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhdGNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/convert.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fromMiliseconds = exports.toMiliseconds = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\");\nfunction toMiliseconds(seconds) {\n    return seconds * constants_1.ONE_THOUSAND;\n}\nexports.toMiliseconds = toMiliseconds;\nfunction fromMiliseconds(miliseconds) {\n    return Math.floor(miliseconds / constants_1.ONE_THOUSAND);\n}\nexports.fromMiliseconds = fromMiliseconds;\n//# sourceMappingURL=convert.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9jb252ZXJ0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLHFCQUFxQjtBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQywwRkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3RpbWUvZGlzdC9janMvdXRpbHMvY29udmVydC5qcz80MjQ5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tTWlsaXNlY29uZHMgPSBleHBvcnRzLnRvTWlsaXNlY29uZHMgPSB2b2lkIDA7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudHNcIik7XG5mdW5jdGlvbiB0b01pbGlzZWNvbmRzKHNlY29uZHMpIHtcbiAgICByZXR1cm4gc2Vjb25kcyAqIGNvbnN0YW50c18xLk9ORV9USE9VU0FORDtcbn1cbmV4cG9ydHMudG9NaWxpc2Vjb25kcyA9IHRvTWlsaXNlY29uZHM7XG5mdW5jdGlvbiBmcm9tTWlsaXNlY29uZHMobWlsaXNlY29uZHMpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihtaWxpc2Vjb25kcyAvIGNvbnN0YW50c18xLk9ORV9USE9VU0FORCk7XG59XG5leHBvcnRzLmZyb21NaWxpc2Vjb25kcyA9IGZyb21NaWxpc2Vjb25kcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnZlcnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/delay.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.delay = void 0;\nfunction delay(timeout) {\n    return new Promise(resolve => {\n        setTimeout(() => {\n            resolve(true);\n        }, timeout);\n    });\n}\nexports.delay = delay;\n//# sourceMappingURL=delay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9kZWxheS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3RpbWUvZGlzdC9janMvdXRpbHMvZGVsYXkuanM/Y2Q5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVsYXkgPSB2b2lkIDA7XG5mdW5jdGlvbiBkZWxheSh0aW1lb3V0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kZWxheSA9IGRlbGF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./delay */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./convert */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1RkFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyxxRkFBVztBQUN4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3V0aWxzL2luZGV4LmpzPzVkOGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZGVsYXlcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY29udmVydFwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/watch.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Watch = void 0;\nclass Watch {\n    constructor() {\n        this.timestamps = new Map();\n    }\n    start(label) {\n        if (this.timestamps.has(label)) {\n            throw new Error(`Watch already started for label: ${label}`);\n        }\n        this.timestamps.set(label, { started: Date.now() });\n    }\n    stop(label) {\n        const timestamp = this.get(label);\n        if (typeof timestamp.elapsed !== \"undefined\") {\n            throw new Error(`Watch already stopped for label: ${label}`);\n        }\n        const elapsed = Date.now() - timestamp.started;\n        this.timestamps.set(label, { started: timestamp.started, elapsed });\n    }\n    get(label) {\n        const timestamp = this.timestamps.get(label);\n        if (typeof timestamp === \"undefined\") {\n            throw new Error(`No timestamp found for label: ${label}`);\n        }\n        return timestamp;\n    }\n    elapsed(label) {\n        const timestamp = this.get(label);\n        const elapsed = timestamp.elapsed || Date.now() - timestamp.started;\n        return elapsed;\n    }\n}\nexports.Watch = Watch;\nexports[\"default\"] = Watch;\n//# sourceMappingURL=watch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy93YXRjaC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLE1BQU07QUFDdEU7QUFDQSxxQ0FBcUMscUJBQXFCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLE1BQU07QUFDdEU7QUFDQTtBQUNBLHFDQUFxQyxxQ0FBcUM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsTUFBTTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3dhdGNoLmpzP2NiMzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldhdGNoID0gdm9pZCAwO1xuY2xhc3MgV2F0Y2gge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRpbWVzdGFtcHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KGxhYmVsKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVzdGFtcHMuaGFzKGxhYmVsKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBXYXRjaCBhbHJlYWR5IHN0YXJ0ZWQgZm9yIGxhYmVsOiAke2xhYmVsfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZXN0YW1wcy5zZXQobGFiZWwsIHsgc3RhcnRlZDogRGF0ZS5ub3coKSB9KTtcbiAgICB9XG4gICAgc3RvcChsYWJlbCkge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSB0aGlzLmdldChsYWJlbCk7XG4gICAgICAgIGlmICh0eXBlb2YgdGltZXN0YW1wLmVsYXBzZWQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgV2F0Y2ggYWxyZWFkeSBzdG9wcGVkIGZvciBsYWJlbDogJHtsYWJlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRpbWVzdGFtcC5zdGFydGVkO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcHMuc2V0KGxhYmVsLCB7IHN0YXJ0ZWQ6IHRpbWVzdGFtcC5zdGFydGVkLCBlbGFwc2VkIH0pO1xuICAgIH1cbiAgICBnZXQobGFiZWwpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gdGhpcy50aW1lc3RhbXBzLmdldChsYWJlbCk7XG4gICAgICAgIGlmICh0eXBlb2YgdGltZXN0YW1wID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHRpbWVzdGFtcCBmb3VuZCBmb3IgbGFiZWw6ICR7bGFiZWx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbWVzdGFtcDtcbiAgICB9XG4gICAgZWxhcHNlZChsYWJlbCkge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSB0aGlzLmdldChsYWJlbCk7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSB0aW1lc3RhbXAuZWxhcHNlZCB8fCBEYXRlLm5vdygpIC0gdGltZXN0YW1wLnN0YXJ0ZWQ7XG4gICAgICAgIHJldHVybiBlbGFwc2VkO1xuICAgIH1cbn1cbmV4cG9ydHMuV2F0Y2ggPSBXYXRjaDtcbmV4cG9ydHMuZGVmYXVsdCA9IFdhdGNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2F0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __assign: () => (/* binding */ __assign),\n/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),\n/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),\n/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),\n/* harmony export */   __await: () => (/* binding */ __await),\n/* harmony export */   __awaiter: () => (/* binding */ __awaiter),\n/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),\n/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),\n/* harmony export */   __createBinding: () => (/* binding */ __createBinding),\n/* harmony export */   __decorate: () => (/* binding */ __decorate),\n/* harmony export */   __exportStar: () => (/* binding */ __exportStar),\n/* harmony export */   __extends: () => (/* binding */ __extends),\n/* harmony export */   __generator: () => (/* binding */ __generator),\n/* harmony export */   __importDefault: () => (/* binding */ __importDefault),\n/* harmony export */   __importStar: () => (/* binding */ __importStar),\n/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),\n/* harmony export */   __metadata: () => (/* binding */ __metadata),\n/* harmony export */   __param: () => (/* binding */ __param),\n/* harmony export */   __read: () => (/* binding */ __read),\n/* harmony export */   __rest: () => (/* binding */ __rest),\n/* harmony export */   __spread: () => (/* binding */ __spread),\n/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),\n/* harmony export */   __values: () => (/* binding */ __values)\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUNuRiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDTztBQUNQLG9DQUFvQztBQUNwQztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCLHNCQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0RBQWtELFFBQVE7QUFDMUQseUNBQXlDLFFBQVE7QUFDakQseURBQXlELFFBQVE7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQix1RkFBdUYsY0FBYztBQUN0SCx1QkFBdUIsZ0NBQWdDLHFDQUFxQywyQ0FBMkM7QUFDdkksNEJBQTRCLE1BQU0saUJBQWlCLFlBQVk7QUFDL0QsdUJBQXVCO0FBQ3ZCLDhCQUE4QjtBQUM5Qiw2QkFBNkI7QUFDN0IsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsaUJBQWlCLDZDQUE2QyxVQUFVLHNEQUFzRCxjQUFjO0FBQzVJLDBCQUEwQiw2QkFBNkIsb0JBQW9CLGdEQUFnRCxrQkFBa0I7QUFDN0k7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDJHQUEyRyx1RkFBdUYsY0FBYztBQUNoTix1QkFBdUIsOEJBQThCLGdEQUFnRCx3REFBd0Q7QUFDN0osNkNBQTZDLHNDQUFzQyxVQUFVLG1CQUFtQixJQUFJO0FBQ3BIO0FBQ0E7QUFDTztBQUNQLGlDQUFpQyx1Q0FBdUMsWUFBWSxLQUFLLE9BQU87QUFDaEc7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3RpbWUvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcz80NjMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/node_modules/tslib/tslib.es6.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/types/dist/index.es.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/types/dist/index.es.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICore: () => (/* binding */ h),\n/* harmony export */   ICrypto: () => (/* binding */ g),\n/* harmony export */   IEchoClient: () => (/* binding */ O),\n/* harmony export */   IEngine: () => (/* binding */ V),\n/* harmony export */   IEngineEvents: () => (/* binding */ K),\n/* harmony export */   IEventClient: () => (/* binding */ R),\n/* harmony export */   IExpirer: () => (/* binding */ S),\n/* harmony export */   IJsonRpcHistory: () => (/* binding */ I),\n/* harmony export */   IKeyChain: () => (/* binding */ j),\n/* harmony export */   IMessageTracker: () => (/* binding */ y),\n/* harmony export */   IPairing: () => (/* binding */ $),\n/* harmony export */   IPublisher: () => (/* binding */ m),\n/* harmony export */   IRelayer: () => (/* binding */ d),\n/* harmony export */   ISignClient: () => (/* binding */ J),\n/* harmony export */   ISignClientEvents: () => (/* binding */ H),\n/* harmony export */   IStore: () => (/* binding */ f),\n/* harmony export */   ISubscriber: () => (/* binding */ P),\n/* harmony export */   ISubscriberTopicMap: () => (/* binding */ C),\n/* harmony export */   IVerify: () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\nvar a=Object.defineProperty,u=(e,s,r)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,c=(e,s,r)=>u(e,typeof s!=\"symbol\"?s+\"\":s,r);class h extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super(),this.opts=s,c(this,\"protocol\",\"wc\"),c(this,\"version\",2)}}class g{constructor(s,r,t){this.core=s,this.logger=r}}var p=Object.defineProperty,b=(e,s,r)=>s in e?p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,v=(e,s,r)=>b(e,typeof s!=\"symbol\"?s+\"\":s,r);class I extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v(this,\"records\",new Map)}}class y{constructor(s,r){this.logger=s,this.core=r}}class m extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class d extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super()}}class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var E=Object.defineProperty,x=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,w=(e,s,r)=>x(e,typeof s!=\"symbol\"?s+\"\":s,r);class C{constructor(){w(this,\"map\",new Map)}}class P extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class j{constructor(s,r){this.core=s,this.logger=r}}class S extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class O{constructor(s,r){this.projectId=s,this.logger=r}}class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var T=Object.defineProperty,k=(e,s,r)=>s in e?T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(e,s,r)=>k(e,typeof s!=\"symbol\"?s+\"\":s,r);class H extends (events__WEBPACK_IMPORTED_MODULE_1___default()){constructor(){super()}}class J{constructor(s){this.opts=s,i(this,\"protocol\",\"wc\"),i(this,\"version\",2)}}class K extends events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter{constructor(){super()}}class V{constructor(s){this.client=s}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdHlwZXMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlGLHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsaUVBQWlFLFFBQVEsbUJBQW1CLDJCQUEyQixxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsNkRBQTZELFFBQVEsaUJBQWlCLDJCQUEyQixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsc0NBQXNDLGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsU0FBUyxRQUFRLHFCQUFxQix1Q0FBdUMscURBQXFELGtEQUFrRCxxREFBcUQsUUFBUSxjQUFjLHVCQUF1QixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsc0NBQXNDLFFBQVEsaUJBQWlCLDJCQUEyQixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsbUNBQW1DLFFBQVEsaUJBQWlCLDJCQUEyQixRQUFRLG1CQUFtQix3Q0FBd0MsUUFBUSxpQkFBaUIsZ0NBQWdDLFFBQVEsbUJBQW1CLG1EQUFtRCxxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsK0NBQUMsQ0FBQyxjQUFjLFNBQVMsUUFBUSxlQUFlLHlEQUF5RCxnQkFBZ0IsZ0RBQUMsQ0FBQyxjQUFjLFNBQVMsUUFBUSxlQUFlLGVBQWdWO0FBQ25xRSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90eXBlcy9kaXN0L2luZGV4LmVzLmpzP2MzOTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0lFdmVudHMgYXMgb31mcm9tXCJAd2FsbGV0Y29ubmVjdC9ldmVudHNcIjtpbXBvcnQgbix7RXZlbnRFbWl0dGVyIGFzIGx9ZnJvbVwiZXZlbnRzXCI7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LHU9KGUscyxyKT0+cyBpbiBlP2EoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGM9KGUscyxyKT0+dShlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIGggZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMpe3N1cGVyKCksdGhpcy5vcHRzPXMsYyh0aGlzLFwicHJvdG9jb2xcIixcIndjXCIpLGModGhpcyxcInZlcnNpb25cIiwyKX19Y2xhc3MgZ3tjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19dmFyIHA9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9KGUscyxyKT0+cyBpbiBlP3AoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLHY9KGUscyxyKT0+YihlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEkgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHYodGhpcyxcInJlY29yZHNcIixuZXcgTWFwKX19Y2xhc3MgeXtjb25zdHJ1Y3RvcihzLHIpe3RoaXMubG9nZ2VyPXMsdGhpcy5jb3JlPXJ9fWNsYXNzIG0gZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBkIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzKXtzdXBlcigpfX1jbGFzcyBme2NvbnN0cnVjdG9yKHMscix0LHEpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdGhpcy5uYW1lPXR9fXZhciBFPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx4PShlLHMscik9PnMgaW4gZT9FKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cix3PShlLHMscik9PngoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBDe2NvbnN0cnVjdG9yKCl7dyh0aGlzLFwibWFwXCIsbmV3IE1hcCl9fWNsYXNzIFAgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBqe2NvbnN0cnVjdG9yKHMscil7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUyBleHRlbmRzIG97Y29uc3RydWN0b3IocyxyKXtzdXBlcigpLHRoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzICR7Y29uc3RydWN0b3IocyxyKXt0aGlzLmxvZ2dlcj1zLHRoaXMuY29yZT1yfX1jbGFzcyBNe2NvbnN0cnVjdG9yKHMscix0KXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHRoaXMuc3RvcmU9dH19Y2xhc3MgT3tjb25zdHJ1Y3RvcihzLHIpe3RoaXMucHJvamVjdElkPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUntjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix0aGlzLnRlbGVtZXRyeUVuYWJsZWQ9dH19dmFyIFQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGs9KGUscyxyKT0+cyBpbiBlP1QoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGk9KGUscyxyKT0+ayhlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEggZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoKX19Y2xhc3MgSntjb25zdHJ1Y3RvcihzKXt0aGlzLm9wdHM9cyxpKHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIiksaSh0aGlzLFwidmVyc2lvblwiLDIpfX1jbGFzcyBLIGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIFZ7Y29uc3RydWN0b3Iocyl7dGhpcy5jbGllbnQ9c319ZXhwb3J0e2ggYXMgSUNvcmUsZyBhcyBJQ3J5cHRvLE8gYXMgSUVjaG9DbGllbnQsViBhcyBJRW5naW5lLEsgYXMgSUVuZ2luZUV2ZW50cyxSIGFzIElFdmVudENsaWVudCxTIGFzIElFeHBpcmVyLEkgYXMgSUpzb25ScGNIaXN0b3J5LGogYXMgSUtleUNoYWluLHkgYXMgSU1lc3NhZ2VUcmFja2VyLCQgYXMgSVBhaXJpbmcsbSBhcyBJUHVibGlzaGVyLGQgYXMgSVJlbGF5ZXIsSiBhcyBJU2lnbkNsaWVudCxIIGFzIElTaWduQ2xpZW50RXZlbnRzLGYgYXMgSVN0b3JlLFAgYXMgSVN1YnNjcmliZXIsQyBhcyBJU3Vic2NyaWJlclRvcGljTWFwLE0gYXMgSVZlcmlmeX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/dist/index.es.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/dist/index.es.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniversalProvider: () => (/* binding */ Bs),\n/* harmony export */   \"default\": () => (/* binding */ J)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/sign-client */ \"(ssr)/./node_modules/@walletconnect/sign-client/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-http-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_4__);\nconst pe=\"error\",We=\"wss://relay.walletconnect.org\",Ke=\"wc\",Ve=\"universal_provider\",x=`${Ke}@2:${Ve}:`,de=\"https://rpc.walletconnect.org/v1/\",ue=\"generic\",Ye=`${de}bundler`,$=\"call_status\",Xe=86400,m={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};function K(s){return s==null||typeof s!=\"object\"&&typeof s!=\"function\"}function le(s){return Object.getOwnPropertySymbols(s).filter(e=>Object.prototype.propertyIsEnumerable.call(s,e))}function fe(s){return s==null?s===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(s)}const Qe=\"[object RegExp]\",me=\"[object String]\",ve=\"[object Number]\",ge=\"[object Boolean]\",Pe=\"[object Arguments]\",Ze=\"[object Symbol]\",Te=\"[object Date]\",et=\"[object Map]\",tt=\"[object Set]\",st=\"[object Array]\",it=\"[object ArrayBuffer]\",rt=\"[object Object]\",nt=\"[object DataView]\",at=\"[object Uint8Array]\",ct=\"[object Uint8ClampedArray]\",ot=\"[object Uint16Array]\",ht=\"[object Uint32Array]\",pt=\"[object Int8Array]\",dt=\"[object Int16Array]\",ut=\"[object Int32Array]\",lt=\"[object Float32Array]\",ft=\"[object Float64Array]\";function V(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function mt(s,e){return O(s,void 0,s,new Map,e)}function O(s,e,t,i=new Map,n=void 0){const a=n?.(s,e,t,i);if(a!=null)return a;if(K(s))return s;if(i.has(s))return i.get(s);if(Array.isArray(s)){const r=new Array(s.length);i.set(s,r);for(let c=0;c<s.length;c++)r[c]=O(s[c],c,t,i,n);return Object.hasOwn(s,\"index\")&&(r.index=s.index),Object.hasOwn(s,\"input\")&&(r.input=s.input),r}if(s instanceof Date)return new Date(s.getTime());if(s instanceof RegExp){const r=new RegExp(s.source,s.flags);return r.lastIndex=s.lastIndex,r}if(s instanceof Map){const r=new Map;i.set(s,r);for(const[c,o]of s)r.set(c,O(o,c,t,i,n));return r}if(s instanceof Set){const r=new Set;i.set(s,r);for(const c of s)r.add(O(c,void 0,t,i,n));return r}if(typeof Buffer<\"u\"&&Buffer.isBuffer(s))return s.subarray();if(V(s)){const r=new(Object.getPrototypeOf(s)).constructor(s.length);i.set(s,r);for(let c=0;c<s.length;c++)r[c]=O(s[c],c,t,i,n);return r}if(s instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&s instanceof SharedArrayBuffer)return s.slice(0);if(s instanceof DataView){const r=new DataView(s.buffer.slice(0),s.byteOffset,s.byteLength);return i.set(s,r),y(r,s,t,i,n),r}if(typeof File<\"u\"&&s instanceof File){const r=new File([s],s.name,{type:s.type});return i.set(s,r),y(r,s,t,i,n),r}if(s instanceof Blob){const r=new Blob([s],{type:s.type});return i.set(s,r),y(r,s,t,i,n),r}if(s instanceof Error){const r=new s.constructor;return i.set(s,r),r.message=s.message,r.name=s.name,r.stack=s.stack,r.cause=s.cause,y(r,s,t,i,n),r}if(typeof s==\"object\"&&vt(s)){const r=Object.create(Object.getPrototypeOf(s));return i.set(s,r),y(r,s,t,i,n),r}return s}function y(s,e,t=s,i,n){const a=[...Object.keys(e),...le(e)];for(let r=0;r<a.length;r++){const c=a[r],o=Object.getOwnPropertyDescriptor(s,c);(o==null||o.writable)&&(s[c]=O(e[c],c,t,i,n))}}function vt(s){switch(fe(s)){case Pe:case st:case it:case nt:case ge:case Te:case lt:case ft:case pt:case dt:case ut:case et:case ve:case rt:case Qe:case tt:case me:case Ze:case at:case ct:case ot:case ht:return!0;default:return!1}}function gt(s,e){return mt(s,(t,i,n,a)=>{const r=e?.(t,i,n,a);if(r!=null)return r;if(typeof s==\"object\")switch(Object.prototype.toString.call(s)){case ve:case me:case ge:{const c=new s.constructor(s?.valueOf());return y(c,s),c}case Pe:{const c={};return y(c,s),c.length=s.length,c[Symbol.iterator]=s[Symbol.iterator],c}default:return}})}function we(s){return gt(s)}function ye(s){return s!==null&&typeof s==\"object\"&&fe(s)===\"[object Arguments]\"}function be(s){return typeof s==\"object\"&&s!==null}function Pt(){}function wt(s){return V(s)}function yt(s){if(typeof s!=\"object\"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!==\"[object Object]\"){const t=s[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(s,Symbol.toStringTag)?.writable?!1:s.toString()===`[object ${t}]`}let e=s;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(s)===e}function bt(s){if(K(s))return s;if(Array.isArray(s)||V(s)||s instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&s instanceof SharedArrayBuffer)return s.slice(0);const e=Object.getPrototypeOf(s),t=e.constructor;if(s instanceof Date||s instanceof Map||s instanceof Set)return new t(s);if(s instanceof RegExp){const i=new t(s);return i.lastIndex=s.lastIndex,i}if(s instanceof DataView)return new t(s.buffer.slice(0));if(s instanceof Error){const i=new t(s.message);return i.stack=s.stack,i.name=s.name,i.cause=s.cause,i}if(typeof File<\"u\"&&s instanceof File)return new t([s],s.name,{type:s.type,lastModified:s.lastModified});if(typeof s==\"object\"){const i=Object.create(e);return Object.assign(i,s)}return s}function It(s,...e){const t=e.slice(0,-1),i=e[e.length-1];let n=s;for(let a=0;a<t.length;a++){const r=t[a];n=L(n,r,i,new Map)}return n}function L(s,e,t,i){if(K(s)&&(s=Object(s)),e==null||typeof e!=\"object\")return s;if(i.has(e))return bt(i.get(e));if(i.set(e,s),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const n=[...Object.keys(e),...le(e)];for(let a=0;a<n.length;a++){const r=n[a];let c=e[r],o=s[r];if(ye(c)&&(c={...c}),ye(o)&&(o={...o}),typeof Buffer<\"u\"&&Buffer.isBuffer(c)&&(c=we(c)),Array.isArray(c))if(typeof o==\"object\"&&o!=null){const u=[],p=Reflect.ownKeys(o);for(let w=0;w<p.length;w++){const l=p[w];u[l]=o[l]}o=u}else o=[];const d=t(o,c,r,s,e,i);d!=null?s[r]=d:Array.isArray(c)||be(o)&&be(c)?s[r]=L(o,c,t,i):o==null&&yt(c)?s[r]=L({},c,t,i):o==null&&wt(c)?s[r]=we(c):(o===void 0||c!==void 0)&&(s[r]=c)}return s}function $t(s,...e){return It(s,...e,Pt)}var Ot=Object.defineProperty,Ct=Object.defineProperties,At=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,$e=(s,e,t)=>e in s?Ot(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,M=(s,e)=>{for(var t in e||(e={}))Et.call(e,t)&&$e(s,t,e[t]);if(Ie)for(var t of Ie(e))Ht.call(e,t)&&$e(s,t,e[t]);return s},St=(s,e)=>Ct(s,At(e));function f(s,e,t){var i;const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(s);return((i=e.rpcMap)==null?void 0:i[n.reference])||`${de}?chainId=${n.namespace}:${n.reference}&projectId=${t}`}function b(s){return s.includes(\":\")?s.split(\":\")[1]:s}function Oe(s){return s.map(e=>`${e.split(\":\")[0]}:${e.split(\":\")[1]}`)}function Nt(s,e){const t=Object.keys(e.namespaces).filter(n=>n.includes(s));if(!t.length)return[];const i=[];return t.forEach(n=>{const a=e.namespaces[n].accounts;i.push(...a)}),i}function Ce(s){return Object.fromEntries(Object.entries(s).filter(([e,t])=>{var i,n;return((i=t?.chains)==null?void 0:i.length)&&((n=t?.chains)==null?void 0:n.length)>0}))}function B(s={},e={}){const t=Ce(Ae(s)),i=Ce(Ae(e));return $t(t,i)}function Ae(s){var e,t,i,n,a;const r={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s))return r;for(const[c,o]of Object.entries(s)){const d=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isCaipNamespace)(c)?[c]:o.chains,u=o.methods||[],p=o.events||[],w=o.rpcMap||{},l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(c);r[l]=St(M(M({},r[l]),o),{chains:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(d,(e=r[l])==null?void 0:e.chains),methods:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(u,(t=r[l])==null?void 0:t.methods),events:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(p,(i=r[l])==null?void 0:i.events)}),((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(w)||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(((n=r[l])==null?void 0:n.rpcMap)||{}))&&(r[l].rpcMap=M(M({},w),(a=r[l])==null?void 0:a.rpcMap))}return r}function Ee(s){return s.includes(\":\")?s.split(\":\")[2]:s}function He(s){const e={};for(const[t,i]of Object.entries(s)){const n=i.methods||[],a=i.events||[],r=i.accounts||[],c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isCaipNamespace)(t)?[t]:i.chains?i.chains:Oe(i.accounts);e[t]={chains:c,methods:n,events:a,accounts:r}}return e}function Y(s){return typeof s==\"number\"?s:s.includes(\"0x\")?parseInt(s,16):(s=s.includes(\":\")?s.split(\":\")[1]:s,isNaN(Number(s))?s:Number(s))}function qt(s){try{const e=JSON.parse(s);return typeof e==\"object\"&&e!==null&&!Array.isArray(e)}catch{return!1}}const Se={},h=s=>Se[s],X=(s,e)=>{Se[s]=e};var Dt=Object.defineProperty,Ne=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,qe=(s,e,t)=>e in s?Dt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,De=(s,e)=>{for(var t in e||(e={}))jt.call(e,t)&&qe(s,t,e[t]);if(Ne)for(var t of Ne(e))Rt.call(e,t)&&qe(s,t,e[t]);return s};const je=\"eip155\",_t=[\"atomic\",\"flow-control\",\"paymasterService\",\"sessionKeys\",\"auxiliaryFunds\"],Ft=s=>s&&s.startsWith(\"0x\")?BigInt(s).toString(10):s,Q=s=>s&&s.startsWith(\"0x\")?s:`0x${BigInt(s).toString(16)}`,Re=s=>Object.keys(s).filter(e=>_t.includes(e)).reduce((e,t)=>(e[t]=Ut(s[t]),e),{}),Ut=s=>typeof s==\"string\"&&qt(s)?JSON.parse(s):s,xt=(s,e,t)=>{const{sessionProperties:i={},scopedProperties:n={}}=s,a={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(n)&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i))return;const r=Re(i);for(const c of t){const o=Ft(c);if(!o)continue;a[Q(o)]=r;const d=n?.[`${je}:${o}`];if(d){const u=d?.[`${je}:${o}:${e}`];a[Q(o)]=De(De({},a[Q(o)]),Re(u||d))}}for(const[c,o]of Object.entries(a))Object.keys(o).length===0&&delete a[c];return Object.keys(a).length>0?a:void 0};var Lt=Object.defineProperty,Mt=(s,e,t)=>e in s?Lt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Bt=(s,e,t)=>Mt(s,typeof e!=\"symbol\"?e+\"\":e,t);let Z;class re{constructor(e){Bt(this,\"storage\"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return Z||(Z=new re(e)),Z}}var Gt=Object.defineProperty,Jt=Object.defineProperties,zt=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,kt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,Fe=(s,e,t)=>e in s?Gt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Kt=(s,e)=>{for(var t in e||(e={}))kt.call(e,t)&&Fe(s,t,e[t]);if(_e)for(var t of _e(e))Wt.call(e,t)&&Fe(s,t,e[t]);return s},Vt=(s,e)=>Jt(s,zt(e));async function Yt(s,e){const t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(s.result.capabilities.caip345.caip2),i=s.result.capabilities.caip345.transactionHashes,n=await Promise.allSettled(i.map(p=>Xt(t.reference,p,e))),a=n.filter(p=>p.status===\"fulfilled\").map(p=>p.value).filter(p=>p);n.filter(p=>p.status===\"rejected\").forEach(p=>console.warn(\"Failed to fetch transaction receipt:\",p.reason));const r=!a.length||a.some(p=>!p),c=a.every(p=>p?.status===\"0x1\"),o=a.every(p=>p?.status===\"0x0\"),d=a.some(p=>p?.status===\"0x0\");let u;return r?u=100:c?u=200:o?u=500:d&&(u=600),{id:s.result.id,version:s.request.version,atomic:s.request.atomicRequired,chainId:s.request.chainId,capabilities:s.result.capabilities,receipts:a,status:u}}async function Xt(s,e,t){return await t(parseInt(s)).request((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcRequest)(\"eth_getTransactionReceipt\",[e]))}async function Qt({sendCalls:s,storage:e}){const t=await e.getItem($);await e.setItem($,Vt(Kt({},t),{[s.result.id]:{request:s.request,result:s.result,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(Xe)}}))}async function Zt({resultId:s,storage:e}){const t=await e.getItem($);if(t){delete t[s],await e.setItem($,t);for(const i in t)(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(t[i].expiry)&&delete t[i];await e.setItem($,t)}}async function Tt({resultId:s,storage:e}){const t=await e.getItem($),i=t?.[s];if(i&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(i.expiry))return i;await Zt({resultId:s,storage:e})}var es=Object.defineProperty,ts=(s,e,t)=>e in s?es(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,C=(s,e,t)=>ts(s,typeof e!=\"symbol\"?e+\"\":e,t);class ss{constructor(e){C(this,\"name\",\"polkadot\"),C(this,\"client\"),C(this,\"httpProviders\"),C(this,\"events\"),C(this,\"namespace\"),C(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=b(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var is=Object.defineProperty,rs=Object.defineProperties,ns=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,as=Object.prototype.hasOwnProperty,cs=Object.prototype.propertyIsEnumerable,T=(s,e,t)=>e in s?is(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ee=(s,e)=>{for(var t in e||(e={}))as.call(e,t)&&T(s,t,e[t]);if(Ue)for(var t of Ue(e))cs.call(e,t)&&T(s,t,e[t]);return s},te=(s,e)=>rs(s,ns(e)),I=(s,e,t)=>T(s,typeof e!=\"symbol\"?e+\"\":e,t);class os{constructor(e){I(this,\"name\",\"eip155\"),I(this,\"client\"),I(this,\"chainId\"),I(this,\"namespace\"),I(this,\"httpProviders\"),I(this,\"events\"),I(this,\"storage\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=re.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(e);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(e);case\"wallet_getCallsStatus\":return await this.getCallStatus(e);case\"wallet_sendCalls\":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}createHttpProvider(e,t){const i=t||f(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__.HttpConnection(i,h(\"disableProviderPing\")))}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=parseInt(b(t));e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2]))]:[]}getHttpProvider(e){const t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=te(ee({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,i;let n=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:\"0x0\";n=n.startsWith(\"0x\")?n:`0x${n}`;const a=parseInt(n,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,i,n,a,r;const c=(i=(t=e.request)==null?void 0:t.params)==null?void 0:i[0],o=((a=(n=e.request)==null?void 0:n.params)==null?void 0:a[1])||[];if(!c)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const d=this.client.session.get(e.topic),u=((r=d?.sessionProperties)==null?void 0:r.capabilities)||{},p=`${c}${o.join(\",\")}`,w=u?.[p];if(w)return w;let l;try{l=xt(d,c,o)}catch(z){console.warn(\"Failed to extract capabilities from session\",z)}if(l)return l;const ne=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:te(ee({},d.sessionProperties||{}),{capabilities:te(ee({},u||{}),{[p]:ne})})})}catch(z){console.warn(\"Failed to update session with capabilities\",z)}return ne}async getCallStatus(e){var t,i,n;const a=this.client.session.get(e.topic),r=(t=a.sessionProperties)==null?void 0:t.bundler_name;if(r){const d=this.getBundlerUrl(e.chainId,r);try{return await this.getUserOperationReceipt(d,e)}catch(u){console.warn(\"Failed to fetch call status from bundler\",u,d)}}const c=(i=a.sessionProperties)==null?void 0:i.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(d){console.warn(\"Failed to fetch call status from custom bundler\",d,c)}const o=await Tt({resultId:(n=e.request.params)==null?void 0:n[0],storage:this.storage});if(o)try{return await Yt(o,this.getHttpProvider.bind(this))}catch(d){console.warn(\"Failed to fetch call status from stored send calls\",d,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(e,t){var i;const n=new URL(e),a=await fetch(n,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcRequest)(\"eth_getUserOperationReceipt\",[(i=t.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,t){return`${Ye}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}async sendCalls(e){var t,i,n;const a=await this.client.request(e),r=(t=e.request.params)==null?void 0:t[0],c=a?.id,o=a?.capabilities||{},d=(i=o?.caip345)==null?void 0:i.caip2,u=(n=o?.caip345)==null?void 0:n.transactionHashes;return!c||!d||!(u!=null&&u.length)||await Qt({sendCalls:{request:r,result:a},storage:this.storage}),a}}var hs=Object.defineProperty,ps=(s,e,t)=>e in s?hs(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,A=(s,e,t)=>ps(s,typeof e!=\"symbol\"?e+\"\":e,t);class ds{constructor(e){A(this,\"name\",\"solana\"),A(this,\"client\"),A(this,\"httpProviders\"),A(this,\"events\"),A(this,\"namespace\"),A(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=b(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var us=Object.defineProperty,ls=(s,e,t)=>e in s?us(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,E=(s,e,t)=>ls(s,typeof e!=\"symbol\"?e+\"\":e,t);class fs{constructor(e){E(this,\"name\",\"cosmos\"),E(this,\"client\"),E(this,\"httpProviders\"),E(this,\"events\"),E(this,\"namespace\"),E(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=b(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var ms=Object.defineProperty,vs=(s,e,t)=>e in s?ms(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,H=(s,e,t)=>vs(s,typeof e!=\"symbol\"?e+\"\":e,t);class gs{constructor(e){H(this,\"name\",\"algorand\"),H(this,\"client\"),H(this,\"httpProviders\"),H(this,\"events\"),H(this,\"namespace\"),H(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const i=t||f(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace,this.client.core.projectId);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var Ps=Object.defineProperty,ws=(s,e,t)=>e in s?Ps(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,S=(s,e,t)=>ws(s,typeof e!=\"symbol\"?e+\"\":e,t);class ys{constructor(e){S(this,\"name\",\"cip34\"),S(this,\"client\"),S(this,\"httpProviders\"),S(this,\"events\"),S(this,\"namespace\"),S(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const i=this.getCardanoRPCUrl(t),n=b(t);e[n]=this.createHttpProvider(n,i)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var bs=Object.defineProperty,Is=(s,e,t)=>e in s?bs(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,N=(s,e,t)=>Is(s,typeof e!=\"symbol\"?e+\"\":e,t);class $s{constructor(e){N(this,\"name\",\"elrond\"),N(this,\"client\"),N(this,\"httpProviders\"),N(this,\"events\"),N(this,\"namespace\"),N(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=b(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var Os=Object.defineProperty,Cs=(s,e,t)=>e in s?Os(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,q=(s,e,t)=>Cs(s,typeof e!=\"symbol\"?e+\"\":e,t);class As{constructor(e){q(this,\"name\",\"multiversx\"),q(this,\"client\"),q(this,\"httpProviders\"),q(this,\"events\"),q(this,\"namespace\"),q(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=b(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var Es=Object.defineProperty,Hs=(s,e,t)=>e in s?Es(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,D=(s,e,t)=>Hs(s,typeof e!=\"symbol\"?e+\"\":e,t);class Ss{constructor(e){D(this,\"name\",\"near\"),D(this,\"client\"),D(this,\"httpProviders\"),D(this,\"events\"),D(this,\"namespace\"),D(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||f(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var Ns=Object.defineProperty,qs=(s,e,t)=>e in s?Ns(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,j=(s,e,t)=>qs(s,typeof e!=\"symbol\"?e+\"\":e,t);class Ds{constructor(e){j(this,\"name\",\"tezos\"),j(this,\"client\"),j(this,\"httpProviders\"),j(this,\"events\"),j(this,\"namespace\"),j(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||f(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace);return typeof i>\"u\"?void 0:new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i))}}var js=Object.defineProperty,Rs=(s,e,t)=>e in s?js(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,R=(s,e,t)=>Rs(s,typeof e!=\"symbol\"?e+\"\":e,t);class _s{constructor(e){R(this,\"name\",ue),R(this,\"client\"),R(this,\"httpProviders\"),R(this,\"events\"),R(this,\"namespace\"),R(this,\"chainId\"),this.namespace=e.namespace,this.events=h(\"events\"),this.client=h(\"client\"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(m.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(\":\")[1]===this.chainId.toString()).map(t=>t.split(\":\")[2]))]:[]}createHttpProviders(){var e,t;const i={};return(t=(e=this.namespace)==null?void 0:e.accounts)==null||t.forEach(n=>{const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(n);i[a.reference]=this.createHttpProvider(n)}),i}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||f(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_3__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,h(\"disableProviderPing\")))}}var Fs=Object.defineProperty,Us=Object.defineProperties,xs=Object.getOwnPropertyDescriptors,xe=Object.getOwnPropertySymbols,Ls=Object.prototype.hasOwnProperty,Ms=Object.prototype.propertyIsEnumerable,se=(s,e,t)=>e in s?Fs(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,G=(s,e)=>{for(var t in e||(e={}))Ls.call(e,t)&&se(s,t,e[t]);if(xe)for(var t of xe(e))Ms.call(e,t)&&se(s,t,e[t]);return s},ie=(s,e)=>Us(s,xs(e)),v=(s,e,t)=>se(s,typeof e!=\"symbol\"?e+\"\":e,t);class J{constructor(e){v(this,\"client\"),v(this,\"namespaces\"),v(this,\"optionalNamespaces\"),v(this,\"sessionProperties\"),v(this,\"scopedProperties\"),v(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_4___default())),v(this,\"rpcProviders\",{}),v(this,\"session\"),v(this,\"providerOpts\"),v(this,\"logger\"),v(this,\"uri\"),v(this,\"disableProviderPing\",!1),this.providerOpts=e,this.logger=typeof e?.logger<\"u\"&&typeof e?.logger!=\"string\"?e.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:e?.logger||pe})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new J(e);return await t.initialize(),t}async request(e,t,i){const[n,a]=this.validateChain(t);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(n).request({request:G({},e),chainId:`${n}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(e,t,i,n){const a=new Date().getTime();this.request(e,i,n).then(r=>t(null,(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcResult)(a,r))).catch(r=>t(r,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(e,t);i&&(this.uri=i,this.events.emit(\"display_uri\",i));const a=await n();if(this.session=a.session,this.session){const r=He(this.session.namespaces);this.namespaces=B(this.namespaces,r),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return a}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit(\"display_uri\",t));const n=await i();this.session=n;const a=He(n.namespaces);return this.namespaces=B(this.namespaces,a),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[i,n]=this.validateChain(e);this.getProvider(i).setDefaultChain(n,t)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){try{this.logger.info(\"Cleaning up inactive pairings...\");const t=this.client.pairing.getAll();if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(t))return;for(const i of t)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(t){this.logger.warn(\"Failed to cleanup pending pairings\",t)}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_6__[\"default\"].init({core:this.providerOpts.core,logger:this.providerOpts.logger||pe,relayUrl:this.providerOpts.relayUrl||We,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error(\"Failed to get session\",i),new Error(`The provided session: ${(t=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:t.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(t)))];X(\"client\",this.client),X(\"events\",this.events),X(\"disableProviderPing\",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const i=Nt(t,this.session);if(i?.length===0)return;const n=Oe(i),a=B(this.namespaces,this.optionalNamespaces),r=ie(G({},a[t]),{accounts:i,chains:n});switch(t){case\"eip155\":this.rpcProviders[t]=new os({namespace:r});break;case\"algorand\":this.rpcProviders[t]=new gs({namespace:r});break;case\"solana\":this.rpcProviders[t]=new ds({namespace:r});break;case\"cosmos\":this.rpcProviders[t]=new fs({namespace:r});break;case\"polkadot\":this.rpcProviders[t]=new ss({namespace:r});break;case\"cip34\":this.rpcProviders[t]=new ys({namespace:r});break;case\"elrond\":this.rpcProviders[t]=new $s({namespace:r});break;case\"multiversx\":this.rpcProviders[t]=new As({namespace:r});break;case\"near\":this.rpcProviders[t]=new Ss({namespace:r});break;case\"tezos\":this.rpcProviders[t]=new Ds({namespace:r});break;default:this.rpcProviders[t]=new _s({namespace:r})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",e=>{var t;const{topic:i}=e;i===((t=this.session)==null?void 0:t.topic)&&this.events.emit(\"session_ping\",e)}),this.client.on(\"session_event\",e=>{var t;const{params:i,topic:n}=e;if(n!==((t=this.session)==null?void 0:t.topic))return;const{event:a}=i;if(a.name===\"accountsChanged\"){const r=a.data;r&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(r)&&this.events.emit(\"accountsChanged\",r.map(Ee))}else if(a.name===\"chainChanged\"){const r=i.chainId,c=i.event.data,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(r),d=Y(r)!==Y(c)?`${o}:${Y(c)}`:r;this.onChainChanged(d)}else this.events.emit(a.name,a.data);this.events.emit(\"session_event\",e)}),this.client.on(\"session_update\",({topic:e,params:t})=>{var i,n;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=t,r=(n=this.client)==null?void 0:n.session.get(e);this.session=ie(G({},r),{namespaces:a}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:e,params:t})}),this.client.on(\"session_delete\",async e=>{var t;e.topic===((t=this.session)==null?void 0:t.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",e),this.events.emit(\"disconnect\",ie(G({},(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),{data:e.topic})))}),this.on(m.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ue]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:i={},sessionProperties:n,scopedProperties:a}=e;this.optionalNamespaces=B(t,i),this.sessionProperties=n,this.scopedProperties=a}validateChain(e){const[t,i]=e?.split(\":\")||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,i];if(t&&!Object.keys(this.namespaces||{}).map(r=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(r)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&i)return[t,i];const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(Object.keys(this.namespaces)[0]),a=this.rpcProviders[n].getDefaultChain();return[n,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,t=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(e);if(!n)return;this.updateNamespaceChain(i,n);const a=this.getProvider(i).getDefaultChain();t?(this.events.emit(\"chainChanged\",n),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:a,newChainId:e})):this.getProvider(i).setDefaultChain(n),await this.persist(\"namespaces\",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:t,newChainId:i}){var n,a;try{if(t===i)return;const r=(a=(n=this.session)==null?void 0:n.namespaces[e])==null?void 0:a.accounts;if(!r)return;const c=r.filter(o=>o.includes(`${i}:`)).map(Ee);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(c))return;this.events.emit(\"accountsChanged\",c)}catch(r){this.logger.warn(\"Failed to emit accountsChanged on chain change\",r)}}updateNamespaceChain(e,t){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${t}`,n={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=t):this.namespaces[i]=n}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var i;const n=((i=this.session)==null?void 0:i.topic)||\"\";await this.client.core.storage.setItem(`${x}/${e}${n}`,t)}async getFromStore(e){var t;const i=((t=this.session)==null?void 0:t.topic)||\"\";return await this.client.core.storage.getItem(`${x}/${e}${i}`)}async deleteFromStore(e){var t;const i=((t=this.session)==null?void 0:t.topic)||\"\";await this.client.core.storage.removeItem(`${x}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const i of t)i.startsWith(x)&&await this.client.core.storage.removeItem(i)}catch(t){this.logger.warn(\"Failed to cleanup storage\",t)}}}const Bs=J;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFxa0IseUZBQXlGLEdBQUcsS0FBSyxHQUFHLDZEQUE2RCxHQUFHLHFDQUFxQywrQ0FBK0MsY0FBYyx5REFBeUQsZUFBZSxrR0FBa0csZUFBZSxpR0FBaUcsc2dCQUFzZ0IsY0FBYyx1REFBdUQsaUJBQWlCLCtCQUErQixxQ0FBcUMscUJBQXFCLG9CQUFvQixpQkFBaUIsNEJBQTRCLHFCQUFxQiw0QkFBNEIsV0FBVyxZQUFZLFdBQVcseUJBQXlCLGlHQUFpRyxrREFBa0Qsd0JBQXdCLHFDQUFxQyxpQ0FBaUMscUJBQXFCLGdCQUFnQixXQUFXLHlDQUF5QyxTQUFTLHFCQUFxQixnQkFBZ0IsV0FBVywwQ0FBMEMsU0FBUyw2REFBNkQsU0FBUyw0REFBNEQsV0FBVyxZQUFZLFdBQVcseUJBQXlCLFNBQVMsNEdBQTRHLDBCQUEwQixrRUFBa0UsaUNBQWlDLHVDQUF1Qyw2QkFBNkIsWUFBWSxFQUFFLGlDQUFpQyxzQkFBc0Isc0JBQXNCLFlBQVksRUFBRSxpQ0FBaUMsdUJBQXVCLDBCQUEwQixtR0FBbUcsOEJBQThCLGdEQUFnRCxpQ0FBaUMsU0FBUyx3QkFBd0IscUNBQXFDLFlBQVksV0FBVyxLQUFLLG9EQUFvRCwrQ0FBK0MsZUFBZSxjQUFjLHlMQUF5TCxrQkFBa0IsaUJBQWlCLHdCQUF3QixxQkFBcUIsb0JBQW9CLGdFQUFnRSx5QkFBeUIsd0NBQXdDLGdCQUFnQixTQUFTLFdBQVcsd0VBQXdFLGdCQUFnQixFQUFFLGVBQWUsYUFBYSxlQUFlLGtFQUFrRSxlQUFlLG9DQUFvQyxlQUFlLGVBQWUsWUFBWSxlQUFlLHdDQUF3Qyw0Q0FBNEMsMERBQTBELDhCQUE4Qiw4R0FBOEcsRUFBRSxHQUFHLFFBQVEsS0FBSyxnQ0FBZ0MsNEJBQTRCLG9DQUFvQyxlQUFlLGlCQUFpQixvSUFBb0ksaURB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RSwwRUFBMEUsb0JBQW9CLFFBQVEsdUVBQUMsMkVBQTJFLFlBQVksd0JBQXdCLDhCQUE4QixtREFBbUQsNkJBQTZCLDJCQUEyQixpQ0FBaUMsYUFBYSwrQkFBK0IsOENBQThDLDZFQUE2RSwyQ0FBMkMsMkZBQTJGLGtDQUFrQywyQ0FBMkMsRUFBRSxRQUFRLElBQUksZ0JBQWdCLGtGQUFrRixhQUFhLGtDQUFrQyxFQUFFLGFBQWEsSUFBSSxrRUFBQyxXQUFXLHNDQUFzQyxTQUFTLHNFQUFzRSwwQkFBMEIsMkJBQTJCLGdDQUFnQyxFQUFFLEdBQUcsRUFBRSxLQUFLLCtDQUErQyxnR0FBZ0csWUFBWSxtREFBbUQscUJBQXFCLEVBQUUsZ0JBQWdCLCtRQUErUSxrQkFBa0IsOEJBQThCLG1CQUFtQixNQUFNLG9EQUFvRCwwQ0FBMEMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssc0JBQXNCLE1BQU0sb0RBQW9ELGlEQUFpRCxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyx5QkFBeUIsTUFBTSxvREFBb0QsNkNBQTZDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLHVCQUF1QixNQUFNLElBQUksNERBQTRELGlEQUFpRCwrRUFBK0UsU0FBUyxrREFBa0QsV0FBd0Q7QUFDL3I4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvZGlzdC9pbmRleC5lcy5qcz9mNjdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMZSBmcm9tXCJAd2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudFwiO2ltcG9ydHtpc1ZhbGlkT2JqZWN0IGFzIF8saXNDYWlwTmFtZXNwYWNlIGFzIGFlLHBhcnNlTmFtZXNwYWNlS2V5IGFzIEYsbWVyZ2VBcnJheXMgYXMgayxwYXJzZUNoYWluSWQgYXMgVSxjYWxjRXhwaXJ5IGFzIE1lLGlzRXhwaXJlZCBhcyBjZSxnZXRTZGtFcnJvciBhcyBvZSxpc1ZhbGlkQXJyYXkgYXMgV31mcm9tXCJAd2FsbGV0Y29ubmVjdC91dGlsc1wiO2ltcG9ydHtwaW5vIGFzIEJlLGdldERlZmF1bHRMb2dnZXJPcHRpb25zIGFzIEdlfWZyb21cIkB3YWxsZXRjb25uZWN0L2xvZ2dlclwiO2ltcG9ydHtmb3JtYXRKc29uUnBjUmVxdWVzdCBhcyBoZSxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIEplfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtpbXBvcnQgUCx7SHR0cENvbm5lY3Rpb24gYXMgemV9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb25cIjtpbXBvcnR7SnNvblJwY1Byb3ZpZGVyIGFzIGd9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlclwiO2ltcG9ydCBrZSBmcm9tXCJldmVudHNcIjtjb25zdCBwZT1cImVycm9yXCIsV2U9XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wiLEtlPVwid2NcIixWZT1cInVuaXZlcnNhbF9wcm92aWRlclwiLHg9YCR7S2V9QDI6JHtWZX06YCxkZT1cImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxL1wiLHVlPVwiZ2VuZXJpY1wiLFllPWAke2RlfWJ1bmRsZXJgLCQ9XCJjYWxsX3N0YXR1c1wiLFhlPTg2NDAwLG09e0RFRkFVTFRfQ0hBSU5fQ0hBTkdFRDpcImRlZmF1bHRfY2hhaW5fY2hhbmdlZFwifTtmdW5jdGlvbiBLKHMpe3JldHVybiBzPT1udWxsfHx0eXBlb2YgcyE9XCJvYmplY3RcIiYmdHlwZW9mIHMhPVwiZnVuY3Rpb25cIn1mdW5jdGlvbiBsZShzKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKS5maWx0ZXIoZT0+T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsZSkpfWZ1bmN0aW9uIGZlKHMpe3JldHVybiBzPT1udWxsP3M9PT12b2lkIDA/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocyl9Y29uc3QgUWU9XCJbb2JqZWN0IFJlZ0V4cF1cIixtZT1cIltvYmplY3QgU3RyaW5nXVwiLHZlPVwiW29iamVjdCBOdW1iZXJdXCIsZ2U9XCJbb2JqZWN0IEJvb2xlYW5dXCIsUGU9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixaZT1cIltvYmplY3QgU3ltYm9sXVwiLFRlPVwiW29iamVjdCBEYXRlXVwiLGV0PVwiW29iamVjdCBNYXBdXCIsdHQ9XCJbb2JqZWN0IFNldF1cIixzdD1cIltvYmplY3QgQXJyYXldXCIsaXQ9XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLHJ0PVwiW29iamVjdCBPYmplY3RdXCIsbnQ9XCJbb2JqZWN0IERhdGFWaWV3XVwiLGF0PVwiW29iamVjdCBVaW50OEFycmF5XVwiLGN0PVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixvdD1cIltvYmplY3QgVWludDE2QXJyYXldXCIsaHQ9XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLHB0PVwiW29iamVjdCBJbnQ4QXJyYXldXCIsZHQ9XCJbb2JqZWN0IEludDE2QXJyYXldXCIsdXQ9XCJbb2JqZWN0IEludDMyQXJyYXldXCIsbHQ9XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixmdD1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiO2Z1bmN0aW9uIFYocyl7cmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhzKSYmIShzIGluc3RhbmNlb2YgRGF0YVZpZXcpfWZ1bmN0aW9uIG10KHMsZSl7cmV0dXJuIE8ocyx2b2lkIDAscyxuZXcgTWFwLGUpfWZ1bmN0aW9uIE8ocyxlLHQsaT1uZXcgTWFwLG49dm9pZCAwKXtjb25zdCBhPW4/LihzLGUsdCxpKTtpZihhIT1udWxsKXJldHVybiBhO2lmKEsocykpcmV0dXJuIHM7aWYoaS5oYXMocykpcmV0dXJuIGkuZ2V0KHMpO2lmKEFycmF5LmlzQXJyYXkocykpe2NvbnN0IHI9bmV3IEFycmF5KHMubGVuZ3RoKTtpLnNldChzLHIpO2ZvcihsZXQgYz0wO2M8cy5sZW5ndGg7YysrKXJbY109TyhzW2NdLGMsdCxpLG4pO3JldHVybiBPYmplY3QuaGFzT3duKHMsXCJpbmRleFwiKSYmKHIuaW5kZXg9cy5pbmRleCksT2JqZWN0Lmhhc093bihzLFwiaW5wdXRcIikmJihyLmlucHV0PXMuaW5wdXQpLHJ9aWYocyBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKHMuZ2V0VGltZSgpKTtpZihzIGluc3RhbmNlb2YgUmVnRXhwKXtjb25zdCByPW5ldyBSZWdFeHAocy5zb3VyY2Uscy5mbGFncyk7cmV0dXJuIHIubGFzdEluZGV4PXMubGFzdEluZGV4LHJ9aWYocyBpbnN0YW5jZW9mIE1hcCl7Y29uc3Qgcj1uZXcgTWFwO2kuc2V0KHMscik7Zm9yKGNvbnN0W2Msb11vZiBzKXIuc2V0KGMsTyhvLGMsdCxpLG4pKTtyZXR1cm4gcn1pZihzIGluc3RhbmNlb2YgU2V0KXtjb25zdCByPW5ldyBTZXQ7aS5zZXQocyxyKTtmb3IoY29uc3QgYyBvZiBzKXIuYWRkKE8oYyx2b2lkIDAsdCxpLG4pKTtyZXR1cm4gcn1pZih0eXBlb2YgQnVmZmVyPFwidVwiJiZCdWZmZXIuaXNCdWZmZXIocykpcmV0dXJuIHMuc3ViYXJyYXkoKTtpZihWKHMpKXtjb25zdCByPW5ldyhPYmplY3QuZ2V0UHJvdG90eXBlT2YocykpLmNvbnN0cnVjdG9yKHMubGVuZ3RoKTtpLnNldChzLHIpO2ZvcihsZXQgYz0wO2M8cy5sZW5ndGg7YysrKXJbY109TyhzW2NdLGMsdCxpLG4pO3JldHVybiByfWlmKHMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPFwidVwiJiZzIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpcmV0dXJuIHMuc2xpY2UoMCk7aWYocyBpbnN0YW5jZW9mIERhdGFWaWV3KXtjb25zdCByPW5ldyBEYXRhVmlldyhzLmJ1ZmZlci5zbGljZSgwKSxzLmJ5dGVPZmZzZXQscy5ieXRlTGVuZ3RoKTtyZXR1cm4gaS5zZXQocyxyKSx5KHIscyx0LGksbikscn1pZih0eXBlb2YgRmlsZTxcInVcIiYmcyBpbnN0YW5jZW9mIEZpbGUpe2NvbnN0IHI9bmV3IEZpbGUoW3NdLHMubmFtZSx7dHlwZTpzLnR5cGV9KTtyZXR1cm4gaS5zZXQocyxyKSx5KHIscyx0LGksbikscn1pZihzIGluc3RhbmNlb2YgQmxvYil7Y29uc3Qgcj1uZXcgQmxvYihbc10se3R5cGU6cy50eXBlfSk7cmV0dXJuIGkuc2V0KHMscikseShyLHMsdCxpLG4pLHJ9aWYocyBpbnN0YW5jZW9mIEVycm9yKXtjb25zdCByPW5ldyBzLmNvbnN0cnVjdG9yO3JldHVybiBpLnNldChzLHIpLHIubWVzc2FnZT1zLm1lc3NhZ2Usci5uYW1lPXMubmFtZSxyLnN0YWNrPXMuc3RhY2ssci5jYXVzZT1zLmNhdXNlLHkocixzLHQsaSxuKSxyfWlmKHR5cGVvZiBzPT1cIm9iamVjdFwiJiZ2dChzKSl7Y29uc3Qgcj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihzKSk7cmV0dXJuIGkuc2V0KHMscikseShyLHMsdCxpLG4pLHJ9cmV0dXJuIHN9ZnVuY3Rpb24geShzLGUsdD1zLGksbil7Y29uc3QgYT1bLi4uT2JqZWN0LmtleXMoZSksLi4ubGUoZSldO2ZvcihsZXQgcj0wO3I8YS5sZW5ndGg7cisrKXtjb25zdCBjPWFbcl0sbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsYyk7KG89PW51bGx8fG8ud3JpdGFibGUpJiYoc1tjXT1PKGVbY10sYyx0LGksbikpfX1mdW5jdGlvbiB2dChzKXtzd2l0Y2goZmUocykpe2Nhc2UgUGU6Y2FzZSBzdDpjYXNlIGl0OmNhc2UgbnQ6Y2FzZSBnZTpjYXNlIFRlOmNhc2UgbHQ6Y2FzZSBmdDpjYXNlIHB0OmNhc2UgZHQ6Y2FzZSB1dDpjYXNlIGV0OmNhc2UgdmU6Y2FzZSBydDpjYXNlIFFlOmNhc2UgdHQ6Y2FzZSBtZTpjYXNlIFplOmNhc2UgYXQ6Y2FzZSBjdDpjYXNlIG90OmNhc2UgaHQ6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gZ3QocyxlKXtyZXR1cm4gbXQocywodCxpLG4sYSk9Pntjb25zdCByPWU/Lih0LGksbixhKTtpZihyIT1udWxsKXJldHVybiByO2lmKHR5cGVvZiBzPT1cIm9iamVjdFwiKXN3aXRjaChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocykpe2Nhc2UgdmU6Y2FzZSBtZTpjYXNlIGdlOntjb25zdCBjPW5ldyBzLmNvbnN0cnVjdG9yKHM/LnZhbHVlT2YoKSk7cmV0dXJuIHkoYyxzKSxjfWNhc2UgUGU6e2NvbnN0IGM9e307cmV0dXJuIHkoYyxzKSxjLmxlbmd0aD1zLmxlbmd0aCxjW1N5bWJvbC5pdGVyYXRvcl09c1tTeW1ib2wuaXRlcmF0b3JdLGN9ZGVmYXVsdDpyZXR1cm59fSl9ZnVuY3Rpb24gd2Uocyl7cmV0dXJuIGd0KHMpfWZ1bmN0aW9uIHllKHMpe3JldHVybiBzIT09bnVsbCYmdHlwZW9mIHM9PVwib2JqZWN0XCImJmZlKHMpPT09XCJbb2JqZWN0IEFyZ3VtZW50c11cIn1mdW5jdGlvbiBiZShzKXtyZXR1cm4gdHlwZW9mIHM9PVwib2JqZWN0XCImJnMhPT1udWxsfWZ1bmN0aW9uIFB0KCl7fWZ1bmN0aW9uIHd0KHMpe3JldHVybiBWKHMpfWZ1bmN0aW9uIHl0KHMpe2lmKHR5cGVvZiBzIT1cIm9iamVjdFwifHxzPT1udWxsKXJldHVybiExO2lmKE9iamVjdC5nZXRQcm90b3R5cGVPZihzKT09PW51bGwpcmV0dXJuITA7aWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHMpIT09XCJbb2JqZWN0IE9iamVjdF1cIil7Y29uc3QgdD1zW1N5bWJvbC50b1N0cmluZ1RhZ107cmV0dXJuIHQ9PW51bGx8fCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsU3ltYm9sLnRvU3RyaW5nVGFnKT8ud3JpdGFibGU/ITE6cy50b1N0cmluZygpPT09YFtvYmplY3QgJHt0fV1gfWxldCBlPXM7Zm9yKDtPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkhPT1udWxsOyllPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHMpPT09ZX1mdW5jdGlvbiBidChzKXtpZihLKHMpKXJldHVybiBzO2lmKEFycmF5LmlzQXJyYXkocyl8fFYocyl8fHMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPFwidVwiJiZzIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpcmV0dXJuIHMuc2xpY2UoMCk7Y29uc3QgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YocyksdD1lLmNvbnN0cnVjdG9yO2lmKHMgaW5zdGFuY2VvZiBEYXRlfHxzIGluc3RhbmNlb2YgTWFwfHxzIGluc3RhbmNlb2YgU2V0KXJldHVybiBuZXcgdChzKTtpZihzIGluc3RhbmNlb2YgUmVnRXhwKXtjb25zdCBpPW5ldyB0KHMpO3JldHVybiBpLmxhc3RJbmRleD1zLmxhc3RJbmRleCxpfWlmKHMgaW5zdGFuY2VvZiBEYXRhVmlldylyZXR1cm4gbmV3IHQocy5idWZmZXIuc2xpY2UoMCkpO2lmKHMgaW5zdGFuY2VvZiBFcnJvcil7Y29uc3QgaT1uZXcgdChzLm1lc3NhZ2UpO3JldHVybiBpLnN0YWNrPXMuc3RhY2ssaS5uYW1lPXMubmFtZSxpLmNhdXNlPXMuY2F1c2UsaX1pZih0eXBlb2YgRmlsZTxcInVcIiYmcyBpbnN0YW5jZW9mIEZpbGUpcmV0dXJuIG5ldyB0KFtzXSxzLm5hbWUse3R5cGU6cy50eXBlLGxhc3RNb2RpZmllZDpzLmxhc3RNb2RpZmllZH0pO2lmKHR5cGVvZiBzPT1cIm9iamVjdFwiKXtjb25zdCBpPU9iamVjdC5jcmVhdGUoZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oaSxzKX1yZXR1cm4gc31mdW5jdGlvbiBJdChzLC4uLmUpe2NvbnN0IHQ9ZS5zbGljZSgwLC0xKSxpPWVbZS5sZW5ndGgtMV07bGV0IG49cztmb3IobGV0IGE9MDthPHQubGVuZ3RoO2ErKyl7Y29uc3Qgcj10W2FdO249TChuLHIsaSxuZXcgTWFwKX1yZXR1cm4gbn1mdW5jdGlvbiBMKHMsZSx0LGkpe2lmKEsocykmJihzPU9iamVjdChzKSksZT09bnVsbHx8dHlwZW9mIGUhPVwib2JqZWN0XCIpcmV0dXJuIHM7aWYoaS5oYXMoZSkpcmV0dXJuIGJ0KGkuZ2V0KGUpKTtpZihpLnNldChlLHMpLEFycmF5LmlzQXJyYXkoZSkpe2U9ZS5zbGljZSgpO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKWVbYV09ZVthXT8/dm9pZCAwfWNvbnN0IG49Wy4uLk9iamVjdC5rZXlzKGUpLC4uLmxlKGUpXTtmb3IobGV0IGE9MDthPG4ubGVuZ3RoO2ErKyl7Y29uc3Qgcj1uW2FdO2xldCBjPWVbcl0sbz1zW3JdO2lmKHllKGMpJiYoYz17Li4uY30pLHllKG8pJiYobz17Li4ub30pLHR5cGVvZiBCdWZmZXI8XCJ1XCImJkJ1ZmZlci5pc0J1ZmZlcihjKSYmKGM9d2UoYykpLEFycmF5LmlzQXJyYXkoYykpaWYodHlwZW9mIG89PVwib2JqZWN0XCImJm8hPW51bGwpe2NvbnN0IHU9W10scD1SZWZsZWN0Lm93bktleXMobyk7Zm9yKGxldCB3PTA7dzxwLmxlbmd0aDt3Kyspe2NvbnN0IGw9cFt3XTt1W2xdPW9bbF19bz11fWVsc2Ugbz1bXTtjb25zdCBkPXQobyxjLHIscyxlLGkpO2QhPW51bGw/c1tyXT1kOkFycmF5LmlzQXJyYXkoYyl8fGJlKG8pJiZiZShjKT9zW3JdPUwobyxjLHQsaSk6bz09bnVsbCYmeXQoYyk/c1tyXT1MKHt9LGMsdCxpKTpvPT1udWxsJiZ3dChjKT9zW3JdPXdlKGMpOihvPT09dm9pZCAwfHxjIT09dm9pZCAwKSYmKHNbcl09Yyl9cmV0dXJuIHN9ZnVuY3Rpb24gJHQocywuLi5lKXtyZXR1cm4gSXQocywuLi5lLFB0KX12YXIgT3Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LEN0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLEF0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLEllPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsRXQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxIdD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCRlPShzLGUsdCk9PmUgaW4gcz9PdChzLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpzW2VdPXQsTT0ocyxlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpRXQuY2FsbChlLHQpJiYkZShzLHQsZVt0XSk7aWYoSWUpZm9yKHZhciB0IG9mIEllKGUpKUh0LmNhbGwoZSx0KSYmJGUocyx0LGVbdF0pO3JldHVybiBzfSxTdD0ocyxlKT0+Q3QocyxBdChlKSk7ZnVuY3Rpb24gZihzLGUsdCl7dmFyIGk7Y29uc3Qgbj1VKHMpO3JldHVybigoaT1lLnJwY01hcCk9PW51bGw/dm9pZCAwOmlbbi5yZWZlcmVuY2VdKXx8YCR7ZGV9P2NoYWluSWQ9JHtuLm5hbWVzcGFjZX06JHtuLnJlZmVyZW5jZX0mcHJvamVjdElkPSR7dH1gfWZ1bmN0aW9uIGIocyl7cmV0dXJuIHMuaW5jbHVkZXMoXCI6XCIpP3Muc3BsaXQoXCI6XCIpWzFdOnN9ZnVuY3Rpb24gT2Uocyl7cmV0dXJuIHMubWFwKGU9PmAke2Uuc3BsaXQoXCI6XCIpWzBdfToke2Uuc3BsaXQoXCI6XCIpWzFdfWApfWZ1bmN0aW9uIE50KHMsZSl7Y29uc3QgdD1PYmplY3Qua2V5cyhlLm5hbWVzcGFjZXMpLmZpbHRlcihuPT5uLmluY2x1ZGVzKHMpKTtpZighdC5sZW5ndGgpcmV0dXJuW107Y29uc3QgaT1bXTtyZXR1cm4gdC5mb3JFYWNoKG49Pntjb25zdCBhPWUubmFtZXNwYWNlc1tuXS5hY2NvdW50cztpLnB1c2goLi4uYSl9KSxpfWZ1bmN0aW9uIENlKHMpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocykuZmlsdGVyKChbZSx0XSk9Pnt2YXIgaSxuO3JldHVybigoaT10Py5jaGFpbnMpPT1udWxsP3ZvaWQgMDppLmxlbmd0aCkmJigobj10Py5jaGFpbnMpPT1udWxsP3ZvaWQgMDpuLmxlbmd0aCk+MH0pKX1mdW5jdGlvbiBCKHM9e30sZT17fSl7Y29uc3QgdD1DZShBZShzKSksaT1DZShBZShlKSk7cmV0dXJuICR0KHQsaSl9ZnVuY3Rpb24gQWUocyl7dmFyIGUsdCxpLG4sYTtjb25zdCByPXt9O2lmKCFfKHMpKXJldHVybiByO2Zvcihjb25zdFtjLG9db2YgT2JqZWN0LmVudHJpZXMocykpe2NvbnN0IGQ9YWUoYyk/W2NdOm8uY2hhaW5zLHU9by5tZXRob2RzfHxbXSxwPW8uZXZlbnRzfHxbXSx3PW8ucnBjTWFwfHx7fSxsPUYoYyk7cltsXT1TdChNKE0oe30scltsXSksbykse2NoYWluczprKGQsKGU9cltsXSk9PW51bGw/dm9pZCAwOmUuY2hhaW5zKSxtZXRob2RzOmsodSwodD1yW2xdKT09bnVsbD92b2lkIDA6dC5tZXRob2RzKSxldmVudHM6ayhwLChpPXJbbF0pPT1udWxsP3ZvaWQgMDppLmV2ZW50cyl9KSwoXyh3KXx8XygoKG49cltsXSk9PW51bGw/dm9pZCAwOm4ucnBjTWFwKXx8e30pKSYmKHJbbF0ucnBjTWFwPU0oTSh7fSx3KSwoYT1yW2xdKT09bnVsbD92b2lkIDA6YS5ycGNNYXApKX1yZXR1cm4gcn1mdW5jdGlvbiBFZShzKXtyZXR1cm4gcy5pbmNsdWRlcyhcIjpcIik/cy5zcGxpdChcIjpcIilbMl06c31mdW5jdGlvbiBIZShzKXtjb25zdCBlPXt9O2Zvcihjb25zdFt0LGldb2YgT2JqZWN0LmVudHJpZXMocykpe2NvbnN0IG49aS5tZXRob2RzfHxbXSxhPWkuZXZlbnRzfHxbXSxyPWkuYWNjb3VudHN8fFtdLGM9YWUodCk/W3RdOmkuY2hhaW5zP2kuY2hhaW5zOk9lKGkuYWNjb3VudHMpO2VbdF09e2NoYWluczpjLG1ldGhvZHM6bixldmVudHM6YSxhY2NvdW50czpyfX1yZXR1cm4gZX1mdW5jdGlvbiBZKHMpe3JldHVybiB0eXBlb2Ygcz09XCJudW1iZXJcIj9zOnMuaW5jbHVkZXMoXCIweFwiKT9wYXJzZUludChzLDE2KToocz1zLmluY2x1ZGVzKFwiOlwiKT9zLnNwbGl0KFwiOlwiKVsxXTpzLGlzTmFOKE51bWJlcihzKSk/czpOdW1iZXIocykpfWZ1bmN0aW9uIHF0KHMpe3RyeXtjb25zdCBlPUpTT04ucGFyc2Uocyk7cmV0dXJuIHR5cGVvZiBlPT1cIm9iamVjdFwiJiZlIT09bnVsbCYmIUFycmF5LmlzQXJyYXkoZSl9Y2F0Y2h7cmV0dXJuITF9fWNvbnN0IFNlPXt9LGg9cz0+U2Vbc10sWD0ocyxlKT0+e1NlW3NdPWV9O3ZhciBEdD1PYmplY3QuZGVmaW5lUHJvcGVydHksTmU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxqdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFJ0PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUscWU9KHMsZSx0KT0+ZSBpbiBzP0R0KHMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnNbZV09dCxEZT0ocyxlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpanQuY2FsbChlLHQpJiZxZShzLHQsZVt0XSk7aWYoTmUpZm9yKHZhciB0IG9mIE5lKGUpKVJ0LmNhbGwoZSx0KSYmcWUocyx0LGVbdF0pO3JldHVybiBzfTtjb25zdCBqZT1cImVpcDE1NVwiLF90PVtcImF0b21pY1wiLFwiZmxvdy1jb250cm9sXCIsXCJwYXltYXN0ZXJTZXJ2aWNlXCIsXCJzZXNzaW9uS2V5c1wiLFwiYXV4aWxpYXJ5RnVuZHNcIl0sRnQ9cz0+cyYmcy5zdGFydHNXaXRoKFwiMHhcIik/QmlnSW50KHMpLnRvU3RyaW5nKDEwKTpzLFE9cz0+cyYmcy5zdGFydHNXaXRoKFwiMHhcIik/czpgMHgke0JpZ0ludChzKS50b1N0cmluZygxNil9YCxSZT1zPT5PYmplY3Qua2V5cyhzKS5maWx0ZXIoZT0+X3QuaW5jbHVkZXMoZSkpLnJlZHVjZSgoZSx0KT0+KGVbdF09VXQoc1t0XSksZSkse30pLFV0PXM9PnR5cGVvZiBzPT1cInN0cmluZ1wiJiZxdChzKT9KU09OLnBhcnNlKHMpOnMseHQ9KHMsZSx0KT0+e2NvbnN0e3Nlc3Npb25Qcm9wZXJ0aWVzOmk9e30sc2NvcGVkUHJvcGVydGllczpuPXt9fT1zLGE9e307aWYoIV8obikmJiFfKGkpKXJldHVybjtjb25zdCByPVJlKGkpO2Zvcihjb25zdCBjIG9mIHQpe2NvbnN0IG89RnQoYyk7aWYoIW8pY29udGludWU7YVtRKG8pXT1yO2NvbnN0IGQ9bj8uW2Ake2plfToke299YF07aWYoZCl7Y29uc3QgdT1kPy5bYCR7amV9OiR7b306JHtlfWBdO2FbUShvKV09RGUoRGUoe30sYVtRKG8pXSksUmUodXx8ZCkpfX1mb3IoY29uc3RbYyxvXW9mIE9iamVjdC5lbnRyaWVzKGEpKU9iamVjdC5rZXlzKG8pLmxlbmd0aD09PTAmJmRlbGV0ZSBhW2NdO3JldHVybiBPYmplY3Qua2V5cyhhKS5sZW5ndGg+MD9hOnZvaWQgMH07dmFyIEx0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxNdD0ocyxlLHQpPT5lIGluIHM/THQocyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6c1tlXT10LEJ0PShzLGUsdCk9Pk10KHMsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7bGV0IFo7Y2xhc3MgcmV7Y29uc3RydWN0b3IoZSl7QnQodGhpcyxcInN0b3JhZ2VcIiksdGhpcy5zdG9yYWdlPWV9YXN5bmMgZ2V0SXRlbShlKXtyZXR1cm4gYXdhaXQgdGhpcy5zdG9yYWdlLmdldEl0ZW0oZSl9YXN5bmMgc2V0SXRlbShlLHQpe3JldHVybiBhd2FpdCB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShlLHQpfWFzeW5jIHJlbW92ZUl0ZW0oZSl7cmV0dXJuIGF3YWl0IHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGUpfXN0YXRpYyBnZXRTdG9yYWdlKGUpe3JldHVybiBafHwoWj1uZXcgcmUoZSkpLFp9fXZhciBHdD1PYmplY3QuZGVmaW5lUHJvcGVydHksSnQ9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsenQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsX2U9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxrdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFd0PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsRmU9KHMsZSx0KT0+ZSBpbiBzP0d0KHMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnNbZV09dCxLdD0ocyxlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpa3QuY2FsbChlLHQpJiZGZShzLHQsZVt0XSk7aWYoX2UpZm9yKHZhciB0IG9mIF9lKGUpKVd0LmNhbGwoZSx0KSYmRmUocyx0LGVbdF0pO3JldHVybiBzfSxWdD0ocyxlKT0+SnQocyx6dChlKSk7YXN5bmMgZnVuY3Rpb24gWXQocyxlKXtjb25zdCB0PVUocy5yZXN1bHQuY2FwYWJpbGl0aWVzLmNhaXAzNDUuY2FpcDIpLGk9cy5yZXN1bHQuY2FwYWJpbGl0aWVzLmNhaXAzNDUudHJhbnNhY3Rpb25IYXNoZXMsbj1hd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoaS5tYXAocD0+WHQodC5yZWZlcmVuY2UscCxlKSkpLGE9bi5maWx0ZXIocD0+cC5zdGF0dXM9PT1cImZ1bGZpbGxlZFwiKS5tYXAocD0+cC52YWx1ZSkuZmlsdGVyKHA9PnApO24uZmlsdGVyKHA9PnAuc3RhdHVzPT09XCJyZWplY3RlZFwiKS5mb3JFYWNoKHA9PmNvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCB0cmFuc2FjdGlvbiByZWNlaXB0OlwiLHAucmVhc29uKSk7Y29uc3Qgcj0hYS5sZW5ndGh8fGEuc29tZShwPT4hcCksYz1hLmV2ZXJ5KHA9PnA/LnN0YXR1cz09PVwiMHgxXCIpLG89YS5ldmVyeShwPT5wPy5zdGF0dXM9PT1cIjB4MFwiKSxkPWEuc29tZShwPT5wPy5zdGF0dXM9PT1cIjB4MFwiKTtsZXQgdTtyZXR1cm4gcj91PTEwMDpjP3U9MjAwOm8/dT01MDA6ZCYmKHU9NjAwKSx7aWQ6cy5yZXN1bHQuaWQsdmVyc2lvbjpzLnJlcXVlc3QudmVyc2lvbixhdG9taWM6cy5yZXF1ZXN0LmF0b21pY1JlcXVpcmVkLGNoYWluSWQ6cy5yZXF1ZXN0LmNoYWluSWQsY2FwYWJpbGl0aWVzOnMucmVzdWx0LmNhcGFiaWxpdGllcyxyZWNlaXB0czphLHN0YXR1czp1fX1hc3luYyBmdW5jdGlvbiBYdChzLGUsdCl7cmV0dXJuIGF3YWl0IHQocGFyc2VJbnQocykpLnJlcXVlc3QoaGUoXCJldGhfZ2V0VHJhbnNhY3Rpb25SZWNlaXB0XCIsW2VdKSl9YXN5bmMgZnVuY3Rpb24gUXQoe3NlbmRDYWxsczpzLHN0b3JhZ2U6ZX0pe2NvbnN0IHQ9YXdhaXQgZS5nZXRJdGVtKCQpO2F3YWl0IGUuc2V0SXRlbSgkLFZ0KEt0KHt9LHQpLHtbcy5yZXN1bHQuaWRdOntyZXF1ZXN0OnMucmVxdWVzdCxyZXN1bHQ6cy5yZXN1bHQsZXhwaXJ5Ok1lKFhlKX19KSl9YXN5bmMgZnVuY3Rpb24gWnQoe3Jlc3VsdElkOnMsc3RvcmFnZTplfSl7Y29uc3QgdD1hd2FpdCBlLmdldEl0ZW0oJCk7aWYodCl7ZGVsZXRlIHRbc10sYXdhaXQgZS5zZXRJdGVtKCQsdCk7Zm9yKGNvbnN0IGkgaW4gdCljZSh0W2ldLmV4cGlyeSkmJmRlbGV0ZSB0W2ldO2F3YWl0IGUuc2V0SXRlbSgkLHQpfX1hc3luYyBmdW5jdGlvbiBUdCh7cmVzdWx0SWQ6cyxzdG9yYWdlOmV9KXtjb25zdCB0PWF3YWl0IGUuZ2V0SXRlbSgkKSxpPXQ/LltzXTtpZihpJiYhY2UoaS5leHBpcnkpKXJldHVybiBpO2F3YWl0IFp0KHtyZXN1bHRJZDpzLHN0b3JhZ2U6ZX0pfXZhciBlcz1PYmplY3QuZGVmaW5lUHJvcGVydHksdHM9KHMsZSx0KT0+ZSBpbiBzP2VzKHMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnNbZV09dCxDPShzLGUsdCk9PnRzKHMsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3Mgc3N7Y29uc3RydWN0b3IoZSl7Qyh0aGlzLFwibmFtZVwiLFwicG9sa2Fkb3RcIiksQyh0aGlzLFwiY2xpZW50XCIpLEModGhpcyxcImh0dHBQcm92aWRlcnNcIiksQyh0aGlzLFwiZXZlbnRzXCIpLEModGhpcyxcIm5hbWVzcGFjZVwiKSxDKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsZSl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5zcGxpdChcIjpcIilbMV19cmVxdWVzdChlKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKT90aGlzLmNsaWVudC5yZXF1ZXN0KGUpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdChlLnJlcXVlc3QpfXNldERlZmF1bHRDaGFpbihlLHQpe3RoaXMuaHR0cFByb3ZpZGVyc1tlXXx8dGhpcy5zZXRIdHRwUHJvdmlkZXIoZSx0KSx0aGlzLmNoYWluSWQ9ZSx0aGlzLmV2ZW50cy5lbWl0KG0uREVGQVVMVF9DSEFJTl9DSEFOR0VELGAke3RoaXMubmFtZX06JHtlfWApfWdldEFjY291bnRzKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gZT9lLmZpbHRlcih0PT50LnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAodD0+dC5zcGxpdChcIjpcIilbMl0pfHxbXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2godD0+e3ZhciBpO2NvbnN0IG49Yih0KTtlW25dPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKG4sKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVt0XSl9KSxlfWdldEh0dHBQcm92aWRlcigpe2NvbnN0IGU9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLHQ9dGhpcy5odHRwUHJvdmlkZXJzW2VdO2lmKHR5cGVvZiB0PlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7ZX0gbm90IGZvdW5kYCk7cmV0dXJuIHR9c2V0SHR0cFByb3ZpZGVyKGUsdCl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihlLHQpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbZV09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKGUsdCl7Y29uc3QgaT10fHxmKGUsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHtlfWApO3JldHVybiBuZXcgZyhuZXcgUChpLGgoXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9fXZhciBpcz1PYmplY3QuZGVmaW5lUHJvcGVydHkscnM9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsbnM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsVWU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxhcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGNzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsVD0ocyxlLHQpPT5lIGluIHM/aXMocyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6c1tlXT10LGVlPShzLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlhcy5jYWxsKGUsdCkmJlQocyx0LGVbdF0pO2lmKFVlKWZvcih2YXIgdCBvZiBVZShlKSljcy5jYWxsKGUsdCkmJlQocyx0LGVbdF0pO3JldHVybiBzfSx0ZT0ocyxlKT0+cnMocyxucyhlKSksST0ocyxlLHQpPT5UKHMsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3Mgb3N7Y29uc3RydWN0b3IoZSl7SSh0aGlzLFwibmFtZVwiLFwiZWlwMTU1XCIpLEkodGhpcyxcImNsaWVudFwiKSxJKHRoaXMsXCJjaGFpbklkXCIpLEkodGhpcyxcIm5hbWVzcGFjZVwiKSxJKHRoaXMsXCJodHRwUHJvdmlkZXJzXCIpLEkodGhpcyxcImV2ZW50c1wiKSxJKHRoaXMsXCJzdG9yYWdlXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCksdGhpcy5jaGFpbklkPXBhcnNlSW50KHRoaXMuZ2V0RGVmYXVsdENoYWluKCkpLHRoaXMuc3RvcmFnZT1yZS5nZXRTdG9yYWdlKHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZSl9YXN5bmMgcmVxdWVzdChlKXtzd2l0Y2goZS5yZXF1ZXN0Lm1ldGhvZCl7Y2FzZVwiZXRoX3JlcXVlc3RBY2NvdW50c1wiOnJldHVybiB0aGlzLmdldEFjY291bnRzKCk7Y2FzZVwiZXRoX2FjY291bnRzXCI6cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKTtjYXNlXCJ3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpblwiOnJldHVybiBhd2FpdCB0aGlzLmhhbmRsZVN3aXRjaENoYWluKGUpO2Nhc2VcImV0aF9jaGFpbklkXCI6cmV0dXJuIHBhcnNlSW50KHRoaXMuZ2V0RGVmYXVsdENoYWluKCkpO2Nhc2VcIndhbGxldF9nZXRDYXBhYmlsaXRpZXNcIjpyZXR1cm4gYXdhaXQgdGhpcy5nZXRDYXBhYmlsaXRpZXMoZSk7Y2FzZVwid2FsbGV0X2dldENhbGxzU3RhdHVzXCI6cmV0dXJuIGF3YWl0IHRoaXMuZ2V0Q2FsbFN0YXR1cyhlKTtjYXNlXCJ3YWxsZXRfc2VuZENhbGxzXCI6cmV0dXJuIGF3YWl0IHRoaXMuc2VuZENhbGxzKGUpfXJldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP2F3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KGUucmVxdWVzdCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsZSl9c2V0RGVmYXVsdENoYWluKGUsdCl7dGhpcy5odHRwUHJvdmlkZXJzW2VdfHx0aGlzLnNldEh0dHBQcm92aWRlcihwYXJzZUludChlKSx0KSx0aGlzLmNoYWluSWQ9cGFyc2VJbnQoZSksdGhpcy5ldmVudHMuZW1pdChtLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7ZX1gKX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkLnRvU3RyaW5nKCk7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIGUuc3BsaXQoXCI6XCIpWzFdfWNyZWF0ZUh0dHBQcm92aWRlcihlLHQpe2NvbnN0IGk9dHx8ZihgJHt0aGlzLm5hbWV9OiR7ZX1gLHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7ZX1gKTtyZXR1cm4gbmV3IGcobmV3IHplKGksaChcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX1zZXRIdHRwUHJvdmlkZXIoZSx0KXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUsdCk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2godD0+e3ZhciBpO2NvbnN0IG49cGFyc2VJbnQoYih0KSk7ZVtuXT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihuLChpPXRoaXMubmFtZXNwYWNlLnJwY01hcCk9PW51bGw/dm9pZCAwOmlbdF0pfSksZX1nZXRBY2NvdW50cygpe2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIGU/Wy4uLm5ldyBTZXQoZS5maWx0ZXIodD0+dC5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKHQ9PnQuc3BsaXQoXCI6XCIpWzJdKSldOltdfWdldEh0dHBQcm92aWRlcihlKXtjb25zdCB0PWV8fHRoaXMuY2hhaW5JZDtyZXR1cm4gdGhpcy5odHRwUHJvdmlkZXJzW3RdfHwodGhpcy5odHRwUHJvdmlkZXJzPXRlKGVlKHt9LHRoaXMuaHR0cFByb3ZpZGVycykse1t0XTp0aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0KX0pLHRoaXMuaHR0cFByb3ZpZGVyc1t0XSl9YXN5bmMgaGFuZGxlU3dpdGNoQ2hhaW4oZSl7dmFyIHQsaTtsZXQgbj1lLnJlcXVlc3QucGFyYW1zPyh0PWUucmVxdWVzdC5wYXJhbXNbMF0pPT1udWxsP3ZvaWQgMDp0LmNoYWluSWQ6XCIweDBcIjtuPW4uc3RhcnRzV2l0aChcIjB4XCIpP246YDB4JHtufWA7Y29uc3QgYT1wYXJzZUludChuLDE2KTtpZih0aGlzLmlzQ2hhaW5BcHByb3ZlZChhKSl0aGlzLnNldERlZmF1bHRDaGFpbihgJHthfWApO2Vsc2UgaWYodGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhcIndhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluXCIpKWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3Qoe3RvcGljOmUudG9waWMscmVxdWVzdDp7bWV0aG9kOmUucmVxdWVzdC5tZXRob2QscGFyYW1zOlt7Y2hhaW5JZDpufV19LGNoYWluSWQ6KGk9dGhpcy5uYW1lc3BhY2UuY2hhaW5zKT09bnVsbD92b2lkIDA6aVswXX0pLHRoaXMuc2V0RGVmYXVsdENoYWluKGAke2F9YCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzd2l0Y2ggdG8gY2hhaW4gJ2VpcDE1NToke2F9Jy4gVGhlIGNoYWluIGlzIG5vdCBhcHByb3ZlZCBvciB0aGUgd2FsbGV0IGRvZXMgbm90IHN1cHBvcnQgJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyBtZXRob2QuYCk7cmV0dXJuIG51bGx9aXNDaGFpbkFwcHJvdmVkKGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuaW5jbHVkZXMoYCR7dGhpcy5uYW1lfToke2V9YCl9YXN5bmMgZ2V0Q2FwYWJpbGl0aWVzKGUpe3ZhciB0LGksbixhLHI7Y29uc3QgYz0oaT0odD1lLnJlcXVlc3QpPT1udWxsP3ZvaWQgMDp0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmlbMF0sbz0oKGE9KG49ZS5yZXF1ZXN0KT09bnVsbD92b2lkIDA6bi5wYXJhbXMpPT1udWxsP3ZvaWQgMDphWzFdKXx8W107aWYoIWMpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBhZGRyZXNzIHBhcmFtZXRlciBpbiBgd2FsbGV0X2dldENhcGFiaWxpdGllc2AgcmVxdWVzdFwiKTtjb25zdCBkPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUudG9waWMpLHU9KChyPWQ/LnNlc3Npb25Qcm9wZXJ0aWVzKT09bnVsbD92b2lkIDA6ci5jYXBhYmlsaXRpZXMpfHx7fSxwPWAke2N9JHtvLmpvaW4oXCIsXCIpfWAsdz11Py5bcF07aWYodylyZXR1cm4gdztsZXQgbDt0cnl7bD14dChkLGMsbyl9Y2F0Y2goeil7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGV4dHJhY3QgY2FwYWJpbGl0aWVzIGZyb20gc2Vzc2lvblwiLHopfWlmKGwpcmV0dXJuIGw7Y29uc3QgbmU9YXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdChlKTt0cnl7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZS50b3BpYyx7c2Vzc2lvblByb3BlcnRpZXM6dGUoZWUoe30sZC5zZXNzaW9uUHJvcGVydGllc3x8e30pLHtjYXBhYmlsaXRpZXM6dGUoZWUoe30sdXx8e30pLHtbcF06bmV9KX0pfSl9Y2F0Y2goeil7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHVwZGF0ZSBzZXNzaW9uIHdpdGggY2FwYWJpbGl0aWVzXCIseil9cmV0dXJuIG5lfWFzeW5jIGdldENhbGxTdGF0dXMoZSl7dmFyIHQsaSxuO2NvbnN0IGE9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZS50b3BpYykscj0odD1hLnNlc3Npb25Qcm9wZXJ0aWVzKT09bnVsbD92b2lkIDA6dC5idW5kbGVyX25hbWU7aWYocil7Y29uc3QgZD10aGlzLmdldEJ1bmRsZXJVcmwoZS5jaGFpbklkLHIpO3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5nZXRVc2VyT3BlcmF0aW9uUmVjZWlwdChkLGUpfWNhdGNoKHUpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBjYWxsIHN0YXR1cyBmcm9tIGJ1bmRsZXJcIix1LGQpfX1jb25zdCBjPShpPWEuc2Vzc2lvblByb3BlcnRpZXMpPT1udWxsP3ZvaWQgMDppLmJ1bmRsZXJfdXJsO2lmKGMpdHJ5e3JldHVybiBhd2FpdCB0aGlzLmdldFVzZXJPcGVyYXRpb25SZWNlaXB0KGMsZSl9Y2F0Y2goZCl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGZldGNoIGNhbGwgc3RhdHVzIGZyb20gY3VzdG9tIGJ1bmRsZXJcIixkLGMpfWNvbnN0IG89YXdhaXQgVHQoe3Jlc3VsdElkOihuPWUucmVxdWVzdC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpuWzBdLHN0b3JhZ2U6dGhpcy5zdG9yYWdlfSk7aWYobyl0cnl7cmV0dXJuIGF3YWl0IFl0KG8sdGhpcy5nZXRIdHRwUHJvdmlkZXIuYmluZCh0aGlzKSl9Y2F0Y2goZCl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGZldGNoIGNhbGwgc3RhdHVzIGZyb20gc3RvcmVkIHNlbmQgY2FsbHNcIixkLG8pfWlmKHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXMoZS5yZXF1ZXN0Lm1ldGhvZCkpcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSk7dGhyb3cgbmV3IEVycm9yKFwiRmV0Y2hpbmcgY2FsbCBzdGF0dXMgbm90IGFwcHJvdmVkIGJ5IHRoZSB3YWxsZXQuXCIpfWFzeW5jIGdldFVzZXJPcGVyYXRpb25SZWNlaXB0KGUsdCl7dmFyIGk7Y29uc3Qgbj1uZXcgVVJMKGUpLGE9YXdhaXQgZmV0Y2gobix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoaGUoXCJldGhfZ2V0VXNlck9wZXJhdGlvblJlY2VpcHRcIixbKGk9dC5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmlbMF1dKSl9KTtpZighYS5vayl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB1c2VyIG9wZXJhdGlvbiByZWNlaXB0IC0gJHthLnN0YXR1c31gKTtyZXR1cm4gYXdhaXQgYS5qc29uKCl9Z2V0QnVuZGxlclVybChlLHQpe3JldHVybmAke1llfT9wcm9qZWN0SWQ9JHt0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0mY2hhaW5JZD0ke2V9JmJ1bmRsZXI9JHt0fWB9YXN5bmMgc2VuZENhbGxzKGUpe3ZhciB0LGksbjtjb25zdCBhPWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSkscj0odD1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6dFswXSxjPWE/LmlkLG89YT8uY2FwYWJpbGl0aWVzfHx7fSxkPShpPW8/LmNhaXAzNDUpPT1udWxsP3ZvaWQgMDppLmNhaXAyLHU9KG49bz8uY2FpcDM0NSk9PW51bGw/dm9pZCAwOm4udHJhbnNhY3Rpb25IYXNoZXM7cmV0dXJuIWN8fCFkfHwhKHUhPW51bGwmJnUubGVuZ3RoKXx8YXdhaXQgUXQoe3NlbmRDYWxsczp7cmVxdWVzdDpyLHJlc3VsdDphfSxzdG9yYWdlOnRoaXMuc3RvcmFnZX0pLGF9fXZhciBocz1PYmplY3QuZGVmaW5lUHJvcGVydHkscHM9KHMsZSx0KT0+ZSBpbiBzP2hzKHMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnNbZV09dCxBPShzLGUsdCk9PnBzKHMsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgZHN7Y29uc3RydWN0b3IoZSl7QSh0aGlzLFwibmFtZVwiLFwic29sYW5hXCIpLEEodGhpcyxcImNsaWVudFwiKSxBKHRoaXMsXCJodHRwUHJvdmlkZXJzXCIpLEEodGhpcyxcImV2ZW50c1wiKSxBKHRoaXMsXCJuYW1lc3BhY2VcIiksQSh0aGlzLFwiY2hhaW5JZFwiKSx0aGlzLm5hbWVzcGFjZT1lLm5hbWVzcGFjZSx0aGlzLmV2ZW50cz1oKFwiZXZlbnRzXCIpLHRoaXMuY2xpZW50PWgoXCJjbGllbnRcIiksdGhpcy5jaGFpbklkPXRoaXMuZ2V0RGVmYXVsdENoYWluKCksdGhpcy5odHRwUHJvdmlkZXJzPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVycygpfXVwZGF0ZU5hbWVzcGFjZShlKXt0aGlzLm5hbWVzcGFjZT1PYmplY3QuYXNzaWduKHRoaXMubmFtZXNwYWNlLGUpfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9cmVxdWVzdChlKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKT90aGlzLmNsaWVudC5yZXF1ZXN0KGUpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdChlLnJlcXVlc3QpfXNldERlZmF1bHRDaGFpbihlLHQpe3RoaXMuaHR0cFByb3ZpZGVyc1tlXXx8dGhpcy5zZXRIdHRwUHJvdmlkZXIoZSx0KSx0aGlzLmNoYWluSWQ9ZSx0aGlzLmV2ZW50cy5lbWl0KG0uREVGQVVMVF9DSEFJTl9DSEFOR0VELGAke3RoaXMubmFtZX06JHtlfWApfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiBlLnNwbGl0KFwiOlwiKVsxXX1nZXRBY2NvdW50cygpe2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIGU/Wy4uLm5ldyBTZXQoZS5maWx0ZXIodD0+dC5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKHQ9PnQuc3BsaXQoXCI6XCIpWzJdKSldOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaCh0PT57dmFyIGk7Y29uc3Qgbj1iKHQpO2Vbbl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIobiwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW3RdKX0pLGV9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgZT1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsdD10aGlzLmh0dHBQcm92aWRlcnNbZV07aWYodHlwZW9mIHQ+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gdH1zZXRIdHRwUHJvdmlkZXIoZSx0KXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUsdCk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIoZSx0KXtjb25zdCBpPXR8fGYoZSx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke2V9YCk7cmV0dXJuIG5ldyBnKG5ldyBQKGksaChcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIHVzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxscz0ocyxlLHQpPT5lIGluIHM/dXMocyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6c1tlXT10LEU9KHMsZSx0KT0+bHMocyx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBmc3tjb25zdHJ1Y3RvcihlKXtFKHRoaXMsXCJuYW1lXCIsXCJjb3Ntb3NcIiksRSh0aGlzLFwiY2xpZW50XCIpLEUodGhpcyxcImh0dHBQcm92aWRlcnNcIiksRSh0aGlzLFwiZXZlbnRzXCIpLEUodGhpcyxcIm5hbWVzcGFjZVwiKSxFKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsZSl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5zcGxpdChcIjpcIilbMV19cmVxdWVzdChlKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKT90aGlzLmNsaWVudC5yZXF1ZXN0KGUpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdChlLnJlcXVlc3QpfXNldERlZmF1bHRDaGFpbihlLHQpe3RoaXMuaHR0cFByb3ZpZGVyc1tlXXx8dGhpcy5zZXRIdHRwUHJvdmlkZXIoZSx0KSx0aGlzLmNoYWluSWQ9ZSx0aGlzLmV2ZW50cy5lbWl0KG0uREVGQVVMVF9DSEFJTl9DSEFOR0VELGAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCl9Z2V0QWNjb3VudHMoKXtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiBlP1suLi5uZXcgU2V0KGUuZmlsdGVyKHQ9PnQuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcCh0PT50LnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2godD0+e3ZhciBpO2NvbnN0IG49Yih0KTtlW25dPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKG4sKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVt0XSl9KSxlfWdldEh0dHBQcm92aWRlcigpe2NvbnN0IGU9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLHQ9dGhpcy5odHRwUHJvdmlkZXJzW2VdO2lmKHR5cGVvZiB0PlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7ZX0gbm90IGZvdW5kYCk7cmV0dXJuIHR9c2V0SHR0cFByb3ZpZGVyKGUsdCl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihlLHQpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbZV09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKGUsdCl7Y29uc3QgaT10fHxmKGUsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHtlfWApO3JldHVybiBuZXcgZyhuZXcgUChpLGgoXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9fXZhciBtcz1PYmplY3QuZGVmaW5lUHJvcGVydHksdnM9KHMsZSx0KT0+ZSBpbiBzP21zKHMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnNbZV09dCxIPShzLGUsdCk9PnZzKHMsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgZ3N7Y29uc3RydWN0b3IoZSl7SCh0aGlzLFwibmFtZVwiLFwiYWxnb3JhbmRcIiksSCh0aGlzLFwiY2xpZW50XCIpLEgodGhpcyxcImh0dHBQcm92aWRlcnNcIiksSCh0aGlzLFwiZXZlbnRzXCIpLEgodGhpcyxcIm5hbWVzcGFjZVwiKSxIKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsZSl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KGUucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKGUsdCl7aWYoIXRoaXMuaHR0cFByb3ZpZGVyc1tlXSl7Y29uc3QgaT10fHxmKGAke3RoaXMubmFtZX06JHtlfWAsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHtlfWApO3RoaXMuc2V0SHR0cFByb3ZpZGVyKGUsaSl9dGhpcy5jaGFpbklkPWUsdGhpcy5ldmVudHMuZW1pdChtLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxgJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWApfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiBlLnNwbGl0KFwiOlwiKVsxXX1nZXRBY2NvdW50cygpe2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIGU/Wy4uLm5ldyBTZXQoZS5maWx0ZXIodD0+dC5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKHQ9PnQuc3BsaXQoXCI6XCIpWzJdKSldOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaCh0PT57dmFyIGk7ZVt0XT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0LChpPXRoaXMubmFtZXNwYWNlLnJwY01hcCk9PW51bGw/dm9pZCAwOmlbdF0pfSksZX1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCBlPWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCx0PXRoaXMuaHR0cFByb3ZpZGVyc1tlXTtpZih0eXBlb2YgdD5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke2V9IG5vdCBmb3VuZGApO3JldHVybiB0fXNldEh0dHBQcm92aWRlcihlLHQpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIoZSx0KTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW2VdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcihlLHQpe2NvbnN0IGk9dHx8ZihlLHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtyZXR1cm4gdHlwZW9mIGk+XCJ1XCI/dm9pZCAwOm5ldyBnKG5ldyBQKGksaChcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIFBzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx3cz0ocyxlLHQpPT5lIGluIHM/UHMocyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6c1tlXT10LFM9KHMsZSx0KT0+d3Mocyx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyB5c3tjb25zdHJ1Y3RvcihlKXtTKHRoaXMsXCJuYW1lXCIsXCJjaXAzNFwiKSxTKHRoaXMsXCJjbGllbnRcIiksUyh0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxTKHRoaXMsXCJldmVudHNcIiksUyh0aGlzLFwibmFtZXNwYWNlXCIpLFModGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9ZS5uYW1lc3BhY2UsdGhpcy5ldmVudHM9aChcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1oKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKX11cGRhdGVOYW1lc3BhY2UoZSl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSxlKX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiBlLnNwbGl0KFwiOlwiKVsxXX1yZXF1ZXN0KGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KGUucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKGUsdCl7dGhpcy5odHRwUHJvdmlkZXJzW2VdfHx0aGlzLnNldEh0dHBQcm92aWRlcihlLHQpLHRoaXMuY2hhaW5JZD1lLHRoaXMuZXZlbnRzLmVtaXQobS5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gKX1nZXRBY2NvdW50cygpe2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIGU/Wy4uLm5ldyBTZXQoZS5maWx0ZXIodD0+dC5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKHQ9PnQuc3BsaXQoXCI6XCIpWzJdKSldOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaCh0PT57Y29uc3QgaT10aGlzLmdldENhcmRhbm9SUENVcmwodCksbj1iKHQpO2Vbbl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIobixpKX0pLGV9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgZT1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsdD10aGlzLmh0dHBQcm92aWRlcnNbZV07aWYodHlwZW9mIHQ+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gdH1nZXRDYXJkYW5vUlBDVXJsKGUpe2NvbnN0IHQ9dGhpcy5uYW1lc3BhY2UucnBjTWFwO2lmKHQpcmV0dXJuIHRbZV19c2V0SHR0cFByb3ZpZGVyKGUsdCl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihlLHQpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbZV09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKGUsdCl7Y29uc3QgaT10fHx0aGlzLmdldENhcmRhbm9SUENVcmwoZSk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke2V9YCk7cmV0dXJuIG5ldyBnKG5ldyBQKGksaChcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIGJzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxJcz0ocyxlLHQpPT5lIGluIHM/YnMocyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6c1tlXT10LE49KHMsZSx0KT0+SXMocyx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyAkc3tjb25zdHJ1Y3RvcihlKXtOKHRoaXMsXCJuYW1lXCIsXCJlbHJvbmRcIiksTih0aGlzLFwiY2xpZW50XCIpLE4odGhpcyxcImh0dHBQcm92aWRlcnNcIiksTih0aGlzLFwiZXZlbnRzXCIpLE4odGhpcyxcIm5hbWVzcGFjZVwiKSxOKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsZSl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KGUucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKGUsdCl7dGhpcy5odHRwUHJvdmlkZXJzW2VdfHx0aGlzLnNldEh0dHBQcm92aWRlcihlLHQpLHRoaXMuY2hhaW5JZD1lLHRoaXMuZXZlbnRzLmVtaXQobS5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke2V9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIGUuc3BsaXQoXCI6XCIpWzFdfWdldEFjY291bnRzKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gZT9bLi4ubmV3IFNldChlLmZpbHRlcih0PT50LnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAodD0+dC5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKHQ9Pnt2YXIgaTtjb25zdCBuPWIodCk7ZVtuXT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihuLChpPXRoaXMubmFtZXNwYWNlLnJwY01hcCk9PW51bGw/dm9pZCAwOmlbdF0pfSksZX1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCBlPWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCx0PXRoaXMuaHR0cFByb3ZpZGVyc1tlXTtpZih0eXBlb2YgdD5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke2V9IG5vdCBmb3VuZGApO3JldHVybiB0fXNldEh0dHBQcm92aWRlcihlLHQpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIoZSx0KTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW2VdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcihlLHQpe2NvbnN0IGk9dHx8ZihlLHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7ZX1gKTtyZXR1cm4gbmV3IGcobmV3IFAoaSxoKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgT3M9T2JqZWN0LmRlZmluZVByb3BlcnR5LENzPShzLGUsdCk9PmUgaW4gcz9PcyhzLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpzW2VdPXQscT0ocyxlLHQpPT5DcyhzLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIEFze2NvbnN0cnVjdG9yKGUpe3EodGhpcyxcIm5hbWVcIixcIm11bHRpdmVyc3hcIikscSh0aGlzLFwiY2xpZW50XCIpLHEodGhpcyxcImh0dHBQcm92aWRlcnNcIikscSh0aGlzLFwiZXZlbnRzXCIpLHEodGhpcyxcIm5hbWVzcGFjZVwiKSxxKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsZSl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoKS5yZXF1ZXN0KGUucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKGUsdCl7dGhpcy5odHRwUHJvdmlkZXJzW2VdfHx0aGlzLnNldEh0dHBQcm92aWRlcihlLHQpLHRoaXMuY2hhaW5JZD1lLHRoaXMuZXZlbnRzLmVtaXQobS5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke2V9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIGUuc3BsaXQoXCI6XCIpWzFdfWdldEFjY291bnRzKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gZT9bLi4ubmV3IFNldChlLmZpbHRlcih0PT50LnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAodD0+dC5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKHQ9Pnt2YXIgaTtjb25zdCBuPWIodCk7ZVtuXT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihuLChpPXRoaXMubmFtZXNwYWNlLnJwY01hcCk9PW51bGw/dm9pZCAwOmlbdF0pfSksZX1nZXRIdHRwUHJvdmlkZXIoKXtjb25zdCBlPWAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCx0PXRoaXMuaHR0cFByb3ZpZGVyc1tlXTtpZih0eXBlb2YgdD5cInVcIil0aHJvdyBuZXcgRXJyb3IoYEpTT04tUlBDIHByb3ZpZGVyIGZvciAke2V9IG5vdCBmb3VuZGApO3JldHVybiB0fXNldEh0dHBQcm92aWRlcihlLHQpe2NvbnN0IGk9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIoZSx0KTtpJiYodGhpcy5odHRwUHJvdmlkZXJzW2VdPWkpfWNyZWF0ZUh0dHBQcm92aWRlcihlLHQpe2NvbnN0IGk9dHx8ZihlLHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7ZX1gKTtyZXR1cm4gbmV3IGcobmV3IFAoaSxoKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgRXM9T2JqZWN0LmRlZmluZVByb3BlcnR5LEhzPShzLGUsdCk9PmUgaW4gcz9FcyhzLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpzW2VdPXQsRD0ocyxlLHQpPT5IcyhzLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFNze2NvbnN0cnVjdG9yKGUpe0QodGhpcyxcIm5hbWVcIixcIm5lYXJcIiksRCh0aGlzLFwiY2xpZW50XCIpLEQodGhpcyxcImh0dHBQcm92aWRlcnNcIiksRCh0aGlzLFwiZXZlbnRzXCIpLEQodGhpcyxcIm5hbWVzcGFjZVwiKSxEKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPWgoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9aChcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlPU9iamVjdC5hc3NpZ24odGhpcy5uYW1lc3BhY2UsZSl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5zcGxpdChcIjpcIilbMV19cmVxdWVzdChlKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKT90aGlzLmNsaWVudC5yZXF1ZXN0KGUpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdChlLnJlcXVlc3QpfXNldERlZmF1bHRDaGFpbihlLHQpe2lmKHRoaXMuY2hhaW5JZD1lLCF0aGlzLmh0dHBQcm92aWRlcnNbZV0pe2NvbnN0IGk9dHx8ZihgJHt0aGlzLm5hbWV9OiR7ZX1gLHRoaXMubmFtZXNwYWNlKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7ZX1gKTt0aGlzLnNldEh0dHBQcm92aWRlcihlLGkpfXRoaXMuZXZlbnRzLmVtaXQobS5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gKX1nZXRBY2NvdW50cygpe2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIGU/ZS5maWx0ZXIodD0+dC5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKHQ9PnQuc3BsaXQoXCI6XCIpWzJdKXx8W106W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKHQ9Pnt2YXIgaTtlW3RdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHQsKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVt0XSl9KSxlfWdldEh0dHBQcm92aWRlcigpe2NvbnN0IGU9YCR7dGhpcy5uYW1lfToke3RoaXMuY2hhaW5JZH1gLHQ9dGhpcy5odHRwUHJvdmlkZXJzW2VdO2lmKHR5cGVvZiB0PlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7ZX0gbm90IGZvdW5kYCk7cmV0dXJuIHR9c2V0SHR0cFByb3ZpZGVyKGUsdCl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihlLHQpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbZV09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKGUsdCl7Y29uc3QgaT10fHxmKGUsdGhpcy5uYW1lc3BhY2UpO3JldHVybiB0eXBlb2YgaT5cInVcIj92b2lkIDA6bmV3IGcobmV3IFAoaSxoKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgTnM9T2JqZWN0LmRlZmluZVByb3BlcnR5LHFzPShzLGUsdCk9PmUgaW4gcz9OcyhzLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpzW2VdPXQsaj0ocyxlLHQpPT5xcyhzLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIERze2NvbnN0cnVjdG9yKGUpe2oodGhpcyxcIm5hbWVcIixcInRlem9zXCIpLGoodGhpcyxcImNsaWVudFwiKSxqKHRoaXMsXCJodHRwUHJvdmlkZXJzXCIpLGoodGhpcyxcImV2ZW50c1wiKSxqKHRoaXMsXCJuYW1lc3BhY2VcIiksaih0aGlzLFwiY2hhaW5JZFwiKSx0aGlzLm5hbWVzcGFjZT1lLm5hbWVzcGFjZSx0aGlzLmV2ZW50cz1oKFwiZXZlbnRzXCIpLHRoaXMuY2xpZW50PWgoXCJjbGllbnRcIiksdGhpcy5jaGFpbklkPXRoaXMuZ2V0RGVmYXVsdENoYWluKCksdGhpcy5odHRwUHJvdmlkZXJzPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVycygpfXVwZGF0ZU5hbWVzcGFjZShlKXt0aGlzLm5hbWVzcGFjZT1PYmplY3QuYXNzaWduKHRoaXMubmFtZXNwYWNlLGUpfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIGUuc3BsaXQoXCI6XCIpWzFdfXJlcXVlc3QoZSl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXMoZS5yZXF1ZXN0Lm1ldGhvZCk/dGhpcy5jbGllbnQucmVxdWVzdChlKTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QoZS5yZXF1ZXN0KX1zZXREZWZhdWx0Q2hhaW4oZSx0KXtpZih0aGlzLmNoYWluSWQ9ZSwhdGhpcy5odHRwUHJvdmlkZXJzW2VdKXtjb25zdCBpPXR8fGYoYCR7dGhpcy5uYW1lfToke2V9YCx0aGlzLm5hbWVzcGFjZSk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke2V9YCk7dGhpcy5zZXRIdHRwUHJvdmlkZXIoZSxpKX10aGlzLmV2ZW50cy5lbWl0KG0uREVGQVVMVF9DSEFJTl9DSEFOR0VELGAke3RoaXMubmFtZX06JHt0aGlzLmNoYWluSWR9YCl9Z2V0QWNjb3VudHMoKXtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiBlP2UuZmlsdGVyKHQ9PnQuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcCh0PT50LnNwbGl0KFwiOlwiKVsyXSl8fFtdOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuZm9yRWFjaCh0PT57ZVt0XT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcih0KX0pLGV9Z2V0SHR0cFByb3ZpZGVyKCl7Y29uc3QgZT1gJHt0aGlzLm5hbWV9OiR7dGhpcy5jaGFpbklkfWAsdD10aGlzLmh0dHBQcm92aWRlcnNbZV07aWYodHlwZW9mIHQ+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gdH1zZXRIdHRwUHJvdmlkZXIoZSx0KXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUsdCk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIoZSx0KXtjb25zdCBpPXR8fGYoZSx0aGlzLm5hbWVzcGFjZSk7cmV0dXJuIHR5cGVvZiBpPlwidVwiP3ZvaWQgMDpuZXcgZyhuZXcgUChpKSl9fXZhciBqcz1PYmplY3QuZGVmaW5lUHJvcGVydHksUnM9KHMsZSx0KT0+ZSBpbiBzP2pzKHMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnNbZV09dCxSPShzLGUsdCk9PlJzKHMsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgX3N7Y29uc3RydWN0b3IoZSl7Uih0aGlzLFwibmFtZVwiLHVlKSxSKHRoaXMsXCJjbGllbnRcIiksUih0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxSKHRoaXMsXCJldmVudHNcIiksUih0aGlzLFwibmFtZXNwYWNlXCIpLFIodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9ZS5uYW1lc3BhY2UsdGhpcy5ldmVudHM9aChcImV2ZW50c1wiKSx0aGlzLmNsaWVudD1oKFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMubmFtZT10aGlzLmdldE5hbWVzcGFjZU5hbWUoKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlLmNoYWlucz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuY2hhaW5zfHxbXSkuY29uY2F0KGUuY2hhaW5zfHxbXSkpXSx0aGlzLm5hbWVzcGFjZS5hY2NvdW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuYWNjb3VudHN8fFtdKS5jb25jYXQoZS5hY2NvdW50c3x8W10pKV0sdGhpcy5uYW1lc3BhY2UubWV0aG9kcz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UubWV0aG9kc3x8W10pLmNvbmNhdChlLm1ldGhvZHN8fFtdKSldLHRoaXMubmFtZXNwYWNlLmV2ZW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuZXZlbnRzfHxbXSkuY29uY2F0KGUuZXZlbnRzfHxbXSkpXSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoZS5jaGFpbklkKS5yZXF1ZXN0KGUucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKGUsdCl7dGhpcy5odHRwUHJvdmlkZXJzW2VdfHx0aGlzLnNldEh0dHBQcm92aWRlcihlLHQpLHRoaXMuY2hhaW5JZD1lLHRoaXMuZXZlbnRzLmVtaXQobS5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsYCR7dGhpcy5uYW1lfToke2V9YCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQ7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIGUuc3BsaXQoXCI6XCIpWzFdfWdldE5hbWVzcGFjZU5hbWUoKXtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gVShlKS5uYW1lc3BhY2V9Z2V0QWNjb3VudHMoKXtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiBlP1suLi5uZXcgU2V0KGUuZmlsdGVyKHQ9PnQuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcCh0PT50LnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7dmFyIGUsdDtjb25zdCBpPXt9O3JldHVybih0PShlPXRoaXMubmFtZXNwYWNlKT09bnVsbD92b2lkIDA6ZS5hY2NvdW50cyk9PW51bGx8fHQuZm9yRWFjaChuPT57Y29uc3QgYT1VKG4pO2lbYS5yZWZlcmVuY2VdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKG4pfSksaX1nZXRIdHRwUHJvdmlkZXIoZSl7Y29uc3QgdD10aGlzLmh0dHBQcm92aWRlcnNbZV07aWYodHlwZW9mIHQ+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gdH1zZXRIdHRwUHJvdmlkZXIoZSx0KXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUsdCk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIoZSx0KXtjb25zdCBpPXR8fGYoZSx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke2V9YCk7cmV0dXJuIG5ldyBnKG5ldyBQKGksaChcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIEZzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxVcz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx4cz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyx4ZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLExzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTXM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxzZT0ocyxlLHQpPT5lIGluIHM/RnMocyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6c1tlXT10LEc9KHMsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKUxzLmNhbGwoZSx0KSYmc2Uocyx0LGVbdF0pO2lmKHhlKWZvcih2YXIgdCBvZiB4ZShlKSlNcy5jYWxsKGUsdCkmJnNlKHMsdCxlW3RdKTtyZXR1cm4gc30saWU9KHMsZSk9PlVzKHMseHMoZSkpLHY9KHMsZSx0KT0+c2Uocyx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBKe2NvbnN0cnVjdG9yKGUpe3YodGhpcyxcImNsaWVudFwiKSx2KHRoaXMsXCJuYW1lc3BhY2VzXCIpLHYodGhpcyxcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSx2KHRoaXMsXCJzZXNzaW9uUHJvcGVydGllc1wiKSx2KHRoaXMsXCJzY29wZWRQcm9wZXJ0aWVzXCIpLHYodGhpcyxcImV2ZW50c1wiLG5ldyBrZSksdih0aGlzLFwicnBjUHJvdmlkZXJzXCIse30pLHYodGhpcyxcInNlc3Npb25cIiksdih0aGlzLFwicHJvdmlkZXJPcHRzXCIpLHYodGhpcyxcImxvZ2dlclwiKSx2KHRoaXMsXCJ1cmlcIiksdih0aGlzLFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiLCExKSx0aGlzLnByb3ZpZGVyT3B0cz1lLHRoaXMubG9nZ2VyPXR5cGVvZiBlPy5sb2dnZXI8XCJ1XCImJnR5cGVvZiBlPy5sb2dnZXIhPVwic3RyaW5nXCI/ZS5sb2dnZXI6QmUoR2Uoe2xldmVsOmU/LmxvZ2dlcnx8cGV9KSksdGhpcy5kaXNhYmxlUHJvdmlkZXJQaW5nPWU/LmRpc2FibGVQcm92aWRlclBpbmd8fCExfXN0YXRpYyBhc3luYyBpbml0KGUpe2NvbnN0IHQ9bmV3IEooZSk7cmV0dXJuIGF3YWl0IHQuaW5pdGlhbGl6ZSgpLHR9YXN5bmMgcmVxdWVzdChlLHQsaSl7Y29uc3RbbixhXT10aGlzLnZhbGlkYXRlQ2hhaW4odCk7aWYoIXRoaXMuc2Vzc2lvbil0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgY2FsbCBjb25uZWN0KCkgYmVmb3JlIHJlcXVlc3QoKVwiKTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRQcm92aWRlcihuKS5yZXF1ZXN0KHtyZXF1ZXN0Okcoe30sZSksY2hhaW5JZDpgJHtufToke2F9YCx0b3BpYzp0aGlzLnNlc3Npb24udG9waWMsZXhwaXJ5Oml9KX1zZW5kQXN5bmMoZSx0LGksbil7Y29uc3QgYT1uZXcgRGF0ZSgpLmdldFRpbWUoKTt0aGlzLnJlcXVlc3QoZSxpLG4pLnRoZW4ocj0+dChudWxsLEplKGEscikpKS5jYXRjaChyPT50KHIsdm9pZCAwKSl9YXN5bmMgZW5hYmxlKCl7aWYoIXRoaXMuY2xpZW50KXRocm93IG5ldyBFcnJvcihcIlNpZ24gQ2xpZW50IG5vdCBpbml0aWFsaXplZFwiKTtyZXR1cm4gdGhpcy5zZXNzaW9ufHxhd2FpdCB0aGlzLmNvbm5lY3Qoe25hbWVzcGFjZXM6dGhpcy5uYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczp0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcyxzZXNzaW9uUHJvcGVydGllczp0aGlzLnNlc3Npb25Qcm9wZXJ0aWVzLHNjb3BlZFByb3BlcnRpZXM6dGhpcy5zY29wZWRQcm9wZXJ0aWVzfSksYXdhaXQgdGhpcy5yZXF1ZXN0QWNjb3VudHMoKX1hc3luYyBkaXNjb25uZWN0KCl7dmFyIGU7aWYoIXRoaXMuc2Vzc2lvbil0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgY2FsbCBjb25uZWN0KCkgYmVmb3JlIGVuYWJsZSgpXCIpO2F3YWl0IHRoaXMuY2xpZW50LmRpc2Nvbm5lY3Qoe3RvcGljOihlPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmUudG9waWMscmVhc29uOm9lKFwiVVNFUl9ESVNDT05ORUNURURcIil9KSxhd2FpdCB0aGlzLmNsZWFudXAoKX1hc3luYyBjb25uZWN0KGUpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7aWYodGhpcy5zZXROYW1lc3BhY2VzKGUpLHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncygpLCFlLnNraXBQYWlyaW5nKXJldHVybiBhd2FpdCB0aGlzLnBhaXIoZS5wYWlyaW5nVG9waWMpfWFzeW5jIGF1dGhlbnRpY2F0ZShlLHQpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7dGhpcy5zZXROYW1lc3BhY2VzKGUpLGF3YWl0IHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncygpO2NvbnN0e3VyaTppLHJlc3BvbnNlOm59PWF3YWl0IHRoaXMuY2xpZW50LmF1dGhlbnRpY2F0ZShlLHQpO2kmJih0aGlzLnVyaT1pLHRoaXMuZXZlbnRzLmVtaXQoXCJkaXNwbGF5X3VyaVwiLGkpKTtjb25zdCBhPWF3YWl0IG4oKTtpZih0aGlzLnNlc3Npb249YS5zZXNzaW9uLHRoaXMuc2Vzc2lvbil7Y29uc3Qgcj1IZSh0aGlzLnNlc3Npb24ubmFtZXNwYWNlcyk7dGhpcy5uYW1lc3BhY2VzPUIodGhpcy5uYW1lc3BhY2VzLHIpLGF3YWl0IHRoaXMucGVyc2lzdChcIm5hbWVzcGFjZXNcIix0aGlzLm5hbWVzcGFjZXMpLHRoaXMub25Db25uZWN0KCl9cmV0dXJuIGF9b24oZSx0KXt0aGlzLmV2ZW50cy5vbihlLHQpfW9uY2UoZSx0KXt0aGlzLmV2ZW50cy5vbmNlKGUsdCl9cmVtb3ZlTGlzdGVuZXIoZSx0KXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlLHQpfW9mZihlLHQpe3RoaXMuZXZlbnRzLm9mZihlLHQpfWdldCBpc1dhbGxldENvbm5lY3QoKXtyZXR1cm4hMH1hc3luYyBwYWlyKGUpe2NvbnN0e3VyaTp0LGFwcHJvdmFsOml9PWF3YWl0IHRoaXMuY2xpZW50LmNvbm5lY3Qoe3BhaXJpbmdUb3BpYzplLHJlcXVpcmVkTmFtZXNwYWNlczp0aGlzLm5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnRoaXMub3B0aW9uYWxOYW1lc3BhY2VzLHNlc3Npb25Qcm9wZXJ0aWVzOnRoaXMuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0aGlzLnNjb3BlZFByb3BlcnRpZXN9KTt0JiYodGhpcy51cmk9dCx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIix0KSk7Y29uc3Qgbj1hd2FpdCBpKCk7dGhpcy5zZXNzaW9uPW47Y29uc3QgYT1IZShuLm5hbWVzcGFjZXMpO3JldHVybiB0aGlzLm5hbWVzcGFjZXM9Qih0aGlzLm5hbWVzcGFjZXMsYSksYXdhaXQgdGhpcy5wZXJzaXN0KFwibmFtZXNwYWNlc1wiLHRoaXMubmFtZXNwYWNlcyksYXdhaXQgdGhpcy5wZXJzaXN0KFwib3B0aW9uYWxOYW1lc3BhY2VzXCIsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXMpLHRoaXMub25Db25uZWN0KCksdGhpcy5zZXNzaW9ufXNldERlZmF1bHRDaGFpbihlLHQpe3RyeXtpZighdGhpcy5zZXNzaW9uKXJldHVybjtjb25zdFtpLG5dPXRoaXMudmFsaWRhdGVDaGFpbihlKTt0aGlzLmdldFByb3ZpZGVyKGkpLnNldERlZmF1bHRDaGFpbihuLHQpfWNhdGNoKGkpe2lmKCEvUGxlYXNlIGNhbGwgY29ubmVjdC8udGVzdChpLm1lc3NhZ2UpKXRocm93IGl9fWFzeW5jIGNsZWFudXBQZW5kaW5nUGFpcmluZ3MoZT17fSl7dHJ5e3RoaXMubG9nZ2VyLmluZm8oXCJDbGVhbmluZyB1cCBpbmFjdGl2ZSBwYWlyaW5ncy4uLlwiKTtjb25zdCB0PXRoaXMuY2xpZW50LnBhaXJpbmcuZ2V0QWxsKCk7aWYoIVcodCkpcmV0dXJuO2Zvcihjb25zdCBpIG9mIHQpZS5kZWxldGVQYWlyaW5ncz90aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KGkudG9waWMsMCk6YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZXIudW5zdWJzY3JpYmUoaS50b3BpYyk7dGhpcy5sb2dnZXIuaW5mbyhgSW5hY3RpdmUgcGFpcmluZ3MgY2xlYXJlZDogJHt0Lmxlbmd0aH1gKX1jYXRjaCh0KXt0aGlzLmxvZ2dlci53YXJuKFwiRmFpbGVkIHRvIGNsZWFudXAgcGVuZGluZyBwYWlyaW5nc1wiLHQpfX1hYm9ydFBhaXJpbmdBdHRlbXB0KCl7dGhpcy5sb2dnZXIud2FybihcImFib3J0UGFpcmluZ0F0dGVtcHQgaXMgZGVwcmVjYXRlZC4gVGhpcyBpcyBub3cgYSBuby1vcC5cIil9YXN5bmMgY2hlY2tTdG9yYWdlKCl7dGhpcy5uYW1lc3BhY2VzPWF3YWl0IHRoaXMuZ2V0RnJvbVN0b3JlKFwibmFtZXNwYWNlc1wiKXx8e30sdGhpcy5vcHRpb25hbE5hbWVzcGFjZXM9YXdhaXQgdGhpcy5nZXRGcm9tU3RvcmUoXCJvcHRpb25hbE5hbWVzcGFjZXNcIil8fHt9LHRoaXMuc2Vzc2lvbiYmdGhpcy5jcmVhdGVQcm92aWRlcnMoKX1hc3luYyBpbml0aWFsaXplKCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLmNyZWF0ZUNsaWVudCgpLGF3YWl0IHRoaXMuY2hlY2tTdG9yYWdlKCksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl9YXN5bmMgY3JlYXRlQ2xpZW50KCl7dmFyIGUsdDtpZih0aGlzLmNsaWVudD10aGlzLnByb3ZpZGVyT3B0cy5jbGllbnR8fGF3YWl0IExlLmluaXQoe2NvcmU6dGhpcy5wcm92aWRlck9wdHMuY29yZSxsb2dnZXI6dGhpcy5wcm92aWRlck9wdHMubG9nZ2VyfHxwZSxyZWxheVVybDp0aGlzLnByb3ZpZGVyT3B0cy5yZWxheVVybHx8V2UscHJvamVjdElkOnRoaXMucHJvdmlkZXJPcHRzLnByb2plY3RJZCxtZXRhZGF0YTp0aGlzLnByb3ZpZGVyT3B0cy5tZXRhZGF0YSxzdG9yYWdlT3B0aW9uczp0aGlzLnByb3ZpZGVyT3B0cy5zdG9yYWdlT3B0aW9ucyxzdG9yYWdlOnRoaXMucHJvdmlkZXJPcHRzLnN0b3JhZ2UsbmFtZTp0aGlzLnByb3ZpZGVyT3B0cy5uYW1lLGN1c3RvbVN0b3JhZ2VQcmVmaXg6dGhpcy5wcm92aWRlck9wdHMuY3VzdG9tU3RvcmFnZVByZWZpeCx0ZWxlbWV0cnlFbmFibGVkOnRoaXMucHJvdmlkZXJPcHRzLnRlbGVtZXRyeUVuYWJsZWR9KSx0aGlzLnByb3ZpZGVyT3B0cy5zZXNzaW9uKXRyeXt0aGlzLnNlc3Npb249dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodGhpcy5wcm92aWRlck9wdHMuc2Vzc2lvbi50b3BpYyl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHNlc3Npb25cIixpKSxuZXcgRXJyb3IoYFRoZSBwcm92aWRlZCBzZXNzaW9uOiAkeyh0PShlPXRoaXMucHJvdmlkZXJPcHRzKT09bnVsbD92b2lkIDA6ZS5zZXNzaW9uKT09bnVsbD92b2lkIDA6dC50b3BpY30gZG9lc24ndCBleGlzdCBpbiB0aGUgU2lnbiBjbGllbnRgKX1lbHNle2NvbnN0IGk9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKTt0aGlzLnNlc3Npb249aVswXX10aGlzLmxvZ2dlci50cmFjZShcIlNpZ25DbGllbnQgSW5pdGlhbGl6ZWRcIil9Y3JlYXRlUHJvdmlkZXJzKCl7aWYoIXRoaXMuY2xpZW50KXRocm93IG5ldyBFcnJvcihcIlNpZ24gQ2xpZW50IG5vdCBpbml0aWFsaXplZFwiKTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gbm90IGluaXRpYWxpemVkLiBQbGVhc2UgY2FsbCBjb25uZWN0KCkgYmVmb3JlIGVuYWJsZSgpXCIpO2NvbnN0IGU9Wy4uLm5ldyBTZXQoT2JqZWN0LmtleXModGhpcy5zZXNzaW9uLm5hbWVzcGFjZXMpLm1hcCh0PT5GKHQpKSldO1goXCJjbGllbnRcIix0aGlzLmNsaWVudCksWChcImV2ZW50c1wiLHRoaXMuZXZlbnRzKSxYKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiLHRoaXMuZGlzYWJsZVByb3ZpZGVyUGluZyksZS5mb3JFYWNoKHQ9PntpZighdGhpcy5zZXNzaW9uKXJldHVybjtjb25zdCBpPU50KHQsdGhpcy5zZXNzaW9uKTtpZihpPy5sZW5ndGg9PT0wKXJldHVybjtjb25zdCBuPU9lKGkpLGE9Qih0aGlzLm5hbWVzcGFjZXMsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXMpLHI9aWUoRyh7fSxhW3RdKSx7YWNjb3VudHM6aSxjaGFpbnM6bn0pO3N3aXRjaCh0KXtjYXNlXCJlaXAxNTVcIjp0aGlzLnJwY1Byb3ZpZGVyc1t0XT1uZXcgb3Moe25hbWVzcGFjZTpyfSk7YnJlYWs7Y2FzZVwiYWxnb3JhbmRcIjp0aGlzLnJwY1Byb3ZpZGVyc1t0XT1uZXcgZ3Moe25hbWVzcGFjZTpyfSk7YnJlYWs7Y2FzZVwic29sYW5hXCI6dGhpcy5ycGNQcm92aWRlcnNbdF09bmV3IGRzKHtuYW1lc3BhY2U6cn0pO2JyZWFrO2Nhc2VcImNvc21vc1wiOnRoaXMucnBjUHJvdmlkZXJzW3RdPW5ldyBmcyh7bmFtZXNwYWNlOnJ9KTticmVhaztjYXNlXCJwb2xrYWRvdFwiOnRoaXMucnBjUHJvdmlkZXJzW3RdPW5ldyBzcyh7bmFtZXNwYWNlOnJ9KTticmVhaztjYXNlXCJjaXAzNFwiOnRoaXMucnBjUHJvdmlkZXJzW3RdPW5ldyB5cyh7bmFtZXNwYWNlOnJ9KTticmVhaztjYXNlXCJlbHJvbmRcIjp0aGlzLnJwY1Byb3ZpZGVyc1t0XT1uZXcgJHMoe25hbWVzcGFjZTpyfSk7YnJlYWs7Y2FzZVwibXVsdGl2ZXJzeFwiOnRoaXMucnBjUHJvdmlkZXJzW3RdPW5ldyBBcyh7bmFtZXNwYWNlOnJ9KTticmVhaztjYXNlXCJuZWFyXCI6dGhpcy5ycGNQcm92aWRlcnNbdF09bmV3IFNzKHtuYW1lc3BhY2U6cn0pO2JyZWFrO2Nhc2VcInRlem9zXCI6dGhpcy5ycGNQcm92aWRlcnNbdF09bmV3IERzKHtuYW1lc3BhY2U6cn0pO2JyZWFrO2RlZmF1bHQ6dGhpcy5ycGNQcm92aWRlcnNbdF09bmV3IF9zKHtuYW1lc3BhY2U6cn0pfX0pfXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXtpZih0eXBlb2YgdGhpcy5jbGllbnQ+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgaXMgbm90IGluaXRpYWxpemVkXCIpO3RoaXMuY2xpZW50Lm9uKFwic2Vzc2lvbl9waW5nXCIsZT0+e3ZhciB0O2NvbnN0e3RvcGljOml9PWU7aT09PSgodD10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDp0LnRvcGljKSYmdGhpcy5ldmVudHMuZW1pdChcInNlc3Npb25fcGluZ1wiLGUpfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX2V2ZW50XCIsZT0+e3ZhciB0O2NvbnN0e3BhcmFtczppLHRvcGljOm59PWU7aWYobiE9PSgodD10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDp0LnRvcGljKSlyZXR1cm47Y29uc3R7ZXZlbnQ6YX09aTtpZihhLm5hbWU9PT1cImFjY291bnRzQ2hhbmdlZFwiKXtjb25zdCByPWEuZGF0YTtyJiZXKHIpJiZ0aGlzLmV2ZW50cy5lbWl0KFwiYWNjb3VudHNDaGFuZ2VkXCIsci5tYXAoRWUpKX1lbHNlIGlmKGEubmFtZT09PVwiY2hhaW5DaGFuZ2VkXCIpe2NvbnN0IHI9aS5jaGFpbklkLGM9aS5ldmVudC5kYXRhLG89RihyKSxkPVkocikhPT1ZKGMpP2Ake299OiR7WShjKX1gOnI7dGhpcy5vbkNoYWluQ2hhbmdlZChkKX1lbHNlIHRoaXMuZXZlbnRzLmVtaXQoYS5uYW1lLGEuZGF0YSk7dGhpcy5ldmVudHMuZW1pdChcInNlc3Npb25fZXZlbnRcIixlKX0pLHRoaXMuY2xpZW50Lm9uKFwic2Vzc2lvbl91cGRhdGVcIiwoe3RvcGljOmUscGFyYW1zOnR9KT0+e3ZhciBpLG47aWYoZSE9PSgoaT10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDppLnRvcGljKSlyZXR1cm47Y29uc3R7bmFtZXNwYWNlczphfT10LHI9KG49dGhpcy5jbGllbnQpPT1udWxsP3ZvaWQgMDpuLnNlc3Npb24uZ2V0KGUpO3RoaXMuc2Vzc2lvbj1pZShHKHt9LHIpLHtuYW1lc3BhY2VzOmF9KSx0aGlzLm9uU2Vzc2lvblVwZGF0ZSgpLHRoaXMuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3VwZGF0ZVwiLHt0b3BpYzplLHBhcmFtczp0fSl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fZGVsZXRlXCIsYXN5bmMgZT0+e3ZhciB0O2UudG9waWM9PT0oKHQ9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6dC50b3BpYykmJihhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9kZWxldGVcIixlKSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzY29ubmVjdFwiLGllKEcoe30sb2UoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSkse2RhdGE6ZS50b3BpY30pKSl9KSx0aGlzLm9uKG0uREVGQVVMVF9DSEFJTl9DSEFOR0VELGU9Pnt0aGlzLm9uQ2hhaW5DaGFuZ2VkKGUsITApfSl9Z2V0UHJvdmlkZXIoZSl7cmV0dXJuIHRoaXMucnBjUHJvdmlkZXJzW2VdfHx0aGlzLnJwY1Byb3ZpZGVyc1t1ZV19b25TZXNzaW9uVXBkYXRlKCl7T2JqZWN0LmtleXModGhpcy5ycGNQcm92aWRlcnMpLmZvckVhY2goZT0+e3ZhciB0O3RoaXMuZ2V0UHJvdmlkZXIoZSkudXBkYXRlTmFtZXNwYWNlKCh0PXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnQubmFtZXNwYWNlc1tlXSl9KX1zZXROYW1lc3BhY2VzKGUpe2NvbnN0e25hbWVzcGFjZXM6dD17fSxvcHRpb25hbE5hbWVzcGFjZXM6aT17fSxzZXNzaW9uUHJvcGVydGllczpuLHNjb3BlZFByb3BlcnRpZXM6YX09ZTt0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcz1CKHQsaSksdGhpcy5zZXNzaW9uUHJvcGVydGllcz1uLHRoaXMuc2NvcGVkUHJvcGVydGllcz1hfXZhbGlkYXRlQ2hhaW4oZSl7Y29uc3RbdCxpXT1lPy5zcGxpdChcIjpcIil8fFtcIlwiLFwiXCJdO2lmKCF0aGlzLm5hbWVzcGFjZXN8fCFPYmplY3Qua2V5cyh0aGlzLm5hbWVzcGFjZXMpLmxlbmd0aClyZXR1cm5bdCxpXTtpZih0JiYhT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzfHx7fSkubWFwKHI9PkYocikpLmluY2x1ZGVzKHQpKXRocm93IG5ldyBFcnJvcihgTmFtZXNwYWNlICcke3R9JyBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIGNhbGwgY29ubmVjdCgpIGZpcnN0IHdpdGggbmFtZXNwYWNlIGNvbmZpZy5gKTtpZih0JiZpKXJldHVyblt0LGldO2NvbnN0IG49RihPYmplY3Qua2V5cyh0aGlzLm5hbWVzcGFjZXMpWzBdKSxhPXRoaXMucnBjUHJvdmlkZXJzW25dLmdldERlZmF1bHRDaGFpbigpO3JldHVybltuLGFdfWFzeW5jIHJlcXVlc3RBY2NvdW50cygpe2NvbnN0W2VdPXRoaXMudmFsaWRhdGVDaGFpbigpO3JldHVybiBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKGUpLnJlcXVlc3RBY2NvdW50cygpfWFzeW5jIG9uQ2hhaW5DaGFuZ2VkKGUsdD0hMSl7aWYoIXRoaXMubmFtZXNwYWNlcylyZXR1cm47Y29uc3RbaSxuXT10aGlzLnZhbGlkYXRlQ2hhaW4oZSk7aWYoIW4pcmV0dXJuO3RoaXMudXBkYXRlTmFtZXNwYWNlQ2hhaW4oaSxuKTtjb25zdCBhPXRoaXMuZ2V0UHJvdmlkZXIoaSkuZ2V0RGVmYXVsdENoYWluKCk7dD8odGhpcy5ldmVudHMuZW1pdChcImNoYWluQ2hhbmdlZFwiLG4pLHRoaXMuZW1pdEFjY291bnRzQ2hhbmdlZE9uQ2hhaW5DaGFuZ2Uoe25hbWVzcGFjZTppLHByZXZpb3VzQ2hhaW5JZDphLG5ld0NoYWluSWQ6ZX0pKTp0aGlzLmdldFByb3ZpZGVyKGkpLnNldERlZmF1bHRDaGFpbihuKSxhd2FpdCB0aGlzLnBlcnNpc3QoXCJuYW1lc3BhY2VzXCIsdGhpcy5uYW1lc3BhY2VzKX1lbWl0QWNjb3VudHNDaGFuZ2VkT25DaGFpbkNoYW5nZSh7bmFtZXNwYWNlOmUscHJldmlvdXNDaGFpbklkOnQsbmV3Q2hhaW5JZDppfSl7dmFyIG4sYTt0cnl7aWYodD09PWkpcmV0dXJuO2NvbnN0IHI9KGE9KG49dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6bi5uYW1lc3BhY2VzW2VdKT09bnVsbD92b2lkIDA6YS5hY2NvdW50cztpZighcilyZXR1cm47Y29uc3QgYz1yLmZpbHRlcihvPT5vLmluY2x1ZGVzKGAke2l9OmApKS5tYXAoRWUpO2lmKCFXKGMpKXJldHVybjt0aGlzLmV2ZW50cy5lbWl0KFwiYWNjb3VudHNDaGFuZ2VkXCIsYyl9Y2F0Y2gocil7dGhpcy5sb2dnZXIud2FybihcIkZhaWxlZCB0byBlbWl0IGFjY291bnRzQ2hhbmdlZCBvbiBjaGFpbiBjaGFuZ2VcIixyKX19dXBkYXRlTmFtZXNwYWNlQ2hhaW4oZSx0KXtpZighdGhpcy5uYW1lc3BhY2VzKXJldHVybjtjb25zdCBpPXRoaXMubmFtZXNwYWNlc1tlXT9lOmAke2V9OiR7dH1gLG49e2NoYWluczpbXSxtZXRob2RzOltdLGV2ZW50czpbXSxkZWZhdWx0Q2hhaW46dH07dGhpcy5uYW1lc3BhY2VzW2ldP3RoaXMubmFtZXNwYWNlc1tpXSYmKHRoaXMubmFtZXNwYWNlc1tpXS5kZWZhdWx0Q2hhaW49dCk6dGhpcy5uYW1lc3BhY2VzW2ldPW59b25Db25uZWN0KCl7dGhpcy5jcmVhdGVQcm92aWRlcnMoKSx0aGlzLmV2ZW50cy5lbWl0KFwiY29ubmVjdFwiLHtzZXNzaW9uOnRoaXMuc2Vzc2lvbn0pfWFzeW5jIGNsZWFudXAoKXt0aGlzLm5hbWVzcGFjZXM9dm9pZCAwLHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzPXZvaWQgMCx0aGlzLnNlc3Npb25Qcm9wZXJ0aWVzPXZvaWQgMCxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcIm5hbWVzcGFjZXNcIiksYXdhaXQgdGhpcy5kZWxldGVGcm9tU3RvcmUoXCJvcHRpb25hbE5hbWVzcGFjZXNcIiksYXdhaXQgdGhpcy5kZWxldGVGcm9tU3RvcmUoXCJzZXNzaW9uUHJvcGVydGllc1wiKSx0aGlzLnNlc3Npb249dm9pZCAwLHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncyh7ZGVsZXRlUGFpcmluZ3M6ITB9KSxhd2FpdCB0aGlzLmNsZWFudXBTdG9yYWdlKCl9YXN5bmMgcGVyc2lzdChlLHQpe3ZhciBpO2NvbnN0IG49KChpPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmkudG9waWMpfHxcIlwiO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5zZXRJdGVtKGAke3h9LyR7ZX0ke259YCx0KX1hc3luYyBnZXRGcm9tU3RvcmUoZSl7dmFyIHQ7Y29uc3QgaT0oKHQ9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6dC50b3BpYyl8fFwiXCI7cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5nZXRJdGVtKGAke3h9LyR7ZX0ke2l9YCl9YXN5bmMgZGVsZXRlRnJvbVN0b3JlKGUpe3ZhciB0O2NvbnN0IGk9KCh0PXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnQudG9waWMpfHxcIlwiO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5yZW1vdmVJdGVtKGAke3h9LyR7ZX0ke2l9YCl9YXN5bmMgY2xlYW51cFN0b3JhZ2UoKXt2YXIgZTt0cnl7aWYoKChlPXRoaXMuY2xpZW50KT09bnVsbD92b2lkIDA6ZS5zZXNzaW9uLmxlbmd0aCk+MClyZXR1cm47Y29uc3QgdD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UuZ2V0S2V5cygpO2Zvcihjb25zdCBpIG9mIHQpaS5zdGFydHNXaXRoKHgpJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UucmVtb3ZlSXRlbShpKX1jYXRjaCh0KXt0aGlzLmxvZ2dlci53YXJuKFwiRmFpbGVkIHRvIGNsZWFudXAgc3RvcmFnZVwiLHQpfX19Y29uc3QgQnM9SjtleHBvcnR7QnMgYXMgVW5pdmVyc2FsUHJvdmlkZXIsSiBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/dist/index.es.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE10: () => (/* binding */ $n),\n/* harmony export */   BASE16: () => (/* binding */ tt),\n/* harmony export */   BASE64: () => (/* binding */ Qt),\n/* harmony export */   BASE64URL: () => (/* binding */ De),\n/* harmony export */   COLON: () => (/* binding */ Hs),\n/* harmony export */   DEFAULT_DEPTH: () => (/* binding */ We),\n/* harmony export */   EMPTY_SPACE: () => (/* binding */ Ee),\n/* harmony export */   ENV_MAP: () => (/* binding */ J),\n/* harmony export */   INTERNAL_ERRORS: () => (/* binding */ Qo),\n/* harmony export */   LimitedSet: () => (/* binding */ gi),\n/* harmony export */   MemoryStore: () => (/* binding */ Ha),\n/* harmony export */   ONE_THOUSAND: () => (/* binding */ Ds),\n/* harmony export */   REACT_NATIVE_PRODUCT: () => (/* binding */ er),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ Mo),\n/* harmony export */   SDK_ERRORS: () => (/* binding */ Jo),\n/* harmony export */   SDK_TYPE: () => (/* binding */ rr),\n/* harmony export */   SLASH: () => (/* binding */ nr),\n/* harmony export */   TYPE_0: () => (/* binding */ Cn),\n/* harmony export */   TYPE_1: () => (/* binding */ ee),\n/* harmony export */   TYPE_2: () => (/* binding */ ge),\n/* harmony export */   UTF8: () => (/* binding */ te),\n/* harmony export */   addResourceToRecap: () => (/* binding */ Yr),\n/* harmony export */   addSignatureToExtrinsic: () => (/* binding */ bs),\n/* harmony export */   appendToQueryString: () => (/* binding */ or),\n/* harmony export */   assertType: () => (/* binding */ Zs),\n/* harmony export */   assignAbilityToActions: () => (/* binding */ hn),\n/* harmony export */   base64Decode: () => (/* binding */ Zr),\n/* harmony export */   base64Encode: () => (/* binding */ Gr),\n/* harmony export */   buildApprovedNamespaces: () => (/* binding */ pa),\n/* harmony export */   buildAuthObject: () => (/* binding */ mf),\n/* harmony export */   buildNamespacesFromAuth: () => (/* binding */ ga),\n/* harmony export */   buildRecapStatement: () => (/* binding */ Jr),\n/* harmony export */   buildSignedExtrinsicHash: () => (/* binding */ Ka),\n/* harmony export */   calcExpiry: () => (/* binding */ ii),\n/* harmony export */   capitalize: () => (/* binding */ ti),\n/* harmony export */   capitalizeWord: () => (/* binding */ lr),\n/* harmony export */   createDelayedPromise: () => (/* binding */ ei),\n/* harmony export */   createEncodedRecap: () => (/* binding */ Ef),\n/* harmony export */   createExpiringPromise: () => (/* binding */ ni),\n/* harmony export */   createRecap: () => (/* binding */ Wr),\n/* harmony export */   decodeRecap: () => (/* binding */ Lt),\n/* harmony export */   decodeTypeByte: () => (/* binding */ Vt),\n/* harmony export */   decodeTypeTwoEnvelope: () => (/* binding */ Yc),\n/* harmony export */   decrypt: () => (/* binding */ Zc),\n/* harmony export */   deriveExtrinsicHash: () => (/* binding */ ys),\n/* harmony export */   deriveSymKey: () => (/* binding */ Kc),\n/* harmony export */   deserialize: () => (/* binding */ Me),\n/* harmony export */   encodeRecap: () => (/* binding */ Ne),\n/* harmony export */   encodeTypeByte: () => (/* binding */ jn),\n/* harmony export */   encodeTypeTwoEnvelope: () => (/* binding */ Wc),\n/* harmony export */   encrypt: () => (/* binding */ Gc),\n/* harmony export */   engineEvent: () => (/* binding */ ci),\n/* harmony export */   enumify: () => (/* binding */ Qs),\n/* harmony export */   extractSolanaTransactionId: () => (/* binding */ sf),\n/* harmony export */   formatAccountId: () => (/* binding */ Zn),\n/* harmony export */   formatAccountWithChain: () => (/* binding */ Os),\n/* harmony export */   formatChainId: () => (/* binding */ Gn),\n/* harmony export */   formatDeeplinkUrl: () => (/* binding */ dr),\n/* harmony export */   formatExpirerTarget: () => (/* binding */ Xe),\n/* harmony export */   formatIdTarget: () => (/* binding */ oi),\n/* harmony export */   formatMessage: () => (/* binding */ qr),\n/* harmony export */   formatMessageContext: () => (/* binding */ Ws),\n/* harmony export */   formatRelayParams: () => (/* binding */ Ko),\n/* harmony export */   formatRelayRpcUrl: () => (/* binding */ zs),\n/* harmony export */   formatStatementFromRecap: () => (/* binding */ gn),\n/* harmony export */   formatTopicTarget: () => (/* binding */ ri),\n/* harmony export */   formatUA: () => (/* binding */ cr),\n/* harmony export */   formatUri: () => (/* binding */ oa),\n/* harmony export */   fromBase64: () => (/* binding */ Qe),\n/* harmony export */   generateKeyPair: () => (/* binding */ Vc),\n/* harmony export */   generateRandomBytes32: () => (/* binding */ qc),\n/* harmony export */   getAccountsChains: () => (/* binding */ qt),\n/* harmony export */   getAccountsFromNamespaces: () => (/* binding */ _s),\n/* harmony export */   getAddressFromAccount: () => (/* binding */ Wn),\n/* harmony export */   getAddressesFromAccounts: () => (/* binding */ Us),\n/* harmony export */   getAlgorandTransactionId: () => (/* binding */ af),\n/* harmony export */   getAppId: () => (/* binding */ qs),\n/* harmony export */   getAppMetadata: () => (/* binding */ sr),\n/* harmony export */   getBrowserOnlineStatus: () => (/* binding */ us),\n/* harmony export */   getChainFromAccount: () => (/* binding */ Yn),\n/* harmony export */   getChainsFromAccounts: () => (/* binding */ Xn),\n/* harmony export */   getChainsFromNamespace: () => (/* binding */ ve),\n/* harmony export */   getChainsFromNamespaces: () => (/* binding */ Ts),\n/* harmony export */   getChainsFromRecap: () => (/* binding */ Af),\n/* harmony export */   getChainsFromRequiredNamespaces: () => (/* binding */ Rs),\n/* harmony export */   getCommonValuesInArrays: () => (/* binding */ Je),\n/* harmony export */   getCryptoKeyFromKeyData: () => (/* binding */ Do),\n/* harmony export */   getDecodedRecapFromResources: () => (/* binding */ Kr),\n/* harmony export */   getDeepLink: () => (/* binding */ ui),\n/* harmony export */   getDidAddress: () => (/* binding */ dn),\n/* harmony export */   getDidAddressSegments: () => (/* binding */ Se),\n/* harmony export */   getDidChainId: () => (/* binding */ Mr),\n/* harmony export */   getEnvironment: () => (/* binding */ Pt),\n/* harmony export */   getHttpUrl: () => (/* binding */ Gs),\n/* harmony export */   getInternalError: () => (/* binding */ Et),\n/* harmony export */   getJavascriptID: () => (/* binding */ fr),\n/* harmony export */   getJavascriptOS: () => (/* binding */ ir),\n/* harmony export */   getLastItems: () => (/* binding */ ur),\n/* harmony export */   getLinkModeURL: () => (/* binding */ sa),\n/* harmony export */   getMethodsFromRecap: () => (/* binding */ If),\n/* harmony export */   getNamespacedDidChainId: () => (/* binding */ Vr),\n/* harmony export */   getNamespacesChains: () => (/* binding */ Go),\n/* harmony export */   getNamespacesEventsForChainId: () => (/* binding */ Wo),\n/* harmony export */   getNamespacesFromAccounts: () => (/* binding */ Xo),\n/* harmony export */   getNamespacesMethodsForChainId: () => (/* binding */ Zo),\n/* harmony export */   getNearTransactionIdFromSignedTransaction: () => (/* binding */ cf),\n/* harmony export */   getNearUint8ArrayFromBytes: () => (/* binding */ kr),\n/* harmony export */   getNodeOnlineStatus: () => (/* binding */ ds),\n/* harmony export */   getReCapActions: () => (/* binding */ zr),\n/* harmony export */   getReactNativeOnlineStatus: () => (/* binding */ ls),\n/* harmony export */   getRecapAbilitiesFromResource: () => (/* binding */ vf),\n/* harmony export */   getRecapFromResources: () => (/* binding */ Oe),\n/* harmony export */   getRecapResource: () => (/* binding */ Fr),\n/* harmony export */   getRelayClientMetadata: () => (/* binding */ Fs),\n/* harmony export */   getRelayProtocolApi: () => (/* binding */ na),\n/* harmony export */   getRelayProtocolName: () => (/* binding */ ea),\n/* harmony export */   getRequiredNamespacesFromNamespaces: () => (/* binding */ ha),\n/* harmony export */   getSdkError: () => (/* binding */ Kt),\n/* harmony export */   getSearchParamFromURL: () => (/* binding */ li),\n/* harmony export */   getSignDirectHash: () => (/* binding */ uf),\n/* harmony export */   getSuiDigest: () => (/* binding */ ff),\n/* harmony export */   getUniqueValues: () => (/* binding */ Ge),\n/* harmony export */   handleDeeplinkRedirect: () => (/* binding */ ai),\n/* harmony export */   hasOverlap: () => (/* binding */ It),\n/* harmony export */   hashEthereumMessage: () => (/* binding */ an),\n/* harmony export */   hashKey: () => (/* binding */ Fc),\n/* harmony export */   hashMessage: () => (/* binding */ zc),\n/* harmony export */   isAndroid: () => (/* binding */ Ms),\n/* harmony export */   isAppVisible: () => (/* binding */ Pa),\n/* harmony export */   isBrowser: () => (/* binding */ zt),\n/* harmony export */   isCaipNamespace: () => (/* binding */ Pn),\n/* harmony export */   isConformingNamespaces: () => (/* binding */ cs),\n/* harmony export */   isExpired: () => (/* binding */ fi),\n/* harmony export */   isIframe: () => (/* binding */ gr),\n/* harmony export */   isIos: () => (/* binding */ Vs),\n/* harmony export */   isNode: () => (/* binding */ Ye),\n/* harmony export */   isOnline: () => (/* binding */ ja),\n/* harmony export */   isProposalStruct: () => (/* binding */ wa),\n/* harmony export */   isReactNative: () => (/* binding */ Bt),\n/* harmony export */   isRecap: () => (/* binding */ pn),\n/* harmony export */   isSessionCompatible: () => (/* binding */ ya),\n/* harmony export */   isSessionStruct: () => (/* binding */ xa),\n/* harmony export */   isTelegram: () => (/* binding */ pr),\n/* harmony export */   isTestRun: () => (/* binding */ hi),\n/* harmony export */   isTypeOneEnvelope: () => (/* binding */ Jc),\n/* harmony export */   isTypeTwoEnvelope: () => (/* binding */ Qc),\n/* harmony export */   isUndefined: () => (/* binding */ kt),\n/* harmony export */   isValidAccountId: () => (/* binding */ ts),\n/* harmony export */   isValidAccounts: () => (/* binding */ rs),\n/* harmony export */   isValidActions: () => (/* binding */ ss),\n/* harmony export */   isValidArray: () => (/* binding */ me),\n/* harmony export */   isValidChainId: () => (/* binding */ we),\n/* harmony export */   isValidChains: () => (/* binding */ es),\n/* harmony export */   isValidController: () => (/* binding */ va),\n/* harmony export */   isValidEip1271Signature: () => (/* binding */ jr),\n/* harmony export */   isValidEip191Signature: () => (/* binding */ Lr),\n/* harmony export */   isValidErrorReason: () => (/* binding */ Sa),\n/* harmony export */   isValidEvent: () => (/* binding */ Ua),\n/* harmony export */   isValidId: () => (/* binding */ Ia),\n/* harmony export */   isValidNamespaceAccounts: () => (/* binding */ os),\n/* harmony export */   isValidNamespaceActions: () => (/* binding */ Dn),\n/* harmony export */   isValidNamespaceChains: () => (/* binding */ ns),\n/* harmony export */   isValidNamespaceMethodsOrEvents: () => (/* binding */ Hn),\n/* harmony export */   isValidNamespaces: () => (/* binding */ is),\n/* harmony export */   isValidNamespacesChainId: () => (/* binding */ _a),\n/* harmony export */   isValidNamespacesEvent: () => (/* binding */ Ra),\n/* harmony export */   isValidNamespacesRequest: () => (/* binding */ Ta),\n/* harmony export */   isValidNumber: () => (/* binding */ qe),\n/* harmony export */   isValidObject: () => (/* binding */ Ve),\n/* harmony export */   isValidParams: () => (/* binding */ Aa),\n/* harmony export */   isValidRecap: () => (/* binding */ bt),\n/* harmony export */   isValidRelay: () => (/* binding */ fs),\n/* harmony export */   isValidRelays: () => (/* binding */ Ba),\n/* harmony export */   isValidRequest: () => (/* binding */ Na),\n/* harmony export */   isValidRequestExpiry: () => (/* binding */ La),\n/* harmony export */   isValidRequiredNamespaces: () => (/* binding */ Ea),\n/* harmony export */   isValidResponse: () => (/* binding */ Oa),\n/* harmony export */   isValidString: () => (/* binding */ it),\n/* harmony export */   isValidUrl: () => (/* binding */ ma),\n/* harmony export */   mapEntries: () => (/* binding */ Js),\n/* harmony export */   mapToObj: () => (/* binding */ Ys),\n/* harmony export */   mergeArrays: () => (/* binding */ ct),\n/* harmony export */   mergeEncodedRecaps: () => (/* binding */ Bf),\n/* harmony export */   mergeRecaps: () => (/* binding */ Xr),\n/* harmony export */   mergeRequiredAndOptionalNamespaces: () => (/* binding */ ba),\n/* harmony export */   normalizeNamespaces: () => (/* binding */ ye),\n/* harmony export */   objToMap: () => (/* binding */ Xs),\n/* harmony export */   openDeeplink: () => (/* binding */ hr),\n/* harmony export */   parseAccountId: () => (/* binding */ ze),\n/* harmony export */   parseChainId: () => (/* binding */ Fe),\n/* harmony export */   parseContextNames: () => (/* binding */ ar),\n/* harmony export */   parseExpirerTarget: () => (/* binding */ si),\n/* harmony export */   parseNamespaceKey: () => (/* binding */ Yo),\n/* harmony export */   parseRelayParams: () => (/* binding */ Vo),\n/* harmony export */   parseTopic: () => (/* binding */ qo),\n/* harmony export */   parseUri: () => (/* binding */ ra),\n/* harmony export */   populateAppMetadata: () => (/* binding */ Ks),\n/* harmony export */   populateAuthPayload: () => (/* binding */ wf),\n/* harmony export */   recapHasResource: () => (/* binding */ xf),\n/* harmony export */   serialize: () => (/* binding */ kn),\n/* harmony export */   sleep: () => (/* binding */ pi),\n/* harmony export */   ss58AddressToPublicKey: () => (/* binding */ gs),\n/* harmony export */   subscribeToBrowserNetworkChange: () => (/* binding */ hs),\n/* harmony export */   subscribeToNetworkChange: () => (/* binding */ ka),\n/* harmony export */   subscribeToReactNativeNetworkChange: () => (/* binding */ ps),\n/* harmony export */   toBase64: () => (/* binding */ br),\n/* harmony export */   uuidv4: () => (/* binding */ di),\n/* harmony export */   validateDecoding: () => (/* binding */ Xc),\n/* harmony export */   validateEncoding: () => (/* binding */ Ho),\n/* harmony export */   validateSignedCacao: () => (/* binding */ yf),\n/* harmony export */   verifyP256Jwt: () => (/* binding */ ta),\n/* harmony export */   verifySignature: () => (/* binding */ Cr)\n/* harmony export */ });\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! detect-browser */ \"(ssr)/./node_modules/detect-browser/es/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/window-metadata */ \"(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bs58 */ \"(ssr)/./node_modules/bs58/src/esm/index.js\");\n/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @msgpack/msgpack */ \"(ssr)/./node_modules/@msgpack/msgpack/dist.esm/decode.mjs\");\n/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @msgpack/msgpack */ \"(ssr)/./node_modules/@msgpack/msgpack/dist.esm/encode.mjs\");\n/* harmony import */ var _scure_base__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @scure/base */ \"(ssr)/./node_modules/@scure/base/lib/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-api */ \"(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js\");\n/* harmony import */ var blakejs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! blakejs */ \"(ssr)/./node_modules/blakejs/index.js\");\n/* harmony import */ var blakejs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(blakejs__WEBPACK_IMPORTED_MODULE_7__);\nconst xe=\":\";function Fe(t){const[e,n]=t.split(xe);return{namespace:e,reference:n}}function Gn(t){const{namespace:e,reference:n}=t;return[e,n].join(xe)}function ze(t){const[e,n,r]=t.split(xe);return{namespace:e,reference:n,address:r}}function Zn(t){const{namespace:e,reference:n,address:r}=t;return[e,n,r].join(xe)}function Ge(t,e){const n=[];return t.forEach(r=>{const o=e(r);n.includes(o)||n.push(o)}),n}function Wn(t){const{address:e}=ze(t);return e}function Yn(t){const{namespace:e,reference:n}=ze(t);return Gn({namespace:e,reference:n})}function Os(t,e){const{namespace:n,reference:r}=Fe(e);return Zn({namespace:n,reference:r,address:t})}function Us(t){return Ge(t,Wn)}function Xn(t){return Ge(t,Yn)}function _s(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...o.accounts)}),n}function Ts(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...Xn(o.accounts))}),n}function Rs(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...ve(r,o))}),n}function ve(t,e){return t.includes(\":\")?[t]:e.chains||[]}var $s=Object.defineProperty,Cs=Object.defineProperties,Ls=Object.getOwnPropertyDescriptors,Jn=Object.getOwnPropertySymbols,js=Object.prototype.hasOwnProperty,ks=Object.prototype.propertyIsEnumerable,Ze=(t,e,n)=>e in t?$s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qn=(t,e)=>{for(var n in e||(e={}))js.call(e,n)&&Ze(t,n,e[n]);if(Jn)for(var n of Jn(e))ks.call(e,n)&&Ze(t,n,e[n]);return t},Ps=(t,e)=>Cs(t,Ls(e)),tr=(t,e,n)=>Ze(t,typeof e!=\"symbol\"?e+\"\":e,n);const er=\"ReactNative\",J={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},Ee=\" \",Hs=\":\",nr=\"/\",We=2,Ds=1e3,rr=\"js\";function Ye(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function Bt(){return!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&navigator.product===er}function Ms(){return Bt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function Vs(){return Bt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function zt(){return!Ye()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()}function Pt(){return Bt()?J.reactNative:Ye()?J.node:zt()?J.browser:J.unknown}function qs(){var t;try{return Bt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function or(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const o=e[r];o!==void 0&&n.set(r,o)}return n.toString()}function Ks(t){var e,n;const r=sr();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(o=>o!==\"\")),Ps(Qn(Qn({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(o){return console.warn(\"Error populating app metadata\",o),t||r}}function sr(){return (0,_walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__.getWindowMetadata)()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function Fs(t,e){var n;const r=Pt(),o={protocol:t,version:e,env:r};return r===\"browser\"&&(o.host=((n=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:n.host)||\"unknown\"),o}function ir(){if(Pt()===J.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const t=(0,detect_browser__WEBPACK_IMPORTED_MODULE_8__.detect)();if(t===null)return\"unknown\";const e=t.os?t.os.replace(\" \",\"\").toLowerCase():\"unknown\";return t.type===\"browser\"?[e,t.name,t.version].join(\"-\"):[e,t.version].join(\"-\")}function fr(){var t;const e=Pt();return e===J.browser?[e,((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:t.host)||\"unknown\"].join(\":\"):e}function cr(t,e,n){const r=ir(),o=fr();return[[t,e].join(\"-\"),[rr,n].join(\"-\"),r,o].join(\"/\")}function zs({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:o,projectId:s,useOnCloseEvent:i,bundleId:f,packageName:a}){const l=n.split(\"?\"),c=cr(t,e,r),u={auth:o,ua:c,projectId:s,useOnCloseEvent:i||void 0,packageName:a||void 0,bundleId:f||void 0},h=or(l[1]||\"\",u);return l[0]+\"?\"+h}function Gs(t){let e=(t.match(/^[^:]+(?=:\\/\\/)/gi)||[])[0];const n=typeof e<\"u\"?t.split(\"://\")[1]:t;return e=e===\"wss\"?\"https\":\"http\",[e,n].join(\"://\")}function Zs(t,e,n){if(!t[e]||typeof t[e]!==n)throw new Error(`Missing or invalid \"${e}\" param`)}function ar(t,e=We){return ur(t.split(nr),e)}function Ws(t){return ar(t).join(Ee)}function It(t,e){return t.filter(n=>e.includes(n)).length===t.length}function ur(t,e=We){return t.slice(Math.max(t.length-e,0))}function Ys(t){return Object.fromEntries(t.entries())}function Xs(t){return new Map(Object.entries(t))}function Js(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}const Qs=t=>t;function lr(t){return t.trim().replace(/^\\w/,e=>e.toUpperCase())}function ti(t){return t.split(Ee).map(e=>lr(e)).join(Ee)}function ei(t=_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES,e){const n=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t||_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES);let r,o,s,i;return{resolve:f=>{s&&r&&(clearTimeout(s),r(f),i=Promise.resolve(f))},reject:f=>{s&&o&&(clearTimeout(s),o(f))},done:()=>new Promise((f,a)=>{if(i)return f(i);s=setTimeout(()=>{const l=new Error(e);i=Promise.reject(l),a(l)},n),r=f,o=a})}}function ni(t,e,n){return new Promise(async(r,o)=>{const s=setTimeout(()=>o(new Error(n)),e);try{const i=await t;r(i)}catch(i){o(i)}clearTimeout(s)})}function Xe(t,e){if(typeof e==\"string\"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()===\"topic\"){if(typeof e!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()===\"id\"){if(typeof e!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function ri(t){return Xe(\"topic\",t)}function oi(t){return Xe(\"id\",t)}function si(t){const[e,n]=t.split(\":\"),r={id:void 0,topic:void 0};if(e===\"topic\"&&typeof n==\"string\")r.topic=n;else if(e===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function ii(t,e){return (0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)((e||Date.now())+(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t))}function fi(t){return Date.now()>=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t)}function ci(t,e){return`${t}${e?`:${e}`:\"\"}`}function ct(t=[],e=[]){return[...new Set([...t,...e])]}async function ai({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n==\"string\"?JSON.parse(n):n,s=o?.href;if(typeof s!=\"string\")return;const i=dr(s,t,e),f=Pt();if(f===J.browser){if(!((r=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}hr(i)}else f===J.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(i)}catch(o){console.error(o)}}function dr(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith(\"/\")&&(t=t.slice(0,-1));let o=`${t}`;if(t.startsWith(\"https://t.me\")){const s=t.includes(\"?\")?\"&startapp=\":\"?startapp=\";o=`${o}${s}${br(r,!0)}`}else o=`${o}/wc?${r}`;return o}function hr(t){let e=\"_self\";gr()?e=\"_top\":(pr()||t.startsWith(\"https://\")||t.startsWith(\"http://\"))&&(e=\"_blank\"),window.open(t,e,\"noreferrer noopener\")}async function ui(t,e){let n=\"\";try{if(zt()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function Je(t,e){return t.filter(n=>e.includes(n))}function li(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function di(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})}function hi(){return typeof process<\"u\"&&process.env.IS_VITEST===\"true\"}function pr(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gr(){try{return window.self!==window.top}catch{return!1}}function br(t,e=!1){const n=Buffer.from(t).toString(\"base64\");return e?n.replace(/[=]/g,\"\"):n}function Qe(t){return Buffer.from(t,\"base64\").toString(\"utf-8\")}function pi(t){return new Promise(e=>setTimeout(e,t))}class gi{constructor({limit:e}){tr(this,\"limit\"),tr(this,\"set\"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}}const Be=BigInt(2**32-1),yr=BigInt(32);function mr(t,e=!1){return e?{h:Number(t&Be),l:Number(t>>yr&Be)}:{h:Number(t>>yr&Be)|0,l:Number(t&Be)|0}}function wr(t,e=!1){const n=t.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let s=0;s<n;s++){const{h:i,l:f}=mr(t[s],e);[r[s],o[s]]=[i,f]}return[r,o]}const xr=(t,e,n)=>t>>>n,vr=(t,e,n)=>t<<32-n|e>>>n,At=(t,e,n)=>t>>>n|e<<32-n,St=(t,e,n)=>t<<32-n|e>>>n,se=(t,e,n)=>t<<64-n|e>>>n-32,ie=(t,e,n)=>t>>>n-32|e<<64-n,bi=(t,e)=>e,yi=(t,e)=>t,mi=(t,e,n)=>t<<n|e>>>32-n,wi=(t,e,n)=>e<<n|t>>>32-n,xi=(t,e,n)=>e<<n-32|t>>>64-n,vi=(t,e,n)=>t<<n-32|e>>>64-n;function dt(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const tn=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),en=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Ei=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Bi=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Ii=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Ai=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,Gt=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function nn(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function mt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function at(t,...e){if(!nn(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function rn(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.createHasher\");mt(t.outputLen),mt(t.blockLen)}function Nt(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function on(t,e){at(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function fe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ut(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function sn(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function gt(t,e){return t<<32-e|t>>>e}const Er=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Br(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const wt=Er?t=>t:t=>Br(t);function Si(t){for(let e=0;e<t.length;e++)t[e]=Br(t[e]);return t}const Ot=Er?t=>t:Si,Ir=typeof Uint8Array.from([]).toHex==\"function\"&&typeof Uint8Array.fromHex==\"function\",Ni=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function ce(t){if(at(t),Ir)return t.toHex();let e=\"\";for(let n=0;n<t.length;n++)e+=Ni[t[n]];return e}const xt={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ar(t){if(t>=xt._0&&t<=xt._9)return t-xt._0;if(t>=xt.A&&t<=xt.F)return t-(xt.A-10);if(t>=xt.a&&t<=xt.f)return t-(xt.a-10)}function fn(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);if(Ir)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const i=Ar(t.charCodeAt(s)),f=Ar(t.charCodeAt(s+1));if(i===void 0||f===void 0){const a=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+a+'\" at index '+s)}r[o]=i*16+f}return r}function Oi(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function ht(t){return typeof t==\"string\"&&(t=Oi(t)),at(t),t}function Ht(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];at(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}class Ie{}function ae(t){const e=r=>t().update(ht(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Ui(t){const e=(r,o)=>t(o).update(ht(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Zt(t=32){if(Gt&&typeof Gt.getRandomValues==\"function\")return Gt.getRandomValues(new Uint8Array(t));if(Gt&&typeof Gt.randomBytes==\"function\")return Uint8Array.from(Gt.randomBytes(t));throw new Error(\"crypto.getRandomValues must be defined\")}const _i=BigInt(0),ue=BigInt(1),Ti=BigInt(2),Ri=BigInt(7),$i=BigInt(256),Ci=BigInt(113),Sr=[],Nr=[],Or=[];for(let t=0,e=ue,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Sr.push(2*(5*r+n)),Nr.push((t+1)*(t+2)/2%64);let o=_i;for(let s=0;s<7;s++)e=(e<<ue^(e>>Ri)*Ci)%$i,e&Ti&&(o^=ue<<(ue<<BigInt(s))-ue);Or.push(o)}const Ur=wr(Or,!0),Li=Ur[0],ji=Ur[1],_r=(t,e,n)=>n>32?xi(t,e,n):mi(t,e,n),Tr=(t,e,n)=>n>32?vi(t,e,n):wi(t,e,n);function ki(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const f=(i+8)%10,a=(i+2)%10,l=n[a],c=n[a+1],u=_r(l,c,1)^n[f],h=Tr(l,c,1)^n[f+1];for(let g=0;g<50;g+=10)t[i+g]^=u,t[i+g+1]^=h}let o=t[2],s=t[3];for(let i=0;i<24;i++){const f=Nr[i],a=_r(o,s,f),l=Tr(o,s,f),c=Sr[i];o=t[c],s=t[c+1],t[c]=a,t[c+1]=l}for(let i=0;i<50;i+=10){for(let f=0;f<10;f++)n[f]=t[i+f];for(let f=0;f<10;f++)t[i+f]^=~n[(f+2)%10]&n[(f+4)%10]}t[0]^=Li[r],t[1]^=ji[r]}ut(n)}class qn extends Ie{constructor(e,n,r,o=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,mt(r),!(0<e&&e<200))throw new Error(\"only keccak-f1600 function is supported\");this.state=new Uint8Array(200),this.state32=fe(this.state)}clone(){return this._cloneInto()}keccak(){Ot(this.state32),ki(this.state32,this.rounds),Ot(this.state32),this.posOut=0,this.pos=0}update(e){Nt(this),e=ht(e),at(e);const{blockLen:n,state:r}=this,o=e.length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let f=0;f<i;f++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Nt(this,!1),at(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=e.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);e.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return mt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(on(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ut(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return e||(e=new qn(n,r,o,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=o,e.enableXOF=i,e.destroyed=this.destroyed,e}}const Pi=(t,e,n)=>ae(()=>new qn(e,t,n)),Hi=Pi(1,136,256/8);function Di(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),f=Number(n&s),a=r?4:0,l=r?0:4;t.setUint32(e+a,i,r),t.setUint32(e+l,f,r)}function Mi(t,e,n){return t&e^~t&n}function Vi(t,e,n){return t&e^t&n^e&n}class Rr extends Ie{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=sn(this.buffer)}update(e){Nt(this),e=ht(e),at(e);const{view:n,buffer:r,blockLen:o}=this,s=e.length;for(let i=0;i<s;){const f=Math.min(o-this.pos,s-i);if(f===o){const a=sn(e);for(;o<=s-i;i+=o)this.process(a,i);continue}r.set(e.subarray(i,i+f),this.pos),this.pos+=f,i+=f,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nt(this),on(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,ut(this.buffer.subarray(i)),this.padOffset>o-i&&(this.process(r,0),i=0);for(let u=i;u<o;u++)n[u]=0;Di(r,o-8,BigInt(this.length*8),s),this.process(r,0);const f=sn(e),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const l=a/4,c=this.get();if(l>c.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let u=0;u<l;u++)f.setUint32(4*u,c[u],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:f}=this;return e.destroyed=i,e.finished=s,e.length=o,e.pos=f,o%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ut=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),W=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Y=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),qi=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_t=new Uint32Array(64);class Ki extends Rr{constructor(e=32){super(64,e,8,!1),this.A=Ut[0]|0,this.B=Ut[1]|0,this.C=Ut[2]|0,this.D=Ut[3]|0,this.E=Ut[4]|0,this.F=Ut[5]|0,this.G=Ut[6]|0,this.H=Ut[7]|0}get(){const{A:e,B:n,C:r,D:o,E:s,F:i,G:f,H:a}=this;return[e,n,r,o,s,i,f,a]}set(e,n,r,o,s,i,f,a){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=f|0,this.H=a|0}process(e,n){for(let u=0;u<16;u++,n+=4)_t[u]=e.getUint32(n,!1);for(let u=16;u<64;u++){const h=_t[u-15],g=_t[u-2],w=gt(h,7)^gt(h,18)^h>>>3,y=gt(g,17)^gt(g,19)^g>>>10;_t[u]=y+_t[u-7]+w+_t[u-16]|0}let{A:r,B:o,C:s,D:i,E:f,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const h=gt(f,6)^gt(f,11)^gt(f,25),g=c+h+Mi(f,a,l)+qi[u]+_t[u]|0,y=(gt(r,2)^gt(r,13)^gt(r,22))+Vi(r,o,s)|0;c=l,l=a,a=f,f=i+g|0,i=s,s=o,o=r,r=g+y|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,f=f+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,o,s,i,f,a,l,c)}roundClean(){ut(_t)}destroy(){this.set(0,0,0,0,0,0,0,0),ut(this.buffer)}}const $r=wr([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(t=>BigInt(t))),Fi=$r[0],zi=$r[1],Tt=new Uint32Array(80),Rt=new Uint32Array(80);class cn extends Rr{constructor(e=64){super(128,e,16,!1),this.Ah=Y[0]|0,this.Al=Y[1]|0,this.Bh=Y[2]|0,this.Bl=Y[3]|0,this.Ch=Y[4]|0,this.Cl=Y[5]|0,this.Dh=Y[6]|0,this.Dl=Y[7]|0,this.Eh=Y[8]|0,this.El=Y[9]|0,this.Fh=Y[10]|0,this.Fl=Y[11]|0,this.Gh=Y[12]|0,this.Gl=Y[13]|0,this.Hh=Y[14]|0,this.Hl=Y[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:i,Dh:f,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:g,Gl:w,Hh:y,Hl:x}=this;return[e,n,r,o,s,i,f,a,l,c,u,h,g,w,y,x]}set(e,n,r,o,s,i,f,a,l,c,u,h,g,w,y,x){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=i|0,this.Dh=f|0,this.Dl=a|0,this.Eh=l|0,this.El=c|0,this.Fh=u|0,this.Fl=h|0,this.Gh=g|0,this.Gl=w|0,this.Hh=y|0,this.Hl=x|0}process(e,n){for(let L=0;L<16;L++,n+=4)Tt[L]=e.getUint32(n),Rt[L]=e.getUint32(n+=4);for(let L=16;L<80;L++){const V=Tt[L-15]|0,_=Rt[L-15]|0,k=At(V,_,1)^At(V,_,8)^xr(V,_,7),j=St(V,_,1)^St(V,_,8)^vr(V,_,7),$=Tt[L-2]|0,d=Rt[L-2]|0,m=At($,d,19)^se($,d,61)^xr($,d,6),p=St($,d,19)^ie($,d,61)^vr($,d,6),b=Ei(j,p,Rt[L-7],Rt[L-16]),v=Bi(b,k,m,Tt[L-7],Tt[L-16]);Tt[L]=v|0,Rt[L]=b|0}let{Ah:r,Al:o,Bh:s,Bl:i,Ch:f,Cl:a,Dh:l,Dl:c,Eh:u,El:h,Fh:g,Fl:w,Gh:y,Gl:x,Hh:R,Hl:M}=this;for(let L=0;L<80;L++){const V=At(u,h,14)^At(u,h,18)^se(u,h,41),_=St(u,h,14)^St(u,h,18)^ie(u,h,41),k=u&g^~u&y,j=h&w^~h&x,$=Ii(M,_,j,zi[L],Rt[L]),d=Ai($,R,V,k,Fi[L],Tt[L]),m=$|0,p=At(r,o,28)^se(r,o,34)^se(r,o,39),b=St(r,o,28)^ie(r,o,34)^ie(r,o,39),v=r&s^r&f^s&f,B=o&i^o&a^i&a;R=y|0,M=x|0,y=g|0,x=w|0,g=u|0,w=h|0,{h:u,l:h}=dt(l|0,c|0,d|0,m|0),l=f|0,c=a|0,f=s|0,a=i|0,s=r|0,i=o|0;const E=tn(m,b,B);r=en(E,d,p,v),o=E|0}({h:r,l:o}=dt(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:i}=dt(this.Bh|0,this.Bl|0,s|0,i|0),{h:f,l:a}=dt(this.Ch|0,this.Cl|0,f|0,a|0),{h:l,l:c}=dt(this.Dh|0,this.Dl|0,l|0,c|0),{h:u,l:h}=dt(this.Eh|0,this.El|0,u|0,h|0),{h:g,l:w}=dt(this.Fh|0,this.Fl|0,g|0,w|0),{h:y,l:x}=dt(this.Gh|0,this.Gl|0,y|0,x|0),{h:R,l:M}=dt(this.Hh|0,this.Hl|0,R|0,M|0),this.set(r,o,s,i,f,a,l,c,u,h,g,w,y,x,R,M)}roundClean(){ut(Tt,Rt)}destroy(){ut(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Gi extends cn{constructor(){super(48),this.Ah=W[0]|0,this.Al=W[1]|0,this.Bh=W[2]|0,this.Bl=W[3]|0,this.Ch=W[4]|0,this.Cl=W[5]|0,this.Dh=W[6]|0,this.Dl=W[7]|0,this.Eh=W[8]|0,this.El=W[9]|0,this.Fh=W[10]|0,this.Fl=W[11]|0,this.Gh=W[12]|0,this.Gl=W[13]|0,this.Hh=W[14]|0,this.Hl=W[15]|0}}const X=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Zi extends cn{constructor(){super(32),this.Ah=X[0]|0,this.Al=X[1]|0,this.Bh=X[2]|0,this.Bl=X[3]|0,this.Ch=X[4]|0,this.Cl=X[5]|0,this.Dh=X[6]|0,this.Dl=X[7]|0,this.Eh=X[8]|0,this.El=X[9]|0,this.Fh=X[10]|0,this.Fl=X[11]|0,this.Gh=X[12]|0,this.Gl=X[13]|0,this.Hh=X[14]|0,this.Hl=X[15]|0}}const Ae=ae(()=>new Ki),Wi=ae(()=>new cn),Yi=ae(()=>new Gi),Xi=ae(()=>new Zi),Ji=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),F=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),N=new Uint32Array(32);function $t(t,e,n,r,o,s){const i=o[s],f=o[s+1];let a=N[2*t],l=N[2*t+1],c=N[2*e],u=N[2*e+1],h=N[2*n],g=N[2*n+1],w=N[2*r],y=N[2*r+1],x=tn(a,c,i);l=en(x,l,u,f),a=x|0,{Dh:y,Dl:w}={Dh:y^l,Dl:w^a},{Dh:y,Dl:w}={Dh:bi(y,w),Dl:yi(y)},{h:g,l:h}=dt(g,h,y,w),{Bh:u,Bl:c}={Bh:u^g,Bl:c^h},{Bh:u,Bl:c}={Bh:At(u,c,24),Bl:St(u,c,24)},N[2*t]=a,N[2*t+1]=l,N[2*e]=c,N[2*e+1]=u,N[2*n]=h,N[2*n+1]=g,N[2*r]=w,N[2*r+1]=y}function Ct(t,e,n,r,o,s){const i=o[s],f=o[s+1];let a=N[2*t],l=N[2*t+1],c=N[2*e],u=N[2*e+1],h=N[2*n],g=N[2*n+1],w=N[2*r],y=N[2*r+1],x=tn(a,c,i);l=en(x,l,u,f),a=x|0,{Dh:y,Dl:w}={Dh:y^l,Dl:w^a},{Dh:y,Dl:w}={Dh:At(y,w,16),Dl:St(y,w,16)},{h:g,l:h}=dt(g,h,y,w),{Bh:u,Bl:c}={Bh:u^g,Bl:c^h},{Bh:u,Bl:c}={Bh:se(u,c,63),Bl:ie(u,c,63)},N[2*t]=a,N[2*t+1]=l,N[2*e]=c,N[2*e+1]=u,N[2*n]=h,N[2*n+1]=g,N[2*r]=w,N[2*r+1]=y}function Qi(t,e={},n,r,o){if(mt(n),t<0||t>n)throw new Error(\"outputLen bigger than keyLen\");const{key:s,salt:i,personalization:f}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error(\"key length must be undefined or 1..\"+n);if(i!==void 0&&i.length!==r)throw new Error(\"salt must be undefined or \"+r);if(f!==void 0&&f.length!==o)throw new Error(\"personalization must be undefined or \"+o)}class tf extends Ie{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,mt(e),mt(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=fe(this.buffer)}update(e){Nt(this),e=ht(e),at(e);const{blockLen:n,buffer:r,buffer32:o}=this,s=e.length,i=e.byteOffset,f=e.buffer;for(let a=0;a<s;){this.pos===n&&(Ot(o),this.compress(o,0,!1),Ot(o),this.pos=0);const l=Math.min(n-this.pos,s-a),c=i+a;if(l===n&&!(c%4)&&a+l<s){const u=new Uint32Array(f,c,Math.floor((s-a)/4));Ot(u);for(let h=0;a+n<s;h+=o.length,a+=n)this.length+=n,this.compress(u,h,!1);Ot(u);continue}r.set(e.subarray(a,a+l),this.pos),this.pos+=l,this.length+=l,a+=l}return this}digestInto(e){Nt(this),on(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,ut(this.buffer.subarray(n)),Ot(r),this.compress(r,0,!0),Ot(r);const o=fe(e);this.get().forEach((s,i)=>o[i]=wt(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:o,destroyed:s,outputLen:i,pos:f}=this;return e||(e=new this.constructor({dkLen:i})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=o,e.length=r,e.pos=f,e.outputLen=i,e}clone(){return this._cloneInto()}}class ef extends tf{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=F[0]|0,this.v0h=F[1]|0,this.v1l=F[2]|0,this.v1h=F[3]|0,this.v2l=F[4]|0,this.v2h=F[5]|0,this.v3l=F[6]|0,this.v3h=F[7]|0,this.v4l=F[8]|0,this.v4h=F[9]|0,this.v5l=F[10]|0,this.v5h=F[11]|0,this.v6l=F[12]|0,this.v6h=F[13]|0,this.v7l=F[14]|0,this.v7h=F[15]|0,Qi(n,e,64,16,16);let{key:r,personalization:o,salt:s}=e,i=0;if(r!==void 0&&(r=ht(r),i=r.length),this.v0l^=this.outputLen|i<<8|65536|1<<24,s!==void 0){s=ht(s);const f=fe(s);this.v4l^=wt(f[0]),this.v4h^=wt(f[1]),this.v5l^=wt(f[2]),this.v5h^=wt(f[3])}if(o!==void 0){o=ht(o);const f=fe(o);this.v6l^=wt(f[0]),this.v6h^=wt(f[1]),this.v7l^=wt(f[2]),this.v7h^=wt(f[3])}if(r!==void 0){const f=new Uint8Array(this.blockLen);f.set(r),this.update(f)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:o,v2l:s,v2h:i,v3l:f,v3h:a,v4l:l,v4h:c,v5l:u,v5h:h,v6l:g,v6h:w,v7l:y,v7h:x}=this;return[e,n,r,o,s,i,f,a,l,c,u,h,g,w,y,x]}set(e,n,r,o,s,i,f,a,l,c,u,h,g,w,y,x){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=o|0,this.v2l=s|0,this.v2h=i|0,this.v3l=f|0,this.v3h=a|0,this.v4l=l|0,this.v4h=c|0,this.v5l=u|0,this.v5h=h|0,this.v6l=g|0,this.v6h=w|0,this.v7l=y|0,this.v7h=x|0}compress(e,n,r){this.get().forEach((a,l)=>N[l]=a),N.set(F,16);let{h:o,l:s}=mr(BigInt(this.length));N[24]=F[8]^s,N[25]=F[9]^o,r&&(N[28]=~N[28],N[29]=~N[29]);let i=0;const f=Ji;for(let a=0;a<12;a++)$t(0,4,8,12,e,n+2*f[i++]),Ct(0,4,8,12,e,n+2*f[i++]),$t(1,5,9,13,e,n+2*f[i++]),Ct(1,5,9,13,e,n+2*f[i++]),$t(2,6,10,14,e,n+2*f[i++]),Ct(2,6,10,14,e,n+2*f[i++]),$t(3,7,11,15,e,n+2*f[i++]),Ct(3,7,11,15,e,n+2*f[i++]),$t(0,5,10,15,e,n+2*f[i++]),Ct(0,5,10,15,e,n+2*f[i++]),$t(1,6,11,12,e,n+2*f[i++]),Ct(1,6,11,12,e,n+2*f[i++]),$t(2,7,8,13,e,n+2*f[i++]),Ct(2,7,8,13,e,n+2*f[i++]),$t(3,4,9,14,e,n+2*f[i++]),Ct(3,4,9,14,e,n+2*f[i++]);this.v0l^=N[0]^N[16],this.v0h^=N[1]^N[17],this.v1l^=N[2]^N[18],this.v1h^=N[3]^N[19],this.v2l^=N[4]^N[20],this.v2h^=N[5]^N[21],this.v3l^=N[6]^N[22],this.v3h^=N[7]^N[23],this.v4l^=N[8]^N[24],this.v4h^=N[9]^N[25],this.v5l^=N[10]^N[26],this.v5h^=N[11]^N[27],this.v6l^=N[12]^N[28],this.v6h^=N[13]^N[29],this.v7l^=N[14]^N[30],this.v7h^=N[15]^N[31],ut(N)}destroy(){this.destroyed=!0,ut(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const nf=Ui(t=>new ef(t)),rf=\"https://rpc.walletconnect.org/v1\";function an(t){const e=`\u0019Ethereum Signed Message:\n${t.length}`,n=new TextEncoder().encode(e+t);return\"0x\"+Buffer.from(Hi(n)).toString(\"hex\")}async function Cr(t,e,n,r,o,s){switch(n.t){case\"eip191\":return await Lr(t,e,n.s);case\"eip1271\":return await jr(t,e,n.s,r,o,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Lr(t,e,n){return(await (0,viem__WEBPACK_IMPORTED_MODULE_9__.recoverAddress)({hash:an(e),signature:n})).toLowerCase()===t.toLowerCase()}async function jr(t,e,n,r,o,s){const i=Fe(r);if(!i.namespace||!i.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const f=\"0x1626ba7e\",a=\"0000000000000000000000000000000000000000000000000000000000000040\",l=n.substring(2),c=(l.length/2).toString(16).padStart(64,\"0\"),u=(e.startsWith(\"0x\")?e:an(e)).substring(2),h=f+u+a+c+l,g=await fetch(`${s||rf}/?chainId=${r}&projectId=${o}`,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({id:of(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:t,data:h},\"latest\"]})}),{result:w}=await g.json();return w?w.slice(0,f.length).toLowerCase()===f.toLowerCase():!1}catch(f){return console.error(\"isValidEip1271Signature: \",f),!1}}function of(){return Date.now()+Math.floor(Math.random()*1e3)}function sf(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const o=1+r*64;if(n.length<o)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const s=Buffer.from(t,\"base64\").slice(1,65);return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(s)}function ff(t){const e=new Uint8Array(Buffer.from(t,\"base64\")),n=Array.from(\"TransactionData::\").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const o=nf(r,{dkLen:32});return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(o)}function cf(t){const e=new Uint8Array(Ae(kr(t)));return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(e)}function kr(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t==\"object\"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t==\"object\"&&t)return new Uint8Array(Object.values(t));throw new Error(\"getNearUint8ArrayFromBytes: Unexpected result type from bytes array\")}function af(t){const e=Buffer.from(t,\"base64\"),n=(0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_10__.decode)(e).txn;if(!n)throw new Error(\"Invalid signed transaction: missing 'txn' field\");const r=(0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_11__.encode)(n),o=Buffer.from(\"TX\"),s=Buffer.concat([o,Buffer.from(r)]),i=Xi(s);return _scure_base__WEBPACK_IMPORTED_MODULE_12__.base32.encode(i).replace(/=+$/,\"\")}function un(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function uf(t){const e=Buffer.from(t.signed.bodyBytes,\"base64\"),n=Buffer.from(t.signed.authInfoBytes,\"base64\"),r=Buffer.from(t.signature.signature,\"base64\"),o=[];o.push(Buffer.from([10])),o.push(un(e.length)),o.push(e),o.push(Buffer.from([18])),o.push(un(n.length)),o.push(n),o.push(Buffer.from([26])),o.push(un(r.length)),o.push(r);const s=Buffer.concat(o),i=Ae(s);return Buffer.from(i).toString(\"hex\").toUpperCase()}var lf=Object.defineProperty,df=Object.defineProperties,hf=Object.getOwnPropertyDescriptors,Pr=Object.getOwnPropertySymbols,pf=Object.prototype.hasOwnProperty,gf=Object.prototype.propertyIsEnumerable,Hr=(t,e,n)=>e in t?lf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ln=(t,e)=>{for(var n in e||(e={}))pf.call(e,n)&&Hr(t,n,e[n]);if(Pr)for(var n of Pr(e))gf.call(e,n)&&Hr(t,n,e[n]);return t},Dr=(t,e)=>df(t,hf(e));const bf=\"did:pkh:\",Se=t=>t?.split(\":\"),Mr=t=>{const e=t&&Se(t);if(e)return t.includes(bf)?e[3]:e[1]},Vr=t=>{const e=t&&Se(t);if(e)return e[2]+\":\"+e[3]},dn=t=>{const e=t&&Se(t);if(e)return e.pop()};async function yf(t){const{cacao:e,projectId:n}=t,{s:r,p:o}=e,s=qr(o,o.iss),i=dn(o.iss);return await Cr(i,s,r,Vr(o.iss),n)}const qr=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=dn(e);if(!t.aud&&!t.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let o=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,i=`Version: ${t.version}`,f=`Chain ID: ${Mr(e)}`,a=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,c=t.exp?`Expiration Time: ${t.exp}`:void 0,u=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(y=>`\n- ${y}`).join(\"\")}`:void 0,w=Oe(t.resources);if(w){const y=Lt(w);o=gn(o,y)}return[n,r,\"\",o,\"\",s,i,f,a,l,c,u,h,g].filter(y=>y!=null).join(`\n`)};function mf(t,e,n){return n.includes(\"did:pkh:\")||(n=`did:pkh:${n}`),{h:{t:\"caip122\"},p:{iss:n,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function wf(t){var e;const{authPayload:n,chains:r,methods:o}=t,s=n.statement||\"\";if(!(r!=null&&r.length))return n;const i=n.chains,f=Je(i,r);if(!(f!=null&&f.length))throw new Error(\"No supported chains\");const a=Kr(n.resources);if(!a)return n;bt(a);const l=Fr(a,\"eip155\");let c=n?.resources||[];if(l!=null&&l.length){const u=zr(l),h=Je(u,o);if(!(h!=null&&h.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(u)}, supported: ${JSON.stringify(o)}`);const g=hn(\"request\",h,{chains:f}),w=Yr(a,\"eip155\",g);c=((e=n?.resources)==null?void 0:e.slice(0,-1))||[],c.push(Ne(w))}return Dr(ln({},n),{statement:Jr(s,Oe(c)),chains:f,resources:n!=null&&n.resources||c.length>0?c:void 0})}function Kr(t){const e=Oe(t);if(e&&pn(e))return Lt(e)}function xf(t,e){var n;return(n=t?.att)==null?void 0:n.hasOwnProperty(e)}function Fr(t,e){var n,r;return(n=t?.att)!=null&&n[e]?Object.keys((r=t?.att)==null?void 0:r[e]):[]}function vf(t){return t?.map(e=>Object.keys(e))||[]}function zr(t){return t?.map(e=>{var n;return(n=e.split(\"/\"))==null?void 0:n[1]})||[]}function Gr(t){return Buffer.from(JSON.stringify(t)).toString(\"base64\")}function Zr(t){return JSON.parse(Buffer.from(t,\"base64\").toString(\"utf-8\"))}function bt(t){if(!t)throw new Error(\"No recap provided, value is undefined\");if(!t.att)throw new Error(\"No `att` property found\");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error(\"No resources found in `att` property\");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const s=r[o];if(!Array.isArray(s))throw new Error(`Ability limits ${o} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);s.forEach(i=>{if(typeof i!=\"object\")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${i}`)})})})}function Wr(t,e,n,r={}){return n?.sort((o,s)=>o.localeCompare(s)),{att:{[t]:hn(e,n,r)}}}function Yr(t,e,n){var r;t.att[e]=ln({},n);const o=(r=Object.keys(t.att))==null?void 0:r.sort((i,f)=>i.localeCompare(f)),s={att:{}};return o.reduce((i,f)=>(i.att[f]=t.att[f],i),s)}function hn(t,e,n={}){e=e?.sort((o,s)=>o.localeCompare(s));const r=e.map(o=>({[`${t}/${o}`]:[n]}));return Object.assign({},...r)}function Ne(t){return bt(t),`urn:recap:${Gr(t).replace(/=/g,\"\")}`}function Lt(t){const e=Zr(t.replace(\"urn:recap:\",\"\"));return bt(e),e}function Ef(t,e,n){const r=Wr(t,e,n);return Ne(r)}function pn(t){return t&&t.includes(\"urn:recap:\")}function Bf(t,e){const n=Lt(t),r=Lt(e),o=Xr(n,r);return Ne(o)}function Xr(t,e){bt(t),bt(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((o,s)=>o.localeCompare(s)),r={att:{}};return n.forEach(o=>{var s,i;Object.keys(((s=t.att)==null?void 0:s[o])||{}).concat(Object.keys(((i=e.att)==null?void 0:i[o])||{})).sort((f,a)=>f.localeCompare(a)).forEach(f=>{var a,l;r.att[o]=Dr(ln({},r.att[o]),{[f]:((a=t.att[o])==null?void 0:a[f])||((l=e.att[o])==null?void 0:l[f])})})}),r}function gn(t=\"\",e){bt(e);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(t.includes(n))return t;const r=[];let o=0;Object.keys(e.att).forEach(f=>{const a=Object.keys(e.att[f]).map(u=>({ability:u.split(\"/\")[0],action:u.split(\"/\")[1]}));a.sort((u,h)=>u.action.localeCompare(h.action));const l={};a.forEach(u=>{l[u.ability]||(l[u.ability]=[]),l[u.ability].push(u.action)});const c=Object.keys(l).map(u=>(o++,`(${o}) '${u}': '${l[u].join(\"', '\")}' for '${f}'.`));r.push(c.join(\", \").replace(\".,\",\".\"))});const s=r.join(\" \"),i=`${n}${s}`;return`${t?t+\" \":\"\"}${i}`}function If(t){var e;const n=Lt(t);bt(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(o=>o.split(\"/\")[1]):[]}function Af(t){const e=Lt(t);bt(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(o=>{var s;(s=o?.[0])!=null&&s.chains&&n.push(o[0].chains)})}),[...new Set(n.flat())]}function Jr(t,e){if(!e)return t;const n=Lt(e);return bt(n),gn(t,n)}function Oe(t){if(!t)return;const e=t?.[t.length-1];return pn(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Qr(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function bn(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}function yn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function nt(t,...e){if(!Qr(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function to(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Sf(t,e){nt(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function jt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Wt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Nf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Of=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Uf(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function mn(t){if(typeof t==\"string\")t=Uf(t);else if(Qr(t))t=wn(t);else throw new Error(\"Uint8Array expected, got \"+typeof t);return t}function _f(t,e){if(e==null||typeof e!=\"object\")throw new Error(\"options must be defined\");return Object.assign(t,e)}function Tf(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Rf=(t,e)=>{function n(r,...o){if(nt(r),!Of)throw new Error(\"Non little-endian hardware is not yet supported\");if(t.nonceLength!==void 0){const c=o[0];if(!c)throw new Error(\"nonce / iv required\");t.varSizeNonce?nt(c):nt(c,t.nonceLength)}const s=t.tagLength;s&&o[1]!==void 0&&nt(o[1]);const i=e(r,...o),f=(c,u)=>{if(u!==void 0){if(c!==2)throw new Error(\"cipher output not supported\");nt(u)}};let a=!1;return{encrypt(c,u){if(a)throw new Error(\"cannot encrypt() twice with same key + nonce\");return a=!0,nt(c),f(i.encrypt.length,u),i.encrypt(c,u)},decrypt(c,u){if(nt(c),s&&c.length<s)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+s);return f(i.decrypt.length,u),i.decrypt(c,u)}}}return Object.assign(n,t),n};function eo(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error(\"invalid output length, expected \"+t+\", got: \"+e.length);if(n&&!Cf(e))throw new Error(\"invalid output, must be aligned\");return e}function no(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),f=Number(n&s),a=r?4:0,l=r?0:4;t.setUint32(e+a,i,r),t.setUint32(e+l,f,r)}function $f(t,e,n){bn(n);const r=new Uint8Array(16),o=Nf(r);return no(o,0,BigInt(e),n),no(o,8,BigInt(t),n),r}function Cf(t){return t.byteOffset%4===0}function wn(t){return Uint8Array.from(t)}const ro=t=>Uint8Array.from(t.split(\"\").map(e=>e.charCodeAt(0))),Lf=ro(\"expand 16-byte k\"),jf=ro(\"expand 32-byte k\"),kf=jt(Lf),Pf=jt(jf);function D(t,e){return t<<e|t>>>32-e}function xn(t){return t.byteOffset%4===0}const Ue=64,Hf=16,oo=2**32-1,so=new Uint32Array;function Df(t,e,n,r,o,s,i,f){const a=o.length,l=new Uint8Array(Ue),c=jt(l),u=xn(o)&&xn(s),h=u?jt(o):so,g=u?jt(s):so;for(let w=0;w<a;i++){if(t(e,n,r,c,i,f),i>=oo)throw new Error(\"arx: counter overflow\");const y=Math.min(Ue,a-w);if(u&&y===Ue){const x=w/4;if(w%4!==0)throw new Error(\"arx: invalid block position\");for(let R=0,M;R<Hf;R++)M=x+R,g[M]=h[M]^c[R];w+=Ue;continue}for(let x=0,R;x<y;x++)R=w+x,s[R]=o[R]^l[x];w+=y}}function Mf(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=_f({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return yn(o),yn(i),bn(s),bn(n),(f,a,l,c,u=0)=>{nt(f),nt(a),nt(l);const h=l.length;if(c===void 0&&(c=new Uint8Array(h)),nt(c),yn(u),u<0||u>=oo)throw new Error(\"arx: counter overflow\");if(c.length<h)throw new Error(`arx: output (${c.length}) is shorter than data (${h})`);const g=[];let w=f.length,y,x;if(w===32)g.push(y=wn(f)),x=Pf;else if(w===16&&n)y=new Uint8Array(32),y.set(f),y.set(f,16),x=kf,g.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);xn(a)||g.push(a=wn(a));const R=jt(y);if(r){if(a.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(x,R,jt(a.subarray(0,16)),R),a=a.subarray(16)}const M=16-o;if(M!==a.length)throw new Error(`arx: nonce must be ${M} or 16 bytes`);if(M!==12){const V=new Uint8Array(12);V.set(a,s?0:12-a.length),a=V,g.push(a)}const L=jt(a);return Df(t,x,R,L,l,c,u,i),Wt(...g),c}}const G=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Vf{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=mn(e),nt(e,32);const n=G(e,0),r=G(e,2),o=G(e,4),s=G(e,6),i=G(e,8),f=G(e,10),a=G(e,12),l=G(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|f<<2)&8191,this.r[7]=(f>>>11|a<<5)&8065,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let c=0;c<8;c++)this.pad[c]=G(e,16+2*c)}process(e,n,r=!1){const o=r?0:2048,{h:s,r:i}=this,f=i[0],a=i[1],l=i[2],c=i[3],u=i[4],h=i[5],g=i[6],w=i[7],y=i[8],x=i[9],R=G(e,n+0),M=G(e,n+2),L=G(e,n+4),V=G(e,n+6),_=G(e,n+8),k=G(e,n+10),j=G(e,n+12),$=G(e,n+14);let d=s[0]+(R&8191),m=s[1]+((R>>>13|M<<3)&8191),p=s[2]+((M>>>10|L<<6)&8191),b=s[3]+((L>>>7|V<<9)&8191),v=s[4]+((V>>>4|_<<12)&8191),B=s[5]+(_>>>1&8191),E=s[6]+((_>>>14|k<<2)&8191),I=s[7]+((k>>>11|j<<5)&8191),S=s[8]+((j>>>8|$<<8)&8191),O=s[9]+($>>>5|o),A=0,T=A+d*f+m*(5*x)+p*(5*y)+b*(5*w)+v*(5*g);A=T>>>13,T&=8191,T+=B*(5*h)+E*(5*u)+I*(5*c)+S*(5*l)+O*(5*a),A+=T>>>13,T&=8191;let U=A+d*a+m*f+p*(5*x)+b*(5*y)+v*(5*w);A=U>>>13,U&=8191,U+=B*(5*g)+E*(5*h)+I*(5*u)+S*(5*c)+O*(5*l),A+=U>>>13,U&=8191;let C=A+d*l+m*a+p*f+b*(5*x)+v*(5*y);A=C>>>13,C&=8191,C+=B*(5*w)+E*(5*g)+I*(5*h)+S*(5*u)+O*(5*c),A+=C>>>13,C&=8191;let H=A+d*c+m*l+p*a+b*f+v*(5*x);A=H>>>13,H&=8191,H+=B*(5*y)+E*(5*w)+I*(5*g)+S*(5*h)+O*(5*u),A+=H>>>13,H&=8191;let q=A+d*u+m*c+p*l+b*a+v*f;A=q>>>13,q&=8191,q+=B*(5*x)+E*(5*y)+I*(5*w)+S*(5*g)+O*(5*h),A+=q>>>13,q&=8191;let P=A+d*h+m*u+p*c+b*l+v*a;A=P>>>13,P&=8191,P+=B*f+E*(5*x)+I*(5*y)+S*(5*w)+O*(5*g),A+=P>>>13,P&=8191;let K=A+d*g+m*h+p*u+b*c+v*l;A=K>>>13,K&=8191,K+=B*a+E*f+I*(5*x)+S*(5*y)+O*(5*w),A+=K>>>13,K&=8191;let et=A+d*w+m*g+p*h+b*u+v*c;A=et>>>13,et&=8191,et+=B*l+E*a+I*f+S*(5*x)+O*(5*y),A+=et>>>13,et&=8191;let Z=A+d*y+m*w+p*g+b*h+v*u;A=Z>>>13,Z&=8191,Z+=B*c+E*l+I*a+S*f+O*(5*x),A+=Z>>>13,Z&=8191;let z=A+d*x+m*y+p*w+b*g+v*h;A=z>>>13,z&=8191,z+=B*u+E*c+I*l+S*a+O*f,A+=z>>>13,z&=8191,A=(A<<2)+A|0,A=A+T|0,T=A&8191,A=A>>>13,U+=A,s[0]=T,s[1]=U,s[2]=C,s[3]=H,s[4]=q,s[5]=P,s[6]=K,s[7]=et,s[8]=Z,s[9]=z}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let f=2;f<10;f++)e[f]+=o,o=e[f]>>>13,e[f]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let f=1;f<10;f++)r[f]=e[f]+o,o=r[f]>>>13,r[f]&=8191;r[9]-=8192;let s=(o^1)-1;for(let f=0;f<10;f++)r[f]&=s;s=~s;for(let f=0;f<10;f++)e[f]=e[f]&s|r[f];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let i=e[0]+n[0];e[0]=i&65535;for(let f=1;f<8;f++)i=(e[f]+n[f]|0)+(i>>>16)|0,e[f]=i&65535;Wt(r)}update(e){to(this),e=mn(e),nt(e);const{buffer:n,blockLen:r}=this,o=e.length;for(let s=0;s<o;){const i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Wt(this.h,this.r,this.buffer,this.pad)}digestInto(e){to(this),Sf(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)e[s++]=r[i]>>>0,e[s++]=r[i]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function qf(t){const e=(r,o)=>t(o).update(mn(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Kf=qf(t=>new Vf(t));function Ff(t,e,n,r,o,s=20){let i=t[0],f=t[1],a=t[2],l=t[3],c=e[0],u=e[1],h=e[2],g=e[3],w=e[4],y=e[5],x=e[6],R=e[7],M=o,L=n[0],V=n[1],_=n[2],k=i,j=f,$=a,d=l,m=c,p=u,b=h,v=g,B=w,E=y,I=x,S=R,O=M,A=L,T=V,U=_;for(let H=0;H<s;H+=2)k=k+m|0,O=D(O^k,16),B=B+O|0,m=D(m^B,12),k=k+m|0,O=D(O^k,8),B=B+O|0,m=D(m^B,7),j=j+p|0,A=D(A^j,16),E=E+A|0,p=D(p^E,12),j=j+p|0,A=D(A^j,8),E=E+A|0,p=D(p^E,7),$=$+b|0,T=D(T^$,16),I=I+T|0,b=D(b^I,12),$=$+b|0,T=D(T^$,8),I=I+T|0,b=D(b^I,7),d=d+v|0,U=D(U^d,16),S=S+U|0,v=D(v^S,12),d=d+v|0,U=D(U^d,8),S=S+U|0,v=D(v^S,7),k=k+p|0,U=D(U^k,16),I=I+U|0,p=D(p^I,12),k=k+p|0,U=D(U^k,8),I=I+U|0,p=D(p^I,7),j=j+b|0,O=D(O^j,16),S=S+O|0,b=D(b^S,12),j=j+b|0,O=D(O^j,8),S=S+O|0,b=D(b^S,7),$=$+v|0,A=D(A^$,16),B=B+A|0,v=D(v^B,12),$=$+v|0,A=D(A^$,8),B=B+A|0,v=D(v^B,7),d=d+m|0,T=D(T^d,16),E=E+T|0,m=D(m^E,12),d=d+m|0,T=D(T^d,8),E=E+T|0,m=D(m^E,7);let C=0;r[C++]=i+k|0,r[C++]=f+j|0,r[C++]=a+$|0,r[C++]=l+d|0,r[C++]=c+m|0,r[C++]=u+p|0,r[C++]=h+b|0,r[C++]=g+v|0,r[C++]=w+B|0,r[C++]=y+E|0,r[C++]=x+I|0,r[C++]=R+S|0,r[C++]=M+O|0,r[C++]=L+A|0,r[C++]=V+T|0,r[C++]=_+U|0}const zf=Mf(Ff,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Gf=new Uint8Array(16),io=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Gf.subarray(n))},Zf=new Uint8Array(32);function fo(t,e,n,r,o){const s=t(e,n,Zf),i=Kf.create(s);o&&io(i,o),io(i,r);const f=$f(r.length,o?o.length:0,!0);i.update(f);const a=i.digest();return Wt(s,f),a}const Wf=t=>(e,n,r)=>({encrypt(s,i){const f=s.length;i=eo(f+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const l=fo(t,e,n,a,r);return i.set(l,f),Wt(l),i},decrypt(s,i){i=eo(s.length-16,i,!1);const f=s.subarray(0,-16),a=s.subarray(-16),l=fo(t,e,n,f,r);if(!Tf(a,l))throw new Error(\"invalid tag\");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Wt(l),i}}),co=Rf({blockSize:64,nonceLength:12,tagLength:16},Wf(zf));class ao extends Ie{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,rn(e);const r=ht(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),ut(s)}update(e){return Nt(this),this.iHash.update(e),this}digestInto(e){Nt(this),at(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:f}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=i,e.outputLen=f,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const _e=(t,e,n)=>new ao(t,e).update(n).digest();_e.create=(t,e)=>new ao(t,e);function Yf(t,e,n){return rn(t),n===void 0&&(n=new Uint8Array(t.outputLen)),_e(t,ht(n),ht(e))}const vn=Uint8Array.from([0]),uo=Uint8Array.of();function Xf(t,e,n,r=32){rn(t),mt(r);const o=t.outputLen;if(r>255*o)throw new Error(\"Length should be <= 255*HashLen\");const s=Math.ceil(r/o);n===void 0&&(n=uo);const i=new Uint8Array(s*o),f=_e.create(t,e),a=f._cloneInto(),l=new Uint8Array(f.outputLen);for(let c=0;c<s;c++)vn[0]=c+1,a.update(c===0?uo:l).update(n).update(vn).digestInto(l),i.set(l,o*c),f._cloneInto(a);return f.destroy(),a.destroy(),ut(l,vn),i.slice(0,r)}const Jf=(t,e,n,r,o)=>Xf(t,Yf(t,e,n),r,o),Te=Ae,En=BigInt(0),Bn=BigInt(1);function Re(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}function $e(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function lo(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?En:BigInt(\"0x\"+t)}function Ce(t){return lo(ce(t))}function Le(t){return at(t),lo(ce(Uint8Array.from(t).reverse()))}function In(t,e){return fn(t.toString(16).padStart(e*2,\"0\"))}function An(t,e){return In(t,e).reverse()}function rt(t,e,n){let r;if(typeof e==\"string\")try{r=fn(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(nn(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}const Sn=t=>typeof t==\"bigint\"&&En<=t;function Qf(t,e,n){return Sn(t)&&Sn(e)&&Sn(n)&&e<=t&&t<n}function Nn(t,e,n,r){if(!Qf(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function tc(t){let e;for(e=0;t>En;t>>=Bn,e+=1);return e}const je=t=>(Bn<<BigInt(t))-Bn;function ec(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");const r=g=>new Uint8Array(g),o=g=>Uint8Array.of(g);let s=r(t),i=r(t),f=0;const a=()=>{s.fill(1),i.fill(0),f=0},l=(...g)=>n(i,s,...g),c=(g=r(0))=>{i=l(o(0),g),s=l(),g.length!==0&&(i=l(o(1),g),s=l())},u=()=>{if(f++>=1e3)throw new Error(\"drbg: tried 1000 values\");let g=0;const w=[];for(;g<e;){s=l();const y=s.slice();w.push(y),g+=s.length}return Ht(...w)};return(g,w)=>{a(),c(g);let y;for(;!(y=w(u()));)c();return a(),y}}function ke(t,e,n={}){if(!t||typeof t!=\"object\")throw new Error(\"expected valid options object\");function r(o,s,i){const f=t[o];if(i&&f===void 0)return;const a=typeof f;if(a!==s||f===null)throw new Error(`param \"${o}\" is invalid: expected ${s}, got ${a}`)}Object.entries(e).forEach(([o,s])=>r(o,s,!1)),Object.entries(n).forEach(([o,s])=>r(o,s,!0))}function ho(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const ot=BigInt(0),Q=BigInt(1),Dt=BigInt(2),nc=BigInt(3),po=BigInt(4),go=BigInt(5),bo=BigInt(8);function lt(t,e){const n=t%e;return n>=ot?n:e+n}function pt(t,e,n){let r=t;for(;e-- >ot;)r*=r,r%=n;return r}function yo(t,e){if(t===ot)throw new Error(\"invert: expected non-zero number\");if(e<=ot)throw new Error(\"invert: expected positive modulus, got \"+e);let n=lt(t,e),r=e,o=ot,s=Q;for(;n!==ot;){const f=r/n,a=r%n,l=o-s*f;r=n,n=a,o=s,s=l}if(r!==Q)throw new Error(\"invert: does not exist\");return lt(o,e)}function mo(t,e){const n=(t.ORDER+Q)/po,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error(\"Cannot find square root\");return r}function rc(t,e){const n=(t.ORDER-go)/bo,r=t.mul(e,Dt),o=t.pow(r,n),s=t.mul(e,o),i=t.mul(t.mul(s,Dt),o),f=t.mul(s,t.sub(i,t.ONE));if(!t.eql(t.sqr(f),e))throw new Error(\"Cannot find square root\");return f}function oc(t){if(t<BigInt(3))throw new Error(\"sqrt is not defined for small field\");let e=t-Q,n=0;for(;e%Dt===ot;)e/=Dt,n++;let r=Dt;const o=Yt(t);for(;xo(o,r)===1;)if(r++>1e3)throw new Error(\"Cannot find square root: probably non-prime P\");if(n===1)return mo;let s=o.pow(r,e);const i=(e+Q)/Dt;return function(a,l){if(a.is0(l))return l;if(xo(a,l)!==1)throw new Error(\"Cannot find square root\");let c=n,u=a.mul(a.ONE,s),h=a.pow(l,e),g=a.pow(l,i);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let w=1,y=a.sqr(h);for(;!a.eql(y,a.ONE);)if(w++,y=a.sqr(y),w===c)throw new Error(\"Cannot find square root\");const x=Q<<BigInt(c-w-1),R=a.pow(u,x);c=w,u=a.sqr(R),h=a.mul(h,u),g=a.mul(g,R)}return g}}function sc(t){return t%po===nc?mo:t%bo===go?rc:oc(t)}const ic=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function fc(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"number\",BITS:\"number\"},n=ic.reduce((r,o)=>(r[o]=\"function\",r),e);return ke(t,n),t}function cc(t,e,n){if(n<ot)throw new Error(\"invalid exponent, negatives unsupported\");if(n===ot)return t.ONE;if(n===Q)return e;let r=t.ONE,o=e;for(;n>ot;)n&Q&&(r=t.mul(r,o)),o=t.sqr(o),n>>=Q;return r}function wo(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((i,f,a)=>t.is0(f)?i:(r[a]=i,t.mul(i,f)),t.ONE),s=t.inv(o);return e.reduceRight((i,f,a)=>t.is0(f)?i:(r[a]=t.mul(i,r[a]),t.mul(i,f)),s),r}function xo(t,e){const n=(t.ORDER-Q)/Dt,r=t.pow(e,n),o=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),i=t.eql(r,t.neg(t.ONE));if(!o&&!s&&!i)throw new Error(\"invalid Legendre symbol result\");return o?1:s?0:-1}function ac(t,e){e!==void 0&&mt(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Yt(t,e,n=!1,r={}){if(t<=ot)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);let o,s;if(typeof e==\"object\"&&e!=null){if(r.sqrt||n)throw new Error(\"cannot specify opts in two arguments\");const c=e;c.BITS&&(o=c.BITS),c.sqrt&&(s=c.sqrt),typeof c.isLE==\"boolean\"&&(n=c.isLE)}else typeof e==\"number\"&&(o=e),r.sqrt&&(s=r.sqrt);const{nBitLength:i,nByteLength:f}=ac(t,o);if(f>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let a;const l=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:f,MASK:je(i),ZERO:ot,ONE:Q,create:c=>lt(c,t),isValid:c=>{if(typeof c!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof c);return ot<=c&&c<t},is0:c=>c===ot,isValidNot0:c=>!l.is0(c)&&l.isValid(c),isOdd:c=>(c&Q)===Q,neg:c=>lt(-c,t),eql:(c,u)=>c===u,sqr:c=>lt(c*c,t),add:(c,u)=>lt(c+u,t),sub:(c,u)=>lt(c-u,t),mul:(c,u)=>lt(c*u,t),pow:(c,u)=>cc(l,c,u),div:(c,u)=>lt(c*yo(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>yo(c,t),sqrt:s||(c=>(a||(a=sc(t)),a(l,c))),toBytes:c=>n?An(c,f):In(c,f),fromBytes:c=>{if(c.length!==f)throw new Error(\"Field.fromBytes: expected \"+f+\" bytes, got \"+c.length);return n?Le(c):Ce(c)},invertBatch:c=>wo(l,c),cmov:(c,u,h)=>h?u:c});return Object.freeze(l)}function vo(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function Eo(t){const e=vo(t);return e+Math.ceil(e/2)}function uc(t,e,n=!1){const r=t.length,o=vo(e),s=Eo(e);if(r<16||r<s||r>1024)throw new Error(\"expected \"+s+\"-1024 bytes of input, got \"+r);const i=n?Le(t):Ce(t),f=lt(i,e-Q)+Q;return n?An(f,o):In(f,o)}const Xt=BigInt(0),Mt=BigInt(1);function le(t,e){const n=e.negate();return t?n:e}function lc(t,e,n){const r=e===\"pz\"?i=>i.pz:i=>i.ez,o=wo(t.Fp,n.map(r));return n.map((i,f)=>i.toAffine(o[f])).map(t.fromAffine)}function Bo(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function On(t,e){Bo(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,s=je(t),i=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:o,shiftBy:i}}function Io(t,e,n){const{windowSize:r,mask:o,maxNumber:s,shiftBy:i}=n;let f=Number(t&o),a=t>>i;f>r&&(f-=s,a+=Mt);const l=e*r,c=l+Math.abs(f)-1,u=f===0,h=f<0,g=e%2!==0;return{nextN:a,offset:c,isZero:u,isNeg:h,isNegF:g,offsetF:l}}function dc(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function hc(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const Un=new WeakMap,Ao=new WeakMap;function _n(t){return Ao.get(t)||1}function So(t){if(t!==Xt)throw new Error(\"invalid wNAF\")}function pc(t,e){return{constTimeNegate:le,hasPrecomputes(n){return _n(n)!==1},unsafeLadder(n,r,o=t.ZERO){let s=n;for(;r>Xt;)r&Mt&&(o=o.add(s)),s=s.double(),r>>=Mt;return o},precomputeWindow(n,r){const{windows:o,windowSize:s}=On(r,e),i=[];let f=n,a=f;for(let l=0;l<o;l++){a=f,i.push(a);for(let c=1;c<s;c++)a=a.add(f),i.push(a);f=a.double()}return i},wNAF(n,r,o){let s=t.ZERO,i=t.BASE;const f=On(n,e);for(let a=0;a<f.windows;a++){const{nextN:l,offset:c,isZero:u,isNeg:h,isNegF:g,offsetF:w}=Io(o,a,f);o=l,u?i=i.add(le(g,r[w])):s=s.add(le(h,r[c]))}return So(o),{p:s,f:i}},wNAFUnsafe(n,r,o,s=t.ZERO){const i=On(n,e);for(let f=0;f<i.windows&&o!==Xt;f++){const{nextN:a,offset:l,isZero:c,isNeg:u}=Io(o,f,i);if(o=a,!c){const h=r[l];s=s.add(u?h.negate():h)}}return So(o),s},getPrecomputes(n,r,o){let s=Un.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof o==\"function\"&&(s=o(s)),Un.set(r,s))),s},wNAFCached(n,r,o){const s=_n(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){const i=_n(n);return i===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,n,o),r,s)},setWindowSize(n,r){Bo(r,e),Ao.set(n,r),Un.delete(n)}}}function gc(t,e,n,r){let o=e,s=t.ZERO,i=t.ZERO;for(;n>Xt||r>Xt;)n&Mt&&(s=s.add(o)),r&Mt&&(i=i.add(o)),o=o.double(),n>>=Mt,r>>=Mt;return{p1:s,p2:i}}function bc(t,e,n,r){dc(n,t),hc(r,e);const o=n.length,s=r.length;if(o!==s)throw new Error(\"arrays of points and scalars must have equal length\");const i=t.ZERO,f=tc(BigInt(o));let a=1;f>12?a=f-3:f>4?a=f-2:f>0&&(a=2);const l=je(a),c=new Array(Number(l)+1).fill(i),u=Math.floor((e.BITS-1)/a)*a;let h=i;for(let g=u;g>=0;g-=a){c.fill(i);for(let y=0;y<s;y++){const x=r[y],R=Number(x>>BigInt(g)&l);c[R]=c[R].add(n[y])}let w=i;for(let y=c.length-1,x=i;y>0;y--)x=x.add(c[y]),w=w.add(x);if(h=h.add(w),g!==0)for(let y=0;y<a;y++)h=h.double()}return h}function No(t,e){if(e){if(e.ORDER!==t)throw new Error(\"Field.ORDER must match order: Fp == p, Fn == n\");return fc(e),e}else return Yt(t)}function yc(t,e,n={}){if(!e||typeof e!=\"object\")throw new Error(`expected valid ${t} CURVE object`);for(const f of[\"p\",\"n\",\"h\"]){const a=e[f];if(!(typeof a==\"bigint\"&&a>Xt))throw new Error(`CURVE.${f} must be positive bigint`)}const r=No(e.p,n.Fp),o=No(e.n,n.Fn),i=[\"Gx\",\"Gy\",\"a\",t===\"weierstrass\"?\"b\":\"d\"];for(const f of i)if(!r.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:o}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const de=BigInt(0),Jt=BigInt(1),Pe=BigInt(2);function mc(t){return ke(t,{adjustScalarBytes:\"function\",powPminus2:\"function\"}),Object.freeze({...t})}function wc(t){const e=mc(t),{P:n,type:r,adjustScalarBytes:o,powPminus2:s,randomBytes:i}=e,f=r===\"x25519\";if(!f&&r!==\"x448\")throw new Error(\"invalid type\");const a=i||Zt,l=f?255:448,c=f?32:56,u=BigInt(f?9:5),h=BigInt(f?121665:39081),g=f?Pe**BigInt(254):Pe**BigInt(447),w=f?BigInt(8)*Pe**BigInt(251)-Jt:BigInt(4)*Pe**BigInt(445)-Jt,y=g+w+Jt,x=d=>lt(d,n),R=M(u);function M(d){return An(x(d),c)}function L(d){const m=rt(\"u coordinate\",d,c);return f&&(m[31]&=127),x(Le(m))}function V(d){return Le(o(rt(\"scalar\",d,c)))}function _(d,m){const p=$(L(m),V(d));if(p===de)throw new Error(\"invalid private or public key received\");return M(p)}function k(d){return _(d,R)}function j(d,m,p){const b=x(d*(m-p));return m=x(m-b),p=x(p+b),{x_2:m,x_3:p}}function $(d,m){Nn(\"u\",d,de,n),Nn(\"scalar\",m,g,y);const p=m,b=d;let v=Jt,B=de,E=d,I=Jt,S=de;for(let A=BigInt(l-1);A>=de;A--){const T=p>>A&Jt;S^=T,{x_2:v,x_3:E}=j(S,v,E),{x_2:B,x_3:I}=j(S,B,I),S=T;const U=v+B,C=x(U*U),H=v-B,q=x(H*H),P=C-q,K=E+I,et=E-I,Z=x(et*U),z=x(K*H),Ft=Z+z,yt=Z-z;E=x(Ft*Ft),I=x(b*x(yt*yt)),v=x(C*q),B=x(P*(C+x(h*P)))}({x_2:v,x_3:E}=j(S,v,E)),{x_2:B,x_3:I}=j(S,B,I);const O=s(B);return x(v*O)}return{scalarMult:_,scalarMultBase:k,getSharedSecret:(d,m)=>_(d,m),getPublicKey:d=>k(d),utils:{randomPrivateKey:()=>a(c)},GuBytes:R.slice()}}BigInt(0);const xc=BigInt(1),Oo=BigInt(2),vc=BigInt(3),Ec=BigInt(5),Bc=BigInt(8),Uo={p:BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed\"),n:BigInt(\"0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed\"),h:Bc,a:BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec\"),d:BigInt(\"0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3\"),Gx:BigInt(\"0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a\"),Gy:BigInt(\"0x6666666666666666666666666666666666666666666666666666666666666658\")};function Ic(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=Uo.p,f=t*t%s*t%s,a=pt(f,Oo,s)*f%s,l=pt(a,xc,s)*t%s,c=pt(l,Ec,s)*l%s,u=pt(c,e,s)*c%s,h=pt(u,n,s)*u%s,g=pt(h,r,s)*h%s,w=pt(g,o,s)*g%s,y=pt(w,o,s)*g%s,x=pt(y,e,s)*c%s;return{pow_p_5_8:pt(x,Oo,s)*t%s,b2:f}}function Ac(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Tn=(()=>{const t=Uo.p;return wc({P:t,type:\"x25519\",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Ic(e);return lt(pt(n,vc,t)*r,t)},adjustScalarBytes:Ac})})();function _o(t){t.lowS!==void 0&&Re(\"lowS\",t.lowS),t.prehash!==void 0&&Re(\"prehash\",t.prehash)}class Sc extends Error{constructor(e=\"\"){super(e)}}const vt={Err:Sc,_tlv:{encode:(t,e)=>{const{Err:n}=vt;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,o=$e(r);if(o.length/2&128)throw new n(\"tlv.encode: long form length too big\");const s=r>127?$e(o.length/2|128):\"\";return $e(t)+s+o+e},decode(t,e){const{Err:n}=vt;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const o=e[r++],s=!!(o&128);let i=0;if(!s)i=o;else{const a=o&127;if(!a)throw new n(\"tlv.decode(long): indefinite length not supported\");if(a>4)throw new n(\"tlv.decode(long): byte length is too big\");const l=e.subarray(r,r+a);if(l.length!==a)throw new n(\"tlv.decode: length bytes not complete\");if(l[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const c of l)i=i<<8|c;if(r+=a,i<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const f=e.subarray(r,r+i);if(f.length!==i)throw new n(\"tlv.decode: wrong value length\");return{v:f,l:e.subarray(r+i)}}},_int:{encode(t){const{Err:e}=vt;if(t<he)throw new e(\"integer: negative integers are not allowed\");let n=$e(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=vt;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return Ce(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=vt,o=rt(\"signature\",t),{v:s,l:i}=r.decode(48,o);if(i.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:f,l:a}=r.decode(2,s),{v:l,l:c}=r.decode(2,a);if(c.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(f),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=vt,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),s=r+o;return e.encode(48,s)}},he=BigInt(0),pe=BigInt(1),Nc=BigInt(2),He=BigInt(3),Oc=BigInt(4);function Uc(t,e,n){function r(o){const s=t.sqr(o),i=t.mul(s,o);return t.add(t.add(i,t.mul(o,e)),n)}return r}function To(t,e,n){const{BYTES:r}=t;function o(s){let i;if(typeof s==\"bigint\")i=s;else{let f=rt(\"private key\",s);if(e){if(!e.includes(f.length*2))throw new Error(\"invalid private key\");const a=new Uint8Array(r);a.set(f,a.length-f.length),f=a}try{i=t.fromBytes(f)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(i=t.create(i)),!t.isValidNot0(i))throw new Error(\"invalid private key: out of range [1..N-1]\");return i}return o}function _c(t,e={}){const{Fp:n,Fn:r}=yc(\"weierstrass\",t,e),{h:o,n:s}=t;ke(e,{},{allowInfinityPoint:\"boolean\",clearCofactor:\"function\",isTorsionFree:\"function\",fromBytes:\"function\",toBytes:\"function\",endo:\"object\",wrapPrivateKey:\"boolean\"});const{endo:i}=e;if(i&&(!n.is0(t.a)||typeof i.beta!=\"bigint\"||typeof i.splitScalar!=\"function\"))throw new Error('invalid endo: expected \"beta\": bigint and \"splitScalar\": function');function f(){if(!n.isOdd)throw new Error(\"compression is not supported: Field does not have .isOdd()\")}function a($,d,m){const{x:p,y:b}=d.toAffine(),v=n.toBytes(p);if(Re(\"isCompressed\",m),m){f();const B=!n.isOdd(b);return Ht(Ro(B),v)}else return Ht(Uint8Array.of(4),v,n.toBytes(b))}function l($){at($);const d=n.BYTES,m=d+1,p=2*d+1,b=$.length,v=$[0],B=$.subarray(1);if(b===m&&(v===2||v===3)){const E=n.fromBytes(B);if(!n.isValid(E))throw new Error(\"bad point: is not on curve, wrong x\");const I=h(E);let S;try{S=n.sqrt(I)}catch(T){const U=T instanceof Error?\": \"+T.message:\"\";throw new Error(\"bad point: is not on curve, sqrt error\"+U)}f();const O=n.isOdd(S);return(v&1)===1!==O&&(S=n.neg(S)),{x:E,y:S}}else if(b===p&&v===4){const E=n.fromBytes(B.subarray(d*0,d*1)),I=n.fromBytes(B.subarray(d*1,d*2));if(!g(E,I))throw new Error(\"bad point: is not on curve\");return{x:E,y:I}}else throw new Error(`bad point: got length ${b}, expected compressed=${m} or uncompressed=${p}`)}const c=e.toBytes||a,u=e.fromBytes||l,h=Uc(n,t.a,t.b);function g($,d){const m=n.sqr(d),p=h($);return n.eql(m,p)}if(!g(t.Gx,t.Gy))throw new Error(\"bad curve params: generator point\");const w=n.mul(n.pow(t.a,He),Oc),y=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(w,y)))throw new Error(\"bad curve params: a or b\");function x($,d,m=!1){if(!n.isValid(d)||m&&n.is0(d))throw new Error(`bad point coordinate ${$}`);return d}function R($){if(!($ instanceof _))throw new Error(\"ProjectivePoint expected\")}const M=ho(($,d)=>{const{px:m,py:p,pz:b}=$;if(n.eql(b,n.ONE))return{x:m,y:p};const v=$.is0();d==null&&(d=v?n.ONE:n.inv(b));const B=n.mul(m,d),E=n.mul(p,d),I=n.mul(b,d);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error(\"invZ was invalid\");return{x:B,y:E}}),L=ho($=>{if($.is0()){if(e.allowInfinityPoint&&!n.is0($.py))return;throw new Error(\"bad point: ZERO\")}const{x:d,y:m}=$.toAffine();if(!n.isValid(d)||!n.isValid(m))throw new Error(\"bad point: x or y not field elements\");if(!g(d,m))throw new Error(\"bad point: equation left != right\");if(!$.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});function V($,d,m,p,b){return m=new _(n.mul(m.px,$),m.py,m.pz),d=le(p,d),m=le(b,m),d.add(m)}class _{constructor(d,m,p){this.px=x(\"x\",d),this.py=x(\"y\",m,!0),this.pz=x(\"z\",p),Object.freeze(this)}static fromAffine(d){const{x:m,y:p}=d||{};if(!d||!n.isValid(m)||!n.isValid(p))throw new Error(\"invalid affine point\");if(d instanceof _)throw new Error(\"projective point not allowed\");return n.is0(m)&&n.is0(p)?_.ZERO:new _(m,p,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){return lc(_,\"pz\",d)}static fromBytes(d){return at(d),_.fromHex(d)}static fromHex(d){const m=_.fromAffine(u(rt(\"pointHex\",d)));return m.assertValidity(),m}static fromPrivateKey(d){const m=To(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return _.BASE.multiply(m(d))}static msm(d,m){return bc(_,r,d,m)}precompute(d=8,m=!0){return j.setWindowSize(this,d),m||this.multiply(He),this}_setWindowSize(d){this.precompute(d)}assertValidity(){L(this)}hasEvenY(){const{y:d}=this.toAffine();if(!n.isOdd)throw new Error(\"Field doesn't support isOdd\");return!n.isOdd(d)}equals(d){R(d);const{px:m,py:p,pz:b}=this,{px:v,py:B,pz:E}=d,I=n.eql(n.mul(m,E),n.mul(v,b)),S=n.eql(n.mul(p,E),n.mul(B,b));return I&&S}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:m}=t,p=n.mul(m,He),{px:b,py:v,pz:B}=this;let E=n.ZERO,I=n.ZERO,S=n.ZERO,O=n.mul(b,b),A=n.mul(v,v),T=n.mul(B,B),U=n.mul(b,v);return U=n.add(U,U),S=n.mul(b,B),S=n.add(S,S),E=n.mul(d,S),I=n.mul(p,T),I=n.add(E,I),E=n.sub(A,I),I=n.add(A,I),I=n.mul(E,I),E=n.mul(U,E),S=n.mul(p,S),T=n.mul(d,T),U=n.sub(O,T),U=n.mul(d,U),U=n.add(U,S),S=n.add(O,O),O=n.add(S,O),O=n.add(O,T),O=n.mul(O,U),I=n.add(I,O),T=n.mul(v,B),T=n.add(T,T),O=n.mul(T,U),E=n.sub(E,O),S=n.mul(T,A),S=n.add(S,S),S=n.add(S,S),new _(E,I,S)}add(d){R(d);const{px:m,py:p,pz:b}=this,{px:v,py:B,pz:E}=d;let I=n.ZERO,S=n.ZERO,O=n.ZERO;const A=t.a,T=n.mul(t.b,He);let U=n.mul(m,v),C=n.mul(p,B),H=n.mul(b,E),q=n.add(m,p),P=n.add(v,B);q=n.mul(q,P),P=n.add(U,C),q=n.sub(q,P),P=n.add(m,b);let K=n.add(v,E);return P=n.mul(P,K),K=n.add(U,H),P=n.sub(P,K),K=n.add(p,b),I=n.add(B,E),K=n.mul(K,I),I=n.add(C,H),K=n.sub(K,I),O=n.mul(A,P),I=n.mul(T,H),O=n.add(I,O),I=n.sub(C,O),O=n.add(C,O),S=n.mul(I,O),C=n.add(U,U),C=n.add(C,U),H=n.mul(A,H),P=n.mul(T,P),C=n.add(C,H),H=n.sub(U,H),H=n.mul(A,H),P=n.add(P,H),U=n.mul(C,P),S=n.add(S,U),U=n.mul(K,P),I=n.mul(q,I),I=n.sub(I,U),U=n.mul(q,C),O=n.mul(K,O),O=n.add(O,U),new _(I,S,O)}subtract(d){return this.add(d.negate())}is0(){return this.equals(_.ZERO)}multiply(d){const{endo:m}=e;if(!r.isValidNot0(d))throw new Error(\"invalid scalar: out of range\");let p,b;const v=B=>j.wNAFCached(this,B,_.normalizeZ);if(m){const{k1neg:B,k1:E,k2neg:I,k2:S}=m.splitScalar(d),{p:O,f:A}=v(E),{p:T,f:U}=v(S);b=A.add(U),p=V(m.beta,O,T,B,I)}else{const{p:B,f:E}=v(d);p=B,b=E}return _.normalizeZ([p,b])[0]}multiplyUnsafe(d){const{endo:m}=e,p=this;if(!r.isValid(d))throw new Error(\"invalid scalar: out of range\");if(d===he||p.is0())return _.ZERO;if(d===pe)return p;if(j.hasPrecomputes(this))return this.multiply(d);if(m){const{k1neg:b,k1:v,k2neg:B,k2:E}=m.splitScalar(d),{p1:I,p2:S}=gc(_,p,v,E);return V(m.beta,I,S,b,B)}else return j.wNAFCachedUnsafe(p,d)}multiplyAndAddUnsafe(d,m,p){const b=this.multiplyUnsafe(m).add(d.multiplyUnsafe(p));return b.is0()?void 0:b}toAffine(d){return M(this,d)}isTorsionFree(){const{isTorsionFree:d}=e;return o===pe?!0:d?d(_,this):j.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:d}=e;return o===pe?this:d?d(_,this):this.multiplyUnsafe(o)}toBytes(d=!0){return Re(\"isCompressed\",d),this.assertValidity(),c(_,this,d)}toRawBytes(d=!0){return this.toBytes(d)}toHex(d=!0){return ce(this.toBytes(d))}toString(){return`<Point ${this.is0()?\"ZERO\":this.toHex()}>`}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const k=r.BITS,j=pc(_,e.endo?Math.ceil(k/2):k);return _}function Ro(t){return Uint8Array.of(t?2:3)}function Tc(t,e,n={}){ke(e,{hash:\"function\"},{hmac:\"function\",lowS:\"boolean\",randomBytes:\"function\",bits2int:\"function\",bits2int_modN:\"function\"});const r=e.randomBytes||Zt,o=e.hmac||((p,...b)=>_e(e.hash,p,Ht(...b))),{Fp:s,Fn:i}=t,{ORDER:f,BITS:a}=i;function l(p){const b=f>>pe;return p>b}function c(p){return l(p)?i.neg(p):p}function u(p,b){if(!i.isValidNot0(b))throw new Error(`invalid signature ${p}: out of range 1..CURVE.n`)}class h{constructor(b,v,B){u(\"r\",b),u(\"s\",v),this.r=b,this.s=v,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(b){const v=i.BYTES,B=rt(\"compactSignature\",b,v*2);return new h(i.fromBytes(B.subarray(0,v)),i.fromBytes(B.subarray(v,v*2)))}static fromDER(b){const{r:v,s:B}=vt.toSig(rt(\"DER\",b));return new h(v,B)}assertValidity(){}addRecoveryBit(b){return new h(this.r,this.s,b)}recoverPublicKey(b){const v=s.ORDER,{r:B,s:E,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error(\"recovery id invalid\");if(f*Nc<v&&I>1)throw new Error(\"recovery id is ambiguous for h>1 curve\");const O=I===2||I===3?B+f:B;if(!s.isValid(O))throw new Error(\"recovery id 2 or 3 invalid\");const A=s.toBytes(O),T=t.fromHex(Ht(Ro((I&1)===0),A)),U=i.inv(O),C=L(rt(\"msgHash\",b)),H=i.create(-C*U),q=i.create(E*U),P=t.BASE.multiplyUnsafe(H).add(T.multiplyUnsafe(q));if(P.is0())throw new Error(\"point at infinify\");return P.assertValidity(),P}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,i.neg(this.s),this.recovery):this}toBytes(b){if(b===\"compact\")return Ht(i.toBytes(this.r),i.toBytes(this.s));if(b===\"der\")return fn(vt.hexFromSig(this));throw new Error(\"invalid format\")}toDERRawBytes(){return this.toBytes(\"der\")}toDERHex(){return ce(this.toBytes(\"der\"))}toCompactRawBytes(){return this.toBytes(\"compact\")}toCompactHex(){return ce(this.toBytes(\"compact\"))}}const g=To(i,n.allowedPrivateKeyLengths,n.wrapPrivateKey),w={isValidPrivateKey(p){try{return g(p),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const p=f;return uc(r(Eo(p)),p)},precompute(p=8,b=t.BASE){return b.precompute(p,!1)}};function y(p,b=!0){return t.fromPrivateKey(p).toBytes(b)}function x(p){if(typeof p==\"bigint\")return!1;if(p instanceof t)return!0;const v=rt(\"key\",p).length,B=s.BYTES,E=B+1,I=2*B+1;if(!(n.allowedPrivateKeyLengths||i.BYTES===E))return v===E||v===I}function R(p,b,v=!0){if(x(p)===!0)throw new Error(\"first arg must be private key\");if(x(b)===!1)throw new Error(\"second arg must be public key\");return t.fromHex(b).multiply(g(p)).toBytes(v)}const M=e.bits2int||function(p){if(p.length>8192)throw new Error(\"input is too large\");const b=Ce(p),v=p.length*8-a;return v>0?b>>BigInt(v):b},L=e.bits2int_modN||function(p){return i.create(M(p))},V=je(a);function _(p){return Nn(\"num < 2^\"+a,p,he,V),i.toBytes(p)}function k(p,b,v=j){if([\"recovered\",\"canonical\"].some(q=>q in v))throw new Error(\"sign() legacy options not supported\");const{hash:B}=e;let{lowS:E,prehash:I,extraEntropy:S}=v;E==null&&(E=!0),p=rt(\"msgHash\",p),_o(v),I&&(p=rt(\"prehashed msgHash\",B(p)));const O=L(p),A=g(b),T=[_(A),_(O)];if(S!=null&&S!==!1){const q=S===!0?r(s.BYTES):S;T.push(rt(\"extraEntropy\",q))}const U=Ht(...T),C=O;function H(q){const P=M(q);if(!i.isValidNot0(P))return;const K=i.inv(P),et=t.BASE.multiply(P).toAffine(),Z=i.create(et.x);if(Z===he)return;const z=i.create(K*i.create(C+Z*A));if(z===he)return;let Ft=(et.x===Z?0:2)|Number(et.y&pe),yt=z;return E&&l(z)&&(yt=c(z),Ft^=1),new h(Z,yt,Ft)}return{seed:U,k2sig:H}}const j={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function d(p,b,v=j){const{seed:B,k2sig:E}=k(p,b,v);return ec(e.hash.outputLen,i.BYTES,o)(B,E)}t.BASE.precompute(8);function m(p,b,v,B=$){const E=p;b=rt(\"msgHash\",b),v=rt(\"publicKey\",v),_o(B);const{lowS:I,prehash:S,format:O}=B;if(\"strict\"in B)throw new Error(\"options.strict was renamed to lowS\");if(O!==void 0&&![\"compact\",\"der\",\"js\"].includes(O))throw new Error('format must be \"compact\", \"der\" or \"js\"');const A=typeof E==\"string\"||nn(E),T=!A&&!O&&typeof E==\"object\"&&E!==null&&typeof E.r==\"bigint\"&&typeof E.s==\"bigint\";if(!A&&!T)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");let U,C;try{if(T)if(O===void 0||O===\"js\")U=new h(E.r,E.s);else throw new Error(\"invalid format\");if(A){try{O!==\"compact\"&&(U=h.fromDER(E))}catch(yt){if(!(yt instanceof vt.Err))throw yt}!U&&O!==\"der\"&&(U=h.fromCompact(E))}C=t.fromHex(v)}catch{return!1}if(!U||I&&U.hasHighS())return!1;S&&(b=e.hash(b));const{r:H,s:q}=U,P=L(b),K=i.inv(q),et=i.create(P*K),Z=i.create(H*K),z=t.BASE.multiplyUnsafe(et).add(C.multiplyUnsafe(Z));return z.is0()?!1:i.create(z.x)===H}return Object.freeze({getPublicKey:y,getSharedSecret:R,sign:d,verify:m,utils:w,Point:t,Signature:h})}function Rc(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Yt(e.n,t.nBitLength),o={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function $c(t){const{CURVE:e,curveOpts:n}=Rc(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Cc(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Lc(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=$c(t),o=_c(e,n),s=Tc(o,r,n);return Cc(t,s)}function Rn(t,e){const n=r=>Lc({...t,hash:r});return{...n(e),create:n}}const $o={p:BigInt(\"0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff\"),n:BigInt(\"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\"),h:BigInt(1),a:BigInt(\"0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc\"),b:BigInt(\"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\"),Gx:BigInt(\"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\"),Gy:BigInt(\"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\")},Co={p:BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff\"),n:BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973\"),h:BigInt(1),a:BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc\"),b:BigInt(\"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef\"),Gx:BigInt(\"0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7\"),Gy:BigInt(\"0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\")},Lo={p:BigInt(\"0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"),n:BigInt(\"0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409\"),h:BigInt(1),a:BigInt(\"0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc\"),b:BigInt(\"0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00\"),Gx:BigInt(\"0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66\"),Gy:BigInt(\"0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\")},jc=Yt($o.p),kc=Yt(Co.p),Pc=Yt(Lo.p),Hc=Rn({...$o,Fp:jc,lowS:!1},Ae);Rn({...Co,Fp:kc,lowS:!1},Yi),Rn({...Lo,Fp:Pc,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Wi);const Dc=Hc,$n=\"base10\",tt=\"base16\",Qt=\"base64pad\",De=\"base64url\",te=\"utf8\",Cn=0,ee=1,ge=2,Mc=0,jo=1,be=12,Ln=32;function Vc(){const t=Tn.utils.randomPrivateKey(),e=Tn.getPublicKey(t);return{privateKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,tt),publicKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,tt)}}function qc(){const t=Zt(Ln);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,tt)}function Kc(t,e){const n=Tn.getSharedSecret((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,tt),(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,tt)),r=Jf(Te,n,void 0,void 0,Ln);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(r,tt)}function Fc(t){const e=Te((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,tt));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,tt)}function zc(t){const e=Te((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,te));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,tt)}function jn(t){return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(`${t}`,$n)}function Vt(t){return Number((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,$n))}function ko(t){return t.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\")}function Po(t){const e=t.replace(/-/g,\"+\").replace(/_/g,\"/\"),n=(4-e.length%4)%4;return e+\"=\".repeat(n)}function Gc(t){const e=jn(typeof t.type<\"u\"?t.type:Cn);if(Vt(e)===ee&&typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof t.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.senderPublicKey,tt):void 0,r=typeof t.iv<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.iv,tt):Zt(be),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,tt),s=co(o,r).encrypt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.message,te)),i=kn({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===De?ko(i):i}function Zc(t){const e=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,tt),{sealed:n,iv:r}=Me({encoded:t.encoded,encoding:t.encoding}),o=co(e,r).decrypt(n);if(o===null)throw new Error(\"Failed to decrypt\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(o,te)}function Wc(t,e){const n=jn(ge),r=Zt(be),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,te),s=kn({type:n,sealed:o,iv:r});return e===De?ko(s):s}function Yc(t,e){const{sealed:n}=Me({encoded:t,encoding:e});return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n,te)}function kn(t){if(Vt(t.type)===ge)return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.sealed]),Qt);if(Vt(t.type)===ee){if(typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.senderPublicKey,t.iv,t.sealed]),Qt)}return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.iv,t.sealed]),Qt)}function Me(t){const e=(t.encoding||Qt)===De?Po(t.encoded):t.encoded,n=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,Qt),r=n.slice(Mc,jo),o=jo;if(Vt(r)===ee){const a=o+Ln,l=a+be,c=n.slice(o,a),u=n.slice(a,l),h=n.slice(l);return{type:r,sealed:h,iv:u,senderPublicKey:c}}if(Vt(r)===ge){const a=n.slice(o),l=Zt(be);return{type:r,sealed:a,iv:l}}const s=o+be,i=n.slice(o,s),f=n.slice(s);return{type:r,sealed:f,iv:i}}function Xc(t,e){const n=Me({encoded:t,encoding:e?.encoding});return Ho({type:Vt(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n.senderPublicKey,tt):void 0,receiverPublicKey:e?.receiverPublicKey})}function Ho(t){const e=t?.type||Cn;if(e===ee){if(typeof t?.senderPublicKey>\"u\")throw new Error(\"missing sender public key\");if(typeof t?.receiverPublicKey>\"u\")throw new Error(\"missing receiver public key\")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Jc(t){return t.type===ee&&typeof t.senderPublicKey==\"string\"&&typeof t.receiverPublicKey==\"string\"}function Qc(t){return t.type===ge}function Do(t){const e=Buffer.from(t.x,\"base64\"),n=Buffer.from(t.y,\"base64\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([new Uint8Array([4]),e,n])}function ta(t,e){const[n,r,o]=t.split(\".\"),s=Buffer.from(Po(o),\"base64\");if(s.length!==64)throw new Error(\"Invalid signature length\");const i=s.slice(0,32),f=s.slice(32,64),a=`${n}.${r}`,l=Te(a),c=Do(e);if(!Dc.verify((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([i,f]),l,c))throw new Error(\"Invalid signature\");return (0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__.decodeJWT)(t).payload}const Mo=\"irn\";function ea(t){return t?.relay||{protocol:Mo}}function na(t){const e=_walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__.RELAY_JSONRPC[t];if(typeof e>\"u\")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Vo(t,e=\"-\"){const n={},r=\"relay\"+e;return Object.keys(t).forEach(o=>{if(o.startsWith(r)){const s=o.replace(r,\"\"),i=t[o];n[s]=i}}),n}function ra(t){if(!t.includes(\"wc:\")){const l=Qe(t);l!=null&&l.includes(\"wc:\")&&(t=l)}t=t.includes(\"wc://\")?t.replace(\"wc://\",\"\"):t,t=t.includes(\"wc:\")?t.replace(\"wc:\",\"\"):t;const e=t.indexOf(\":\"),n=t.indexOf(\"?\")!==-1?t.indexOf(\"?\"):void 0,r=t.substring(0,e),o=t.substring(e+1,n).split(\"@\"),s=typeof n<\"u\"?t.substring(n):\"\",i=new URLSearchParams(s),f={};i.forEach((l,c)=>{f[c]=l});const a=typeof f.methods==\"string\"?f.methods.split(\",\"):void 0;return{protocol:r,topic:qo(o[0]),version:parseInt(o[1],10),symKey:f.symKey,relay:Vo(f),methods:a,expiryTimestamp:f.expiryTimestamp?parseInt(f.expiryTimestamp,10):void 0}}function qo(t){return t.startsWith(\"//\")?t.substring(2):t}function Ko(t,e=\"-\"){const n=\"relay\",r={};return Object.keys(t).forEach(o=>{const s=o,i=n+e+s;t[s]&&(r[i]=t[s])}),r}function oa(t){const e=new URLSearchParams,n=Ko(t.relay);Object.keys(n).sort().forEach(o=>{e.set(o,n[o])}),e.set(\"symKey\",t.symKey),t.expiryTimestamp&&e.set(\"expiryTimestamp\",t.expiryTimestamp.toString()),t.methods&&e.set(\"methods\",t.methods.join(\",\"));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function sa(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var ia=Object.defineProperty,fa=Object.defineProperties,ca=Object.getOwnPropertyDescriptors,Fo=Object.getOwnPropertySymbols,aa=Object.prototype.hasOwnProperty,ua=Object.prototype.propertyIsEnumerable,zo=(t,e,n)=>e in t?ia(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,la=(t,e)=>{for(var n in e||(e={}))aa.call(e,n)&&zo(t,n,e[n]);if(Fo)for(var n of Fo(e))ua.call(e,n)&&zo(t,n,e[n]);return t},da=(t,e)=>fa(t,ca(e));function qt(t){const e=[];return t.forEach(n=>{const[r,o]=n.split(\":\");e.push(`${r}:${o}`)}),e}function Go(t){const e=[];return Object.values(t).forEach(n=>{e.push(...qt(n.accounts))}),e}function Zo(t,e){const n=[];return Object.values(t).forEach(r=>{qt(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Wo(t,e){const n=[];return Object.values(t).forEach(r=>{qt(r.accounts).includes(e)&&n.push(...r.events)}),n}function ha(t,e){const n=is(t,e);if(n)throw new Error(n.message);const r={};for(const[o,s]of Object.entries(t))r[o]={methods:s.methods,events:s.events,chains:s.accounts.map(i=>`${i.split(\":\")[0]}:${i.split(\":\")[1]}`)};return r}function pa(t){var e;const{proposal:{requiredNamespaces:n,optionalNamespaces:r={}},supportedNamespaces:o}=t,s=ye(n),i=ye(r),f={};Object.keys(o).forEach(c=>{const u=o[c].chains,h=o[c].methods,g=o[c].events,w=o[c].accounts;u.forEach(y=>{if(!w.some(x=>x.includes(y)))throw new Error(`No accounts provided for chain ${y} in namespace ${c}`)}),f[c]={chains:u,methods:h,events:g,accounts:w}});const a=cs(n,f,\"approve()\");if(a)throw new Error(a.message);const l={};if(!Object.keys(n).length&&!Object.keys(r).length)return f;Object.keys(s).forEach(c=>{const u=o[c].chains.filter(y=>{var x,R;return(R=(x=s[c])==null?void 0:x.chains)==null?void 0:R.includes(y)}),h=o[c].methods.filter(y=>{var x,R;return(R=(x=s[c])==null?void 0:x.methods)==null?void 0:R.includes(y)}),g=o[c].events.filter(y=>{var x,R;return(R=(x=s[c])==null?void 0:x.events)==null?void 0:R.includes(y)}),w=u.map(y=>o[c].accounts.filter(x=>x.includes(`${y}:`))).flat();l[c]={chains:u,methods:h,events:g,accounts:w}}),Object.keys(i).forEach(c=>{var u,h,g,w,y,x;if(!o[c])return;const R=(h=(u=i[c])==null?void 0:u.chains)==null?void 0:h.filter(_=>o[c].chains.includes(_)),M=o[c].methods.filter(_=>{var k,j;return(j=(k=i[c])==null?void 0:k.methods)==null?void 0:j.includes(_)}),L=o[c].events.filter(_=>{var k,j;return(j=(k=i[c])==null?void 0:k.events)==null?void 0:j.includes(_)}),V=R?.map(_=>o[c].accounts.filter(k=>k.includes(`${_}:`))).flat();l[c]={chains:ct((g=l[c])==null?void 0:g.chains,R),methods:ct((w=l[c])==null?void 0:w.methods,M),events:ct((y=l[c])==null?void 0:y.events,L),accounts:ct((x=l[c])==null?void 0:x.accounts,V)}});for(const[c,u]of Object.entries(l))(u.accounts.length===0||((e=u?.chains)==null?void 0:e.length)===0)&&delete l[c];return l}function Pn(t){return t.includes(\":\")}function Yo(t){return Pn(t)?t.split(\":\")[0]:t}function ye(t){var e,n,r;const o={};if(!Ve(t))return o;for(const[s,i]of Object.entries(t)){const f=Pn(s)?[s]:i.chains,a=i.methods||[],l=i.events||[],c=Yo(s);o[c]=da(la({},o[c]),{chains:ct(f,(e=o[c])==null?void 0:e.chains),methods:ct(a,(n=o[c])==null?void 0:n.methods),events:ct(l,(r=o[c])==null?void 0:r.events)})}return o}function Xo(t){const e={};return t?.forEach(n=>{var r;const[o,s]=n.split(\":\");e[o]||(e[o]={accounts:[],chains:[],events:[],methods:[]}),e[o].accounts.push(n),(r=e[o].chains)==null||r.push(`${o}:${s}`)}),e}function ga(t,e){e=e.map(r=>r.replace(\"did:pkh:\",\"\"));const n=Xo(e);for(const[r,o]of Object.entries(n))o.methods?o.methods=ct(o.methods,t):o.methods=t,o.events=[\"chainChanged\",\"accountsChanged\"];return n}function ba(t,e){var n,r,o,s,i,f;const a=ye(t),l=ye(e),c={},u=Object.keys(a).concat(Object.keys(l));for(const h of u)c[h]={chains:ct((n=a[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:ct((o=a[h])==null?void 0:o.methods,(s=l[h])==null?void 0:s.methods),events:ct((i=a[h])==null?void 0:i.events,(f=l[h])==null?void 0:f.events)};return c}const Jo={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},Qo={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function Et(t,e){const{message:n,code:r}=Qo[t];return{message:e?`${n} ${e}`:n,code:r}}function Kt(t,e){const{message:n,code:r}=Jo[t];return{message:e?`${n} ${e}`:n,code:r}}function me(t,e){return Array.isArray(t)?typeof e<\"u\"&&t.length?t.every(e):!0:!1}function Ve(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function kt(t){return typeof t>\"u\"}function it(t,e){return e&&kt(t)?!0:typeof t==\"string\"&&!!t.trim().length}function qe(t,e){return e&&kt(t)?!0:typeof t==\"number\"&&!isNaN(t)}function ya(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),o=Object.keys(n);let s=!0;return It(o,r)?(r.forEach(i=>{const{accounts:f,methods:a,events:l}=t.namespaces[i],c=qt(f),u=n[i];(!It(ve(i,u),c)||!It(u.methods,a)||!It(u.events,l))&&(s=!1)}),s):!1}function we(t){return it(t,!1)&&t.includes(\":\")?t.split(\":\").length===2:!1}function ts(t){if(it(t,!1)&&t.includes(\":\")){const e=t.split(\":\");if(e.length===3){const n=e[0]+\":\"+e[1];return!!e[2]&&we(n)}}return!1}function ma(t){function e(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(it(t,!1)){if(e(t))return!0;const n=Qe(t);return e(n)}}catch{}return!1}function wa(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function xa(t){return t?.topic}function va(t,e){let n=null;return it(t?.publicKey,!1)||(n=Et(\"MISSING_OR_INVALID\",`${e} controller public key should be a string`)),n}function Hn(t){let e=!0;return me(t)?t.length&&(e=t.every(n=>it(n,!1))):e=!1,e}function es(t,e,n){let r=null;return me(e)&&e.length?e.forEach(o=>{r||we(o)||(r=Kt(\"UNSUPPORTED_CHAINS\",`${n}, chain ${o} should be a string and conform to \"namespace:chainId\" format`))}):we(t)||(r=Kt(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function ns(t,e,n){let r=null;return Object.entries(t).forEach(([o,s])=>{if(r)return;const i=es(o,ve(o,s),`${e} ${n}`);i&&(r=i)}),r}function rs(t,e){let n=null;return me(t)?t.forEach(r=>{n||ts(r)||(n=Kt(\"UNSUPPORTED_ACCOUNTS\",`${e}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=Kt(\"UNSUPPORTED_ACCOUNTS\",`${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function os(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=rs(r?.accounts,`${e} namespace`);o&&(n=o)}),n}function ss(t,e){let n=null;return Hn(t?.methods)?Hn(t?.events)||(n=Kt(\"UNSUPPORTED_EVENTS\",`${e}, events should be an array of strings or empty array for no events`)):n=Kt(\"UNSUPPORTED_METHODS\",`${e}, methods should be an array of strings or empty array for no methods`),n}function Dn(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=ss(r,`${e}, namespace`);o&&(n=o)}),n}function Ea(t,e,n){let r=null;if(t&&Ve(t)){const o=Dn(t,e);o&&(r=o);const s=ns(t,e,n);s&&(r=s)}else r=Et(\"MISSING_OR_INVALID\",`${e}, ${n} should be an object with data`);return r}function is(t,e){let n=null;if(t&&Ve(t)){const r=Dn(t,e);r&&(n=r);const o=os(t,e);o&&(n=o)}else n=Et(\"MISSING_OR_INVALID\",`${e}, namespaces should be an object with data`);return n}function fs(t){return it(t.protocol,!0)}function Ba(t,e){let n=!1;return e&&!t?n=!0:t&&me(t)&&t.length&&t.forEach(r=>{n=fs(r)}),n}function Ia(t){return typeof t==\"number\"}function Aa(t){return typeof t<\"u\"&&typeof t!==null}function Sa(t){return!(!t||typeof t!=\"object\"||!t.code||!qe(t.code,!1)||!t.message||!it(t.message,!1))}function Na(t){return!(kt(t)||!it(t.method,!1))}function Oa(t){return!(kt(t)||kt(t.result)&&kt(t.error)||!qe(t.id,!1)||!it(t.jsonrpc,!1))}function Ua(t){return!(kt(t)||!it(t.name,!1))}function _a(t,e){return!(!we(e)||!Go(t).includes(e))}function Ta(t,e,n){return it(n,!1)?Zo(t,e).includes(n):!1}function Ra(t,e,n){return it(n,!1)?Wo(t,e).includes(n):!1}function cs(t,e,n){let r=null;const o=$a(t),s=Ca(e),i=Object.keys(o),f=Object.keys(s),a=as(Object.keys(t)),l=as(Object.keys(e)),c=a.filter(u=>!l.includes(u));return c.length&&(r=Et(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${c.toString()}\n      Received: ${Object.keys(e).toString()}`)),It(i,f)||(r=Et(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${i.toString()}\n      Approved: ${f.toString()}`)),Object.keys(e).forEach(u=>{if(!u.includes(\":\")||r)return;const h=qt(e[u].accounts);h.includes(u)||(r=Et(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${u}\n        Required: ${u}\n        Approved: ${h.toString()}`))}),i.forEach(u=>{r||(It(o[u].methods,s[u].methods)?It(o[u].events,s[u].events)||(r=Et(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${u}`)):r=Et(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${u}`))}),r}function $a(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(\":\")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(o=>{e[o]={methods:t[n].methods,events:t[n].events}})}),e}function as(t){return[...new Set(t.map(e=>e.includes(\":\")?e.split(\":\")[0]:e))]}function Ca(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(\":\"))e[n]=t[n];else{const r=qt(t[n].accounts);r?.forEach(o=>{e[o]={accounts:t[n].accounts.filter(s=>s.includes(`${o}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function La(t,e){return qe(t,!1)&&t<=e.max&&t>=e.min}function ja(){const t=Pt();return new Promise(e=>{switch(t){case J.browser:e(us());break;case J.reactNative:e(ls());break;case J.node:e(ds());break;default:e(!0)}})}function us(){return zt()&&navigator?.onLine}async function ls(){if(Bt()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return!0}function ds(){return!0}function ka(t){switch(Pt()){case J.browser:hs(t);break;case J.reactNative:ps(t);break;case J.node:break}}function hs(t){!Bt()&&zt()&&(window.addEventListener(\"online\",()=>t(!0)),window.addEventListener(\"offline\",()=>t(!1)))}function ps(t){Bt()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function Pa(){var t;return zt()&&(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()?((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())==null?void 0:t.visibilityState)===\"visible\":!0}const Mn={};class Ha{static get(e){return Mn[e]}static set(e,n){Mn[e]=n}static delete(e){delete Mn[e]}}function gs(t){const e=bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(t);if(e.length<33)throw new Error(\"Too short to contain a public key\");return e.slice(1,33)}function bs({publicKey:t,signature:e,payload:n}){var r;const o=Vn(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||\"4\"),i=Ma(n.address),f=n.era===\"00\"?new Uint8Array([0]):Vn(n.era);if(f.length!==1&&f.length!==2)throw new Error(\"Invalid era length\");const a=parseInt(n.nonce,16),l=new Uint8Array([a&255,a>>8&255]),c=BigInt(`0x${Da(n.tip)}`),u=qa(c),h=new Uint8Array([0,...t,i,...e,...f,...l,...u,...o]),g=Va(h.length+1);return new Uint8Array([...g,s,...h])}function ys(t){const e=Vn(t),n=(0,blakejs__WEBPACK_IMPORTED_MODULE_7__.blake2b)(e,void 0,32);return\"0x\"+Buffer.from(n).toString(\"hex\")}function Vn(t){return new Uint8Array(t.replace(/^0x/,\"\").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Da(t){return t.startsWith(\"0x\")?t.slice(2):t}function Ma(t){const e=bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(t)[0];return e===42?0:e===60?2:1}function Va(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error(\"Compact encoding > 2^30 not supported\")}function qa(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error(\"BigInt compact encoding not supported > 2^30\")}function Ka(t){const e=Uint8Array.from(Buffer.from(t.signature,\"hex\")),n=gs(t.transaction.address),r=bs({publicKey:n,signature:e,payload:t.transaction}),o=Buffer.from(r).toString(\"hex\");return ys(o)}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpcUIsYUFBYSxlQUFlLHVCQUF1QixPQUFPLHlCQUF5QixlQUFlLE1BQU0sd0JBQXdCLEdBQUcscUJBQXFCLGVBQWUseUJBQXlCLE9BQU8sbUNBQW1DLGVBQWUsTUFBTSxrQ0FBa0MsR0FBRyx1QkFBdUIsaUJBQWlCLFdBQVcscUJBQXFCLGFBQWEseUJBQXlCLElBQUksZUFBZSxNQUFNLFVBQVUsT0FBTyxTQUFTLGVBQWUsTUFBTSx3QkFBd0IsT0FBTyxXQUFXLHdCQUF3QixFQUFFLGlCQUFpQixNQUFNLHdCQUF3QixPQUFPLFdBQVcsa0NBQWtDLEVBQUUsZUFBZSxnQkFBZ0IsZUFBZSxnQkFBZ0Isb0JBQW9CLFdBQVcsa0NBQWtDLG1DQUFtQyxhQUFhLHNCQUFzQixJQUFJLG9CQUFvQixXQUFXLGtDQUFrQyxtQ0FBbUMsYUFBYSwwQkFBMEIsSUFBSSxvQkFBb0IsV0FBVyxrQ0FBa0MsbUNBQW1DLGFBQWEsbUJBQW1CLElBQUksaUJBQWlCLHdDQUF3QyxtT0FBbU8sa0RBQWtELG9CQUFvQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLHFFQUFxRSwwQkFBMEIsMkVBQTJFLDBDQUEwQyxjQUFjLHlGQUF5RixjQUFjLE9BQU8sMEVBQUUsTUFBTSwyRUFBRSwyQkFBMkIsY0FBYyxzSUFBc0ksY0FBYyxrSUFBa0ksY0FBYyxl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QUE4RCxlQUFlLHdFQUF3RSw0QkFBNEIsK0JBQStCLGdGQUFnRixpQ0FBaUMsK0JBQStCLG9KQUFvSixxRUFBcUUsZUFBZSwwRkFBMEYsOENBQThDLG1DQUFtQyxhQUFxeEo7QUFDMTRRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL2Rpc3QvaW5kZXguZXMuanM/ODkwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7ZGV0ZWN0IGFzIG1zfWZyb21cImRldGVjdC1icm93c2VyXCI7aW1wb3J0e3RvTWlsaXNlY29uZHMgYXMgS2UsRklWRV9NSU5VVEVTIGFzIEtuLGZyb21NaWxpc2Vjb25kcyBhcyB3c31mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e2dldERvY3VtZW50IGFzIG5lLGdldE5hdmlnYXRvciBhcyBGbixnZXRMb2NhdGlvbiBhcyB6bn1mcm9tXCJAd2FsbGV0Y29ubmVjdC93aW5kb3ctZ2V0dGVyc1wiO2ltcG9ydHtnZXRXaW5kb3dNZXRhZGF0YSBhcyB4c31mcm9tXCJAd2FsbGV0Y29ubmVjdC93aW5kb3ctbWV0YWRhdGFcIjtpbXBvcnR7cmVjb3ZlckFkZHJlc3MgYXMgdnN9ZnJvbVwidmllbVwiO2ltcG9ydCByZSBmcm9tXCJiczU4XCI7aW1wb3J0e2RlY29kZSBhcyBFcyxlbmNvZGUgYXMgQnN9ZnJvbVwiQG1zZ3BhY2svbXNncGFja1wiO2ltcG9ydHtiYXNlMzIgYXMgSXN9ZnJvbVwiQHNjdXJlL2Jhc2VcIjtpbXBvcnR7ZGVjb2RlSldUIGFzIEFzfWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7dG9TdHJpbmcgYXMgc3QsZnJvbVN0cmluZyBhcyBmdCxjb25jYXQgYXMgb2V9ZnJvbVwidWludDhhcnJheXNcIjtpbXBvcnR7UkVMQVlfSlNPTlJQQyBhcyBTc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9yZWxheS1hcGlcIjtpbXBvcnR7Ymxha2UyYiBhcyBOc31mcm9tXCJibGFrZWpzXCI7Y29uc3QgeGU9XCI6XCI7ZnVuY3Rpb24gRmUodCl7Y29uc3RbZSxuXT10LnNwbGl0KHhlKTtyZXR1cm57bmFtZXNwYWNlOmUscmVmZXJlbmNlOm59fWZ1bmN0aW9uIEduKHQpe2NvbnN0e25hbWVzcGFjZTplLHJlZmVyZW5jZTpufT10O3JldHVybltlLG5dLmpvaW4oeGUpfWZ1bmN0aW9uIHplKHQpe2NvbnN0W2UsbixyXT10LnNwbGl0KHhlKTtyZXR1cm57bmFtZXNwYWNlOmUscmVmZXJlbmNlOm4sYWRkcmVzczpyfX1mdW5jdGlvbiBabih0KXtjb25zdHtuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bixhZGRyZXNzOnJ9PXQ7cmV0dXJuW2UsbixyXS5qb2luKHhlKX1mdW5jdGlvbiBHZSh0LGUpe2NvbnN0IG49W107cmV0dXJuIHQuZm9yRWFjaChyPT57Y29uc3Qgbz1lKHIpO24uaW5jbHVkZXMobyl8fG4ucHVzaChvKX0pLG59ZnVuY3Rpb24gV24odCl7Y29uc3R7YWRkcmVzczplfT16ZSh0KTtyZXR1cm4gZX1mdW5jdGlvbiBZbih0KXtjb25zdHtuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bn09emUodCk7cmV0dXJuIEduKHtuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bn0pfWZ1bmN0aW9uIE9zKHQsZSl7Y29uc3R7bmFtZXNwYWNlOm4scmVmZXJlbmNlOnJ9PUZlKGUpO3JldHVybiBabih7bmFtZXNwYWNlOm4scmVmZXJlbmNlOnIsYWRkcmVzczp0fSl9ZnVuY3Rpb24gVXModCl7cmV0dXJuIEdlKHQsV24pfWZ1bmN0aW9uIFhuKHQpe3JldHVybiBHZSh0LFluKX1mdW5jdGlvbiBfcyh0LGU9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e2lmKGUubGVuZ3RoJiYhZS5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz10W3JdO24ucHVzaCguLi5vLmFjY291bnRzKX0pLG59ZnVuY3Rpb24gVHModCxlPVtdKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHI9PntpZihlLmxlbmd0aCYmIWUuaW5jbHVkZXMocikpcmV0dXJuO2NvbnN0IG89dFtyXTtuLnB1c2goLi4uWG4oby5hY2NvdW50cykpfSksbn1mdW5jdGlvbiBScyh0LGU9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e2lmKGUubGVuZ3RoJiYhZS5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz10W3JdO24ucHVzaCguLi52ZShyLG8pKX0pLG59ZnVuY3Rpb24gdmUodCxlKXtyZXR1cm4gdC5pbmNsdWRlcyhcIjpcIik/W3RdOmUuY2hhaW5zfHxbXX12YXIgJHM9T2JqZWN0LmRlZmluZVByb3BlcnR5LENzPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLExzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLEpuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsanM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxrcz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFplPSh0LGUsbik9PmUgaW4gdD8kcyh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTp0W2VdPW4sUW49KHQsZSk9Pntmb3IodmFyIG4gaW4gZXx8KGU9e30pKWpzLmNhbGwoZSxuKSYmWmUodCxuLGVbbl0pO2lmKEpuKWZvcih2YXIgbiBvZiBKbihlKSlrcy5jYWxsKGUsbikmJlplKHQsbixlW25dKTtyZXR1cm4gdH0sUHM9KHQsZSk9PkNzKHQsTHMoZSkpLHRyPSh0LGUsbik9PlplKHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsbik7Y29uc3QgZXI9XCJSZWFjdE5hdGl2ZVwiLEo9e3JlYWN0TmF0aXZlOlwicmVhY3QtbmF0aXZlXCIsbm9kZTpcIm5vZGVcIixicm93c2VyOlwiYnJvd3NlclwiLHVua25vd246XCJ1bmtub3duXCJ9LEVlPVwiIFwiLEhzPVwiOlwiLG5yPVwiL1wiLFdlPTIsRHM9MWUzLHJyPVwianNcIjtmdW5jdGlvbiBZZSgpe3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM8XCJ1XCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU8XCJ1XCJ9ZnVuY3Rpb24gQnQoKXtyZXR1cm4hbmUoKSYmISFGbigpJiZuYXZpZ2F0b3IucHJvZHVjdD09PWVyfWZ1bmN0aW9uIE1zKCl7cmV0dXJuIEJ0KCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCImJihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybS5PUyk9PT1cImFuZHJvaWRcIn1mdW5jdGlvbiBWcygpe3JldHVybiBCdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0pPFwidVwiJiYoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0uT1MpPT09XCJpb3NcIn1mdW5jdGlvbiB6dCgpe3JldHVybiFZZSgpJiYhIUZuKCkmJiEhbmUoKX1mdW5jdGlvbiBQdCgpe3JldHVybiBCdCgpP0oucmVhY3ROYXRpdmU6WWUoKT9KLm5vZGU6enQoKT9KLmJyb3dzZXI6Si51bmtub3dufWZ1bmN0aW9uIHFzKCl7dmFyIHQ7dHJ5e3JldHVybiBCdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuQXBwbGljYXRpb24pPFwidVwiPyh0PWdsb2JhbC5BcHBsaWNhdGlvbik9PW51bGw/dm9pZCAwOnQuYXBwbGljYXRpb25JZDp2b2lkIDB9Y2F0Y2h7cmV0dXJufX1mdW5jdGlvbiBvcih0LGUpe2NvbnN0IG49bmV3IFVSTFNlYXJjaFBhcmFtcyh0KTtmb3IoY29uc3QgciBvZiBPYmplY3Qua2V5cyhlKS5zb3J0KCkpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSl7Y29uc3Qgbz1lW3JdO28hPT12b2lkIDAmJm4uc2V0KHIsbyl9cmV0dXJuIG4udG9TdHJpbmcoKX1mdW5jdGlvbiBLcyh0KXt2YXIgZSxuO2NvbnN0IHI9c3IoKTt0cnl7cmV0dXJuIHQhPW51bGwmJnQudXJsJiZyLnVybCYmbmV3IFVSTCh0LnVybCkuaG9zdCE9PW5ldyBVUkwoci51cmwpLmhvc3QmJihjb25zb2xlLndhcm4oYFRoZSBjb25maWd1cmVkIFdhbGxldENvbm5lY3QgJ21ldGFkYXRhLnVybCc6JHt0LnVybH0gZGlmZmVycyBmcm9tIHRoZSBhY3R1YWwgcGFnZSB1cmw6JHtyLnVybH0uIFRoaXMgaXMgcHJvYmFibHkgdW5pbnRlbmRlZCBhbmQgY2FuIGxlYWQgdG8gaXNzdWVzLmApLHQudXJsPXIudXJsKSwoZT10Py5pY29ucykhPW51bGwmJmUubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wJiYodC5pY29ucz10Lmljb25zLmZpbHRlcihvPT5vIT09XCJcIikpLFBzKFFuKFFuKHt9LHIpLHQpLHt1cmw6dD8udXJsfHxyLnVybCxuYW1lOnQ/Lm5hbWV8fHIubmFtZSxkZXNjcmlwdGlvbjp0Py5kZXNjcmlwdGlvbnx8ci5kZXNjcmlwdGlvbixpY29uczoobj10Py5pY29ucykhPW51bGwmJm4ubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wP3QuaWNvbnM6ci5pY29uc30pfWNhdGNoKG8pe3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvciBwb3B1bGF0aW5nIGFwcCBtZXRhZGF0YVwiLG8pLHR8fHJ9fWZ1bmN0aW9uIHNyKCl7cmV0dXJuIHhzKCl8fHtuYW1lOlwiXCIsZGVzY3JpcHRpb246XCJcIix1cmw6XCJcIixpY29uczpbXCJcIl19fWZ1bmN0aW9uIEZzKHQsZSl7dmFyIG47Y29uc3Qgcj1QdCgpLG89e3Byb3RvY29sOnQsdmVyc2lvbjplLGVudjpyfTtyZXR1cm4gcj09PVwiYnJvd3NlclwiJiYoby5ob3N0PSgobj16bigpKT09bnVsbD92b2lkIDA6bi5ob3N0KXx8XCJ1bmtub3duXCIpLG99ZnVuY3Rpb24gaXIoKXtpZihQdCgpPT09Si5yZWFjdE5hdGl2ZSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtKTxcInVcIil7Y29uc3R7T1M6bixWZXJzaW9uOnJ9PWdsb2JhbC5QbGF0Zm9ybTtyZXR1cm5bbixyXS5qb2luKFwiLVwiKX1jb25zdCB0PW1zKCk7aWYodD09PW51bGwpcmV0dXJuXCJ1bmtub3duXCI7Y29uc3QgZT10Lm9zP3Qub3MucmVwbGFjZShcIiBcIixcIlwiKS50b0xvd2VyQ2FzZSgpOlwidW5rbm93blwiO3JldHVybiB0LnR5cGU9PT1cImJyb3dzZXJcIj9bZSx0Lm5hbWUsdC52ZXJzaW9uXS5qb2luKFwiLVwiKTpbZSx0LnZlcnNpb25dLmpvaW4oXCItXCIpfWZ1bmN0aW9uIGZyKCl7dmFyIHQ7Y29uc3QgZT1QdCgpO3JldHVybiBlPT09Si5icm93c2VyP1tlLCgodD16bigpKT09bnVsbD92b2lkIDA6dC5ob3N0KXx8XCJ1bmtub3duXCJdLmpvaW4oXCI6XCIpOmV9ZnVuY3Rpb24gY3IodCxlLG4pe2NvbnN0IHI9aXIoKSxvPWZyKCk7cmV0dXJuW1t0LGVdLmpvaW4oXCItXCIpLFtycixuXS5qb2luKFwiLVwiKSxyLG9dLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIHpzKHtwcm90b2NvbDp0LHZlcnNpb246ZSxyZWxheVVybDpuLHNka1ZlcnNpb246cixhdXRoOm8scHJvamVjdElkOnMsdXNlT25DbG9zZUV2ZW50OmksYnVuZGxlSWQ6ZixwYWNrYWdlTmFtZTphfSl7Y29uc3QgbD1uLnNwbGl0KFwiP1wiKSxjPWNyKHQsZSxyKSx1PXthdXRoOm8sdWE6Yyxwcm9qZWN0SWQ6cyx1c2VPbkNsb3NlRXZlbnQ6aXx8dm9pZCAwLHBhY2thZ2VOYW1lOmF8fHZvaWQgMCxidW5kbGVJZDpmfHx2b2lkIDB9LGg9b3IobFsxXXx8XCJcIix1KTtyZXR1cm4gbFswXStcIj9cIitofWZ1bmN0aW9uIEdzKHQpe2xldCBlPSh0Lm1hdGNoKC9eW146XSsoPz06XFwvXFwvKS9naSl8fFtdKVswXTtjb25zdCBuPXR5cGVvZiBlPFwidVwiP3Quc3BsaXQoXCI6Ly9cIilbMV06dDtyZXR1cm4gZT1lPT09XCJ3c3NcIj9cImh0dHBzXCI6XCJodHRwXCIsW2Usbl0uam9pbihcIjovL1wiKX1mdW5jdGlvbiBacyh0LGUsbil7aWYoIXRbZV18fHR5cGVvZiB0W2VdIT09bil0aHJvdyBuZXcgRXJyb3IoYE1pc3Npbmcgb3IgaW52YWxpZCBcIiR7ZX1cIiBwYXJhbWApfWZ1bmN0aW9uIGFyKHQsZT1XZSl7cmV0dXJuIHVyKHQuc3BsaXQobnIpLGUpfWZ1bmN0aW9uIFdzKHQpe3JldHVybiBhcih0KS5qb2luKEVlKX1mdW5jdGlvbiBJdCh0LGUpe3JldHVybiB0LmZpbHRlcihuPT5lLmluY2x1ZGVzKG4pKS5sZW5ndGg9PT10Lmxlbmd0aH1mdW5jdGlvbiB1cih0LGU9V2Upe3JldHVybiB0LnNsaWNlKE1hdGgubWF4KHQubGVuZ3RoLWUsMCkpfWZ1bmN0aW9uIFlzKHQpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXModC5lbnRyaWVzKCkpfWZ1bmN0aW9uIFhzKHQpe3JldHVybiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHQpKX1mdW5jdGlvbiBKcyh0LGUpe2NvbnN0IG49e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e25bcl09ZSh0W3JdKX0pLG59Y29uc3QgUXM9dD0+dDtmdW5jdGlvbiBscih0KXtyZXR1cm4gdC50cmltKCkucmVwbGFjZSgvXlxcdy8sZT0+ZS50b1VwcGVyQ2FzZSgpKX1mdW5jdGlvbiB0aSh0KXtyZXR1cm4gdC5zcGxpdChFZSkubWFwKGU9PmxyKGUpKS5qb2luKEVlKX1mdW5jdGlvbiBlaSh0PUtuLGUpe2NvbnN0IG49S2UodHx8S24pO2xldCByLG8scyxpO3JldHVybntyZXNvbHZlOmY9PntzJiZyJiYoY2xlYXJUaW1lb3V0KHMpLHIoZiksaT1Qcm9taXNlLnJlc29sdmUoZikpfSxyZWplY3Q6Zj0+e3MmJm8mJihjbGVhclRpbWVvdXQocyksbyhmKSl9LGRvbmU6KCk9Pm5ldyBQcm9taXNlKChmLGEpPT57aWYoaSlyZXR1cm4gZihpKTtzPXNldFRpbWVvdXQoKCk9Pntjb25zdCBsPW5ldyBFcnJvcihlKTtpPVByb21pc2UucmVqZWN0KGwpLGEobCl9LG4pLHI9ZixvPWF9KX19ZnVuY3Rpb24gbmkodCxlLG4pe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLG8pPT57Y29uc3Qgcz1zZXRUaW1lb3V0KCgpPT5vKG5ldyBFcnJvcihuKSksZSk7dHJ5e2NvbnN0IGk9YXdhaXQgdDtyKGkpfWNhdGNoKGkpe28oaSl9Y2xlYXJUaW1lb3V0KHMpfSl9ZnVuY3Rpb24gWGUodCxlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIiYmZS5zdGFydHNXaXRoKGAke3R9OmApKXJldHVybiBlO2lmKHQudG9Mb3dlckNhc2UoKT09PVwidG9waWNcIil7aWYodHlwZW9mIGUhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBtdXN0IGJlIFwic3RyaW5nXCIgZm9yIGV4cGlyZXIgdGFyZ2V0IHR5cGU6IHRvcGljJyk7cmV0dXJuYHRvcGljOiR7ZX1gfWVsc2UgaWYodC50b0xvd2VyQ2FzZSgpPT09XCJpZFwiKXtpZih0eXBlb2YgZSE9XCJudW1iZXJcIil0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG11c3QgYmUgXCJudW1iZXJcIiBmb3IgZXhwaXJlciB0YXJnZXQgdHlwZTogaWQnKTtyZXR1cm5gaWQ6JHtlfWB9dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGV4cGlyZXIgdGFyZ2V0IHR5cGU6ICR7dH1gKX1mdW5jdGlvbiByaSh0KXtyZXR1cm4gWGUoXCJ0b3BpY1wiLHQpfWZ1bmN0aW9uIG9pKHQpe3JldHVybiBYZShcImlkXCIsdCl9ZnVuY3Rpb24gc2kodCl7Y29uc3RbZSxuXT10LnNwbGl0KFwiOlwiKSxyPXtpZDp2b2lkIDAsdG9waWM6dm9pZCAwfTtpZihlPT09XCJ0b3BpY1wiJiZ0eXBlb2Ygbj09XCJzdHJpbmdcIilyLnRvcGljPW47ZWxzZSBpZihlPT09XCJpZFwiJiZOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcihuKSkpci5pZD1OdW1iZXIobik7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGFyZ2V0LCBleHBlY3RlZCBpZDpudW1iZXIgb3IgdG9waWM6c3RyaW5nLCBnb3QgJHtlfToke259YCk7cmV0dXJuIHJ9ZnVuY3Rpb24gaWkodCxlKXtyZXR1cm4gd3MoKGV8fERhdGUubm93KCkpK0tlKHQpKX1mdW5jdGlvbiBmaSh0KXtyZXR1cm4gRGF0ZS5ub3coKT49S2UodCl9ZnVuY3Rpb24gY2kodCxlKXtyZXR1cm5gJHt0fSR7ZT9gOiR7ZX1gOlwiXCJ9YH1mdW5jdGlvbiBjdCh0PVtdLGU9W10pe3JldHVyblsuLi5uZXcgU2V0KFsuLi50LC4uLmVdKV19YXN5bmMgZnVuY3Rpb24gYWkoe2lkOnQsdG9waWM6ZSx3Y0RlZXBMaW5rOm59KXt2YXIgcjt0cnl7aWYoIW4pcmV0dXJuO2NvbnN0IG89dHlwZW9mIG49PVwic3RyaW5nXCI/SlNPTi5wYXJzZShuKTpuLHM9bz8uaHJlZjtpZih0eXBlb2YgcyE9XCJzdHJpbmdcIilyZXR1cm47Y29uc3QgaT1kcihzLHQsZSksZj1QdCgpO2lmKGY9PT1KLmJyb3dzZXIpe2lmKCEoKHI9bmUoKSkhPW51bGwmJnIuaGFzRm9jdXMoKSkpe2NvbnNvbGUud2FybihcIkRvY3VtZW50IGRvZXMgbm90IGhhdmUgZm9jdXMsIHNraXBwaW5nIGRlZXBsaW5rLlwiKTtyZXR1cm59aHIoaSl9ZWxzZSBmPT09Si5yZWFjdE5hdGl2ZSYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmcpPFwidVwiJiZhd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKGkpfWNhdGNoKG8pe2NvbnNvbGUuZXJyb3Iobyl9fWZ1bmN0aW9uIGRyKHQsZSxuKXtjb25zdCByPWByZXF1ZXN0SWQ9JHtlfSZzZXNzaW9uVG9waWM9JHtufWA7dC5lbmRzV2l0aChcIi9cIikmJih0PXQuc2xpY2UoMCwtMSkpO2xldCBvPWAke3R9YDtpZih0LnN0YXJ0c1dpdGgoXCJodHRwczovL3QubWVcIikpe2NvbnN0IHM9dC5pbmNsdWRlcyhcIj9cIik/XCImc3RhcnRhcHA9XCI6XCI/c3RhcnRhcHA9XCI7bz1gJHtvfSR7c30ke2JyKHIsITApfWB9ZWxzZSBvPWAke299L3djPyR7cn1gO3JldHVybiBvfWZ1bmN0aW9uIGhyKHQpe2xldCBlPVwiX3NlbGZcIjtncigpP2U9XCJfdG9wXCI6KHByKCl8fHQuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpfHx0LnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpKSYmKGU9XCJfYmxhbmtcIiksd2luZG93Lm9wZW4odCxlLFwibm9yZWZlcnJlciBub29wZW5lclwiKX1hc3luYyBmdW5jdGlvbiB1aSh0LGUpe2xldCBuPVwiXCI7dHJ5e2lmKHp0KCkmJihuPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpLG4pKXJldHVybiBuO249YXdhaXQgdC5nZXRJdGVtKGUpfWNhdGNoKHIpe2NvbnNvbGUuZXJyb3Iocil9cmV0dXJuIG59ZnVuY3Rpb24gSmUodCxlKXtyZXR1cm4gdC5maWx0ZXIobj0+ZS5pbmNsdWRlcyhuKSl9ZnVuY3Rpb24gbGkodCxlKXtpZighdC5pbmNsdWRlcyhlKSlyZXR1cm4gbnVsbDtjb25zdCBuPXQuc3BsaXQoLyhbJiw/LD1dKS8pLHI9bi5pbmRleE9mKGUpO3JldHVybiBuW3IrMl19ZnVuY3Rpb24gZGkoKXtyZXR1cm4gdHlwZW9mIGNyeXB0bzxcInVcIiYmY3J5cHRvIT1udWxsJiZjcnlwdG8ucmFuZG9tVVVJRD9jcnlwdG8ucmFuZG9tVVVJRCgpOlwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9ndSx0PT57Y29uc3QgZT1NYXRoLnJhbmRvbSgpKjE2fDA7cmV0dXJuKHQ9PT1cInhcIj9lOmUmM3w4KS50b1N0cmluZygxNil9KX1mdW5jdGlvbiBoaSgpe3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmcHJvY2Vzcy5lbnYuSVNfVklURVNUPT09XCJ0cnVlXCJ9ZnVuY3Rpb24gcHIoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzxcInVcIiYmKCEhd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5fHwhIXdpbmRvdy5UZWxlZ3JhbXx8ISF3aW5kb3cuVGVsZWdyYW1XZWJ2aWV3UHJveHlQcm90byl9ZnVuY3Rpb24gZ3IoKXt0cnl7cmV0dXJuIHdpbmRvdy5zZWxmIT09d2luZG93LnRvcH1jYXRjaHtyZXR1cm4hMX19ZnVuY3Rpb24gYnIodCxlPSExKXtjb25zdCBuPUJ1ZmZlci5mcm9tKHQpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO3JldHVybiBlP24ucmVwbGFjZSgvWz1dL2csXCJcIik6bn1mdW5jdGlvbiBRZSh0KXtyZXR1cm4gQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS50b1N0cmluZyhcInV0Zi04XCIpfWZ1bmN0aW9uIHBpKHQpe3JldHVybiBuZXcgUHJvbWlzZShlPT5zZXRUaW1lb3V0KGUsdCkpfWNsYXNzIGdpe2NvbnN0cnVjdG9yKHtsaW1pdDplfSl7dHIodGhpcyxcImxpbWl0XCIpLHRyKHRoaXMsXCJzZXRcIiksdGhpcy5saW1pdD1lLHRoaXMuc2V0PW5ldyBTZXR9YWRkKGUpe2lmKCF0aGlzLnNldC5oYXMoZSkpe2lmKHRoaXMuc2V0LnNpemU+PXRoaXMubGltaXQpe2NvbnN0IG49dGhpcy5zZXQudmFsdWVzKCkubmV4dCgpLnZhbHVlO24mJnRoaXMuc2V0LmRlbGV0ZShuKX10aGlzLnNldC5hZGQoZSl9fWhhcyhlKXtyZXR1cm4gdGhpcy5zZXQuaGFzKGUpfX1jb25zdCBCZT1CaWdJbnQoMioqMzItMSkseXI9QmlnSW50KDMyKTtmdW5jdGlvbiBtcih0LGU9ITEpe3JldHVybiBlP3toOk51bWJlcih0JkJlKSxsOk51bWJlcih0Pj55ciZCZSl9OntoOk51bWJlcih0Pj55ciZCZSl8MCxsOk51bWJlcih0JkJlKXwwfX1mdW5jdGlvbiB3cih0LGU9ITEpe2NvbnN0IG49dC5sZW5ndGg7bGV0IHI9bmV3IFVpbnQzMkFycmF5KG4pLG89bmV3IFVpbnQzMkFycmF5KG4pO2ZvcihsZXQgcz0wO3M8bjtzKyspe2NvbnN0e2g6aSxsOmZ9PW1yKHRbc10sZSk7W3Jbc10sb1tzXV09W2ksZl19cmV0dXJuW3Isb119Y29uc3QgeHI9KHQsZSxuKT0+dD4+Pm4sdnI9KHQsZSxuKT0+dDw8MzItbnxlPj4+bixBdD0odCxlLG4pPT50Pj4+bnxlPDwzMi1uLFN0PSh0LGUsbik9PnQ8PDMyLW58ZT4+Pm4sc2U9KHQsZSxuKT0+dDw8NjQtbnxlPj4+bi0zMixpZT0odCxlLG4pPT50Pj4+bi0zMnxlPDw2NC1uLGJpPSh0LGUpPT5lLHlpPSh0LGUpPT50LG1pPSh0LGUsbik9PnQ8PG58ZT4+PjMyLW4sd2k9KHQsZSxuKT0+ZTw8bnx0Pj4+MzItbix4aT0odCxlLG4pPT5lPDxuLTMyfHQ+Pj42NC1uLHZpPSh0LGUsbik9PnQ8PG4tMzJ8ZT4+PjY0LW47ZnVuY3Rpb24gZHQodCxlLG4scil7Y29uc3Qgbz0oZT4+PjApKyhyPj4+MCk7cmV0dXJue2g6dCtuKyhvLzIqKjMyfDApfDAsbDpvfDB9fWNvbnN0IHRuPSh0LGUsbik9Pih0Pj4+MCkrKGU+Pj4wKSsobj4+PjApLGVuPSh0LGUsbixyKT0+ZStuK3IrKHQvMioqMzJ8MCl8MCxFaT0odCxlLG4scik9Pih0Pj4+MCkrKGU+Pj4wKSsobj4+PjApKyhyPj4+MCksQmk9KHQsZSxuLHIsbyk9PmUrbityK28rKHQvMioqMzJ8MCl8MCxJaT0odCxlLG4scixvKT0+KHQ+Pj4wKSsoZT4+PjApKyhuPj4+MCkrKHI+Pj4wKSsobz4+PjApLEFpPSh0LGUsbixyLG8scyk9PmUrbityK28rcysodC8yKiozMnwwKXwwLEd0PXR5cGVvZiBnbG9iYWxUaGlzPT1cIm9iamVjdFwiJiZcImNyeXB0b1wiaW4gZ2xvYmFsVGhpcz9nbG9iYWxUaGlzLmNyeXB0bzp2b2lkIDA7ZnVuY3Rpb24gbm4odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJnQuY29uc3RydWN0b3IubmFtZT09PVwiVWludDhBcnJheVwifWZ1bmN0aW9uIG10KHQpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDwwKXRocm93IG5ldyBFcnJvcihcInBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIGdvdCBcIit0KX1mdW5jdGlvbiBhdCh0LC4uLmUpe2lmKCFubih0KSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpO2lmKGUubGVuZ3RoPjAmJiFlLmluY2x1ZGVzKHQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCBcIitlK1wiLCBnb3QgbGVuZ3RoPVwiK3QubGVuZ3RoKX1mdW5jdGlvbiBybih0KXtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwifHx0eXBlb2YgdC5jcmVhdGUhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJIYXNoIHNob3VsZCBiZSB3cmFwcGVkIGJ5IHV0aWxzLmNyZWF0ZUhhc2hlclwiKTttdCh0Lm91dHB1dExlbiksbXQodC5ibG9ja0xlbil9ZnVuY3Rpb24gTnQodCxlPSEwKXtpZih0LmRlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoIGluc3RhbmNlIGhhcyBiZWVuIGRlc3Ryb3llZFwiKTtpZihlJiZ0LmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcihcIkhhc2gjZGlnZXN0KCkgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcIil9ZnVuY3Rpb24gb24odCxlKXthdCh0KTtjb25zdCBuPWUub3V0cHV0TGVuO2lmKHQubGVuZ3RoPG4pdGhyb3cgbmV3IEVycm9yKFwiZGlnZXN0SW50bygpIGV4cGVjdHMgb3V0cHV0IGJ1ZmZlciBvZiBsZW5ndGggYXQgbGVhc3QgXCIrbil9ZnVuY3Rpb24gZmUodCl7cmV0dXJuIG5ldyBVaW50MzJBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsTWF0aC5mbG9vcih0LmJ5dGVMZW5ndGgvNCkpfWZ1bmN0aW9uIHV0KC4uLnQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0uZmlsbCgwKX1mdW5jdGlvbiBzbih0KXtyZXR1cm4gbmV3IERhdGFWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfWZ1bmN0aW9uIGd0KHQsZSl7cmV0dXJuIHQ8PDMyLWV8dD4+PmV9Y29uc3QgRXI9bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFsyODc0NTQwMjBdKS5idWZmZXIpWzBdPT09Njg7ZnVuY3Rpb24gQnIodCl7cmV0dXJuIHQ8PDI0JjQyNzgxOTAwODB8dDw8OCYxNjcxMTY4MHx0Pj4+OCY2NTI4MHx0Pj4+MjQmMjU1fWNvbnN0IHd0PUVyP3Q9PnQ6dD0+QnIodCk7ZnVuY3Rpb24gU2kodCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXT1Ccih0W2VdKTtyZXR1cm4gdH1jb25zdCBPdD1Fcj90PT50OlNpLElyPXR5cGVvZiBVaW50OEFycmF5LmZyb20oW10pLnRvSGV4PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBVaW50OEFycmF5LmZyb21IZXg9PVwiZnVuY3Rpb25cIixOaT1BcnJheS5mcm9tKHtsZW5ndGg6MjU2fSwodCxlKT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpO2Z1bmN0aW9uIGNlKHQpe2lmKGF0KHQpLElyKXJldHVybiB0LnRvSGV4KCk7bGV0IGU9XCJcIjtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllKz1OaVt0W25dXTtyZXR1cm4gZX1jb25zdCB4dD17XzA6NDgsXzk6NTcsQTo2NSxGOjcwLGE6OTcsZjoxMDJ9O2Z1bmN0aW9uIEFyKHQpe2lmKHQ+PXh0Ll8wJiZ0PD14dC5fOSlyZXR1cm4gdC14dC5fMDtpZih0Pj14dC5BJiZ0PD14dC5GKXJldHVybiB0LSh4dC5BLTEwKTtpZih0Pj14dC5hJiZ0PD14dC5mKXJldHVybiB0LSh4dC5hLTEwKX1mdW5jdGlvbiBmbih0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIHQpO2lmKElyKXJldHVybiBVaW50OEFycmF5LmZyb21IZXgodCk7Y29uc3QgZT10Lmxlbmd0aCxuPWUvMjtpZihlJTIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IHVucGFkZGVkIGhleCBvZiBsZW5ndGggXCIrZSk7Y29uc3Qgcj1uZXcgVWludDhBcnJheShuKTtmb3IobGV0IG89MCxzPTA7bzxuO28rKyxzKz0yKXtjb25zdCBpPUFyKHQuY2hhckNvZGVBdChzKSksZj1Bcih0LmNoYXJDb2RlQXQocysxKSk7aWYoaT09PXZvaWQgMHx8Zj09PXZvaWQgMCl7Y29uc3QgYT10W3NdK3RbcysxXTt0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBub24taGV4IGNoYXJhY3RlciBcIicrYSsnXCIgYXQgaW5kZXggJytzKX1yW29dPWkqMTYrZn1yZXR1cm4gcn1mdW5jdGlvbiBPaSh0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJzdHJpbmcgZXhwZWN0ZWRcIik7cmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KSl9ZnVuY3Rpb24gaHQodCl7cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wiJiYodD1PaSh0KSksYXQodCksdH1mdW5jdGlvbiBIdCguLi50KXtsZXQgZT0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBvPXRbcl07YXQobyksZSs9by5sZW5ndGh9Y29uc3Qgbj1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IHI9MCxvPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IHM9dFtyXTtuLnNldChzLG8pLG8rPXMubGVuZ3RofXJldHVybiBufWNsYXNzIElle31mdW5jdGlvbiBhZSh0KXtjb25zdCBlPXI9PnQoKS51cGRhdGUoaHQocikpLmRpZ2VzdCgpLG49dCgpO3JldHVybiBlLm91dHB1dExlbj1uLm91dHB1dExlbixlLmJsb2NrTGVuPW4uYmxvY2tMZW4sZS5jcmVhdGU9KCk9PnQoKSxlfWZ1bmN0aW9uIFVpKHQpe2NvbnN0IGU9KHIsbyk9PnQobykudXBkYXRlKGh0KHIpKS5kaWdlc3QoKSxuPXQoe30pO3JldHVybiBlLm91dHB1dExlbj1uLm91dHB1dExlbixlLmJsb2NrTGVuPW4uYmxvY2tMZW4sZS5jcmVhdGU9cj0+dChyKSxlfWZ1bmN0aW9uIFp0KHQ9MzIpe2lmKEd0JiZ0eXBlb2YgR3QuZ2V0UmFuZG9tVmFsdWVzPT1cImZ1bmN0aW9uXCIpcmV0dXJuIEd0LmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSh0KSk7aWYoR3QmJnR5cGVvZiBHdC5yYW5kb21CeXRlcz09XCJmdW5jdGlvblwiKXJldHVybiBVaW50OEFycmF5LmZyb20oR3QucmFuZG9tQnl0ZXModCkpO3Rocm93IG5ldyBFcnJvcihcImNyeXB0by5nZXRSYW5kb21WYWx1ZXMgbXVzdCBiZSBkZWZpbmVkXCIpfWNvbnN0IF9pPUJpZ0ludCgwKSx1ZT1CaWdJbnQoMSksVGk9QmlnSW50KDIpLFJpPUJpZ0ludCg3KSwkaT1CaWdJbnQoMjU2KSxDaT1CaWdJbnQoMTEzKSxTcj1bXSxOcj1bXSxPcj1bXTtmb3IobGV0IHQ9MCxlPXVlLG49MSxyPTA7dDwyNDt0Kyspe1tuLHJdPVtyLCgyKm4rMypyKSU1XSxTci5wdXNoKDIqKDUqcituKSksTnIucHVzaCgodCsxKSoodCsyKS8yJTY0KTtsZXQgbz1faTtmb3IobGV0IHM9MDtzPDc7cysrKWU9KGU8PHVlXihlPj5SaSkqQ2kpJSRpLGUmVGkmJihvXj11ZTw8KHVlPDxCaWdJbnQocykpLXVlKTtPci5wdXNoKG8pfWNvbnN0IFVyPXdyKE9yLCEwKSxMaT1VclswXSxqaT1VclsxXSxfcj0odCxlLG4pPT5uPjMyP3hpKHQsZSxuKTptaSh0LGUsbiksVHI9KHQsZSxuKT0+bj4zMj92aSh0LGUsbik6d2kodCxlLG4pO2Z1bmN0aW9uIGtpKHQsZT0yNCl7Y29uc3Qgbj1uZXcgVWludDMyQXJyYXkoMTApO2ZvcihsZXQgcj0yNC1lO3I8MjQ7cisrKXtmb3IobGV0IGk9MDtpPDEwO2krKyluW2ldPXRbaV1edFtpKzEwXV50W2krMjBdXnRbaSszMF1edFtpKzQwXTtmb3IobGV0IGk9MDtpPDEwO2krPTIpe2NvbnN0IGY9KGkrOCklMTAsYT0oaSsyKSUxMCxsPW5bYV0sYz1uW2ErMV0sdT1fcihsLGMsMSlebltmXSxoPVRyKGwsYywxKV5uW2YrMV07Zm9yKGxldCBnPTA7Zzw1MDtnKz0xMCl0W2krZ11ePXUsdFtpK2crMV1ePWh9bGV0IG89dFsyXSxzPXRbM107Zm9yKGxldCBpPTA7aTwyNDtpKyspe2NvbnN0IGY9TnJbaV0sYT1fcihvLHMsZiksbD1UcihvLHMsZiksYz1TcltpXTtvPXRbY10scz10W2MrMV0sdFtjXT1hLHRbYysxXT1sfWZvcihsZXQgaT0wO2k8NTA7aSs9MTApe2ZvcihsZXQgZj0wO2Y8MTA7ZisrKW5bZl09dFtpK2ZdO2ZvcihsZXQgZj0wO2Y8MTA7ZisrKXRbaStmXV49fm5bKGYrMiklMTBdJm5bKGYrNCklMTBdfXRbMF1ePUxpW3JdLHRbMV1ePWppW3JdfXV0KG4pfWNsYXNzIHFuIGV4dGVuZHMgSWV7Y29uc3RydWN0b3IoZSxuLHIsbz0hMSxzPTI0KXtpZihzdXBlcigpLHRoaXMucG9zPTAsdGhpcy5wb3NPdXQ9MCx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExLHRoaXMuZW5hYmxlWE9GPSExLHRoaXMuYmxvY2tMZW49ZSx0aGlzLnN1ZmZpeD1uLHRoaXMub3V0cHV0TGVuPXIsdGhpcy5lbmFibGVYT0Y9byx0aGlzLnJvdW5kcz1zLG10KHIpLCEoMDxlJiZlPDIwMCkpdGhyb3cgbmV3IEVycm9yKFwib25seSBrZWNjYWstZjE2MDAgZnVuY3Rpb24gaXMgc3VwcG9ydGVkXCIpO3RoaXMuc3RhdGU9bmV3IFVpbnQ4QXJyYXkoMjAwKSx0aGlzLnN0YXRlMzI9ZmUodGhpcy5zdGF0ZSl9Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9a2VjY2FrKCl7T3QodGhpcy5zdGF0ZTMyKSxraSh0aGlzLnN0YXRlMzIsdGhpcy5yb3VuZHMpLE90KHRoaXMuc3RhdGUzMiksdGhpcy5wb3NPdXQ9MCx0aGlzLnBvcz0wfXVwZGF0ZShlKXtOdCh0aGlzKSxlPWh0KGUpLGF0KGUpO2NvbnN0e2Jsb2NrTGVuOm4sc3RhdGU6cn09dGhpcyxvPWUubGVuZ3RoO2ZvcihsZXQgcz0wO3M8bzspe2NvbnN0IGk9TWF0aC5taW4obi10aGlzLnBvcyxvLXMpO2ZvcihsZXQgZj0wO2Y8aTtmKyspclt0aGlzLnBvcysrXV49ZVtzKytdO3RoaXMucG9zPT09biYmdGhpcy5rZWNjYWsoKX1yZXR1cm4gdGhpc31maW5pc2goKXtpZih0aGlzLmZpbmlzaGVkKXJldHVybjt0aGlzLmZpbmlzaGVkPSEwO2NvbnN0e3N0YXRlOmUsc3VmZml4Om4scG9zOnIsYmxvY2tMZW46b309dGhpcztlW3JdXj1uLChuJjEyOCkhPT0wJiZyPT09by0xJiZ0aGlzLmtlY2NhaygpLGVbby0xXV49MTI4LHRoaXMua2VjY2FrKCl9d3JpdGVJbnRvKGUpe050KHRoaXMsITEpLGF0KGUpLHRoaXMuZmluaXNoKCk7Y29uc3Qgbj10aGlzLnN0YXRlLHtibG9ja0xlbjpyfT10aGlzO2ZvcihsZXQgbz0wLHM9ZS5sZW5ndGg7bzxzOyl7dGhpcy5wb3NPdXQ+PXImJnRoaXMua2VjY2FrKCk7Y29uc3QgaT1NYXRoLm1pbihyLXRoaXMucG9zT3V0LHMtbyk7ZS5zZXQobi5zdWJhcnJheSh0aGlzLnBvc091dCx0aGlzLnBvc091dCtpKSxvKSx0aGlzLnBvc091dCs9aSxvKz1pfXJldHVybiBlfXhvZkludG8oZSl7aWYoIXRoaXMuZW5hYmxlWE9GKXRocm93IG5ldyBFcnJvcihcIlhPRiBpcyBub3QgcG9zc2libGUgZm9yIHRoaXMgaW5zdGFuY2VcIik7cmV0dXJuIHRoaXMud3JpdGVJbnRvKGUpfXhvZihlKXtyZXR1cm4gbXQoZSksdGhpcy54b2ZJbnRvKG5ldyBVaW50OEFycmF5KGUpKX1kaWdlc3RJbnRvKGUpe2lmKG9uKGUsdGhpcyksdGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJkaWdlc3QoKSB3YXMgYWxyZWFkeSBjYWxsZWRcIik7cmV0dXJuIHRoaXMud3JpdGVJbnRvKGUpLHRoaXMuZGVzdHJveSgpLGV9ZGlnZXN0KCl7cmV0dXJuIHRoaXMuZGlnZXN0SW50byhuZXcgVWludDhBcnJheSh0aGlzLm91dHB1dExlbikpfWRlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZD0hMCx1dCh0aGlzLnN0YXRlKX1fY2xvbmVJbnRvKGUpe2NvbnN0e2Jsb2NrTGVuOm4sc3VmZml4OnIsb3V0cHV0TGVuOm8scm91bmRzOnMsZW5hYmxlWE9GOml9PXRoaXM7cmV0dXJuIGV8fChlPW5ldyBxbihuLHIsbyxpLHMpKSxlLnN0YXRlMzIuc2V0KHRoaXMuc3RhdGUzMiksZS5wb3M9dGhpcy5wb3MsZS5wb3NPdXQ9dGhpcy5wb3NPdXQsZS5maW5pc2hlZD10aGlzLmZpbmlzaGVkLGUucm91bmRzPXMsZS5zdWZmaXg9cixlLm91dHB1dExlbj1vLGUuZW5hYmxlWE9GPWksZS5kZXN0cm95ZWQ9dGhpcy5kZXN0cm95ZWQsZX19Y29uc3QgUGk9KHQsZSxuKT0+YWUoKCk9Pm5ldyBxbihlLHQsbikpLEhpPVBpKDEsMTM2LDI1Ni84KTtmdW5jdGlvbiBEaSh0LGUsbixyKXtpZih0eXBlb2YgdC5zZXRCaWdVaW50NjQ9PVwiZnVuY3Rpb25cIilyZXR1cm4gdC5zZXRCaWdVaW50NjQoZSxuLHIpO2NvbnN0IG89QmlnSW50KDMyKSxzPUJpZ0ludCg0Mjk0OTY3Mjk1KSxpPU51bWJlcihuPj5vJnMpLGY9TnVtYmVyKG4mcyksYT1yPzQ6MCxsPXI/MDo0O3Quc2V0VWludDMyKGUrYSxpLHIpLHQuc2V0VWludDMyKGUrbCxmLHIpfWZ1bmN0aW9uIE1pKHQsZSxuKXtyZXR1cm4gdCZlXn50Jm59ZnVuY3Rpb24gVmkodCxlLG4pe3JldHVybiB0JmVedCZuXmUmbn1jbGFzcyBSciBleHRlbmRzIElle2NvbnN0cnVjdG9yKGUsbixyLG8pe3N1cGVyKCksdGhpcy5maW5pc2hlZD0hMSx0aGlzLmxlbmd0aD0wLHRoaXMucG9zPTAsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5ibG9ja0xlbj1lLHRoaXMub3V0cHV0TGVuPW4sdGhpcy5wYWRPZmZzZXQ9cix0aGlzLmlzTEU9byx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheShlKSx0aGlzLnZpZXc9c24odGhpcy5idWZmZXIpfXVwZGF0ZShlKXtOdCh0aGlzKSxlPWh0KGUpLGF0KGUpO2NvbnN0e3ZpZXc6bixidWZmZXI6cixibG9ja0xlbjpvfT10aGlzLHM9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTxzOyl7Y29uc3QgZj1NYXRoLm1pbihvLXRoaXMucG9zLHMtaSk7aWYoZj09PW8pe2NvbnN0IGE9c24oZSk7Zm9yKDtvPD1zLWk7aSs9byl0aGlzLnByb2Nlc3MoYSxpKTtjb250aW51ZX1yLnNldChlLnN1YmFycmF5KGksaStmKSx0aGlzLnBvcyksdGhpcy5wb3MrPWYsaSs9Zix0aGlzLnBvcz09PW8mJih0aGlzLnByb2Nlc3MobiwwKSx0aGlzLnBvcz0wKX1yZXR1cm4gdGhpcy5sZW5ndGgrPWUubGVuZ3RoLHRoaXMucm91bmRDbGVhbigpLHRoaXN9ZGlnZXN0SW50byhlKXtOdCh0aGlzKSxvbihlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOm4sdmlldzpyLGJsb2NrTGVuOm8saXNMRTpzfT10aGlzO2xldHtwb3M6aX09dGhpcztuW2krK109MTI4LHV0KHRoaXMuYnVmZmVyLnN1YmFycmF5KGkpKSx0aGlzLnBhZE9mZnNldD5vLWkmJih0aGlzLnByb2Nlc3MociwwKSxpPTApO2ZvcihsZXQgdT1pO3U8bzt1Kyspblt1XT0wO0RpKHIsby04LEJpZ0ludCh0aGlzLmxlbmd0aCo4KSxzKSx0aGlzLnByb2Nlc3MociwwKTtjb25zdCBmPXNuKGUpLGE9dGhpcy5vdXRwdXRMZW47aWYoYSU0KXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gc2hvdWxkIGJlIGFsaWduZWQgdG8gMzJiaXRcIik7Y29uc3QgbD1hLzQsYz10aGlzLmdldCgpO2lmKGw+Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiX3NoYTI6IG91dHB1dExlbiBiaWdnZXIgdGhhbiBzdGF0ZVwiKTtmb3IobGV0IHU9MDt1PGw7dSsrKWYuc2V0VWludDMyKDQqdSxjW3VdLHMpfWRpZ2VzdCgpe2NvbnN0e2J1ZmZlcjplLG91dHB1dExlbjpufT10aGlzO3RoaXMuZGlnZXN0SW50byhlKTtjb25zdCByPWUuc2xpY2UoMCxuKTtyZXR1cm4gdGhpcy5kZXN0cm95KCkscn1fY2xvbmVJbnRvKGUpe2V8fChlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKSxlLnNldCguLi50aGlzLmdldCgpKTtjb25zdHtibG9ja0xlbjpuLGJ1ZmZlcjpyLGxlbmd0aDpvLGZpbmlzaGVkOnMsZGVzdHJveWVkOmkscG9zOmZ9PXRoaXM7cmV0dXJuIGUuZGVzdHJveWVkPWksZS5maW5pc2hlZD1zLGUubGVuZ3RoPW8sZS5wb3M9ZixvJW4mJmUuYnVmZmVyLnNldChyKSxlfWNsb25lKCl7cmV0dXJuIHRoaXMuX2Nsb25lSW50bygpfX1jb25zdCBVdD1VaW50MzJBcnJheS5mcm9tKFsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0pLFc9VWludDMyQXJyYXkuZnJvbShbMzQxODA3MDM2NSwzMjM4MzcxMDMyLDE2NTQyNzAyNTAsOTE0MTUwNjYzLDI0Mzg1MjkzNzAsODEyNzAyOTk5LDM1NTQ2MjM2MCw0MTQ0OTEyNjk3LDE3MzE0MDU0MTUsNDI5MDc3NTg1NywyMzk0MTgwMjMxLDE3NTA2MDMwMjUsMzY3NTAwODUyNSwxNjk0MDc2ODM5LDEyMDMwNjI4MTMsMzIwNDA3NTQyOF0pLFk9VWludDMyQXJyYXkuZnJvbShbMTc3OTAzMzcwMyw0MDg5MjM1NzIwLDMxNDQxMzQyNzcsMjIyNzg3MzU5NSwxMDEzOTA0MjQyLDQyNzExNzU3MjMsMjc3MzQ4MDc2MiwxNTk1NzUwMTI5LDEzNTk4OTMxMTksMjkxNzU2NTEzNywyNjAwODIyOTI0LDcyNTUxMTE5OSw1Mjg3MzQ2MzUsNDIxNTM4OTU0NywxNTQxNDU5MjI1LDMyNzAzMzIwOV0pLHFpPVVpbnQzMkFycmF5LmZyb20oWzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0pLF90PW5ldyBVaW50MzJBcnJheSg2NCk7Y2xhc3MgS2kgZXh0ZW5kcyBScntjb25zdHJ1Y3RvcihlPTMyKXtzdXBlcig2NCxlLDgsITEpLHRoaXMuQT1VdFswXXwwLHRoaXMuQj1VdFsxXXwwLHRoaXMuQz1VdFsyXXwwLHRoaXMuRD1VdFszXXwwLHRoaXMuRT1VdFs0XXwwLHRoaXMuRj1VdFs1XXwwLHRoaXMuRz1VdFs2XXwwLHRoaXMuSD1VdFs3XXwwfWdldCgpe2NvbnN0e0E6ZSxCOm4sQzpyLEQ6byxFOnMsRjppLEc6ZixIOmF9PXRoaXM7cmV0dXJuW2UsbixyLG8scyxpLGYsYV19c2V0KGUsbixyLG8scyxpLGYsYSl7dGhpcy5BPWV8MCx0aGlzLkI9bnwwLHRoaXMuQz1yfDAsdGhpcy5EPW98MCx0aGlzLkU9c3wwLHRoaXMuRj1pfDAsdGhpcy5HPWZ8MCx0aGlzLkg9YXwwfXByb2Nlc3MoZSxuKXtmb3IobGV0IHU9MDt1PDE2O3UrKyxuKz00KV90W3VdPWUuZ2V0VWludDMyKG4sITEpO2ZvcihsZXQgdT0xNjt1PDY0O3UrKyl7Y29uc3QgaD1fdFt1LTE1XSxnPV90W3UtMl0sdz1ndChoLDcpXmd0KGgsMTgpXmg+Pj4zLHk9Z3QoZywxNyleZ3QoZywxOSleZz4+PjEwO190W3VdPXkrX3RbdS03XSt3K190W3UtMTZdfDB9bGV0e0E6cixCOm8sQzpzLEQ6aSxFOmYsRjphLEc6bCxIOmN9PXRoaXM7Zm9yKGxldCB1PTA7dTw2NDt1Kyspe2NvbnN0IGg9Z3QoZiw2KV5ndChmLDExKV5ndChmLDI1KSxnPWMraCtNaShmLGEsbCkrcWlbdV0rX3RbdV18MCx5PShndChyLDIpXmd0KHIsMTMpXmd0KHIsMjIpKStWaShyLG8scyl8MDtjPWwsbD1hLGE9ZixmPWkrZ3wwLGk9cyxzPW8sbz1yLHI9Zyt5fDB9cj1yK3RoaXMuQXwwLG89byt0aGlzLkJ8MCxzPXMrdGhpcy5DfDAsaT1pK3RoaXMuRHwwLGY9Zit0aGlzLkV8MCxhPWErdGhpcy5GfDAsbD1sK3RoaXMuR3wwLGM9Yyt0aGlzLkh8MCx0aGlzLnNldChyLG8scyxpLGYsYSxsLGMpfXJvdW5kQ2xlYW4oKXt1dChfdCl9ZGVzdHJveSgpe3RoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCksdXQodGhpcy5idWZmZXIpfX1jb25zdCAkcj13cihbXCIweDQyOGEyZjk4ZDcyOGFlMjJcIixcIjB4NzEzNzQ0OTEyM2VmNjVjZFwiLFwiMHhiNWMwZmJjZmVjNGQzYjJmXCIsXCIweGU5YjVkYmE1ODE4OWRiYmNcIixcIjB4Mzk1NmMyNWJmMzQ4YjUzOFwiLFwiMHg1OWYxMTFmMWI2MDVkMDE5XCIsXCIweDkyM2Y4MmE0YWYxOTRmOWJcIixcIjB4YWIxYzVlZDVkYTZkODExOFwiLFwiMHhkODA3YWE5OGEzMDMwMjQyXCIsXCIweDEyODM1YjAxNDU3MDZmYmVcIixcIjB4MjQzMTg1YmU0ZWU0YjI4Y1wiLFwiMHg1NTBjN2RjM2Q1ZmZiNGUyXCIsXCIweDcyYmU1ZDc0ZjI3Yjg5NmZcIixcIjB4ODBkZWIxZmUzYjE2OTZiMVwiLFwiMHg5YmRjMDZhNzI1YzcxMjM1XCIsXCIweGMxOWJmMTc0Y2Y2OTI2OTRcIixcIjB4ZTQ5YjY5YzE5ZWYxNGFkMlwiLFwiMHhlZmJlNDc4NjM4NGYyNWUzXCIsXCIweDBmYzE5ZGM2OGI4Y2Q1YjVcIixcIjB4MjQwY2ExY2M3N2FjOWM2NVwiLFwiMHgyZGU5MmM2ZjU5MmIwMjc1XCIsXCIweDRhNzQ4NGFhNmVhNmU0ODNcIixcIjB4NWNiMGE5ZGNiZDQxZmJkNFwiLFwiMHg3NmY5ODhkYTgzMTE1M2I1XCIsXCIweDk4M2U1MTUyZWU2NmRmYWJcIixcIjB4YTgzMWM2NmQyZGI0MzIxMFwiLFwiMHhiMDAzMjdjODk4ZmIyMTNmXCIsXCIweGJmNTk3ZmM3YmVlZjBlZTRcIixcIjB4YzZlMDBiZjMzZGE4OGZjMlwiLFwiMHhkNWE3OTE0NzkzMGFhNzI1XCIsXCIweDA2Y2E2MzUxZTAwMzgyNmZcIixcIjB4MTQyOTI5NjcwYTBlNmU3MFwiLFwiMHgyN2I3MGE4NTQ2ZDIyZmZjXCIsXCIweDJlMWIyMTM4NWMyNmM5MjZcIixcIjB4NGQyYzZkZmM1YWM0MmFlZFwiLFwiMHg1MzM4MGQxMzlkOTViM2RmXCIsXCIweDY1MGE3MzU0OGJhZjYzZGVcIixcIjB4NzY2YTBhYmIzYzc3YjJhOFwiLFwiMHg4MWMyYzkyZTQ3ZWRhZWU2XCIsXCIweDkyNzIyYzg1MTQ4MjM1M2JcIixcIjB4YTJiZmU4YTE0Y2YxMDM2NFwiLFwiMHhhODFhNjY0YmJjNDIzMDAxXCIsXCIweGMyNGI4YjcwZDBmODk3OTFcIixcIjB4Yzc2YzUxYTMwNjU0YmUzMFwiLFwiMHhkMTkyZTgxOWQ2ZWY1MjE4XCIsXCIweGQ2OTkwNjI0NTU2NWE5MTBcIixcIjB4ZjQwZTM1ODU1NzcxMjAyYVwiLFwiMHgxMDZhYTA3MDMyYmJkMWI4XCIsXCIweDE5YTRjMTE2YjhkMmQwYzhcIixcIjB4MWUzNzZjMDg1MTQxYWI1M1wiLFwiMHgyNzQ4Nzc0Y2RmOGVlYjk5XCIsXCIweDM0YjBiY2I1ZTE5YjQ4YThcIixcIjB4MzkxYzBjYjNjNWM5NWE2M1wiLFwiMHg0ZWQ4YWE0YWUzNDE4YWNiXCIsXCIweDViOWNjYTRmNzc2M2UzNzNcIixcIjB4NjgyZTZmZjNkNmIyYjhhM1wiLFwiMHg3NDhmODJlZTVkZWZiMmZjXCIsXCIweDc4YTU2MzZmNDMxNzJmNjBcIixcIjB4ODRjODc4MTRhMWYwYWI3MlwiLFwiMHg4Y2M3MDIwODFhNjQzOWVjXCIsXCIweDkwYmVmZmZhMjM2MzFlMjhcIixcIjB4YTQ1MDZjZWJkZTgyYmRlOVwiLFwiMHhiZWY5YTNmN2IyYzY3OTE1XCIsXCIweGM2NzE3OGYyZTM3MjUzMmJcIixcIjB4Y2EyNzNlY2VlYTI2NjE5Y1wiLFwiMHhkMTg2YjhjNzIxYzBjMjA3XCIsXCIweGVhZGE3ZGQ2Y2RlMGViMWVcIixcIjB4ZjU3ZDRmN2ZlZTZlZDE3OFwiLFwiMHgwNmYwNjdhYTcyMTc2ZmJhXCIsXCIweDBhNjM3ZGM1YTJjODk4YTZcIixcIjB4MTEzZjk4MDRiZWY5MGRhZVwiLFwiMHgxYjcxMGIzNTEzMWM0NzFiXCIsXCIweDI4ZGI3N2Y1MjMwNDdkODRcIixcIjB4MzJjYWFiN2I0MGM3MjQ5M1wiLFwiMHgzYzllYmUwYTE1YzliZWJjXCIsXCIweDQzMWQ2N2M0OWMxMDBkNGNcIixcIjB4NGNjNWQ0YmVjYjNlNDJiNlwiLFwiMHg1OTdmMjk5Y2ZjNjU3ZTJhXCIsXCIweDVmY2I2ZmFiM2FkNmZhZWNcIixcIjB4NmM0NDE5OGM0YTQ3NTgxN1wiXS5tYXAodD0+QmlnSW50KHQpKSksRmk9JHJbMF0semk9JHJbMV0sVHQ9bmV3IFVpbnQzMkFycmF5KDgwKSxSdD1uZXcgVWludDMyQXJyYXkoODApO2NsYXNzIGNuIGV4dGVuZHMgUnJ7Y29uc3RydWN0b3IoZT02NCl7c3VwZXIoMTI4LGUsMTYsITEpLHRoaXMuQWg9WVswXXwwLHRoaXMuQWw9WVsxXXwwLHRoaXMuQmg9WVsyXXwwLHRoaXMuQmw9WVszXXwwLHRoaXMuQ2g9WVs0XXwwLHRoaXMuQ2w9WVs1XXwwLHRoaXMuRGg9WVs2XXwwLHRoaXMuRGw9WVs3XXwwLHRoaXMuRWg9WVs4XXwwLHRoaXMuRWw9WVs5XXwwLHRoaXMuRmg9WVsxMF18MCx0aGlzLkZsPVlbMTFdfDAsdGhpcy5HaD1ZWzEyXXwwLHRoaXMuR2w9WVsxM118MCx0aGlzLkhoPVlbMTRdfDAsdGhpcy5IbD1ZWzE1XXwwfWdldCgpe2NvbnN0e0FoOmUsQWw6bixCaDpyLEJsOm8sQ2g6cyxDbDppLERoOmYsRGw6YSxFaDpsLEVsOmMsRmg6dSxGbDpoLEdoOmcsR2w6dyxIaDp5LEhsOnh9PXRoaXM7cmV0dXJuW2UsbixyLG8scyxpLGYsYSxsLGMsdSxoLGcsdyx5LHhdfXNldChlLG4scixvLHMsaSxmLGEsbCxjLHUsaCxnLHcseSx4KXt0aGlzLkFoPWV8MCx0aGlzLkFsPW58MCx0aGlzLkJoPXJ8MCx0aGlzLkJsPW98MCx0aGlzLkNoPXN8MCx0aGlzLkNsPWl8MCx0aGlzLkRoPWZ8MCx0aGlzLkRsPWF8MCx0aGlzLkVoPWx8MCx0aGlzLkVsPWN8MCx0aGlzLkZoPXV8MCx0aGlzLkZsPWh8MCx0aGlzLkdoPWd8MCx0aGlzLkdsPXd8MCx0aGlzLkhoPXl8MCx0aGlzLkhsPXh8MH1wcm9jZXNzKGUsbil7Zm9yKGxldCBMPTA7TDwxNjtMKyssbis9NClUdFtMXT1lLmdldFVpbnQzMihuKSxSdFtMXT1lLmdldFVpbnQzMihuKz00KTtmb3IobGV0IEw9MTY7TDw4MDtMKyspe2NvbnN0IFY9VHRbTC0xNV18MCxfPVJ0W0wtMTVdfDAsaz1BdChWLF8sMSleQXQoVixfLDgpXnhyKFYsXyw3KSxqPVN0KFYsXywxKV5TdChWLF8sOClednIoVixfLDcpLCQ9VHRbTC0yXXwwLGQ9UnRbTC0yXXwwLG09QXQoJCxkLDE5KV5zZSgkLGQsNjEpXnhyKCQsZCw2KSxwPVN0KCQsZCwxOSleaWUoJCxkLDYxKV52cigkLGQsNiksYj1FaShqLHAsUnRbTC03XSxSdFtMLTE2XSksdj1CaShiLGssbSxUdFtMLTddLFR0W0wtMTZdKTtUdFtMXT12fDAsUnRbTF09YnwwfWxldHtBaDpyLEFsOm8sQmg6cyxCbDppLENoOmYsQ2w6YSxEaDpsLERsOmMsRWg6dSxFbDpoLEZoOmcsRmw6dyxHaDp5LEdsOngsSGg6UixIbDpNfT10aGlzO2ZvcihsZXQgTD0wO0w8ODA7TCsrKXtjb25zdCBWPUF0KHUsaCwxNCleQXQodSxoLDE4KV5zZSh1LGgsNDEpLF89U3QodSxoLDE0KV5TdCh1LGgsMTgpXmllKHUsaCw0MSksaz11JmdefnUmeSxqPWgmd15+aCZ4LCQ9SWkoTSxfLGosemlbTF0sUnRbTF0pLGQ9QWkoJCxSLFYsayxGaVtMXSxUdFtMXSksbT0kfDAscD1BdChyLG8sMjgpXnNlKHIsbywzNClec2UocixvLDM5KSxiPVN0KHIsbywyOCleaWUocixvLDM0KV5pZShyLG8sMzkpLHY9ciZzXnImZl5zJmYsQj1vJmlebyZhXmkmYTtSPXl8MCxNPXh8MCx5PWd8MCx4PXd8MCxnPXV8MCx3PWh8MCx7aDp1LGw6aH09ZHQobHwwLGN8MCxkfDAsbXwwKSxsPWZ8MCxjPWF8MCxmPXN8MCxhPWl8MCxzPXJ8MCxpPW98MDtjb25zdCBFPXRuKG0sYixCKTtyPWVuKEUsZCxwLHYpLG89RXwwfSh7aDpyLGw6b309ZHQodGhpcy5BaHwwLHRoaXMuQWx8MCxyfDAsb3wwKSkse2g6cyxsOml9PWR0KHRoaXMuQmh8MCx0aGlzLkJsfDAsc3wwLGl8MCkse2g6ZixsOmF9PWR0KHRoaXMuQ2h8MCx0aGlzLkNsfDAsZnwwLGF8MCkse2g6bCxsOmN9PWR0KHRoaXMuRGh8MCx0aGlzLkRsfDAsbHwwLGN8MCkse2g6dSxsOmh9PWR0KHRoaXMuRWh8MCx0aGlzLkVsfDAsdXwwLGh8MCkse2g6ZyxsOnd9PWR0KHRoaXMuRmh8MCx0aGlzLkZsfDAsZ3wwLHd8MCkse2g6eSxsOnh9PWR0KHRoaXMuR2h8MCx0aGlzLkdsfDAseXwwLHh8MCkse2g6UixsOk19PWR0KHRoaXMuSGh8MCx0aGlzLkhsfDAsUnwwLE18MCksdGhpcy5zZXQocixvLHMsaSxmLGEsbCxjLHUsaCxnLHcseSx4LFIsTSl9cm91bmRDbGVhbigpe3V0KFR0LFJ0KX1kZXN0cm95KCl7dXQodGhpcy5idWZmZXIpLHRoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApfX1jbGFzcyBHaSBleHRlbmRzIGNue2NvbnN0cnVjdG9yKCl7c3VwZXIoNDgpLHRoaXMuQWg9V1swXXwwLHRoaXMuQWw9V1sxXXwwLHRoaXMuQmg9V1syXXwwLHRoaXMuQmw9V1szXXwwLHRoaXMuQ2g9V1s0XXwwLHRoaXMuQ2w9V1s1XXwwLHRoaXMuRGg9V1s2XXwwLHRoaXMuRGw9V1s3XXwwLHRoaXMuRWg9V1s4XXwwLHRoaXMuRWw9V1s5XXwwLHRoaXMuRmg9V1sxMF18MCx0aGlzLkZsPVdbMTFdfDAsdGhpcy5HaD1XWzEyXXwwLHRoaXMuR2w9V1sxM118MCx0aGlzLkhoPVdbMTRdfDAsdGhpcy5IbD1XWzE1XXwwfX1jb25zdCBYPVVpbnQzMkFycmF5LmZyb20oWzU3MzY0NTIwNCw0MjMwNzM5NzU2LDI2NzMxNzIzODcsMzM2MDQ0OTczMCw1OTY4ODM1NjMsMTg2Nzc1NTg1NywyNTIwMjgyOTA1LDE0OTc0MjY2MjEsMjUxOTIxOTkzOCwyODI3OTQzOTA3LDMxOTM4MzkxNDEsMTQwMTMwNTQ5MCw3MjE1MjUyNDQsNzQ2OTYxMDY2LDI0Njg4NTg1MiwyMTc3MTgyODgyXSk7Y2xhc3MgWmkgZXh0ZW5kcyBjbntjb25zdHJ1Y3Rvcigpe3N1cGVyKDMyKSx0aGlzLkFoPVhbMF18MCx0aGlzLkFsPVhbMV18MCx0aGlzLkJoPVhbMl18MCx0aGlzLkJsPVhbM118MCx0aGlzLkNoPVhbNF18MCx0aGlzLkNsPVhbNV18MCx0aGlzLkRoPVhbNl18MCx0aGlzLkRsPVhbN118MCx0aGlzLkVoPVhbOF18MCx0aGlzLkVsPVhbOV18MCx0aGlzLkZoPVhbMTBdfDAsdGhpcy5GbD1YWzExXXwwLHRoaXMuR2g9WFsxMl18MCx0aGlzLkdsPVhbMTNdfDAsdGhpcy5IaD1YWzE0XXwwLHRoaXMuSGw9WFsxNV18MH19Y29uc3QgQWU9YWUoKCk9Pm5ldyBLaSksV2k9YWUoKCk9Pm5ldyBjbiksWWk9YWUoKCk9Pm5ldyBHaSksWGk9YWUoKCk9Pm5ldyBaaSksSmk9VWludDhBcnJheS5mcm9tKFswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE0LDEwLDQsOCw5LDE1LDEzLDYsMSwxMiwwLDIsMTEsNyw1LDMsMTEsOCwxMiwwLDUsMiwxNSwxMywxMCwxNCwzLDYsNywxLDksNCw3LDksMywxLDEzLDEyLDExLDE0LDIsNiw1LDEwLDQsMCwxNSw4LDksMCw1LDcsMiw0LDEwLDE1LDE0LDEsMTEsMTIsNiw4LDMsMTMsMiwxMiw2LDEwLDAsMTEsOCwzLDQsMTMsNyw1LDE1LDE0LDEsOSwxMiw1LDEsMTUsMTQsMTMsNCwxMCwwLDcsNiwzLDksMiw4LDExLDEzLDExLDcsMTQsMTIsMSwzLDksNSwwLDE1LDQsOCw2LDIsMTAsNiwxNSwxNCw5LDExLDMsMCw4LDEyLDIsMTMsNywxLDQsMTAsNSwxMCwyLDgsNCw3LDYsMSw1LDE1LDExLDksMTQsMywxMiwxMywwLDAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTQsMTAsNCw4LDksMTUsMTMsNiwxLDEyLDAsMiwxMSw3LDUsMywxMSw4LDEyLDAsNSwyLDE1LDEzLDEwLDE0LDMsNiw3LDEsOSw0LDcsOSwzLDEsMTMsMTIsMTEsMTQsMiw2LDUsMTAsNCwwLDE1LDgsOSwwLDUsNywyLDQsMTAsMTUsMTQsMSwxMSwxMiw2LDgsMywxMywyLDEyLDYsMTAsMCwxMSw4LDMsNCwxMyw3LDUsMTUsMTQsMSw5XSksRj1VaW50MzJBcnJheS5mcm9tKFs0MDg5MjM1NzIwLDE3NzkwMzM3MDMsMjIyNzg3MzU5NSwzMTQ0MTM0Mjc3LDQyNzExNzU3MjMsMTAxMzkwNDI0MiwxNTk1NzUwMTI5LDI3NzM0ODA3NjIsMjkxNzU2NTEzNywxMzU5ODkzMTE5LDcyNTUxMTE5OSwyNjAwODIyOTI0LDQyMTUzODk1NDcsNTI4NzM0NjM1LDMyNzAzMzIwOSwxNTQxNDU5MjI1XSksTj1uZXcgVWludDMyQXJyYXkoMzIpO2Z1bmN0aW9uICR0KHQsZSxuLHIsbyxzKXtjb25zdCBpPW9bc10sZj1vW3MrMV07bGV0IGE9TlsyKnRdLGw9TlsyKnQrMV0sYz1OWzIqZV0sdT1OWzIqZSsxXSxoPU5bMipuXSxnPU5bMipuKzFdLHc9TlsyKnJdLHk9TlsyKnIrMV0seD10bihhLGMsaSk7bD1lbih4LGwsdSxmKSxhPXh8MCx7RGg6eSxEbDp3fT17RGg6eV5sLERsOndeYX0se0RoOnksRGw6d309e0RoOmJpKHksdyksRGw6eWkoeSl9LHtoOmcsbDpofT1kdChnLGgseSx3KSx7Qmg6dSxCbDpjfT17Qmg6dV5nLEJsOmNeaH0se0JoOnUsQmw6Y309e0JoOkF0KHUsYywyNCksQmw6U3QodSxjLDI0KX0sTlsyKnRdPWEsTlsyKnQrMV09bCxOWzIqZV09YyxOWzIqZSsxXT11LE5bMipuXT1oLE5bMipuKzFdPWcsTlsyKnJdPXcsTlsyKnIrMV09eX1mdW5jdGlvbiBDdCh0LGUsbixyLG8scyl7Y29uc3QgaT1vW3NdLGY9b1tzKzFdO2xldCBhPU5bMip0XSxsPU5bMip0KzFdLGM9TlsyKmVdLHU9TlsyKmUrMV0saD1OWzIqbl0sZz1OWzIqbisxXSx3PU5bMipyXSx5PU5bMipyKzFdLHg9dG4oYSxjLGkpO2w9ZW4oeCxsLHUsZiksYT14fDAse0RoOnksRGw6d309e0RoOnlebCxEbDp3XmF9LHtEaDp5LERsOnd9PXtEaDpBdCh5LHcsMTYpLERsOlN0KHksdywxNil9LHtoOmcsbDpofT1kdChnLGgseSx3KSx7Qmg6dSxCbDpjfT17Qmg6dV5nLEJsOmNeaH0se0JoOnUsQmw6Y309e0JoOnNlKHUsYyw2MyksQmw6aWUodSxjLDYzKX0sTlsyKnRdPWEsTlsyKnQrMV09bCxOWzIqZV09YyxOWzIqZSsxXT11LE5bMipuXT1oLE5bMipuKzFdPWcsTlsyKnJdPXcsTlsyKnIrMV09eX1mdW5jdGlvbiBRaSh0LGU9e30sbixyLG8pe2lmKG10KG4pLHQ8MHx8dD5uKXRocm93IG5ldyBFcnJvcihcIm91dHB1dExlbiBiaWdnZXIgdGhhbiBrZXlMZW5cIik7Y29uc3R7a2V5OnMsc2FsdDppLHBlcnNvbmFsaXphdGlvbjpmfT1lO2lmKHMhPT12b2lkIDAmJihzLmxlbmd0aDwxfHxzLmxlbmd0aD5uKSl0aHJvdyBuZXcgRXJyb3IoXCJrZXkgbGVuZ3RoIG11c3QgYmUgdW5kZWZpbmVkIG9yIDEuLlwiK24pO2lmKGkhPT12b2lkIDAmJmkubGVuZ3RoIT09cil0aHJvdyBuZXcgRXJyb3IoXCJzYWx0IG11c3QgYmUgdW5kZWZpbmVkIG9yIFwiK3IpO2lmKGYhPT12b2lkIDAmJmYubGVuZ3RoIT09byl0aHJvdyBuZXcgRXJyb3IoXCJwZXJzb25hbGl6YXRpb24gbXVzdCBiZSB1bmRlZmluZWQgb3IgXCIrbyl9Y2xhc3MgdGYgZXh0ZW5kcyBJZXtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmxlbmd0aD0wLHRoaXMucG9zPTAsbXQoZSksbXQobiksdGhpcy5ibG9ja0xlbj1lLHRoaXMub3V0cHV0TGVuPW4sdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoZSksdGhpcy5idWZmZXIzMj1mZSh0aGlzLmJ1ZmZlcil9dXBkYXRlKGUpe050KHRoaXMpLGU9aHQoZSksYXQoZSk7Y29uc3R7YmxvY2tMZW46bixidWZmZXI6cixidWZmZXIzMjpvfT10aGlzLHM9ZS5sZW5ndGgsaT1lLmJ5dGVPZmZzZXQsZj1lLmJ1ZmZlcjtmb3IobGV0IGE9MDthPHM7KXt0aGlzLnBvcz09PW4mJihPdChvKSx0aGlzLmNvbXByZXNzKG8sMCwhMSksT3QobyksdGhpcy5wb3M9MCk7Y29uc3QgbD1NYXRoLm1pbihuLXRoaXMucG9zLHMtYSksYz1pK2E7aWYobD09PW4mJiEoYyU0KSYmYStsPHMpe2NvbnN0IHU9bmV3IFVpbnQzMkFycmF5KGYsYyxNYXRoLmZsb29yKChzLWEpLzQpKTtPdCh1KTtmb3IobGV0IGg9MDthK248cztoKz1vLmxlbmd0aCxhKz1uKXRoaXMubGVuZ3RoKz1uLHRoaXMuY29tcHJlc3ModSxoLCExKTtPdCh1KTtjb250aW51ZX1yLnNldChlLnN1YmFycmF5KGEsYStsKSx0aGlzLnBvcyksdGhpcy5wb3MrPWwsdGhpcy5sZW5ndGgrPWwsYSs9bH1yZXR1cm4gdGhpc31kaWdlc3RJbnRvKGUpe050KHRoaXMpLG9uKGUsdGhpcyk7Y29uc3R7cG9zOm4sYnVmZmVyMzI6cn09dGhpczt0aGlzLmZpbmlzaGVkPSEwLHV0KHRoaXMuYnVmZmVyLnN1YmFycmF5KG4pKSxPdChyKSx0aGlzLmNvbXByZXNzKHIsMCwhMCksT3Qocik7Y29uc3Qgbz1mZShlKTt0aGlzLmdldCgpLmZvckVhY2goKHMsaSk9Pm9baV09d3QocykpfWRpZ2VzdCgpe2NvbnN0e2J1ZmZlcjplLG91dHB1dExlbjpufT10aGlzO3RoaXMuZGlnZXN0SW50byhlKTtjb25zdCByPWUuc2xpY2UoMCxuKTtyZXR1cm4gdGhpcy5kZXN0cm95KCkscn1fY2xvbmVJbnRvKGUpe2NvbnN0e2J1ZmZlcjpuLGxlbmd0aDpyLGZpbmlzaGVkOm8sZGVzdHJveWVkOnMsb3V0cHV0TGVuOmkscG9zOmZ9PXRoaXM7cmV0dXJuIGV8fChlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHtka0xlbjppfSkpLGUuc2V0KC4uLnRoaXMuZ2V0KCkpLGUuYnVmZmVyLnNldChuKSxlLmRlc3Ryb3llZD1zLGUuZmluaXNoZWQ9byxlLmxlbmd0aD1yLGUucG9zPWYsZS5vdXRwdXRMZW49aSxlfWNsb25lKCl7cmV0dXJuIHRoaXMuX2Nsb25lSW50bygpfX1jbGFzcyBlZiBleHRlbmRzIHRme2NvbnN0cnVjdG9yKGU9e30pe2NvbnN0IG49ZS5ka0xlbj09PXZvaWQgMD82NDplLmRrTGVuO3N1cGVyKDEyOCxuKSx0aGlzLnYwbD1GWzBdfDAsdGhpcy52MGg9RlsxXXwwLHRoaXMudjFsPUZbMl18MCx0aGlzLnYxaD1GWzNdfDAsdGhpcy52Mmw9Rls0XXwwLHRoaXMudjJoPUZbNV18MCx0aGlzLnYzbD1GWzZdfDAsdGhpcy52M2g9Rls3XXwwLHRoaXMudjRsPUZbOF18MCx0aGlzLnY0aD1GWzldfDAsdGhpcy52NWw9RlsxMF18MCx0aGlzLnY1aD1GWzExXXwwLHRoaXMudjZsPUZbMTJdfDAsdGhpcy52Nmg9RlsxM118MCx0aGlzLnY3bD1GWzE0XXwwLHRoaXMudjdoPUZbMTVdfDAsUWkobixlLDY0LDE2LDE2KTtsZXR7a2V5OnIscGVyc29uYWxpemF0aW9uOm8sc2FsdDpzfT1lLGk9MDtpZihyIT09dm9pZCAwJiYocj1odChyKSxpPXIubGVuZ3RoKSx0aGlzLnYwbF49dGhpcy5vdXRwdXRMZW58aTw8OHw2NTUzNnwxPDwyNCxzIT09dm9pZCAwKXtzPWh0KHMpO2NvbnN0IGY9ZmUocyk7dGhpcy52NGxePXd0KGZbMF0pLHRoaXMudjRoXj13dChmWzFdKSx0aGlzLnY1bF49d3QoZlsyXSksdGhpcy52NWhePXd0KGZbM10pfWlmKG8hPT12b2lkIDApe289aHQobyk7Y29uc3QgZj1mZShvKTt0aGlzLnY2bF49d3QoZlswXSksdGhpcy52NmhePXd0KGZbMV0pLHRoaXMudjdsXj13dChmWzJdKSx0aGlzLnY3aF49d3QoZlszXSl9aWYociE9PXZvaWQgMCl7Y29uc3QgZj1uZXcgVWludDhBcnJheSh0aGlzLmJsb2NrTGVuKTtmLnNldChyKSx0aGlzLnVwZGF0ZShmKX19Z2V0KCl7bGV0e3YwbDplLHYwaDpuLHYxbDpyLHYxaDpvLHYybDpzLHYyaDppLHYzbDpmLHYzaDphLHY0bDpsLHY0aDpjLHY1bDp1LHY1aDpoLHY2bDpnLHY2aDp3LHY3bDp5LHY3aDp4fT10aGlzO3JldHVybltlLG4scixvLHMsaSxmLGEsbCxjLHUsaCxnLHcseSx4XX1zZXQoZSxuLHIsbyxzLGksZixhLGwsYyx1LGgsZyx3LHkseCl7dGhpcy52MGw9ZXwwLHRoaXMudjBoPW58MCx0aGlzLnYxbD1yfDAsdGhpcy52MWg9b3wwLHRoaXMudjJsPXN8MCx0aGlzLnYyaD1pfDAsdGhpcy52M2w9ZnwwLHRoaXMudjNoPWF8MCx0aGlzLnY0bD1sfDAsdGhpcy52NGg9Y3wwLHRoaXMudjVsPXV8MCx0aGlzLnY1aD1ofDAsdGhpcy52Nmw9Z3wwLHRoaXMudjZoPXd8MCx0aGlzLnY3bD15fDAsdGhpcy52N2g9eHwwfWNvbXByZXNzKGUsbixyKXt0aGlzLmdldCgpLmZvckVhY2goKGEsbCk9Pk5bbF09YSksTi5zZXQoRiwxNik7bGV0e2g6byxsOnN9PW1yKEJpZ0ludCh0aGlzLmxlbmd0aCkpO05bMjRdPUZbOF1ecyxOWzI1XT1GWzldXm8sciYmKE5bMjhdPX5OWzI4XSxOWzI5XT1+TlsyOV0pO2xldCBpPTA7Y29uc3QgZj1KaTtmb3IobGV0IGE9MDthPDEyO2ErKykkdCgwLDQsOCwxMixlLG4rMipmW2krK10pLEN0KDAsNCw4LDEyLGUsbisyKmZbaSsrXSksJHQoMSw1LDksMTMsZSxuKzIqZltpKytdKSxDdCgxLDUsOSwxMyxlLG4rMipmW2krK10pLCR0KDIsNiwxMCwxNCxlLG4rMipmW2krK10pLEN0KDIsNiwxMCwxNCxlLG4rMipmW2krK10pLCR0KDMsNywxMSwxNSxlLG4rMipmW2krK10pLEN0KDMsNywxMSwxNSxlLG4rMipmW2krK10pLCR0KDAsNSwxMCwxNSxlLG4rMipmW2krK10pLEN0KDAsNSwxMCwxNSxlLG4rMipmW2krK10pLCR0KDEsNiwxMSwxMixlLG4rMipmW2krK10pLEN0KDEsNiwxMSwxMixlLG4rMipmW2krK10pLCR0KDIsNyw4LDEzLGUsbisyKmZbaSsrXSksQ3QoMiw3LDgsMTMsZSxuKzIqZltpKytdKSwkdCgzLDQsOSwxNCxlLG4rMipmW2krK10pLEN0KDMsNCw5LDE0LGUsbisyKmZbaSsrXSk7dGhpcy52MGxePU5bMF1eTlsxNl0sdGhpcy52MGhePU5bMV1eTlsxN10sdGhpcy52MWxePU5bMl1eTlsxOF0sdGhpcy52MWhePU5bM11eTlsxOV0sdGhpcy52MmxePU5bNF1eTlsyMF0sdGhpcy52MmhePU5bNV1eTlsyMV0sdGhpcy52M2xePU5bNl1eTlsyMl0sdGhpcy52M2hePU5bN11eTlsyM10sdGhpcy52NGxePU5bOF1eTlsyNF0sdGhpcy52NGhePU5bOV1eTlsyNV0sdGhpcy52NWxePU5bMTBdXk5bMjZdLHRoaXMudjVoXj1OWzExXV5OWzI3XSx0aGlzLnY2bF49TlsxMl1eTlsyOF0sdGhpcy52NmhePU5bMTNdXk5bMjldLHRoaXMudjdsXj1OWzE0XV5OWzMwXSx0aGlzLnY3aF49TlsxNV1eTlszMV0sdXQoTil9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwLHV0KHRoaXMuYnVmZmVyMzIpLHRoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApfX1jb25zdCBuZj1VaSh0PT5uZXcgZWYodCkpLHJmPVwiaHR0cHM6Ly9ycGMud2FsbGV0Y29ubmVjdC5vcmcvdjFcIjtmdW5jdGlvbiBhbih0KXtjb25zdCBlPWBcdTAwMTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbiR7dC5sZW5ndGh9YCxuPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShlK3QpO3JldHVyblwiMHhcIitCdWZmZXIuZnJvbShIaShuKSkudG9TdHJpbmcoXCJoZXhcIil9YXN5bmMgZnVuY3Rpb24gQ3IodCxlLG4scixvLHMpe3N3aXRjaChuLnQpe2Nhc2VcImVpcDE5MVwiOnJldHVybiBhd2FpdCBMcih0LGUsbi5zKTtjYXNlXCJlaXAxMjcxXCI6cmV0dXJuIGF3YWl0IGpyKHQsZSxuLnMscixvLHMpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB2ZXJpZnlTaWduYXR1cmUgZmFpbGVkOiBBdHRlbXB0ZWQgdG8gdmVyaWZ5IENhY2FvU2lnbmF0dXJlIHdpdGggdW5rbm93biB0eXBlOiAke24udH1gKX19YXN5bmMgZnVuY3Rpb24gTHIodCxlLG4pe3JldHVybihhd2FpdCB2cyh7aGFzaDphbihlKSxzaWduYXR1cmU6bn0pKS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfWFzeW5jIGZ1bmN0aW9uIGpyKHQsZSxuLHIsbyxzKXtjb25zdCBpPUZlKHIpO2lmKCFpLm5hbWVzcGFjZXx8IWkucmVmZXJlbmNlKXRocm93IG5ldyBFcnJvcihgaXNWYWxpZEVpcDEyNzFTaWduYXR1cmUgZmFpbGVkOiBjaGFpbklkIG11c3QgYmUgaW4gQ0FJUC0yIGZvcm1hdCwgcmVjZWl2ZWQ6ICR7cn1gKTt0cnl7Y29uc3QgZj1cIjB4MTYyNmJhN2VcIixhPVwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MFwiLGw9bi5zdWJzdHJpbmcoMiksYz0obC5sZW5ndGgvMikudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDY0LFwiMFwiKSx1PShlLnN0YXJ0c1dpdGgoXCIweFwiKT9lOmFuKGUpKS5zdWJzdHJpbmcoMiksaD1mK3UrYStjK2wsZz1hd2FpdCBmZXRjaChgJHtzfHxyZn0vP2NoYWluSWQ9JHtyfSZwcm9qZWN0SWQ9JHtvfWAse2hlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LG1ldGhvZDpcIlBPU1RcIixib2R5OkpTT04uc3RyaW5naWZ5KHtpZDpvZigpLGpzb25ycGM6XCIyLjBcIixtZXRob2Q6XCJldGhfY2FsbFwiLHBhcmFtczpbe3RvOnQsZGF0YTpofSxcImxhdGVzdFwiXX0pfSkse3Jlc3VsdDp3fT1hd2FpdCBnLmpzb24oKTtyZXR1cm4gdz93LnNsaWNlKDAsZi5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PT1mLnRvTG93ZXJDYXNlKCk6ITF9Y2F0Y2goZil7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJpc1ZhbGlkRWlwMTI3MVNpZ25hdHVyZTogXCIsZiksITF9fWZ1bmN0aW9uIG9mKCl7cmV0dXJuIERhdGUubm93KCkrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjFlMyl9ZnVuY3Rpb24gc2YodCl7Y29uc3QgZT1hdG9iKHQpLG49bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKW5baV09ZS5jaGFyQ29kZUF0KGkpO2NvbnN0IHI9blswXTtpZihyPT09MCl0aHJvdyBuZXcgRXJyb3IoXCJObyBzaWduYXR1cmVzIGZvdW5kXCIpO2NvbnN0IG89MStyKjY0O2lmKG4ubGVuZ3RoPG8pdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gZGF0YSB0b28gc2hvcnQgZm9yIGNsYWltZWQgc2lnbmF0dXJlIGNvdW50XCIpO2lmKG4ubGVuZ3RoPDEwMCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiB0b28gc2hvcnRcIik7Y29uc3Qgcz1CdWZmZXIuZnJvbSh0LFwiYmFzZTY0XCIpLnNsaWNlKDEsNjUpO3JldHVybiByZS5lbmNvZGUocyl9ZnVuY3Rpb24gZmYodCl7Y29uc3QgZT1uZXcgVWludDhBcnJheShCdWZmZXIuZnJvbSh0LFwiYmFzZTY0XCIpKSxuPUFycmF5LmZyb20oXCJUcmFuc2FjdGlvbkRhdGE6OlwiKS5tYXAocz0+cy5jaGFyQ29kZUF0KDApKSxyPW5ldyBVaW50OEFycmF5KG4ubGVuZ3RoK2UubGVuZ3RoKTtyLnNldChuKSxyLnNldChlLG4ubGVuZ3RoKTtjb25zdCBvPW5mKHIse2RrTGVuOjMyfSk7cmV0dXJuIHJlLmVuY29kZShvKX1mdW5jdGlvbiBjZih0KXtjb25zdCBlPW5ldyBVaW50OEFycmF5KEFlKGtyKHQpKSk7cmV0dXJuIHJlLmVuY29kZShlKX1mdW5jdGlvbiBrcih0KXtpZih0IGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBuZXcgVWludDhBcnJheSh0KTtpZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdCE9bnVsbCYmdC5kYXRhKXJldHVybiBuZXcgVWludDhBcnJheShPYmplY3QudmFsdWVzKHQuZGF0YSkpO2lmKHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0KXJldHVybiBuZXcgVWludDhBcnJheShPYmplY3QudmFsdWVzKHQpKTt0aHJvdyBuZXcgRXJyb3IoXCJnZXROZWFyVWludDhBcnJheUZyb21CeXRlczogVW5leHBlY3RlZCByZXN1bHQgdHlwZSBmcm9tIGJ5dGVzIGFycmF5XCIpfWZ1bmN0aW9uIGFmKHQpe2NvbnN0IGU9QnVmZmVyLmZyb20odCxcImJhc2U2NFwiKSxuPUVzKGUpLnR4bjtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25lZCB0cmFuc2FjdGlvbjogbWlzc2luZyAndHhuJyBmaWVsZFwiKTtjb25zdCByPUJzKG4pLG89QnVmZmVyLmZyb20oXCJUWFwiKSxzPUJ1ZmZlci5jb25jYXQoW28sQnVmZmVyLmZyb20ocildKSxpPVhpKHMpO3JldHVybiBJcy5lbmNvZGUoaSkucmVwbGFjZSgvPSskLyxcIlwiKX1mdW5jdGlvbiB1bih0KXtjb25zdCBlPVtdO2xldCBuPUJpZ0ludCh0KTtmb3IoO24+PUJpZ0ludCgxMjgpOyllLnB1c2goTnVtYmVyKG4mQmlnSW50KDEyNyl8QmlnSW50KDEyOCkpKSxuPj49QmlnSW50KDcpO3JldHVybiBlLnB1c2goTnVtYmVyKG4pKSxCdWZmZXIuZnJvbShlKX1mdW5jdGlvbiB1Zih0KXtjb25zdCBlPUJ1ZmZlci5mcm9tKHQuc2lnbmVkLmJvZHlCeXRlcyxcImJhc2U2NFwiKSxuPUJ1ZmZlci5mcm9tKHQuc2lnbmVkLmF1dGhJbmZvQnl0ZXMsXCJiYXNlNjRcIikscj1CdWZmZXIuZnJvbSh0LnNpZ25hdHVyZS5zaWduYXR1cmUsXCJiYXNlNjRcIiksbz1bXTtvLnB1c2goQnVmZmVyLmZyb20oWzEwXSkpLG8ucHVzaCh1bihlLmxlbmd0aCkpLG8ucHVzaChlKSxvLnB1c2goQnVmZmVyLmZyb20oWzE4XSkpLG8ucHVzaCh1bihuLmxlbmd0aCkpLG8ucHVzaChuKSxvLnB1c2goQnVmZmVyLmZyb20oWzI2XSkpLG8ucHVzaCh1bihyLmxlbmd0aCkpLG8ucHVzaChyKTtjb25zdCBzPUJ1ZmZlci5jb25jYXQobyksaT1BZShzKTtyZXR1cm4gQnVmZmVyLmZyb20oaSkudG9TdHJpbmcoXCJoZXhcIikudG9VcHBlckNhc2UoKX12YXIgbGY9T2JqZWN0LmRlZmluZVByb3BlcnR5LGRmPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLGhmPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLFByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMscGY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxnZj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLEhyPSh0LGUsbik9PmUgaW4gdD9sZih0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTp0W2VdPW4sbG49KHQsZSk9Pntmb3IodmFyIG4gaW4gZXx8KGU9e30pKXBmLmNhbGwoZSxuKSYmSHIodCxuLGVbbl0pO2lmKFByKWZvcih2YXIgbiBvZiBQcihlKSlnZi5jYWxsKGUsbikmJkhyKHQsbixlW25dKTtyZXR1cm4gdH0sRHI9KHQsZSk9PmRmKHQsaGYoZSkpO2NvbnN0IGJmPVwiZGlkOnBraDpcIixTZT10PT50Py5zcGxpdChcIjpcIiksTXI9dD0+e2NvbnN0IGU9dCYmU2UodCk7aWYoZSlyZXR1cm4gdC5pbmNsdWRlcyhiZik/ZVszXTplWzFdfSxWcj10PT57Y29uc3QgZT10JiZTZSh0KTtpZihlKXJldHVybiBlWzJdK1wiOlwiK2VbM119LGRuPXQ9Pntjb25zdCBlPXQmJlNlKHQpO2lmKGUpcmV0dXJuIGUucG9wKCl9O2FzeW5jIGZ1bmN0aW9uIHlmKHQpe2NvbnN0e2NhY2FvOmUscHJvamVjdElkOm59PXQse3M6cixwOm99PWUscz1xcihvLG8uaXNzKSxpPWRuKG8uaXNzKTtyZXR1cm4gYXdhaXQgQ3IoaSxzLHIsVnIoby5pc3MpLG4pfWNvbnN0IHFyPSh0LGUpPT57Y29uc3Qgbj1gJHt0LmRvbWFpbn0gd2FudHMgeW91IHRvIHNpZ24gaW4gd2l0aCB5b3VyIEV0aGVyZXVtIGFjY291bnQ6YCxyPWRuKGUpO2lmKCF0LmF1ZCYmIXQudXJpKXRocm93IG5ldyBFcnJvcihcIkVpdGhlciBgYXVkYCBvciBgdXJpYCBpcyByZXF1aXJlZCB0byBjb25zdHJ1Y3QgdGhlIG1lc3NhZ2VcIik7bGV0IG89dC5zdGF0ZW1lbnR8fHZvaWQgMDtjb25zdCBzPWBVUkk6ICR7dC5hdWR8fHQudXJpfWAsaT1gVmVyc2lvbjogJHt0LnZlcnNpb259YCxmPWBDaGFpbiBJRDogJHtNcihlKX1gLGE9YE5vbmNlOiAke3Qubm9uY2V9YCxsPWBJc3N1ZWQgQXQ6ICR7dC5pYXR9YCxjPXQuZXhwP2BFeHBpcmF0aW9uIFRpbWU6ICR7dC5leHB9YDp2b2lkIDAsdT10Lm5iZj9gTm90IEJlZm9yZTogJHt0Lm5iZn1gOnZvaWQgMCxoPXQucmVxdWVzdElkP2BSZXF1ZXN0IElEOiAke3QucmVxdWVzdElkfWA6dm9pZCAwLGc9dC5yZXNvdXJjZXM/YFJlc291cmNlczoke3QucmVzb3VyY2VzLm1hcCh5PT5gXG4tICR7eX1gKS5qb2luKFwiXCIpfWA6dm9pZCAwLHc9T2UodC5yZXNvdXJjZXMpO2lmKHcpe2NvbnN0IHk9THQodyk7bz1nbihvLHkpfXJldHVybltuLHIsXCJcIixvLFwiXCIscyxpLGYsYSxsLGMsdSxoLGddLmZpbHRlcih5PT55IT1udWxsKS5qb2luKGBcbmApfTtmdW5jdGlvbiBtZih0LGUsbil7cmV0dXJuIG4uaW5jbHVkZXMoXCJkaWQ6cGtoOlwiKXx8KG49YGRpZDpwa2g6JHtufWApLHtoOnt0OlwiY2FpcDEyMlwifSxwOntpc3M6bixkb21haW46dC5kb21haW4sYXVkOnQuYXVkLHZlcnNpb246dC52ZXJzaW9uLG5vbmNlOnQubm9uY2UsaWF0OnQuaWF0LHN0YXRlbWVudDp0LnN0YXRlbWVudCxyZXF1ZXN0SWQ6dC5yZXF1ZXN0SWQscmVzb3VyY2VzOnQucmVzb3VyY2VzLG5iZjp0Lm5iZixleHA6dC5leHB9LHM6ZX19ZnVuY3Rpb24gd2YodCl7dmFyIGU7Y29uc3R7YXV0aFBheWxvYWQ6bixjaGFpbnM6cixtZXRob2RzOm99PXQscz1uLnN0YXRlbWVudHx8XCJcIjtpZighKHIhPW51bGwmJnIubGVuZ3RoKSlyZXR1cm4gbjtjb25zdCBpPW4uY2hhaW5zLGY9SmUoaSxyKTtpZighKGYhPW51bGwmJmYubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdXBwb3J0ZWQgY2hhaW5zXCIpO2NvbnN0IGE9S3Iobi5yZXNvdXJjZXMpO2lmKCFhKXJldHVybiBuO2J0KGEpO2NvbnN0IGw9RnIoYSxcImVpcDE1NVwiKTtsZXQgYz1uPy5yZXNvdXJjZXN8fFtdO2lmKGwhPW51bGwmJmwubGVuZ3RoKXtjb25zdCB1PXpyKGwpLGg9SmUodSxvKTtpZighKGghPW51bGwmJmgubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoYFN1cHBvcnRlZCBtZXRob2RzIGRvbid0IHNhdGlzZnkgdGhlIHJlcXVlc3RlZDogJHtKU09OLnN0cmluZ2lmeSh1KX0sIHN1cHBvcnRlZDogJHtKU09OLnN0cmluZ2lmeShvKX1gKTtjb25zdCBnPWhuKFwicmVxdWVzdFwiLGgse2NoYWluczpmfSksdz1ZcihhLFwiZWlwMTU1XCIsZyk7Yz0oKGU9bj8ucmVzb3VyY2VzKT09bnVsbD92b2lkIDA6ZS5zbGljZSgwLC0xKSl8fFtdLGMucHVzaChOZSh3KSl9cmV0dXJuIERyKGxuKHt9LG4pLHtzdGF0ZW1lbnQ6SnIocyxPZShjKSksY2hhaW5zOmYscmVzb3VyY2VzOm4hPW51bGwmJm4ucmVzb3VyY2VzfHxjLmxlbmd0aD4wP2M6dm9pZCAwfSl9ZnVuY3Rpb24gS3IodCl7Y29uc3QgZT1PZSh0KTtpZihlJiZwbihlKSlyZXR1cm4gTHQoZSl9ZnVuY3Rpb24geGYodCxlKXt2YXIgbjtyZXR1cm4obj10Py5hdHQpPT1udWxsP3ZvaWQgMDpuLmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIEZyKHQsZSl7dmFyIG4scjtyZXR1cm4obj10Py5hdHQpIT1udWxsJiZuW2VdP09iamVjdC5rZXlzKChyPXQ/LmF0dCk9PW51bGw/dm9pZCAwOnJbZV0pOltdfWZ1bmN0aW9uIHZmKHQpe3JldHVybiB0Py5tYXAoZT0+T2JqZWN0LmtleXMoZSkpfHxbXX1mdW5jdGlvbiB6cih0KXtyZXR1cm4gdD8ubWFwKGU9Pnt2YXIgbjtyZXR1cm4obj1lLnNwbGl0KFwiL1wiKSk9PW51bGw/dm9pZCAwOm5bMV19KXx8W119ZnVuY3Rpb24gR3IodCl7cmV0dXJuIEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHQpKS50b1N0cmluZyhcImJhc2U2NFwiKX1mdW5jdGlvbiBacih0KXtyZXR1cm4gSlNPTi5wYXJzZShCdWZmZXIuZnJvbSh0LFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmLThcIikpfWZ1bmN0aW9uIGJ0KHQpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIk5vIHJlY2FwIHByb3ZpZGVkLCB2YWx1ZSBpcyB1bmRlZmluZWRcIik7aWYoIXQuYXR0KXRocm93IG5ldyBFcnJvcihcIk5vIGBhdHRgIHByb3BlcnR5IGZvdW5kXCIpO2NvbnN0IGU9T2JqZWN0LmtleXModC5hdHQpO2lmKCEoZSE9bnVsbCYmZS5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihcIk5vIHJlc291cmNlcyBmb3VuZCBpbiBgYXR0YCBwcm9wZXJ0eVwiKTtlLmZvckVhY2gobj0+e2NvbnN0IHI9dC5hdHRbbl07aWYoQXJyYXkuaXNBcnJheShyKSl0aHJvdyBuZXcgRXJyb3IoYFJlc291cmNlIG11c3QgYmUgYW4gb2JqZWN0OiAke259YCk7aWYodHlwZW9mIHIhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBtdXN0IGJlIGFuIG9iamVjdDogJHtufWApO2lmKCFPYmplY3Qua2V5cyhyKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBvYmplY3QgaXMgZW1wdHk6ICR7bn1gKTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKG89Pntjb25zdCBzPXJbb107aWYoIUFycmF5LmlzQXJyYXkocykpdGhyb3cgbmV3IEVycm9yKGBBYmlsaXR5IGxpbWl0cyAke299IG11c3QgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZm91bmQ6ICR7c31gKTtpZighcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBvZiAke299IGlzIGVtcHR5IGFycmF5LCBtdXN0IGJlIGFuIGFycmF5IHdpdGggb2JqZWN0c2ApO3MuZm9yRWFjaChpPT57aWYodHlwZW9mIGkhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKGBBYmlsaXR5IGxpbWl0cyAoJHtvfSkgbXVzdCBiZSBhbiBhcnJheSBvZiBvYmplY3RzLCBmb3VuZDogJHtpfWApfSl9KX0pfWZ1bmN0aW9uIFdyKHQsZSxuLHI9e30pe3JldHVybiBuPy5zb3J0KChvLHMpPT5vLmxvY2FsZUNvbXBhcmUocykpLHthdHQ6e1t0XTpobihlLG4scil9fX1mdW5jdGlvbiBZcih0LGUsbil7dmFyIHI7dC5hdHRbZV09bG4oe30sbik7Y29uc3Qgbz0ocj1PYmplY3Qua2V5cyh0LmF0dCkpPT1udWxsP3ZvaWQgMDpyLnNvcnQoKGksZik9PmkubG9jYWxlQ29tcGFyZShmKSkscz17YXR0Ont9fTtyZXR1cm4gby5yZWR1Y2UoKGksZik9PihpLmF0dFtmXT10LmF0dFtmXSxpKSxzKX1mdW5jdGlvbiBobih0LGUsbj17fSl7ZT1lPy5zb3J0KChvLHMpPT5vLmxvY2FsZUNvbXBhcmUocykpO2NvbnN0IHI9ZS5tYXAobz0+KHtbYCR7dH0vJHtvfWBdOltuXX0pKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwuLi5yKX1mdW5jdGlvbiBOZSh0KXtyZXR1cm4gYnQodCksYHVybjpyZWNhcDoke0dyKHQpLnJlcGxhY2UoLz0vZyxcIlwiKX1gfWZ1bmN0aW9uIEx0KHQpe2NvbnN0IGU9WnIodC5yZXBsYWNlKFwidXJuOnJlY2FwOlwiLFwiXCIpKTtyZXR1cm4gYnQoZSksZX1mdW5jdGlvbiBFZih0LGUsbil7Y29uc3Qgcj1Xcih0LGUsbik7cmV0dXJuIE5lKHIpfWZ1bmN0aW9uIHBuKHQpe3JldHVybiB0JiZ0LmluY2x1ZGVzKFwidXJuOnJlY2FwOlwiKX1mdW5jdGlvbiBCZih0LGUpe2NvbnN0IG49THQodCkscj1MdChlKSxvPVhyKG4scik7cmV0dXJuIE5lKG8pfWZ1bmN0aW9uIFhyKHQsZSl7YnQodCksYnQoZSk7Y29uc3Qgbj1PYmplY3Qua2V5cyh0LmF0dCkuY29uY2F0KE9iamVjdC5rZXlzKGUuYXR0KSkuc29ydCgobyxzKT0+by5sb2NhbGVDb21wYXJlKHMpKSxyPXthdHQ6e319O3JldHVybiBuLmZvckVhY2gobz0+e3ZhciBzLGk7T2JqZWN0LmtleXMoKChzPXQuYXR0KT09bnVsbD92b2lkIDA6c1tvXSl8fHt9KS5jb25jYXQoT2JqZWN0LmtleXMoKChpPWUuYXR0KT09bnVsbD92b2lkIDA6aVtvXSl8fHt9KSkuc29ydCgoZixhKT0+Zi5sb2NhbGVDb21wYXJlKGEpKS5mb3JFYWNoKGY9Pnt2YXIgYSxsO3IuYXR0W29dPURyKGxuKHt9LHIuYXR0W29dKSx7W2ZdOigoYT10LmF0dFtvXSk9PW51bGw/dm9pZCAwOmFbZl0pfHwoKGw9ZS5hdHRbb10pPT1udWxsP3ZvaWQgMDpsW2ZdKX0pfSl9KSxyfWZ1bmN0aW9uIGduKHQ9XCJcIixlKXtidChlKTtjb25zdCBuPVwiSSBmdXJ0aGVyIGF1dGhvcml6ZSB0aGUgc3RhdGVkIFVSSSB0byBwZXJmb3JtIHRoZSBmb2xsb3dpbmcgYWN0aW9ucyBvbiBteSBiZWhhbGY6IFwiO2lmKHQuaW5jbHVkZXMobikpcmV0dXJuIHQ7Y29uc3Qgcj1bXTtsZXQgbz0wO09iamVjdC5rZXlzKGUuYXR0KS5mb3JFYWNoKGY9Pntjb25zdCBhPU9iamVjdC5rZXlzKGUuYXR0W2ZdKS5tYXAodT0+KHthYmlsaXR5OnUuc3BsaXQoXCIvXCIpWzBdLGFjdGlvbjp1LnNwbGl0KFwiL1wiKVsxXX0pKTthLnNvcnQoKHUsaCk9PnUuYWN0aW9uLmxvY2FsZUNvbXBhcmUoaC5hY3Rpb24pKTtjb25zdCBsPXt9O2EuZm9yRWFjaCh1PT57bFt1LmFiaWxpdHldfHwobFt1LmFiaWxpdHldPVtdKSxsW3UuYWJpbGl0eV0ucHVzaCh1LmFjdGlvbil9KTtjb25zdCBjPU9iamVjdC5rZXlzKGwpLm1hcCh1PT4obysrLGAoJHtvfSkgJyR7dX0nOiAnJHtsW3VdLmpvaW4oXCInLCAnXCIpfScgZm9yICcke2Z9Jy5gKSk7ci5wdXNoKGMuam9pbihcIiwgXCIpLnJlcGxhY2UoXCIuLFwiLFwiLlwiKSl9KTtjb25zdCBzPXIuam9pbihcIiBcIiksaT1gJHtufSR7c31gO3JldHVybmAke3Q/dCtcIiBcIjpcIlwifSR7aX1gfWZ1bmN0aW9uIElmKHQpe3ZhciBlO2NvbnN0IG49THQodCk7YnQobik7Y29uc3Qgcj0oZT1uLmF0dCk9PW51bGw/dm9pZCAwOmUuZWlwMTU1O3JldHVybiByP09iamVjdC5rZXlzKHIpLm1hcChvPT5vLnNwbGl0KFwiL1wiKVsxXSk6W119ZnVuY3Rpb24gQWYodCl7Y29uc3QgZT1MdCh0KTtidChlKTtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKGUuYXR0KS5mb3JFYWNoKHI9PntPYmplY3QudmFsdWVzKHIpLmZvckVhY2gobz0+e3ZhciBzOyhzPW8/LlswXSkhPW51bGwmJnMuY2hhaW5zJiZuLnB1c2gob1swXS5jaGFpbnMpfSl9KSxbLi4ubmV3IFNldChuLmZsYXQoKSldfWZ1bmN0aW9uIEpyKHQsZSl7aWYoIWUpcmV0dXJuIHQ7Y29uc3Qgbj1MdChlKTtyZXR1cm4gYnQobiksZ24odCxuKX1mdW5jdGlvbiBPZSh0KXtpZighdClyZXR1cm47Y29uc3QgZT10Py5bdC5sZW5ndGgtMV07cmV0dXJuIHBuKGUpP2U6dm9pZCAwfS8qISBub2JsZS1jaXBoZXJzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjMgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovZnVuY3Rpb24gUXIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJnQuY29uc3RydWN0b3IubmFtZT09PVwiVWludDhBcnJheVwifWZ1bmN0aW9uIGJuKHQpe2lmKHR5cGVvZiB0IT1cImJvb2xlYW5cIil0aHJvdyBuZXcgRXJyb3IoYGJvb2xlYW4gZXhwZWN0ZWQsIG5vdCAke3R9YCl9ZnVuY3Rpb24geW4odCl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHQpfHx0PDApdGhyb3cgbmV3IEVycm9yKFwicG9zaXRpdmUgaW50ZWdlciBleHBlY3RlZCwgZ290IFwiK3QpfWZ1bmN0aW9uIG50KHQsLi4uZSl7aWYoIVFyKHQpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWRcIik7aWYoZS5sZW5ndGg+MCYmIWUuaW5jbHVkZXModC5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWQgb2YgbGVuZ3RoIFwiK2UrXCIsIGdvdCBsZW5ndGg9XCIrdC5sZW5ndGgpfWZ1bmN0aW9uIHRvKHQsZT0hMCl7aWYodC5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYoZSYmdC5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIFNmKHQsZSl7bnQodCk7Y29uc3Qgbj1lLm91dHB1dExlbjtpZih0Lmxlbmd0aDxuKXRocm93IG5ldyBFcnJvcihcImRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0IFwiK24pfWZ1bmN0aW9uIGp0KHQpe3JldHVybiBuZXcgVWludDMyQXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LE1hdGguZmxvb3IodC5ieXRlTGVuZ3RoLzQpKX1mdW5jdGlvbiBXdCguLi50KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmZpbGwoMCl9ZnVuY3Rpb24gTmYodCl7cmV0dXJuIG5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX1jb25zdCBPZj1uZXcgVWludDhBcnJheShuZXcgVWludDMyQXJyYXkoWzI4NzQ1NDAyMF0pLmJ1ZmZlcilbMF09PT02ODtmdW5jdGlvbiBVZih0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJzdHJpbmcgZXhwZWN0ZWRcIik7cmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KSl9ZnVuY3Rpb24gbW4odCl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpdD1VZih0KTtlbHNlIGlmKFFyKHQpKXQ9d24odCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIHQpO3JldHVybiB0fWZ1bmN0aW9uIF9mKHQsZSl7aWYoZT09bnVsbHx8dHlwZW9mIGUhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucyBtdXN0IGJlIGRlZmluZWRcIik7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxlKX1mdW5jdGlvbiBUZih0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7bGV0IG49MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylufD10W3JdXmVbcl07cmV0dXJuIG49PT0wfWNvbnN0IFJmPSh0LGUpPT57ZnVuY3Rpb24gbihyLC4uLm8pe2lmKG50KHIpLCFPZil0aHJvdyBuZXcgRXJyb3IoXCJOb24gbGl0dGxlLWVuZGlhbiBoYXJkd2FyZSBpcyBub3QgeWV0IHN1cHBvcnRlZFwiKTtpZih0Lm5vbmNlTGVuZ3RoIT09dm9pZCAwKXtjb25zdCBjPW9bMF07aWYoIWMpdGhyb3cgbmV3IEVycm9yKFwibm9uY2UgLyBpdiByZXF1aXJlZFwiKTt0LnZhclNpemVOb25jZT9udChjKTpudChjLHQubm9uY2VMZW5ndGgpfWNvbnN0IHM9dC50YWdMZW5ndGg7cyYmb1sxXSE9PXZvaWQgMCYmbnQob1sxXSk7Y29uc3QgaT1lKHIsLi4ubyksZj0oYyx1KT0+e2lmKHUhPT12b2lkIDApe2lmKGMhPT0yKXRocm93IG5ldyBFcnJvcihcImNpcGhlciBvdXRwdXQgbm90IHN1cHBvcnRlZFwiKTtudCh1KX19O2xldCBhPSExO3JldHVybntlbmNyeXB0KGMsdSl7aWYoYSl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5jcnlwdCgpIHR3aWNlIHdpdGggc2FtZSBrZXkgKyBub25jZVwiKTtyZXR1cm4gYT0hMCxudChjKSxmKGkuZW5jcnlwdC5sZW5ndGgsdSksaS5lbmNyeXB0KGMsdSl9LGRlY3J5cHQoYyx1KXtpZihudChjKSxzJiZjLmxlbmd0aDxzKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgY2lwaGVydGV4dCBsZW5ndGg6IHNtYWxsZXIgdGhhbiB0YWdMZW5ndGg9XCIrcyk7cmV0dXJuIGYoaS5kZWNyeXB0Lmxlbmd0aCx1KSxpLmRlY3J5cHQoYyx1KX19fXJldHVybiBPYmplY3QuYXNzaWduKG4sdCksbn07ZnVuY3Rpb24gZW8odCxlLG49ITApe2lmKGU9PT12b2lkIDApcmV0dXJuIG5ldyBVaW50OEFycmF5KHQpO2lmKGUubGVuZ3RoIT09dCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG91dHB1dCBsZW5ndGgsIGV4cGVjdGVkIFwiK3QrXCIsIGdvdDogXCIrZS5sZW5ndGgpO2lmKG4mJiFDZihlKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG91dHB1dCwgbXVzdCBiZSBhbGlnbmVkXCIpO3JldHVybiBlfWZ1bmN0aW9uIG5vKHQsZSxuLHIpe2lmKHR5cGVvZiB0LnNldEJpZ1VpbnQ2ND09XCJmdW5jdGlvblwiKXJldHVybiB0LnNldEJpZ1VpbnQ2NChlLG4scik7Y29uc3Qgbz1CaWdJbnQoMzIpLHM9QmlnSW50KDQyOTQ5NjcyOTUpLGk9TnVtYmVyKG4+Pm8mcyksZj1OdW1iZXIobiZzKSxhPXI/NDowLGw9cj8wOjQ7dC5zZXRVaW50MzIoZSthLGksciksdC5zZXRVaW50MzIoZStsLGYscil9ZnVuY3Rpb24gJGYodCxlLG4pe2JuKG4pO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkoMTYpLG89TmYocik7cmV0dXJuIG5vKG8sMCxCaWdJbnQoZSksbiksbm8obyw4LEJpZ0ludCh0KSxuKSxyfWZ1bmN0aW9uIENmKHQpe3JldHVybiB0LmJ5dGVPZmZzZXQlND09PTB9ZnVuY3Rpb24gd24odCl7cmV0dXJuIFVpbnQ4QXJyYXkuZnJvbSh0KX1jb25zdCBybz10PT5VaW50OEFycmF5LmZyb20odC5zcGxpdChcIlwiKS5tYXAoZT0+ZS5jaGFyQ29kZUF0KDApKSksTGY9cm8oXCJleHBhbmQgMTYtYnl0ZSBrXCIpLGpmPXJvKFwiZXhwYW5kIDMyLWJ5dGUga1wiKSxrZj1qdChMZiksUGY9anQoamYpO2Z1bmN0aW9uIEQodCxlKXtyZXR1cm4gdDw8ZXx0Pj4+MzItZX1mdW5jdGlvbiB4bih0KXtyZXR1cm4gdC5ieXRlT2Zmc2V0JTQ9PT0wfWNvbnN0IFVlPTY0LEhmPTE2LG9vPTIqKjMyLTEsc289bmV3IFVpbnQzMkFycmF5O2Z1bmN0aW9uIERmKHQsZSxuLHIsbyxzLGksZil7Y29uc3QgYT1vLmxlbmd0aCxsPW5ldyBVaW50OEFycmF5KFVlKSxjPWp0KGwpLHU9eG4obykmJnhuKHMpLGg9dT9qdChvKTpzbyxnPXU/anQocyk6c287Zm9yKGxldCB3PTA7dzxhO2krKyl7aWYodChlLG4scixjLGksZiksaT49b28pdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBjb3VudGVyIG92ZXJmbG93XCIpO2NvbnN0IHk9TWF0aC5taW4oVWUsYS13KTtpZih1JiZ5PT09VWUpe2NvbnN0IHg9dy80O2lmKHclNCE9PTApdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBpbnZhbGlkIGJsb2NrIHBvc2l0aW9uXCIpO2ZvcihsZXQgUj0wLE07UjxIZjtSKyspTT14K1IsZ1tNXT1oW01dXmNbUl07dys9VWU7Y29udGludWV9Zm9yKGxldCB4PTAsUjt4PHk7eCsrKVI9dyt4LHNbUl09b1tSXV5sW3hdO3crPXl9fWZ1bmN0aW9uIE1mKHQsZSl7Y29uc3R7YWxsb3dTaG9ydEtleXM6bixleHRlbmROb25jZUZuOnIsY291bnRlckxlbmd0aDpvLGNvdW50ZXJSaWdodDpzLHJvdW5kczppfT1fZih7YWxsb3dTaG9ydEtleXM6ITEsY291bnRlckxlbmd0aDo4LGNvdW50ZXJSaWdodDohMSxyb3VuZHM6MjB9LGUpO2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiY29yZSBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIHluKG8pLHluKGkpLGJuKHMpLGJuKG4pLChmLGEsbCxjLHU9MCk9PntudChmKSxudChhKSxudChsKTtjb25zdCBoPWwubGVuZ3RoO2lmKGM9PT12b2lkIDAmJihjPW5ldyBVaW50OEFycmF5KGgpKSxudChjKSx5bih1KSx1PDB8fHU+PW9vKXRocm93IG5ldyBFcnJvcihcImFyeDogY291bnRlciBvdmVyZmxvd1wiKTtpZihjLmxlbmd0aDxoKXRocm93IG5ldyBFcnJvcihgYXJ4OiBvdXRwdXQgKCR7Yy5sZW5ndGh9KSBpcyBzaG9ydGVyIHRoYW4gZGF0YSAoJHtofSlgKTtjb25zdCBnPVtdO2xldCB3PWYubGVuZ3RoLHkseDtpZih3PT09MzIpZy5wdXNoKHk9d24oZikpLHg9UGY7ZWxzZSBpZih3PT09MTYmJm4peT1uZXcgVWludDhBcnJheSgzMikseS5zZXQoZikseS5zZXQoZiwxNikseD1rZixnLnB1c2goeSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYGFyeDogaW52YWxpZCAzMi1ieXRlIGtleSwgZ290IGxlbmd0aD0ke3d9YCk7eG4oYSl8fGcucHVzaChhPXduKGEpKTtjb25zdCBSPWp0KHkpO2lmKHIpe2lmKGEubGVuZ3RoIT09MjQpdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBleHRlbmRlZCBub25jZSBtdXN0IGJlIDI0IGJ5dGVzXCIpO3IoeCxSLGp0KGEuc3ViYXJyYXkoMCwxNikpLFIpLGE9YS5zdWJhcnJheSgxNil9Y29uc3QgTT0xNi1vO2lmKE0hPT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYGFyeDogbm9uY2UgbXVzdCBiZSAke019IG9yIDE2IGJ5dGVzYCk7aWYoTSE9PTEyKXtjb25zdCBWPW5ldyBVaW50OEFycmF5KDEyKTtWLnNldChhLHM/MDoxMi1hLmxlbmd0aCksYT1WLGcucHVzaChhKX1jb25zdCBMPWp0KGEpO3JldHVybiBEZih0LHgsUixMLGwsYyx1LGkpLFd0KC4uLmcpLGN9fWNvbnN0IEc9KHQsZSk9PnRbZSsrXSYyNTV8KHRbZSsrXSYyNTUpPDw4O2NsYXNzIFZme2NvbnN0cnVjdG9yKGUpe3RoaXMuYmxvY2tMZW49MTYsdGhpcy5vdXRwdXRMZW49MTYsdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoMTYpLHRoaXMucj1uZXcgVWludDE2QXJyYXkoMTApLHRoaXMuaD1uZXcgVWludDE2QXJyYXkoMTApLHRoaXMucGFkPW5ldyBVaW50MTZBcnJheSg4KSx0aGlzLnBvcz0wLHRoaXMuZmluaXNoZWQ9ITEsZT1tbihlKSxudChlLDMyKTtjb25zdCBuPUcoZSwwKSxyPUcoZSwyKSxvPUcoZSw0KSxzPUcoZSw2KSxpPUcoZSw4KSxmPUcoZSwxMCksYT1HKGUsMTIpLGw9RyhlLDE0KTt0aGlzLnJbMF09biY4MTkxLHRoaXMuclsxXT0obj4+PjEzfHI8PDMpJjgxOTEsdGhpcy5yWzJdPShyPj4+MTB8bzw8NikmNzkzOSx0aGlzLnJbM109KG8+Pj43fHM8PDkpJjgxOTEsdGhpcy5yWzRdPShzPj4+NHxpPDwxMikmMjU1LHRoaXMucls1XT1pPj4+MSY4MTkwLHRoaXMucls2XT0oaT4+PjE0fGY8PDIpJjgxOTEsdGhpcy5yWzddPShmPj4+MTF8YTw8NSkmODA2NSx0aGlzLnJbOF09KGE+Pj44fGw8PDgpJjgxOTEsdGhpcy5yWzldPWw+Pj41JjEyNztmb3IobGV0IGM9MDtjPDg7YysrKXRoaXMucGFkW2NdPUcoZSwxNisyKmMpfXByb2Nlc3MoZSxuLHI9ITEpe2NvbnN0IG89cj8wOjIwNDgse2g6cyxyOml9PXRoaXMsZj1pWzBdLGE9aVsxXSxsPWlbMl0sYz1pWzNdLHU9aVs0XSxoPWlbNV0sZz1pWzZdLHc9aVs3XSx5PWlbOF0seD1pWzldLFI9RyhlLG4rMCksTT1HKGUsbisyKSxMPUcoZSxuKzQpLFY9RyhlLG4rNiksXz1HKGUsbis4KSxrPUcoZSxuKzEwKSxqPUcoZSxuKzEyKSwkPUcoZSxuKzE0KTtsZXQgZD1zWzBdKyhSJjgxOTEpLG09c1sxXSsoKFI+Pj4xM3xNPDwzKSY4MTkxKSxwPXNbMl0rKChNPj4+MTB8TDw8NikmODE5MSksYj1zWzNdKygoTD4+Pjd8Vjw8OSkmODE5MSksdj1zWzRdKygoVj4+PjR8Xzw8MTIpJjgxOTEpLEI9c1s1XSsoXz4+PjEmODE5MSksRT1zWzZdKygoXz4+PjE0fGs8PDIpJjgxOTEpLEk9c1s3XSsoKGs+Pj4xMXxqPDw1KSY4MTkxKSxTPXNbOF0rKChqPj4+OHwkPDw4KSY4MTkxKSxPPXNbOV0rKCQ+Pj41fG8pLEE9MCxUPUErZCpmK20qKDUqeCkrcCooNSp5KStiKig1KncpK3YqKDUqZyk7QT1UPj4+MTMsVCY9ODE5MSxUKz1CKig1KmgpK0UqKDUqdSkrSSooNSpjKStTKig1KmwpK08qKDUqYSksQSs9VD4+PjEzLFQmPTgxOTE7bGV0IFU9QStkKmErbSpmK3AqKDUqeCkrYiooNSp5KSt2Kig1KncpO0E9VT4+PjEzLFUmPTgxOTEsVSs9QiooNSpnKStFKig1KmgpK0kqKDUqdSkrUyooNSpjKStPKig1KmwpLEErPVU+Pj4xMyxVJj04MTkxO2xldCBDPUErZCpsK20qYStwKmYrYiooNSp4KSt2Kig1KnkpO0E9Qz4+PjEzLEMmPTgxOTEsQys9QiooNSp3KStFKig1KmcpK0kqKDUqaCkrUyooNSp1KStPKig1KmMpLEErPUM+Pj4xMyxDJj04MTkxO2xldCBIPUErZCpjK20qbCtwKmErYipmK3YqKDUqeCk7QT1IPj4+MTMsSCY9ODE5MSxIKz1CKig1KnkpK0UqKDUqdykrSSooNSpnKStTKig1KmgpK08qKDUqdSksQSs9SD4+PjEzLEgmPTgxOTE7bGV0IHE9QStkKnUrbSpjK3AqbCtiKmErdipmO0E9cT4+PjEzLHEmPTgxOTEscSs9QiooNSp4KStFKig1KnkpK0kqKDUqdykrUyooNSpnKStPKig1KmgpLEErPXE+Pj4xMyxxJj04MTkxO2xldCBQPUErZCpoK20qdStwKmMrYipsK3YqYTtBPVA+Pj4xMyxQJj04MTkxLFArPUIqZitFKig1KngpK0kqKDUqeSkrUyooNSp3KStPKig1KmcpLEErPVA+Pj4xMyxQJj04MTkxO2xldCBLPUErZCpnK20qaCtwKnUrYipjK3YqbDtBPUs+Pj4xMyxLJj04MTkxLEsrPUIqYStFKmYrSSooNSp4KStTKig1KnkpK08qKDUqdyksQSs9Sz4+PjEzLEsmPTgxOTE7bGV0IGV0PUErZCp3K20qZytwKmgrYip1K3YqYztBPWV0Pj4+MTMsZXQmPTgxOTEsZXQrPUIqbCtFKmErSSpmK1MqKDUqeCkrTyooNSp5KSxBKz1ldD4+PjEzLGV0Jj04MTkxO2xldCBaPUErZCp5K20qdytwKmcrYipoK3YqdTtBPVo+Pj4xMyxaJj04MTkxLForPUIqYytFKmwrSSphK1MqZitPKig1KngpLEErPVo+Pj4xMyxaJj04MTkxO2xldCB6PUErZCp4K20qeStwKncrYipnK3YqaDtBPXo+Pj4xMyx6Jj04MTkxLHorPUIqdStFKmMrSSpsK1MqYStPKmYsQSs9ej4+PjEzLHomPTgxOTEsQT0oQTw8MikrQXwwLEE9QStUfDAsVD1BJjgxOTEsQT1BPj4+MTMsVSs9QSxzWzBdPVQsc1sxXT1VLHNbMl09QyxzWzNdPUgsc1s0XT1xLHNbNV09UCxzWzZdPUssc1s3XT1ldCxzWzhdPVosc1s5XT16fWZpbmFsaXplKCl7Y29uc3R7aDplLHBhZDpufT10aGlzLHI9bmV3IFVpbnQxNkFycmF5KDEwKTtsZXQgbz1lWzFdPj4+MTM7ZVsxXSY9ODE5MTtmb3IobGV0IGY9MjtmPDEwO2YrKyllW2ZdKz1vLG89ZVtmXT4+PjEzLGVbZl0mPTgxOTE7ZVswXSs9byo1LG89ZVswXT4+PjEzLGVbMF0mPTgxOTEsZVsxXSs9byxvPWVbMV0+Pj4xMyxlWzFdJj04MTkxLGVbMl0rPW8sclswXT1lWzBdKzUsbz1yWzBdPj4+MTMsclswXSY9ODE5MTtmb3IobGV0IGY9MTtmPDEwO2YrKylyW2ZdPWVbZl0rbyxvPXJbZl0+Pj4xMyxyW2ZdJj04MTkxO3JbOV0tPTgxOTI7bGV0IHM9KG9eMSktMTtmb3IobGV0IGY9MDtmPDEwO2YrKylyW2ZdJj1zO3M9fnM7Zm9yKGxldCBmPTA7ZjwxMDtmKyspZVtmXT1lW2ZdJnN8cltmXTtlWzBdPShlWzBdfGVbMV08PDEzKSY2NTUzNSxlWzFdPShlWzFdPj4+M3xlWzJdPDwxMCkmNjU1MzUsZVsyXT0oZVsyXT4+PjZ8ZVszXTw8NykmNjU1MzUsZVszXT0oZVszXT4+Pjl8ZVs0XTw8NCkmNjU1MzUsZVs0XT0oZVs0XT4+PjEyfGVbNV08PDF8ZVs2XTw8MTQpJjY1NTM1LGVbNV09KGVbNl0+Pj4yfGVbN108PDExKSY2NTUzNSxlWzZdPShlWzddPj4+NXxlWzhdPDw4KSY2NTUzNSxlWzddPShlWzhdPj4+OHxlWzldPDw1KSY2NTUzNTtsZXQgaT1lWzBdK25bMF07ZVswXT1pJjY1NTM1O2ZvcihsZXQgZj0xO2Y8ODtmKyspaT0oZVtmXStuW2ZdfDApKyhpPj4+MTYpfDAsZVtmXT1pJjY1NTM1O1d0KHIpfXVwZGF0ZShlKXt0byh0aGlzKSxlPW1uKGUpLG50KGUpO2NvbnN0e2J1ZmZlcjpuLGJsb2NrTGVuOnJ9PXRoaXMsbz1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPG87KXtjb25zdCBpPU1hdGgubWluKHItdGhpcy5wb3Msby1zKTtpZihpPT09cil7Zm9yKDtyPD1vLXM7cys9cil0aGlzLnByb2Nlc3MoZSxzKTtjb250aW51ZX1uLnNldChlLnN1YmFycmF5KHMscytpKSx0aGlzLnBvcyksdGhpcy5wb3MrPWkscys9aSx0aGlzLnBvcz09PXImJih0aGlzLnByb2Nlc3MobiwwLCExKSx0aGlzLnBvcz0wKX1yZXR1cm4gdGhpc31kZXN0cm95KCl7V3QodGhpcy5oLHRoaXMucix0aGlzLmJ1ZmZlcix0aGlzLnBhZCl9ZGlnZXN0SW50byhlKXt0byh0aGlzKSxTZihlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOm4saDpyfT10aGlzO2xldHtwb3M6b309dGhpcztpZihvKXtmb3IobltvKytdPTE7bzwxNjtvKyspbltvXT0wO3RoaXMucHJvY2VzcyhuLDAsITApfXRoaXMuZmluYWxpemUoKTtsZXQgcz0wO2ZvcihsZXQgaT0wO2k8ODtpKyspZVtzKytdPXJbaV0+Pj4wLGVbcysrXT1yW2ldPj4+ODtyZXR1cm4gZX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9fWZ1bmN0aW9uIHFmKHQpe2NvbnN0IGU9KHIsbyk9PnQobykudXBkYXRlKG1uKHIpKS5kaWdlc3QoKSxuPXQobmV3IFVpbnQ4QXJyYXkoMzIpKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPXI9PnQociksZX1jb25zdCBLZj1xZih0PT5uZXcgVmYodCkpO2Z1bmN0aW9uIEZmKHQsZSxuLHIsbyxzPTIwKXtsZXQgaT10WzBdLGY9dFsxXSxhPXRbMl0sbD10WzNdLGM9ZVswXSx1PWVbMV0saD1lWzJdLGc9ZVszXSx3PWVbNF0seT1lWzVdLHg9ZVs2XSxSPWVbN10sTT1vLEw9blswXSxWPW5bMV0sXz1uWzJdLGs9aSxqPWYsJD1hLGQ9bCxtPWMscD11LGI9aCx2PWcsQj13LEU9eSxJPXgsUz1SLE89TSxBPUwsVD1WLFU9Xztmb3IobGV0IEg9MDtIPHM7SCs9MilrPWsrbXwwLE89RChPXmssMTYpLEI9QitPfDAsbT1EKG1eQiwxMiksaz1rK218MCxPPUQoT15rLDgpLEI9QitPfDAsbT1EKG1eQiw3KSxqPWorcHwwLEE9RChBXmosMTYpLEU9RStBfDAscD1EKHBeRSwxMiksaj1qK3B8MCxBPUQoQV5qLDgpLEU9RStBfDAscD1EKHBeRSw3KSwkPSQrYnwwLFQ9RChUXiQsMTYpLEk9SStUfDAsYj1EKGJeSSwxMiksJD0kK2J8MCxUPUQoVF4kLDgpLEk9SStUfDAsYj1EKGJeSSw3KSxkPWQrdnwwLFU9RChVXmQsMTYpLFM9UytVfDAsdj1EKHZeUywxMiksZD1kK3Z8MCxVPUQoVV5kLDgpLFM9UytVfDAsdj1EKHZeUyw3KSxrPWsrcHwwLFU9RChVXmssMTYpLEk9SStVfDAscD1EKHBeSSwxMiksaz1rK3B8MCxVPUQoVV5rLDgpLEk9SStVfDAscD1EKHBeSSw3KSxqPWorYnwwLE89RChPXmosMTYpLFM9UytPfDAsYj1EKGJeUywxMiksaj1qK2J8MCxPPUQoT15qLDgpLFM9UytPfDAsYj1EKGJeUyw3KSwkPSQrdnwwLEE9RChBXiQsMTYpLEI9QitBfDAsdj1EKHZeQiwxMiksJD0kK3Z8MCxBPUQoQV4kLDgpLEI9QitBfDAsdj1EKHZeQiw3KSxkPWQrbXwwLFQ9RChUXmQsMTYpLEU9RStUfDAsbT1EKG1eRSwxMiksZD1kK218MCxUPUQoVF5kLDgpLEU9RStUfDAsbT1EKG1eRSw3KTtsZXQgQz0wO3JbQysrXT1pK2t8MCxyW0MrK109ZitqfDAscltDKytdPWErJHwwLHJbQysrXT1sK2R8MCxyW0MrK109YyttfDAscltDKytdPXUrcHwwLHJbQysrXT1oK2J8MCxyW0MrK109Zyt2fDAscltDKytdPXcrQnwwLHJbQysrXT15K0V8MCxyW0MrK109eCtJfDAscltDKytdPVIrU3wwLHJbQysrXT1NK098MCxyW0MrK109TCtBfDAscltDKytdPVYrVHwwLHJbQysrXT1fK1V8MH1jb25zdCB6Zj1NZihGZix7Y291bnRlclJpZ2h0OiExLGNvdW50ZXJMZW5ndGg6NCxhbGxvd1Nob3J0S2V5czohMX0pLEdmPW5ldyBVaW50OEFycmF5KDE2KSxpbz0odCxlKT0+e3QudXBkYXRlKGUpO2NvbnN0IG49ZS5sZW5ndGglMTY7biYmdC51cGRhdGUoR2Yuc3ViYXJyYXkobikpfSxaZj1uZXcgVWludDhBcnJheSgzMik7ZnVuY3Rpb24gZm8odCxlLG4scixvKXtjb25zdCBzPXQoZSxuLFpmKSxpPUtmLmNyZWF0ZShzKTtvJiZpbyhpLG8pLGlvKGkscik7Y29uc3QgZj0kZihyLmxlbmd0aCxvP28ubGVuZ3RoOjAsITApO2kudXBkYXRlKGYpO2NvbnN0IGE9aS5kaWdlc3QoKTtyZXR1cm4gV3QocyxmKSxhfWNvbnN0IFdmPXQ9PihlLG4scik9Pih7ZW5jcnlwdChzLGkpe2NvbnN0IGY9cy5sZW5ndGg7aT1lbyhmKzE2LGksITEpLGkuc2V0KHMpO2NvbnN0IGE9aS5zdWJhcnJheSgwLC0xNik7dChlLG4sYSxhLDEpO2NvbnN0IGw9Zm8odCxlLG4sYSxyKTtyZXR1cm4gaS5zZXQobCxmKSxXdChsKSxpfSxkZWNyeXB0KHMsaSl7aT1lbyhzLmxlbmd0aC0xNixpLCExKTtjb25zdCBmPXMuc3ViYXJyYXkoMCwtMTYpLGE9cy5zdWJhcnJheSgtMTYpLGw9Zm8odCxlLG4sZixyKTtpZighVGYoYSxsKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHRhZ1wiKTtyZXR1cm4gaS5zZXQocy5zdWJhcnJheSgwLC0xNikpLHQoZSxuLGksaSwxKSxXdChsKSxpfX0pLGNvPVJmKHtibG9ja1NpemU6NjQsbm9uY2VMZW5ndGg6MTIsdGFnTGVuZ3RoOjE2fSxXZih6ZikpO2NsYXNzIGFvIGV4dGVuZHMgSWV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEscm4oZSk7Y29uc3Qgcj1odChuKTtpZih0aGlzLmlIYXNoPWUuY3JlYXRlKCksdHlwZW9mIHRoaXMuaUhhc2gudXBkYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgaW5zdGFuY2Ugb2YgY2xhc3Mgd2hpY2ggZXh0ZW5kcyB1dGlscy5IYXNoXCIpO3RoaXMuYmxvY2tMZW49dGhpcy5pSGFzaC5ibG9ja0xlbix0aGlzLm91dHB1dExlbj10aGlzLmlIYXNoLm91dHB1dExlbjtjb25zdCBvPXRoaXMuYmxvY2tMZW4scz1uZXcgVWludDhBcnJheShvKTtzLnNldChyLmxlbmd0aD5vP2UuY3JlYXRlKCkudXBkYXRlKHIpLmRpZ2VzdCgpOnIpO2ZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXNbaV1ePTU0O3RoaXMuaUhhc2gudXBkYXRlKHMpLHRoaXMub0hhc2g9ZS5jcmVhdGUoKTtmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKylzW2ldXj0xMDY7dGhpcy5vSGFzaC51cGRhdGUocyksdXQocyl9dXBkYXRlKGUpe3JldHVybiBOdCh0aGlzKSx0aGlzLmlIYXNoLnVwZGF0ZShlKSx0aGlzfWRpZ2VzdEludG8oZSl7TnQodGhpcyksYXQoZSx0aGlzLm91dHB1dExlbiksdGhpcy5maW5pc2hlZD0hMCx0aGlzLmlIYXNoLmRpZ2VzdEludG8oZSksdGhpcy5vSGFzaC51cGRhdGUoZSksdGhpcy5vSGFzaC5kaWdlc3RJbnRvKGUpLHRoaXMuZGVzdHJveSgpfWRpZ2VzdCgpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodGhpcy5vSGFzaC5vdXRwdXRMZW4pO3JldHVybiB0aGlzLmRpZ2VzdEludG8oZSksZX1fY2xvbmVJbnRvKGUpe2V8fChlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLHt9KSk7Y29uc3R7b0hhc2g6bixpSGFzaDpyLGZpbmlzaGVkOm8sZGVzdHJveWVkOnMsYmxvY2tMZW46aSxvdXRwdXRMZW46Zn09dGhpcztyZXR1cm4gZT1lLGUuZmluaXNoZWQ9byxlLmRlc3Ryb3llZD1zLGUuYmxvY2tMZW49aSxlLm91dHB1dExlbj1mLGUub0hhc2g9bi5fY2xvbmVJbnRvKGUub0hhc2gpLGUuaUhhc2g9ci5fY2xvbmVJbnRvKGUuaUhhc2gpLGV9Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwLHRoaXMub0hhc2guZGVzdHJveSgpLHRoaXMuaUhhc2guZGVzdHJveSgpfX1jb25zdCBfZT0odCxlLG4pPT5uZXcgYW8odCxlKS51cGRhdGUobikuZGlnZXN0KCk7X2UuY3JlYXRlPSh0LGUpPT5uZXcgYW8odCxlKTtmdW5jdGlvbiBZZih0LGUsbil7cmV0dXJuIHJuKHQpLG49PT12b2lkIDAmJihuPW5ldyBVaW50OEFycmF5KHQub3V0cHV0TGVuKSksX2UodCxodChuKSxodChlKSl9Y29uc3Qgdm49VWludDhBcnJheS5mcm9tKFswXSksdW89VWludDhBcnJheS5vZigpO2Z1bmN0aW9uIFhmKHQsZSxuLHI9MzIpe3JuKHQpLG10KHIpO2NvbnN0IG89dC5vdXRwdXRMZW47aWYocj4yNTUqbyl0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggc2hvdWxkIGJlIDw9IDI1NSpIYXNoTGVuXCIpO2NvbnN0IHM9TWF0aC5jZWlsKHIvbyk7bj09PXZvaWQgMCYmKG49dW8pO2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkocypvKSxmPV9lLmNyZWF0ZSh0LGUpLGE9Zi5fY2xvbmVJbnRvKCksbD1uZXcgVWludDhBcnJheShmLm91dHB1dExlbik7Zm9yKGxldCBjPTA7YzxzO2MrKyl2blswXT1jKzEsYS51cGRhdGUoYz09PTA/dW86bCkudXBkYXRlKG4pLnVwZGF0ZSh2bikuZGlnZXN0SW50byhsKSxpLnNldChsLG8qYyksZi5fY2xvbmVJbnRvKGEpO3JldHVybiBmLmRlc3Ryb3koKSxhLmRlc3Ryb3koKSx1dChsLHZuKSxpLnNsaWNlKDAscil9Y29uc3QgSmY9KHQsZSxuLHIsbyk9PlhmKHQsWWYodCxlLG4pLHIsbyksVGU9QWUsRW49QmlnSW50KDApLEJuPUJpZ0ludCgxKTtmdW5jdGlvbiBSZSh0LGUpe2lmKHR5cGVvZiBlIT1cImJvb2xlYW5cIil0aHJvdyBuZXcgRXJyb3IodCtcIiBib29sZWFuIGV4cGVjdGVkLCBnb3QgXCIrZSl9ZnVuY3Rpb24gJGUodCl7Y29uc3QgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gZS5sZW5ndGgmMT9cIjBcIitlOmV9ZnVuY3Rpb24gbG8odCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdD09PVwiXCI/RW46QmlnSW50KFwiMHhcIit0KX1mdW5jdGlvbiBDZSh0KXtyZXR1cm4gbG8oY2UodCkpfWZ1bmN0aW9uIExlKHQpe3JldHVybiBhdCh0KSxsbyhjZShVaW50OEFycmF5LmZyb20odCkucmV2ZXJzZSgpKSl9ZnVuY3Rpb24gSW4odCxlKXtyZXR1cm4gZm4odC50b1N0cmluZygxNikucGFkU3RhcnQoZSoyLFwiMFwiKSl9ZnVuY3Rpb24gQW4odCxlKXtyZXR1cm4gSW4odCxlKS5yZXZlcnNlKCl9ZnVuY3Rpb24gcnQodCxlLG4pe2xldCByO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXRyeXtyPWZuKGUpfWNhdGNoKHMpe3Rocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogXCIrcyl9ZWxzZSBpZihubihlKSlyPVVpbnQ4QXJyYXkuZnJvbShlKTtlbHNlIHRocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5XCIpO2NvbnN0IG89ci5sZW5ndGg7aWYodHlwZW9mIG49PVwibnVtYmVyXCImJm8hPT1uKXRocm93IG5ldyBFcnJvcih0K1wiIG9mIGxlbmd0aCBcIituK1wiIGV4cGVjdGVkLCBnb3QgXCIrbyk7cmV0dXJuIHJ9Y29uc3QgU249dD0+dHlwZW9mIHQ9PVwiYmlnaW50XCImJkVuPD10O2Z1bmN0aW9uIFFmKHQsZSxuKXtyZXR1cm4gU24odCkmJlNuKGUpJiZTbihuKSYmZTw9dCYmdDxufWZ1bmN0aW9uIE5uKHQsZSxuLHIpe2lmKCFRZihlLG4scikpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgdmFsaWQgXCIrdCtcIjogXCIrbitcIiA8PSBuIDwgXCIrcitcIiwgZ290IFwiK2UpfWZ1bmN0aW9uIHRjKHQpe2xldCBlO2ZvcihlPTA7dD5Fbjt0Pj49Qm4sZSs9MSk7cmV0dXJuIGV9Y29uc3QgamU9dD0+KEJuPDxCaWdJbnQodCkpLUJuO2Z1bmN0aW9uIGVjKHQsZSxuKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcInx8dDwyKXRocm93IG5ldyBFcnJvcihcImhhc2hMZW4gbXVzdCBiZSBhIG51bWJlclwiKTtpZih0eXBlb2YgZSE9XCJudW1iZXJcInx8ZTwyKXRocm93IG5ldyBFcnJvcihcInFCeXRlTGVuIG11c3QgYmUgYSBudW1iZXJcIik7aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJobWFjRm4gbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2NvbnN0IHI9Zz0+bmV3IFVpbnQ4QXJyYXkoZyksbz1nPT5VaW50OEFycmF5Lm9mKGcpO2xldCBzPXIodCksaT1yKHQpLGY9MDtjb25zdCBhPSgpPT57cy5maWxsKDEpLGkuZmlsbCgwKSxmPTB9LGw9KC4uLmcpPT5uKGkscywuLi5nKSxjPShnPXIoMCkpPT57aT1sKG8oMCksZykscz1sKCksZy5sZW5ndGghPT0wJiYoaT1sKG8oMSksZykscz1sKCkpfSx1PSgpPT57aWYoZisrPj0xZTMpdGhyb3cgbmV3IEVycm9yKFwiZHJiZzogdHJpZWQgMTAwMCB2YWx1ZXNcIik7bGV0IGc9MDtjb25zdCB3PVtdO2Zvcig7ZzxlOyl7cz1sKCk7Y29uc3QgeT1zLnNsaWNlKCk7dy5wdXNoKHkpLGcrPXMubGVuZ3RofXJldHVybiBIdCguLi53KX07cmV0dXJuKGcsdyk9PnthKCksYyhnKTtsZXQgeTtmb3IoOyEoeT13KHUoKSkpOyljKCk7cmV0dXJuIGEoKSx5fX1mdW5jdGlvbiBrZSh0LGUsbj17fSl7aWYoIXR8fHR5cGVvZiB0IT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihcImV4cGVjdGVkIHZhbGlkIG9wdGlvbnMgb2JqZWN0XCIpO2Z1bmN0aW9uIHIobyxzLGkpe2NvbnN0IGY9dFtvXTtpZihpJiZmPT09dm9pZCAwKXJldHVybjtjb25zdCBhPXR5cGVvZiBmO2lmKGEhPT1zfHxmPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoYHBhcmFtIFwiJHtvfVwiIGlzIGludmFsaWQ6IGV4cGVjdGVkICR7c30sIGdvdCAke2F9YCl9T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW28sc10pPT5yKG8scywhMSkpLE9iamVjdC5lbnRyaWVzKG4pLmZvckVhY2goKFtvLHNdKT0+cihvLHMsITApKX1mdW5jdGlvbiBobyh0KXtjb25zdCBlPW5ldyBXZWFrTWFwO3JldHVybihuLC4uLnIpPT57Y29uc3Qgbz1lLmdldChuKTtpZihvIT09dm9pZCAwKXJldHVybiBvO2NvbnN0IHM9dChuLC4uLnIpO3JldHVybiBlLnNldChuLHMpLHN9fWNvbnN0IG90PUJpZ0ludCgwKSxRPUJpZ0ludCgxKSxEdD1CaWdJbnQoMiksbmM9QmlnSW50KDMpLHBvPUJpZ0ludCg0KSxnbz1CaWdJbnQoNSksYm89QmlnSW50KDgpO2Z1bmN0aW9uIGx0KHQsZSl7Y29uc3Qgbj10JWU7cmV0dXJuIG4+PW90P246ZStufWZ1bmN0aW9uIHB0KHQsZSxuKXtsZXQgcj10O2Zvcig7ZS0tID5vdDspcio9cixyJT1uO3JldHVybiByfWZ1bmN0aW9uIHlvKHQsZSl7aWYodD09PW90KXRocm93IG5ldyBFcnJvcihcImludmVydDogZXhwZWN0ZWQgbm9uLXplcm8gbnVtYmVyXCIpO2lmKGU8PW90KXRocm93IG5ldyBFcnJvcihcImludmVydDogZXhwZWN0ZWQgcG9zaXRpdmUgbW9kdWx1cywgZ290IFwiK2UpO2xldCBuPWx0KHQsZSkscj1lLG89b3Qscz1RO2Zvcig7biE9PW90Oyl7Y29uc3QgZj1yL24sYT1yJW4sbD1vLXMqZjtyPW4sbj1hLG89cyxzPWx9aWYociE9PVEpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBkb2VzIG5vdCBleGlzdFwiKTtyZXR1cm4gbHQobyxlKX1mdW5jdGlvbiBtbyh0LGUpe2NvbnN0IG49KHQuT1JERVIrUSkvcG8scj10LnBvdyhlLG4pO2lmKCF0LmVxbCh0LnNxcihyKSxlKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4gcn1mdW5jdGlvbiByYyh0LGUpe2NvbnN0IG49KHQuT1JERVItZ28pL2JvLHI9dC5tdWwoZSxEdCksbz10LnBvdyhyLG4pLHM9dC5tdWwoZSxvKSxpPXQubXVsKHQubXVsKHMsRHQpLG8pLGY9dC5tdWwocyx0LnN1YihpLHQuT05FKSk7aWYoIXQuZXFsKHQuc3FyKGYpLGUpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO3JldHVybiBmfWZ1bmN0aW9uIG9jKHQpe2lmKHQ8QmlnSW50KDMpKXRocm93IG5ldyBFcnJvcihcInNxcnQgaXMgbm90IGRlZmluZWQgZm9yIHNtYWxsIGZpZWxkXCIpO2xldCBlPXQtUSxuPTA7Zm9yKDtlJUR0PT09b3Q7KWUvPUR0LG4rKztsZXQgcj1EdDtjb25zdCBvPVl0KHQpO2Zvcig7eG8obyxyKT09PTE7KWlmKHIrKz4xZTMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3Q6IHByb2JhYmx5IG5vbi1wcmltZSBQXCIpO2lmKG49PT0xKXJldHVybiBtbztsZXQgcz1vLnBvdyhyLGUpO2NvbnN0IGk9KGUrUSkvRHQ7cmV0dXJuIGZ1bmN0aW9uKGEsbCl7aWYoYS5pczAobCkpcmV0dXJuIGw7aWYoeG8oYSxsKSE9PTEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7bGV0IGM9bix1PWEubXVsKGEuT05FLHMpLGg9YS5wb3cobCxlKSxnPWEucG93KGwsaSk7Zm9yKDshYS5lcWwoaCxhLk9ORSk7KXtpZihhLmlzMChoKSlyZXR1cm4gYS5aRVJPO2xldCB3PTEseT1hLnNxcihoKTtmb3IoOyFhLmVxbCh5LGEuT05FKTspaWYodysrLHk9YS5zcXIoeSksdz09PWMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7Y29uc3QgeD1RPDxCaWdJbnQoYy13LTEpLFI9YS5wb3codSx4KTtjPXcsdT1hLnNxcihSKSxoPWEubXVsKGgsdSksZz1hLm11bChnLFIpfXJldHVybiBnfX1mdW5jdGlvbiBzYyh0KXtyZXR1cm4gdCVwbz09PW5jP21vOnQlYm89PT1nbz9yYzpvYyh0KX1jb25zdCBpYz1bXCJjcmVhdGVcIixcImlzVmFsaWRcIixcImlzMFwiLFwibmVnXCIsXCJpbnZcIixcInNxcnRcIixcInNxclwiLFwiZXFsXCIsXCJhZGRcIixcInN1YlwiLFwibXVsXCIsXCJwb3dcIixcImRpdlwiLFwiYWRkTlwiLFwic3ViTlwiLFwibXVsTlwiLFwic3FyTlwiXTtmdW5jdGlvbiBmYyh0KXtjb25zdCBlPXtPUkRFUjpcImJpZ2ludFwiLE1BU0s6XCJiaWdpbnRcIixCWVRFUzpcIm51bWJlclwiLEJJVFM6XCJudW1iZXJcIn0sbj1pYy5yZWR1Y2UoKHIsbyk9PihyW29dPVwiZnVuY3Rpb25cIixyKSxlKTtyZXR1cm4ga2UodCxuKSx0fWZ1bmN0aW9uIGNjKHQsZSxuKXtpZihuPG90KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZFwiKTtpZihuPT09b3QpcmV0dXJuIHQuT05FO2lmKG49PT1RKXJldHVybiBlO2xldCByPXQuT05FLG89ZTtmb3IoO24+b3Q7KW4mUSYmKHI9dC5tdWwocixvKSksbz10LnNxcihvKSxuPj49UTtyZXR1cm4gcn1mdW5jdGlvbiB3byh0LGUsbj0hMSl7Y29uc3Qgcj1uZXcgQXJyYXkoZS5sZW5ndGgpLmZpbGwobj90LlpFUk86dm9pZCAwKSxvPWUucmVkdWNlKChpLGYsYSk9PnQuaXMwKGYpP2k6KHJbYV09aSx0Lm11bChpLGYpKSx0Lk9ORSkscz10LmludihvKTtyZXR1cm4gZS5yZWR1Y2VSaWdodCgoaSxmLGEpPT50LmlzMChmKT9pOihyW2FdPXQubXVsKGksclthXSksdC5tdWwoaSxmKSkscykscn1mdW5jdGlvbiB4byh0LGUpe2NvbnN0IG49KHQuT1JERVItUSkvRHQscj10LnBvdyhlLG4pLG89dC5lcWwocix0Lk9ORSkscz10LmVxbChyLHQuWkVSTyksaT10LmVxbChyLHQubmVnKHQuT05FKSk7aWYoIW8mJiFzJiYhaSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIExlZ2VuZHJlIHN5bWJvbCByZXN1bHRcIik7cmV0dXJuIG8/MTpzPzA6LTF9ZnVuY3Rpb24gYWModCxlKXtlIT09dm9pZCAwJiZtdChlKTtjb25zdCBuPWUhPT12b2lkIDA/ZTp0LnRvU3RyaW5nKDIpLmxlbmd0aCxyPU1hdGguY2VpbChuLzgpO3JldHVybntuQml0TGVuZ3RoOm4sbkJ5dGVMZW5ndGg6cn19ZnVuY3Rpb24gWXQodCxlLG49ITEscj17fSl7aWYodDw9b3QpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgPiAwLCBnb3QgXCIrdCk7bGV0IG8scztpZih0eXBlb2YgZT09XCJvYmplY3RcIiYmZSE9bnVsbCl7aWYoci5zcXJ0fHxuKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBzcGVjaWZ5IG9wdHMgaW4gdHdvIGFyZ3VtZW50c1wiKTtjb25zdCBjPWU7Yy5CSVRTJiYobz1jLkJJVFMpLGMuc3FydCYmKHM9Yy5zcXJ0KSx0eXBlb2YgYy5pc0xFPT1cImJvb2xlYW5cIiYmKG49Yy5pc0xFKX1lbHNlIHR5cGVvZiBlPT1cIm51bWJlclwiJiYobz1lKSxyLnNxcnQmJihzPXIuc3FydCk7Y29uc3R7bkJpdExlbmd0aDppLG5CeXRlTGVuZ3RoOmZ9PWFjKHQsbyk7aWYoZj4yMDQ4KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSIG9mIDw9IDIwNDggYnl0ZXNcIik7bGV0IGE7Y29uc3QgbD1PYmplY3QuZnJlZXplKHtPUkRFUjp0LGlzTEU6bixCSVRTOmksQllURVM6ZixNQVNLOmplKGkpLFpFUk86b3QsT05FOlEsY3JlYXRlOmM9Pmx0KGMsdCksaXNWYWxpZDpjPT57aWYodHlwZW9mIGMhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZCBlbGVtZW50OiBleHBlY3RlZCBiaWdpbnQsIGdvdCBcIit0eXBlb2YgYyk7cmV0dXJuIG90PD1jJiZjPHR9LGlzMDpjPT5jPT09b3QsaXNWYWxpZE5vdDA6Yz0+IWwuaXMwKGMpJiZsLmlzVmFsaWQoYyksaXNPZGQ6Yz0+KGMmUSk9PT1RLG5lZzpjPT5sdCgtYyx0KSxlcWw6KGMsdSk9PmM9PT11LHNxcjpjPT5sdChjKmMsdCksYWRkOihjLHUpPT5sdChjK3UsdCksc3ViOihjLHUpPT5sdChjLXUsdCksbXVsOihjLHUpPT5sdChjKnUsdCkscG93OihjLHUpPT5jYyhsLGMsdSksZGl2OihjLHUpPT5sdChjKnlvKHUsdCksdCksc3FyTjpjPT5jKmMsYWRkTjooYyx1KT0+Yyt1LHN1Yk46KGMsdSk9PmMtdSxtdWxOOihjLHUpPT5jKnUsaW52OmM9PnlvKGMsdCksc3FydDpzfHwoYz0+KGF8fChhPXNjKHQpKSxhKGwsYykpKSx0b0J5dGVzOmM9Pm4/QW4oYyxmKTpJbihjLGYpLGZyb21CeXRlczpjPT57aWYoYy5sZW5ndGghPT1mKXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIrZitcIiBieXRlcywgZ290IFwiK2MubGVuZ3RoKTtyZXR1cm4gbj9MZShjKTpDZShjKX0saW52ZXJ0QmF0Y2g6Yz0+d28obCxjKSxjbW92OihjLHUsaCk9Pmg/dTpjfSk7cmV0dXJuIE9iamVjdC5mcmVlemUobCl9ZnVuY3Rpb24gdm8odCl7aWYodHlwZW9mIHQhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiZmllbGQgb3JkZXIgbXVzdCBiZSBiaWdpbnRcIik7Y29uc3QgZT10LnRvU3RyaW5nKDIpLmxlbmd0aDtyZXR1cm4gTWF0aC5jZWlsKGUvOCl9ZnVuY3Rpb24gRW8odCl7Y29uc3QgZT12byh0KTtyZXR1cm4gZStNYXRoLmNlaWwoZS8yKX1mdW5jdGlvbiB1Yyh0LGUsbj0hMSl7Y29uc3Qgcj10Lmxlbmd0aCxvPXZvKGUpLHM9RW8oZSk7aWYocjwxNnx8cjxzfHxyPjEwMjQpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgXCIrcytcIi0xMDI0IGJ5dGVzIG9mIGlucHV0LCBnb3QgXCIrcik7Y29uc3QgaT1uP0xlKHQpOkNlKHQpLGY9bHQoaSxlLVEpK1E7cmV0dXJuIG4/QW4oZixvKTpJbihmLG8pfWNvbnN0IFh0PUJpZ0ludCgwKSxNdD1CaWdJbnQoMSk7ZnVuY3Rpb24gbGUodCxlKXtjb25zdCBuPWUubmVnYXRlKCk7cmV0dXJuIHQ/bjplfWZ1bmN0aW9uIGxjKHQsZSxuKXtjb25zdCByPWU9PT1cInB6XCI/aT0+aS5wejppPT5pLmV6LG89d28odC5GcCxuLm1hcChyKSk7cmV0dXJuIG4ubWFwKChpLGYpPT5pLnRvQWZmaW5lKG9bZl0pKS5tYXAodC5mcm9tQWZmaW5lKX1mdW5jdGlvbiBCbyh0LGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDw9MHx8dD5lKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgd2luZG93IHNpemUsIGV4cGVjdGVkIFsxLi5cIitlK1wiXSwgZ290IFc9XCIrdCl9ZnVuY3Rpb24gT24odCxlKXtCbyh0LGUpO2NvbnN0IG49TWF0aC5jZWlsKGUvdCkrMSxyPTIqKih0LTEpLG89MioqdCxzPWplKHQpLGk9QmlnSW50KHQpO3JldHVybnt3aW5kb3dzOm4sd2luZG93U2l6ZTpyLG1hc2s6cyxtYXhOdW1iZXI6byxzaGlmdEJ5Oml9fWZ1bmN0aW9uIElvKHQsZSxuKXtjb25zdHt3aW5kb3dTaXplOnIsbWFzazpvLG1heE51bWJlcjpzLHNoaWZ0Qnk6aX09bjtsZXQgZj1OdW1iZXIodCZvKSxhPXQ+Pmk7Zj5yJiYoZi09cyxhKz1NdCk7Y29uc3QgbD1lKnIsYz1sK01hdGguYWJzKGYpLTEsdT1mPT09MCxoPWY8MCxnPWUlMiE9PTA7cmV0dXJue25leHROOmEsb2Zmc2V0OmMsaXNaZXJvOnUsaXNOZWc6aCxpc05lZ0Y6ZyxvZmZzZXRGOmx9fWZ1bmN0aW9uIGRjKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXkgZXhwZWN0ZWRcIik7dC5mb3JFYWNoKChuLHIpPT57aWYoIShuIGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwb2ludCBhdCBpbmRleCBcIityKX0pfWZ1bmN0aW9uIGhjKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXkgb2Ygc2NhbGFycyBleHBlY3RlZFwiKTt0LmZvckVhY2goKG4scik9PntpZighZS5pc1ZhbGlkKG4pKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyIGF0IGluZGV4IFwiK3IpfSl9Y29uc3QgVW49bmV3IFdlYWtNYXAsQW89bmV3IFdlYWtNYXA7ZnVuY3Rpb24gX24odCl7cmV0dXJuIEFvLmdldCh0KXx8MX1mdW5jdGlvbiBTbyh0KXtpZih0IT09WHQpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB3TkFGXCIpfWZ1bmN0aW9uIHBjKHQsZSl7cmV0dXJue2NvbnN0VGltZU5lZ2F0ZTpsZSxoYXNQcmVjb21wdXRlcyhuKXtyZXR1cm4gX24obikhPT0xfSx1bnNhZmVMYWRkZXIobixyLG89dC5aRVJPKXtsZXQgcz1uO2Zvcig7cj5YdDspciZNdCYmKG89by5hZGQocykpLHM9cy5kb3VibGUoKSxyPj49TXQ7cmV0dXJuIG99LHByZWNvbXB1dGVXaW5kb3cobixyKXtjb25zdHt3aW5kb3dzOm8sd2luZG93U2l6ZTpzfT1PbihyLGUpLGk9W107bGV0IGY9bixhPWY7Zm9yKGxldCBsPTA7bDxvO2wrKyl7YT1mLGkucHVzaChhKTtmb3IobGV0IGM9MTtjPHM7YysrKWE9YS5hZGQoZiksaS5wdXNoKGEpO2Y9YS5kb3VibGUoKX1yZXR1cm4gaX0sd05BRihuLHIsbyl7bGV0IHM9dC5aRVJPLGk9dC5CQVNFO2NvbnN0IGY9T24obixlKTtmb3IobGV0IGE9MDthPGYud2luZG93czthKyspe2NvbnN0e25leHROOmwsb2Zmc2V0OmMsaXNaZXJvOnUsaXNOZWc6aCxpc05lZ0Y6ZyxvZmZzZXRGOnd9PUlvKG8sYSxmKTtvPWwsdT9pPWkuYWRkKGxlKGcsclt3XSkpOnM9cy5hZGQobGUoaCxyW2NdKSl9cmV0dXJuIFNvKG8pLHtwOnMsZjppfX0sd05BRlVuc2FmZShuLHIsbyxzPXQuWkVSTyl7Y29uc3QgaT1PbihuLGUpO2ZvcihsZXQgZj0wO2Y8aS53aW5kb3dzJiZvIT09WHQ7ZisrKXtjb25zdHtuZXh0TjphLG9mZnNldDpsLGlzWmVybzpjLGlzTmVnOnV9PUlvKG8sZixpKTtpZihvPWEsIWMpe2NvbnN0IGg9cltsXTtzPXMuYWRkKHU/aC5uZWdhdGUoKTpoKX19cmV0dXJuIFNvKG8pLHN9LGdldFByZWNvbXB1dGVzKG4scixvKXtsZXQgcz1Vbi5nZXQocik7cmV0dXJuIHN8fChzPXRoaXMucHJlY29tcHV0ZVdpbmRvdyhyLG4pLG4hPT0xJiYodHlwZW9mIG89PVwiZnVuY3Rpb25cIiYmKHM9byhzKSksVW4uc2V0KHIscykpKSxzfSx3TkFGQ2FjaGVkKG4scixvKXtjb25zdCBzPV9uKG4pO3JldHVybiB0aGlzLndOQUYocyx0aGlzLmdldFByZWNvbXB1dGVzKHMsbixvKSxyKX0sd05BRkNhY2hlZFVuc2FmZShuLHIsbyxzKXtjb25zdCBpPV9uKG4pO3JldHVybiBpPT09MT90aGlzLnVuc2FmZUxhZGRlcihuLHIscyk6dGhpcy53TkFGVW5zYWZlKGksdGhpcy5nZXRQcmVjb21wdXRlcyhpLG4sbykscixzKX0sc2V0V2luZG93U2l6ZShuLHIpe0JvKHIsZSksQW8uc2V0KG4sciksVW4uZGVsZXRlKG4pfX19ZnVuY3Rpb24gZ2ModCxlLG4scil7bGV0IG89ZSxzPXQuWkVSTyxpPXQuWkVSTztmb3IoO24+WHR8fHI+WHQ7KW4mTXQmJihzPXMuYWRkKG8pKSxyJk10JiYoaT1pLmFkZChvKSksbz1vLmRvdWJsZSgpLG4+Pj1NdCxyPj49TXQ7cmV0dXJue3AxOnMscDI6aX19ZnVuY3Rpb24gYmModCxlLG4scil7ZGMobix0KSxoYyhyLGUpO2NvbnN0IG89bi5sZW5ndGgscz1yLmxlbmd0aDtpZihvIT09cyl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheXMgb2YgcG9pbnRzIGFuZCBzY2FsYXJzIG11c3QgaGF2ZSBlcXVhbCBsZW5ndGhcIik7Y29uc3QgaT10LlpFUk8sZj10YyhCaWdJbnQobykpO2xldCBhPTE7Zj4xMj9hPWYtMzpmPjQ/YT1mLTI6Zj4wJiYoYT0yKTtjb25zdCBsPWplKGEpLGM9bmV3IEFycmF5KE51bWJlcihsKSsxKS5maWxsKGkpLHU9TWF0aC5mbG9vcigoZS5CSVRTLTEpL2EpKmE7bGV0IGg9aTtmb3IobGV0IGc9dTtnPj0wO2ctPWEpe2MuZmlsbChpKTtmb3IobGV0IHk9MDt5PHM7eSsrKXtjb25zdCB4PXJbeV0sUj1OdW1iZXIoeD4+QmlnSW50KGcpJmwpO2NbUl09Y1tSXS5hZGQoblt5XSl9bGV0IHc9aTtmb3IobGV0IHk9Yy5sZW5ndGgtMSx4PWk7eT4wO3ktLSl4PXguYWRkKGNbeV0pLHc9dy5hZGQoeCk7aWYoaD1oLmFkZCh3KSxnIT09MClmb3IobGV0IHk9MDt5PGE7eSsrKWg9aC5kb3VibGUoKX1yZXR1cm4gaH1mdW5jdGlvbiBObyh0LGUpe2lmKGUpe2lmKGUuT1JERVIhPT10KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLk9SREVSIG11c3QgbWF0Y2ggb3JkZXI6IEZwID09IHAsIEZuID09IG5cIik7cmV0dXJuIGZjKGUpLGV9ZWxzZSByZXR1cm4gWXQodCl9ZnVuY3Rpb24geWModCxlLG49e30pe2lmKCFlfHx0eXBlb2YgZSE9XCJvYmplY3RcIil0aHJvdyBuZXcgRXJyb3IoYGV4cGVjdGVkIHZhbGlkICR7dH0gQ1VSVkUgb2JqZWN0YCk7Zm9yKGNvbnN0IGYgb2ZbXCJwXCIsXCJuXCIsXCJoXCJdKXtjb25zdCBhPWVbZl07aWYoISh0eXBlb2YgYT09XCJiaWdpbnRcIiYmYT5YdCkpdGhyb3cgbmV3IEVycm9yKGBDVVJWRS4ke2Z9IG11c3QgYmUgcG9zaXRpdmUgYmlnaW50YCl9Y29uc3Qgcj1ObyhlLnAsbi5GcCksbz1ObyhlLm4sbi5GbiksaT1bXCJHeFwiLFwiR3lcIixcImFcIix0PT09XCJ3ZWllcnN0cmFzc1wiP1wiYlwiOlwiZFwiXTtmb3IoY29uc3QgZiBvZiBpKWlmKCFyLmlzVmFsaWQoZVtmXSkpdGhyb3cgbmV3IEVycm9yKGBDVVJWRS4ke2Z9IG11c3QgYmUgdmFsaWQgZmllbGQgZWxlbWVudCBvZiBDVVJWRS5GcGApO3JldHVybntGcDpyLEZuOm99fUJpZ0ludCgwKSxCaWdJbnQoMSksQmlnSW50KDIpLEJpZ0ludCg4KTtjb25zdCBkZT1CaWdJbnQoMCksSnQ9QmlnSW50KDEpLFBlPUJpZ0ludCgyKTtmdW5jdGlvbiBtYyh0KXtyZXR1cm4ga2UodCx7YWRqdXN0U2NhbGFyQnl0ZXM6XCJmdW5jdGlvblwiLHBvd1BtaW51czI6XCJmdW5jdGlvblwifSksT2JqZWN0LmZyZWV6ZSh7Li4udH0pfWZ1bmN0aW9uIHdjKHQpe2NvbnN0IGU9bWModCkse1A6bix0eXBlOnIsYWRqdXN0U2NhbGFyQnl0ZXM6byxwb3dQbWludXMyOnMscmFuZG9tQnl0ZXM6aX09ZSxmPXI9PT1cIngyNTUxOVwiO2lmKCFmJiZyIT09XCJ4NDQ4XCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB0eXBlXCIpO2NvbnN0IGE9aXx8WnQsbD1mPzI1NTo0NDgsYz1mPzMyOjU2LHU9QmlnSW50KGY/OTo1KSxoPUJpZ0ludChmPzEyMTY2NTozOTA4MSksZz1mP1BlKipCaWdJbnQoMjU0KTpQZSoqQmlnSW50KDQ0Nyksdz1mP0JpZ0ludCg4KSpQZSoqQmlnSW50KDI1MSktSnQ6QmlnSW50KDQpKlBlKipCaWdJbnQoNDQ1KS1KdCx5PWcrdytKdCx4PWQ9Pmx0KGQsbiksUj1NKHUpO2Z1bmN0aW9uIE0oZCl7cmV0dXJuIEFuKHgoZCksYyl9ZnVuY3Rpb24gTChkKXtjb25zdCBtPXJ0KFwidSBjb29yZGluYXRlXCIsZCxjKTtyZXR1cm4gZiYmKG1bMzFdJj0xMjcpLHgoTGUobSkpfWZ1bmN0aW9uIFYoZCl7cmV0dXJuIExlKG8ocnQoXCJzY2FsYXJcIixkLGMpKSl9ZnVuY3Rpb24gXyhkLG0pe2NvbnN0IHA9JChMKG0pLFYoZCkpO2lmKHA9PT1kZSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHByaXZhdGUgb3IgcHVibGljIGtleSByZWNlaXZlZFwiKTtyZXR1cm4gTShwKX1mdW5jdGlvbiBrKGQpe3JldHVybiBfKGQsUil9ZnVuY3Rpb24gaihkLG0scCl7Y29uc3QgYj14KGQqKG0tcCkpO3JldHVybiBtPXgobS1iKSxwPXgocCtiKSx7eF8yOm0seF8zOnB9fWZ1bmN0aW9uICQoZCxtKXtObihcInVcIixkLGRlLG4pLE5uKFwic2NhbGFyXCIsbSxnLHkpO2NvbnN0IHA9bSxiPWQ7bGV0IHY9SnQsQj1kZSxFPWQsST1KdCxTPWRlO2ZvcihsZXQgQT1CaWdJbnQobC0xKTtBPj1kZTtBLS0pe2NvbnN0IFQ9cD4+QSZKdDtTXj1ULHt4XzI6dix4XzM6RX09aihTLHYsRSkse3hfMjpCLHhfMzpJfT1qKFMsQixJKSxTPVQ7Y29uc3QgVT12K0IsQz14KFUqVSksSD12LUIscT14KEgqSCksUD1DLXEsSz1FK0ksZXQ9RS1JLFo9eChldCpVKSx6PXgoSypIKSxGdD1aK3oseXQ9Wi16O0U9eChGdCpGdCksST14KGIqeCh5dCp5dCkpLHY9eChDKnEpLEI9eChQKihDK3goaCpQKSkpfSh7eF8yOnYseF8zOkV9PWooUyx2LEUpKSx7eF8yOkIseF8zOkl9PWooUyxCLEkpO2NvbnN0IE89cyhCKTtyZXR1cm4geCh2Kk8pfXJldHVybntzY2FsYXJNdWx0Ol8sc2NhbGFyTXVsdEJhc2U6ayxnZXRTaGFyZWRTZWNyZXQ6KGQsbSk9Pl8oZCxtKSxnZXRQdWJsaWNLZXk6ZD0+ayhkKSx1dGlsczp7cmFuZG9tUHJpdmF0ZUtleTooKT0+YShjKX0sR3VCeXRlczpSLnNsaWNlKCl9fUJpZ0ludCgwKTtjb25zdCB4Yz1CaWdJbnQoMSksT289QmlnSW50KDIpLHZjPUJpZ0ludCgzKSxFYz1CaWdJbnQoNSksQmM9QmlnSW50KDgpLFVvPXtwOkJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZFwiKSxuOkJpZ0ludChcIjB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxNGRlZjlkZWEyZjc5Y2Q2NTgxMjYzMWE1Y2Y1ZDNlZFwiKSxoOkJjLGE6QmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVjXCIpLGQ6QmlnSW50KFwiMHg1MjAzNmNlZTJiNmZmZTczOGNjNzQwNzk3Nzc5ZTg5ODAwNzAwYTRkNDE0MWQ4YWI3NWViNGRjYTEzNTk3OGEzXCIpLEd4OkJpZ0ludChcIjB4MjE2OTM2ZDNjZDZlNTNmZWMwYTRlMjMxZmRkNmRjNWM2OTJjYzc2MDk1MjVhN2IyYzk1NjJkNjA4ZjI1ZDUxYVwiKSxHeTpCaWdJbnQoXCIweDY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NThcIil9O2Z1bmN0aW9uIEljKHQpe2NvbnN0IGU9QmlnSW50KDEwKSxuPUJpZ0ludCgyMCkscj1CaWdJbnQoNDApLG89QmlnSW50KDgwKSxzPVVvLnAsZj10KnQlcyp0JXMsYT1wdChmLE9vLHMpKmYlcyxsPXB0KGEseGMscykqdCVzLGM9cHQobCxFYyxzKSpsJXMsdT1wdChjLGUscykqYyVzLGg9cHQodSxuLHMpKnUlcyxnPXB0KGgscixzKSpoJXMsdz1wdChnLG8scykqZyVzLHk9cHQodyxvLHMpKmclcyx4PXB0KHksZSxzKSpjJXM7cmV0dXJue3Bvd19wXzVfODpwdCh4LE9vLHMpKnQlcyxiMjpmfX1mdW5jdGlvbiBBYyh0KXtyZXR1cm4gdFswXSY9MjQ4LHRbMzFdJj0xMjcsdFszMV18PTY0LHR9Y29uc3QgVG49KCgpPT57Y29uc3QgdD1Vby5wO3JldHVybiB3Yyh7UDp0LHR5cGU6XCJ4MjU1MTlcIixwb3dQbWludXMyOmU9Pntjb25zdHtwb3dfcF81Xzg6bixiMjpyfT1JYyhlKTtyZXR1cm4gbHQocHQobix2Yyx0KSpyLHQpfSxhZGp1c3RTY2FsYXJCeXRlczpBY30pfSkoKTtmdW5jdGlvbiBfbyh0KXt0Lmxvd1MhPT12b2lkIDAmJlJlKFwibG93U1wiLHQubG93UyksdC5wcmVoYXNoIT09dm9pZCAwJiZSZShcInByZWhhc2hcIix0LnByZWhhc2gpfWNsYXNzIFNjIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZT1cIlwiKXtzdXBlcihlKX19Y29uc3QgdnQ9e0VycjpTYyxfdGx2OntlbmNvZGU6KHQsZSk9Pntjb25zdHtFcnI6bn09dnQ7aWYodDwwfHx0PjI1Nil0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHdyb25nIHRhZ1wiKTtpZihlLmxlbmd0aCYxKXRocm93IG5ldyBuKFwidGx2LmVuY29kZTogdW5wYWRkZWQgZGF0YVwiKTtjb25zdCByPWUubGVuZ3RoLzIsbz0kZShyKTtpZihvLmxlbmd0aC8yJjEyOCl0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IGxvbmcgZm9ybSBsZW5ndGggdG9vIGJpZ1wiKTtjb25zdCBzPXI+MTI3PyRlKG8ubGVuZ3RoLzJ8MTI4KTpcIlwiO3JldHVybiAkZSh0KStzK28rZX0sZGVjb2RlKHQsZSl7Y29uc3R7RXJyOm59PXZ0O2xldCByPTA7aWYodDwwfHx0PjI1Nil0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHdyb25nIHRhZ1wiKTtpZihlLmxlbmd0aDwyfHxlW3IrK10hPT10KXRocm93IG5ldyBuKFwidGx2LmRlY29kZTogd3JvbmcgdGx2XCIpO2NvbnN0IG89ZVtyKytdLHM9ISEobyYxMjgpO2xldCBpPTA7aWYoIXMpaT1vO2Vsc2V7Y29uc3QgYT1vJjEyNztpZighYSl0aHJvdyBuZXcgbihcInRsdi5kZWNvZGUobG9uZyk6IGluZGVmaW5pdGUgbGVuZ3RoIG5vdCBzdXBwb3J0ZWRcIik7aWYoYT40KXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogYnl0ZSBsZW5ndGggaXMgdG9vIGJpZ1wiKTtjb25zdCBsPWUuc3ViYXJyYXkocixyK2EpO2lmKGwubGVuZ3RoIT09YSl0aHJvdyBuZXcgbihcInRsdi5kZWNvZGU6IGxlbmd0aCBieXRlcyBub3QgY29tcGxldGVcIik7aWYobFswXT09PTApdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlKGxvbmcpOiB6ZXJvIGxlZnRtb3N0IGJ5dGVcIik7Zm9yKGNvbnN0IGMgb2YgbClpPWk8PDh8YztpZihyKz1hLGk8MTI4KXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogbm90IG1pbmltYWwgZW5jb2RpbmdcIil9Y29uc3QgZj1lLnN1YmFycmF5KHIscitpKTtpZihmLmxlbmd0aCE9PWkpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlOiB3cm9uZyB2YWx1ZSBsZW5ndGhcIik7cmV0dXJue3Y6ZixsOmUuc3ViYXJyYXkocitpKX19fSxfaW50OntlbmNvZGUodCl7Y29uc3R7RXJyOmV9PXZ0O2lmKHQ8aGUpdGhyb3cgbmV3IGUoXCJpbnRlZ2VyOiBuZWdhdGl2ZSBpbnRlZ2VycyBhcmUgbm90IGFsbG93ZWRcIik7bGV0IG49JGUodCk7aWYoTnVtYmVyLnBhcnNlSW50KG5bMF0sMTYpJjgmJihuPVwiMDBcIituKSxuLmxlbmd0aCYxKXRocm93IG5ldyBlKFwidW5leHBlY3RlZCBERVIgcGFyc2luZyBhc3NlcnRpb246IHVucGFkZGVkIGhleFwiKTtyZXR1cm4gbn0sZGVjb2RlKHQpe2NvbnN0e0VycjplfT12dDtpZih0WzBdJjEyOCl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IG5lZ2F0aXZlXCIpO2lmKHRbMF09PT0wJiYhKHRbMV0mMTI4KSl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IHVubmVjZXNzYXJ5IGxlYWRpbmcgemVyb1wiKTtyZXR1cm4gQ2UodCl9fSx0b1NpZyh0KXtjb25zdHtFcnI6ZSxfaW50Om4sX3RsdjpyfT12dCxvPXJ0KFwic2lnbmF0dXJlXCIsdCkse3Y6cyxsOml9PXIuZGVjb2RlKDQ4LG8pO2lmKGkubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtjb25zdHt2OmYsbDphfT1yLmRlY29kZSgyLHMpLHt2OmwsbDpjfT1yLmRlY29kZSgyLGEpO2lmKGMubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtyZXR1cm57cjpuLmRlY29kZShmKSxzOm4uZGVjb2RlKGwpfX0saGV4RnJvbVNpZyh0KXtjb25zdHtfdGx2OmUsX2ludDpufT12dCxyPWUuZW5jb2RlKDIsbi5lbmNvZGUodC5yKSksbz1lLmVuY29kZSgyLG4uZW5jb2RlKHQucykpLHM9citvO3JldHVybiBlLmVuY29kZSg0OCxzKX19LGhlPUJpZ0ludCgwKSxwZT1CaWdJbnQoMSksTmM9QmlnSW50KDIpLEhlPUJpZ0ludCgzKSxPYz1CaWdJbnQoNCk7ZnVuY3Rpb24gVWModCxlLG4pe2Z1bmN0aW9uIHIobyl7Y29uc3Qgcz10LnNxcihvKSxpPXQubXVsKHMsbyk7cmV0dXJuIHQuYWRkKHQuYWRkKGksdC5tdWwobyxlKSksbil9cmV0dXJuIHJ9ZnVuY3Rpb24gVG8odCxlLG4pe2NvbnN0e0JZVEVTOnJ9PXQ7ZnVuY3Rpb24gbyhzKXtsZXQgaTtpZih0eXBlb2Ygcz09XCJiaWdpbnRcIilpPXM7ZWxzZXtsZXQgZj1ydChcInByaXZhdGUga2V5XCIscyk7aWYoZSl7aWYoIWUuaW5jbHVkZXMoZi5sZW5ndGgqMikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcml2YXRlIGtleVwiKTtjb25zdCBhPW5ldyBVaW50OEFycmF5KHIpO2Euc2V0KGYsYS5sZW5ndGgtZi5sZW5ndGgpLGY9YX10cnl7aT10LmZyb21CeXRlcyhmKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgcHJpdmF0ZSBrZXk6IGV4cGVjdGVkIHVpOGEgb2Ygc2l6ZSAke3J9LCBnb3QgJHt0eXBlb2Ygc31gKX19aWYobiYmKGk9dC5jcmVhdGUoaSkpLCF0LmlzVmFsaWROb3QwKGkpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgcHJpdmF0ZSBrZXk6IG91dCBvZiByYW5nZSBbMS4uTi0xXVwiKTtyZXR1cm4gaX1yZXR1cm4gb31mdW5jdGlvbiBfYyh0LGU9e30pe2NvbnN0e0ZwOm4sRm46cn09eWMoXCJ3ZWllcnN0cmFzc1wiLHQsZSkse2g6byxuOnN9PXQ7a2UoZSx7fSx7YWxsb3dJbmZpbml0eVBvaW50OlwiYm9vbGVhblwiLGNsZWFyQ29mYWN0b3I6XCJmdW5jdGlvblwiLGlzVG9yc2lvbkZyZWU6XCJmdW5jdGlvblwiLGZyb21CeXRlczpcImZ1bmN0aW9uXCIsdG9CeXRlczpcImZ1bmN0aW9uXCIsZW5kbzpcIm9iamVjdFwiLHdyYXBQcml2YXRlS2V5OlwiYm9vbGVhblwifSk7Y29uc3R7ZW5kbzppfT1lO2lmKGkmJighbi5pczAodC5hKXx8dHlwZW9mIGkuYmV0YSE9XCJiaWdpbnRcInx8dHlwZW9mIGkuc3BsaXRTY2FsYXIhPVwiZnVuY3Rpb25cIikpdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGVuZG86IGV4cGVjdGVkIFwiYmV0YVwiOiBiaWdpbnQgYW5kIFwic3BsaXRTY2FsYXJcIjogZnVuY3Rpb24nKTtmdW5jdGlvbiBmKCl7aWYoIW4uaXNPZGQpdGhyb3cgbmV3IEVycm9yKFwiY29tcHJlc3Npb24gaXMgbm90IHN1cHBvcnRlZDogRmllbGQgZG9lcyBub3QgaGF2ZSAuaXNPZGQoKVwiKX1mdW5jdGlvbiBhKCQsZCxtKXtjb25zdHt4OnAseTpifT1kLnRvQWZmaW5lKCksdj1uLnRvQnl0ZXMocCk7aWYoUmUoXCJpc0NvbXByZXNzZWRcIixtKSxtKXtmKCk7Y29uc3QgQj0hbi5pc09kZChiKTtyZXR1cm4gSHQoUm8oQiksdil9ZWxzZSByZXR1cm4gSHQoVWludDhBcnJheS5vZig0KSx2LG4udG9CeXRlcyhiKSl9ZnVuY3Rpb24gbCgkKXthdCgkKTtjb25zdCBkPW4uQllURVMsbT1kKzEscD0yKmQrMSxiPSQubGVuZ3RoLHY9JFswXSxCPSQuc3ViYXJyYXkoMSk7aWYoYj09PW0mJih2PT09Mnx8dj09PTMpKXtjb25zdCBFPW4uZnJvbUJ5dGVzKEIpO2lmKCFuLmlzVmFsaWQoRSkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBpcyBub3Qgb24gY3VydmUsIHdyb25nIHhcIik7Y29uc3QgST1oKEUpO2xldCBTO3RyeXtTPW4uc3FydChJKX1jYXRjaChUKXtjb25zdCBVPVQgaW5zdGFuY2VvZiBFcnJvcj9cIjogXCIrVC5tZXNzYWdlOlwiXCI7dGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBpcyBub3Qgb24gY3VydmUsIHNxcnQgZXJyb3JcIitVKX1mKCk7Y29uc3QgTz1uLmlzT2RkKFMpO3JldHVybih2JjEpPT09MSE9PU8mJihTPW4ubmVnKFMpKSx7eDpFLHk6U319ZWxzZSBpZihiPT09cCYmdj09PTQpe2NvbnN0IEU9bi5mcm9tQnl0ZXMoQi5zdWJhcnJheShkKjAsZCoxKSksST1uLmZyb21CeXRlcyhCLnN1YmFycmF5KGQqMSxkKjIpKTtpZighZyhFLEkpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogaXMgbm90IG9uIGN1cnZlXCIpO3JldHVybnt4OkUseTpJfX1lbHNlIHRocm93IG5ldyBFcnJvcihgYmFkIHBvaW50OiBnb3QgbGVuZ3RoICR7Yn0sIGV4cGVjdGVkIGNvbXByZXNzZWQ9JHttfSBvciB1bmNvbXByZXNzZWQ9JHtwfWApfWNvbnN0IGM9ZS50b0J5dGVzfHxhLHU9ZS5mcm9tQnl0ZXN8fGwsaD1VYyhuLHQuYSx0LmIpO2Z1bmN0aW9uIGcoJCxkKXtjb25zdCBtPW4uc3FyKGQpLHA9aCgkKTtyZXR1cm4gbi5lcWwobSxwKX1pZighZyh0Lkd4LHQuR3kpKXRocm93IG5ldyBFcnJvcihcImJhZCBjdXJ2ZSBwYXJhbXM6IGdlbmVyYXRvciBwb2ludFwiKTtjb25zdCB3PW4ubXVsKG4ucG93KHQuYSxIZSksT2MpLHk9bi5tdWwobi5zcXIodC5iKSxCaWdJbnQoMjcpKTtpZihuLmlzMChuLmFkZCh3LHkpKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgY3VydmUgcGFyYW1zOiBhIG9yIGJcIik7ZnVuY3Rpb24geCgkLGQsbT0hMSl7aWYoIW4uaXNWYWxpZChkKXx8bSYmbi5pczAoZCkpdGhyb3cgbmV3IEVycm9yKGBiYWQgcG9pbnQgY29vcmRpbmF0ZSAkeyR9YCk7cmV0dXJuIGR9ZnVuY3Rpb24gUigkKXtpZighKCQgaW5zdGFuY2VvZiBfKSl0aHJvdyBuZXcgRXJyb3IoXCJQcm9qZWN0aXZlUG9pbnQgZXhwZWN0ZWRcIil9Y29uc3QgTT1obygoJCxkKT0+e2NvbnN0e3B4Om0scHk6cCxwejpifT0kO2lmKG4uZXFsKGIsbi5PTkUpKXJldHVybnt4Om0seTpwfTtjb25zdCB2PSQuaXMwKCk7ZD09bnVsbCYmKGQ9dj9uLk9ORTpuLmludihiKSk7Y29uc3QgQj1uLm11bChtLGQpLEU9bi5tdWwocCxkKSxJPW4ubXVsKGIsZCk7aWYodilyZXR1cm57eDpuLlpFUk8seTpuLlpFUk99O2lmKCFuLmVxbChJLG4uT05FKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZaIHdhcyBpbnZhbGlkXCIpO3JldHVybnt4OkIseTpFfX0pLEw9aG8oJD0+e2lmKCQuaXMwKCkpe2lmKGUuYWxsb3dJbmZpbml0eVBvaW50JiYhbi5pczAoJC5weSkpcmV0dXJuO3Rocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogWkVST1wiKX1jb25zdHt4OmQseTptfT0kLnRvQWZmaW5lKCk7aWYoIW4uaXNWYWxpZChkKXx8IW4uaXNWYWxpZChtKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IHggb3IgeSBub3QgZmllbGQgZWxlbWVudHNcIik7aWYoIWcoZCxtKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHRcIik7aWYoISQuaXNUb3JzaW9uRnJlZSgpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogbm90IGluIHByaW1lLW9yZGVyIHN1Ymdyb3VwXCIpO3JldHVybiEwfSk7ZnVuY3Rpb24gVigkLGQsbSxwLGIpe3JldHVybiBtPW5ldyBfKG4ubXVsKG0ucHgsJCksbS5weSxtLnB6KSxkPWxlKHAsZCksbT1sZShiLG0pLGQuYWRkKG0pfWNsYXNzIF97Y29uc3RydWN0b3IoZCxtLHApe3RoaXMucHg9eChcInhcIixkKSx0aGlzLnB5PXgoXCJ5XCIsbSwhMCksdGhpcy5wej14KFwielwiLHApLE9iamVjdC5mcmVlemUodGhpcyl9c3RhdGljIGZyb21BZmZpbmUoZCl7Y29uc3R7eDptLHk6cH09ZHx8e307aWYoIWR8fCFuLmlzVmFsaWQobSl8fCFuLmlzVmFsaWQocCkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBhZmZpbmUgcG9pbnRcIik7aWYoZCBpbnN0YW5jZW9mIF8pdGhyb3cgbmV3IEVycm9yKFwicHJvamVjdGl2ZSBwb2ludCBub3QgYWxsb3dlZFwiKTtyZXR1cm4gbi5pczAobSkmJm4uaXMwKHApP18uWkVSTzpuZXcgXyhtLHAsbi5PTkUpfWdldCB4KCl7cmV0dXJuIHRoaXMudG9BZmZpbmUoKS54fWdldCB5KCl7cmV0dXJuIHRoaXMudG9BZmZpbmUoKS55fXN0YXRpYyBub3JtYWxpemVaKGQpe3JldHVybiBsYyhfLFwicHpcIixkKX1zdGF0aWMgZnJvbUJ5dGVzKGQpe3JldHVybiBhdChkKSxfLmZyb21IZXgoZCl9c3RhdGljIGZyb21IZXgoZCl7Y29uc3QgbT1fLmZyb21BZmZpbmUodShydChcInBvaW50SGV4XCIsZCkpKTtyZXR1cm4gbS5hc3NlcnRWYWxpZGl0eSgpLG19c3RhdGljIGZyb21Qcml2YXRlS2V5KGQpe2NvbnN0IG09VG8ocixlLmFsbG93ZWRQcml2YXRlS2V5TGVuZ3RocyxlLndyYXBQcml2YXRlS2V5KTtyZXR1cm4gXy5CQVNFLm11bHRpcGx5KG0oZCkpfXN0YXRpYyBtc20oZCxtKXtyZXR1cm4gYmMoXyxyLGQsbSl9cHJlY29tcHV0ZShkPTgsbT0hMCl7cmV0dXJuIGouc2V0V2luZG93U2l6ZSh0aGlzLGQpLG18fHRoaXMubXVsdGlwbHkoSGUpLHRoaXN9X3NldFdpbmRvd1NpemUoZCl7dGhpcy5wcmVjb21wdXRlKGQpfWFzc2VydFZhbGlkaXR5KCl7TCh0aGlzKX1oYXNFdmVuWSgpe2NvbnN0e3k6ZH09dGhpcy50b0FmZmluZSgpO2lmKCFuLmlzT2RkKXRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3Qgc3VwcG9ydCBpc09kZFwiKTtyZXR1cm4hbi5pc09kZChkKX1lcXVhbHMoZCl7UihkKTtjb25zdHtweDptLHB5OnAscHo6Yn09dGhpcyx7cHg6dixweTpCLHB6OkV9PWQsST1uLmVxbChuLm11bChtLEUpLG4ubXVsKHYsYikpLFM9bi5lcWwobi5tdWwocCxFKSxuLm11bChCLGIpKTtyZXR1cm4gSSYmU31uZWdhdGUoKXtyZXR1cm4gbmV3IF8odGhpcy5weCxuLm5lZyh0aGlzLnB5KSx0aGlzLnB6KX1kb3VibGUoKXtjb25zdHthOmQsYjptfT10LHA9bi5tdWwobSxIZSkse3B4OmIscHk6dixwejpCfT10aGlzO2xldCBFPW4uWkVSTyxJPW4uWkVSTyxTPW4uWkVSTyxPPW4ubXVsKGIsYiksQT1uLm11bCh2LHYpLFQ9bi5tdWwoQixCKSxVPW4ubXVsKGIsdik7cmV0dXJuIFU9bi5hZGQoVSxVKSxTPW4ubXVsKGIsQiksUz1uLmFkZChTLFMpLEU9bi5tdWwoZCxTKSxJPW4ubXVsKHAsVCksST1uLmFkZChFLEkpLEU9bi5zdWIoQSxJKSxJPW4uYWRkKEEsSSksST1uLm11bChFLEkpLEU9bi5tdWwoVSxFKSxTPW4ubXVsKHAsUyksVD1uLm11bChkLFQpLFU9bi5zdWIoTyxUKSxVPW4ubXVsKGQsVSksVT1uLmFkZChVLFMpLFM9bi5hZGQoTyxPKSxPPW4uYWRkKFMsTyksTz1uLmFkZChPLFQpLE89bi5tdWwoTyxVKSxJPW4uYWRkKEksTyksVD1uLm11bCh2LEIpLFQ9bi5hZGQoVCxUKSxPPW4ubXVsKFQsVSksRT1uLnN1YihFLE8pLFM9bi5tdWwoVCxBKSxTPW4uYWRkKFMsUyksUz1uLmFkZChTLFMpLG5ldyBfKEUsSSxTKX1hZGQoZCl7UihkKTtjb25zdHtweDptLHB5OnAscHo6Yn09dGhpcyx7cHg6dixweTpCLHB6OkV9PWQ7bGV0IEk9bi5aRVJPLFM9bi5aRVJPLE89bi5aRVJPO2NvbnN0IEE9dC5hLFQ9bi5tdWwodC5iLEhlKTtsZXQgVT1uLm11bChtLHYpLEM9bi5tdWwocCxCKSxIPW4ubXVsKGIsRSkscT1uLmFkZChtLHApLFA9bi5hZGQodixCKTtxPW4ubXVsKHEsUCksUD1uLmFkZChVLEMpLHE9bi5zdWIocSxQKSxQPW4uYWRkKG0sYik7bGV0IEs9bi5hZGQodixFKTtyZXR1cm4gUD1uLm11bChQLEspLEs9bi5hZGQoVSxIKSxQPW4uc3ViKFAsSyksSz1uLmFkZChwLGIpLEk9bi5hZGQoQixFKSxLPW4ubXVsKEssSSksST1uLmFkZChDLEgpLEs9bi5zdWIoSyxJKSxPPW4ubXVsKEEsUCksST1uLm11bChULEgpLE89bi5hZGQoSSxPKSxJPW4uc3ViKEMsTyksTz1uLmFkZChDLE8pLFM9bi5tdWwoSSxPKSxDPW4uYWRkKFUsVSksQz1uLmFkZChDLFUpLEg9bi5tdWwoQSxIKSxQPW4ubXVsKFQsUCksQz1uLmFkZChDLEgpLEg9bi5zdWIoVSxIKSxIPW4ubXVsKEEsSCksUD1uLmFkZChQLEgpLFU9bi5tdWwoQyxQKSxTPW4uYWRkKFMsVSksVT1uLm11bChLLFApLEk9bi5tdWwocSxJKSxJPW4uc3ViKEksVSksVT1uLm11bChxLEMpLE89bi5tdWwoSyxPKSxPPW4uYWRkKE8sVSksbmV3IF8oSSxTLE8pfXN1YnRyYWN0KGQpe3JldHVybiB0aGlzLmFkZChkLm5lZ2F0ZSgpKX1pczAoKXtyZXR1cm4gdGhpcy5lcXVhbHMoXy5aRVJPKX1tdWx0aXBseShkKXtjb25zdHtlbmRvOm19PWU7aWYoIXIuaXNWYWxpZE5vdDAoZCkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzY2FsYXI6IG91dCBvZiByYW5nZVwiKTtsZXQgcCxiO2NvbnN0IHY9Qj0+ai53TkFGQ2FjaGVkKHRoaXMsQixfLm5vcm1hbGl6ZVopO2lmKG0pe2NvbnN0e2sxbmVnOkIsazE6RSxrMm5lZzpJLGsyOlN9PW0uc3BsaXRTY2FsYXIoZCkse3A6TyxmOkF9PXYoRSkse3A6VCxmOlV9PXYoUyk7Yj1BLmFkZChVKSxwPVYobS5iZXRhLE8sVCxCLEkpfWVsc2V7Y29uc3R7cDpCLGY6RX09dihkKTtwPUIsYj1FfXJldHVybiBfLm5vcm1hbGl6ZVooW3AsYl0pWzBdfW11bHRpcGx5VW5zYWZlKGQpe2NvbnN0e2VuZG86bX09ZSxwPXRoaXM7aWYoIXIuaXNWYWxpZChkKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNjYWxhcjogb3V0IG9mIHJhbmdlXCIpO2lmKGQ9PT1oZXx8cC5pczAoKSlyZXR1cm4gXy5aRVJPO2lmKGQ9PT1wZSlyZXR1cm4gcDtpZihqLmhhc1ByZWNvbXB1dGVzKHRoaXMpKXJldHVybiB0aGlzLm11bHRpcGx5KGQpO2lmKG0pe2NvbnN0e2sxbmVnOmIsazE6dixrMm5lZzpCLGsyOkV9PW0uc3BsaXRTY2FsYXIoZCkse3AxOkkscDI6U309Z2MoXyxwLHYsRSk7cmV0dXJuIFYobS5iZXRhLEksUyxiLEIpfWVsc2UgcmV0dXJuIGoud05BRkNhY2hlZFVuc2FmZShwLGQpfW11bHRpcGx5QW5kQWRkVW5zYWZlKGQsbSxwKXtjb25zdCBiPXRoaXMubXVsdGlwbHlVbnNhZmUobSkuYWRkKGQubXVsdGlwbHlVbnNhZmUocCkpO3JldHVybiBiLmlzMCgpP3ZvaWQgMDpifXRvQWZmaW5lKGQpe3JldHVybiBNKHRoaXMsZCl9aXNUb3JzaW9uRnJlZSgpe2NvbnN0e2lzVG9yc2lvbkZyZWU6ZH09ZTtyZXR1cm4gbz09PXBlPyEwOmQ/ZChfLHRoaXMpOmoud05BRkNhY2hlZFVuc2FmZSh0aGlzLHMpLmlzMCgpfWNsZWFyQ29mYWN0b3IoKXtjb25zdHtjbGVhckNvZmFjdG9yOmR9PWU7cmV0dXJuIG89PT1wZT90aGlzOmQ/ZChfLHRoaXMpOnRoaXMubXVsdGlwbHlVbnNhZmUobyl9dG9CeXRlcyhkPSEwKXtyZXR1cm4gUmUoXCJpc0NvbXByZXNzZWRcIixkKSx0aGlzLmFzc2VydFZhbGlkaXR5KCksYyhfLHRoaXMsZCl9dG9SYXdCeXRlcyhkPSEwKXtyZXR1cm4gdGhpcy50b0J5dGVzKGQpfXRvSGV4KGQ9ITApe3JldHVybiBjZSh0aGlzLnRvQnl0ZXMoZCkpfXRvU3RyaW5nKCl7cmV0dXJuYDxQb2ludCAke3RoaXMuaXMwKCk/XCJaRVJPXCI6dGhpcy50b0hleCgpfT5gfX1fLkJBU0U9bmV3IF8odC5HeCx0Lkd5LG4uT05FKSxfLlpFUk89bmV3IF8obi5aRVJPLG4uT05FLG4uWkVSTyksXy5GcD1uLF8uRm49cjtjb25zdCBrPXIuQklUUyxqPXBjKF8sZS5lbmRvP01hdGguY2VpbChrLzIpOmspO3JldHVybiBffWZ1bmN0aW9uIFJvKHQpe3JldHVybiBVaW50OEFycmF5Lm9mKHQ/MjozKX1mdW5jdGlvbiBUYyh0LGUsbj17fSl7a2UoZSx7aGFzaDpcImZ1bmN0aW9uXCJ9LHtobWFjOlwiZnVuY3Rpb25cIixsb3dTOlwiYm9vbGVhblwiLHJhbmRvbUJ5dGVzOlwiZnVuY3Rpb25cIixiaXRzMmludDpcImZ1bmN0aW9uXCIsYml0czJpbnRfbW9kTjpcImZ1bmN0aW9uXCJ9KTtjb25zdCByPWUucmFuZG9tQnl0ZXN8fFp0LG89ZS5obWFjfHwoKHAsLi4uYik9Pl9lKGUuaGFzaCxwLEh0KC4uLmIpKSkse0ZwOnMsRm46aX09dCx7T1JERVI6ZixCSVRTOmF9PWk7ZnVuY3Rpb24gbChwKXtjb25zdCBiPWY+PnBlO3JldHVybiBwPmJ9ZnVuY3Rpb24gYyhwKXtyZXR1cm4gbChwKT9pLm5lZyhwKTpwfWZ1bmN0aW9uIHUocCxiKXtpZighaS5pc1ZhbGlkTm90MChiKSl0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgc2lnbmF0dXJlICR7cH06IG91dCBvZiByYW5nZSAxLi5DVVJWRS5uYCl9Y2xhc3MgaHtjb25zdHJ1Y3RvcihiLHYsQil7dShcInJcIixiKSx1KFwic1wiLHYpLHRoaXMucj1iLHRoaXMucz12LEIhPW51bGwmJih0aGlzLnJlY292ZXJ5PUIpLE9iamVjdC5mcmVlemUodGhpcyl9c3RhdGljIGZyb21Db21wYWN0KGIpe2NvbnN0IHY9aS5CWVRFUyxCPXJ0KFwiY29tcGFjdFNpZ25hdHVyZVwiLGIsdioyKTtyZXR1cm4gbmV3IGgoaS5mcm9tQnl0ZXMoQi5zdWJhcnJheSgwLHYpKSxpLmZyb21CeXRlcyhCLnN1YmFycmF5KHYsdioyKSkpfXN0YXRpYyBmcm9tREVSKGIpe2NvbnN0e3I6dixzOkJ9PXZ0LnRvU2lnKHJ0KFwiREVSXCIsYikpO3JldHVybiBuZXcgaCh2LEIpfWFzc2VydFZhbGlkaXR5KCl7fWFkZFJlY292ZXJ5Qml0KGIpe3JldHVybiBuZXcgaCh0aGlzLnIsdGhpcy5zLGIpfXJlY292ZXJQdWJsaWNLZXkoYil7Y29uc3Qgdj1zLk9SREVSLHtyOkIsczpFLHJlY292ZXJ5Okl9PXRoaXM7aWYoST09bnVsbHx8IVswLDEsMiwzXS5pbmNsdWRlcyhJKSl0aHJvdyBuZXcgRXJyb3IoXCJyZWNvdmVyeSBpZCBpbnZhbGlkXCIpO2lmKGYqTmM8diYmST4xKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGlkIGlzIGFtYmlndW91cyBmb3IgaD4xIGN1cnZlXCIpO2NvbnN0IE89ST09PTJ8fEk9PT0zP0IrZjpCO2lmKCFzLmlzVmFsaWQoTykpdGhyb3cgbmV3IEVycm9yKFwicmVjb3ZlcnkgaWQgMiBvciAzIGludmFsaWRcIik7Y29uc3QgQT1zLnRvQnl0ZXMoTyksVD10LmZyb21IZXgoSHQoUm8oKEkmMSk9PT0wKSxBKSksVT1pLmludihPKSxDPUwocnQoXCJtc2dIYXNoXCIsYikpLEg9aS5jcmVhdGUoLUMqVSkscT1pLmNyZWF0ZShFKlUpLFA9dC5CQVNFLm11bHRpcGx5VW5zYWZlKEgpLmFkZChULm11bHRpcGx5VW5zYWZlKHEpKTtpZihQLmlzMCgpKXRocm93IG5ldyBFcnJvcihcInBvaW50IGF0IGluZmluaWZ5XCIpO3JldHVybiBQLmFzc2VydFZhbGlkaXR5KCksUH1oYXNIaWdoUygpe3JldHVybiBsKHRoaXMucyl9bm9ybWFsaXplUygpe3JldHVybiB0aGlzLmhhc0hpZ2hTKCk/bmV3IGgodGhpcy5yLGkubmVnKHRoaXMucyksdGhpcy5yZWNvdmVyeSk6dGhpc310b0J5dGVzKGIpe2lmKGI9PT1cImNvbXBhY3RcIilyZXR1cm4gSHQoaS50b0J5dGVzKHRoaXMuciksaS50b0J5dGVzKHRoaXMucykpO2lmKGI9PT1cImRlclwiKXJldHVybiBmbih2dC5oZXhGcm9tU2lnKHRoaXMpKTt0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZvcm1hdFwiKX10b0RFUlJhd0J5dGVzKCl7cmV0dXJuIHRoaXMudG9CeXRlcyhcImRlclwiKX10b0RFUkhleCgpe3JldHVybiBjZSh0aGlzLnRvQnl0ZXMoXCJkZXJcIikpfXRvQ29tcGFjdFJhd0J5dGVzKCl7cmV0dXJuIHRoaXMudG9CeXRlcyhcImNvbXBhY3RcIil9dG9Db21wYWN0SGV4KCl7cmV0dXJuIGNlKHRoaXMudG9CeXRlcyhcImNvbXBhY3RcIikpfX1jb25zdCBnPVRvKGksbi5hbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHMsbi53cmFwUHJpdmF0ZUtleSksdz17aXNWYWxpZFByaXZhdGVLZXkocCl7dHJ5e3JldHVybiBnKHApLCEwfWNhdGNoe3JldHVybiExfX0sbm9ybVByaXZhdGVLZXlUb1NjYWxhcjpnLHJhbmRvbVByaXZhdGVLZXk6KCk9Pntjb25zdCBwPWY7cmV0dXJuIHVjKHIoRW8ocCkpLHApfSxwcmVjb21wdXRlKHA9OCxiPXQuQkFTRSl7cmV0dXJuIGIucHJlY29tcHV0ZShwLCExKX19O2Z1bmN0aW9uIHkocCxiPSEwKXtyZXR1cm4gdC5mcm9tUHJpdmF0ZUtleShwKS50b0J5dGVzKGIpfWZ1bmN0aW9uIHgocCl7aWYodHlwZW9mIHA9PVwiYmlnaW50XCIpcmV0dXJuITE7aWYocCBpbnN0YW5jZW9mIHQpcmV0dXJuITA7Y29uc3Qgdj1ydChcImtleVwiLHApLmxlbmd0aCxCPXMuQllURVMsRT1CKzEsST0yKkIrMTtpZighKG4uYWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzfHxpLkJZVEVTPT09RSkpcmV0dXJuIHY9PT1FfHx2PT09SX1mdW5jdGlvbiBSKHAsYix2PSEwKXtpZih4KHApPT09ITApdGhyb3cgbmV3IEVycm9yKFwiZmlyc3QgYXJnIG11c3QgYmUgcHJpdmF0ZSBrZXlcIik7aWYoeChiKT09PSExKXRocm93IG5ldyBFcnJvcihcInNlY29uZCBhcmcgbXVzdCBiZSBwdWJsaWMga2V5XCIpO3JldHVybiB0LmZyb21IZXgoYikubXVsdGlwbHkoZyhwKSkudG9CeXRlcyh2KX1jb25zdCBNPWUuYml0czJpbnR8fGZ1bmN0aW9uKHApe2lmKHAubGVuZ3RoPjgxOTIpdGhyb3cgbmV3IEVycm9yKFwiaW5wdXQgaXMgdG9vIGxhcmdlXCIpO2NvbnN0IGI9Q2UocCksdj1wLmxlbmd0aCo4LWE7cmV0dXJuIHY+MD9iPj5CaWdJbnQodik6Yn0sTD1lLmJpdHMyaW50X21vZE58fGZ1bmN0aW9uKHApe3JldHVybiBpLmNyZWF0ZShNKHApKX0sVj1qZShhKTtmdW5jdGlvbiBfKHApe3JldHVybiBObihcIm51bSA8IDJeXCIrYSxwLGhlLFYpLGkudG9CeXRlcyhwKX1mdW5jdGlvbiBrKHAsYix2PWope2lmKFtcInJlY292ZXJlZFwiLFwiY2Fub25pY2FsXCJdLnNvbWUocT0+cSBpbiB2KSl0aHJvdyBuZXcgRXJyb3IoXCJzaWduKCkgbGVnYWN5IG9wdGlvbnMgbm90IHN1cHBvcnRlZFwiKTtjb25zdHtoYXNoOkJ9PWU7bGV0e2xvd1M6RSxwcmVoYXNoOkksZXh0cmFFbnRyb3B5OlN9PXY7RT09bnVsbCYmKEU9ITApLHA9cnQoXCJtc2dIYXNoXCIscCksX28odiksSSYmKHA9cnQoXCJwcmVoYXNoZWQgbXNnSGFzaFwiLEIocCkpKTtjb25zdCBPPUwocCksQT1nKGIpLFQ9W18oQSksXyhPKV07aWYoUyE9bnVsbCYmUyE9PSExKXtjb25zdCBxPVM9PT0hMD9yKHMuQllURVMpOlM7VC5wdXNoKHJ0KFwiZXh0cmFFbnRyb3B5XCIscSkpfWNvbnN0IFU9SHQoLi4uVCksQz1PO2Z1bmN0aW9uIEgocSl7Y29uc3QgUD1NKHEpO2lmKCFpLmlzVmFsaWROb3QwKFApKXJldHVybjtjb25zdCBLPWkuaW52KFApLGV0PXQuQkFTRS5tdWx0aXBseShQKS50b0FmZmluZSgpLFo9aS5jcmVhdGUoZXQueCk7aWYoWj09PWhlKXJldHVybjtjb25zdCB6PWkuY3JlYXRlKEsqaS5jcmVhdGUoQytaKkEpKTtpZih6PT09aGUpcmV0dXJuO2xldCBGdD0oZXQueD09PVo/MDoyKXxOdW1iZXIoZXQueSZwZSkseXQ9ejtyZXR1cm4gRSYmbCh6KSYmKHl0PWMoeiksRnRePTEpLG5ldyBoKFoseXQsRnQpfXJldHVybntzZWVkOlUsazJzaWc6SH19Y29uc3Qgaj17bG93UzplLmxvd1MscHJlaGFzaDohMX0sJD17bG93UzplLmxvd1MscHJlaGFzaDohMX07ZnVuY3Rpb24gZChwLGIsdj1qKXtjb25zdHtzZWVkOkIsazJzaWc6RX09ayhwLGIsdik7cmV0dXJuIGVjKGUuaGFzaC5vdXRwdXRMZW4saS5CWVRFUyxvKShCLEUpfXQuQkFTRS5wcmVjb21wdXRlKDgpO2Z1bmN0aW9uIG0ocCxiLHYsQj0kKXtjb25zdCBFPXA7Yj1ydChcIm1zZ0hhc2hcIixiKSx2PXJ0KFwicHVibGljS2V5XCIsdiksX28oQik7Y29uc3R7bG93UzpJLHByZWhhc2g6Uyxmb3JtYXQ6T309QjtpZihcInN0cmljdFwiaW4gQil0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLnN0cmljdCB3YXMgcmVuYW1lZCB0byBsb3dTXCIpO2lmKE8hPT12b2lkIDAmJiFbXCJjb21wYWN0XCIsXCJkZXJcIixcImpzXCJdLmluY2x1ZGVzKE8pKXRocm93IG5ldyBFcnJvcignZm9ybWF0IG11c3QgYmUgXCJjb21wYWN0XCIsIFwiZGVyXCIgb3IgXCJqc1wiJyk7Y29uc3QgQT10eXBlb2YgRT09XCJzdHJpbmdcInx8bm4oRSksVD0hQSYmIU8mJnR5cGVvZiBFPT1cIm9iamVjdFwiJiZFIT09bnVsbCYmdHlwZW9mIEUucj09XCJiaWdpbnRcIiYmdHlwZW9mIEUucz09XCJiaWdpbnRcIjtpZighQSYmIVQpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzaWduYXR1cmUsIGV4cGVjdGVkIFVpbnQ4QXJyYXksIGhleCBzdHJpbmcgb3IgU2lnbmF0dXJlIGluc3RhbmNlXCIpO2xldCBVLEM7dHJ5e2lmKFQpaWYoTz09PXZvaWQgMHx8Tz09PVwianNcIilVPW5ldyBoKEUucixFLnMpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmb3JtYXRcIik7aWYoQSl7dHJ5e08hPT1cImNvbXBhY3RcIiYmKFU9aC5mcm9tREVSKEUpKX1jYXRjaCh5dCl7aWYoISh5dCBpbnN0YW5jZW9mIHZ0LkVycikpdGhyb3cgeXR9IVUmJk8hPT1cImRlclwiJiYoVT1oLmZyb21Db21wYWN0KEUpKX1DPXQuZnJvbUhleCh2KX1jYXRjaHtyZXR1cm4hMX1pZighVXx8SSYmVS5oYXNIaWdoUygpKXJldHVybiExO1MmJihiPWUuaGFzaChiKSk7Y29uc3R7cjpILHM6cX09VSxQPUwoYiksSz1pLmludihxKSxldD1pLmNyZWF0ZShQKkspLFo9aS5jcmVhdGUoSCpLKSx6PXQuQkFTRS5tdWx0aXBseVVuc2FmZShldCkuYWRkKEMubXVsdGlwbHlVbnNhZmUoWikpO3JldHVybiB6LmlzMCgpPyExOmkuY3JlYXRlKHoueCk9PT1IfXJldHVybiBPYmplY3QuZnJlZXplKHtnZXRQdWJsaWNLZXk6eSxnZXRTaGFyZWRTZWNyZXQ6UixzaWduOmQsdmVyaWZ5Om0sdXRpbHM6dyxQb2ludDp0LFNpZ25hdHVyZTpofSl9ZnVuY3Rpb24gUmModCl7Y29uc3QgZT17YTp0LmEsYjp0LmIscDp0LkZwLk9SREVSLG46dC5uLGg6dC5oLEd4OnQuR3gsR3k6dC5HeX0sbj10LkZwLHI9WXQoZS5uLHQubkJpdExlbmd0aCksbz17RnA6bixGbjpyLGFsbG93ZWRQcml2YXRlS2V5TGVuZ3Roczp0LmFsbG93ZWRQcml2YXRlS2V5TGVuZ3RocyxhbGxvd0luZmluaXR5UG9pbnQ6dC5hbGxvd0luZmluaXR5UG9pbnQsZW5kbzp0LmVuZG8sd3JhcFByaXZhdGVLZXk6dC53cmFwUHJpdmF0ZUtleSxpc1RvcnNpb25GcmVlOnQuaXNUb3JzaW9uRnJlZSxjbGVhckNvZmFjdG9yOnQuY2xlYXJDb2ZhY3Rvcixmcm9tQnl0ZXM6dC5mcm9tQnl0ZXMsdG9CeXRlczp0LnRvQnl0ZXN9O3JldHVybntDVVJWRTplLGN1cnZlT3B0czpvfX1mdW5jdGlvbiAkYyh0KXtjb25zdHtDVVJWRTplLGN1cnZlT3B0czpufT1SYyh0KSxyPXtoYXNoOnQuaGFzaCxobWFjOnQuaG1hYyxyYW5kb21CeXRlczp0LnJhbmRvbUJ5dGVzLGxvd1M6dC5sb3dTLGJpdHMyaW50OnQuYml0czJpbnQsYml0czJpbnRfbW9kTjp0LmJpdHMyaW50X21vZE59O3JldHVybntDVVJWRTplLGN1cnZlT3B0czpuLGVjZHNhT3B0czpyfX1mdW5jdGlvbiBDYyh0LGUpe3JldHVybiBPYmplY3QuYXNzaWduKHt9LGUse1Byb2plY3RpdmVQb2ludDplLlBvaW50LENVUlZFOnR9KX1mdW5jdGlvbiBMYyh0KXtjb25zdHtDVVJWRTplLGN1cnZlT3B0czpuLGVjZHNhT3B0czpyfT0kYyh0KSxvPV9jKGUsbikscz1UYyhvLHIsbik7cmV0dXJuIENjKHQscyl9ZnVuY3Rpb24gUm4odCxlKXtjb25zdCBuPXI9PkxjKHsuLi50LGhhc2g6cn0pO3JldHVybnsuLi5uKGUpLGNyZWF0ZTpufX1jb25zdCAkbz17cDpCaWdJbnQoXCIweGZmZmZmZmZmMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZcIiksbjpCaWdJbnQoXCIweGZmZmZmZmZmMDAwMDAwMDBmZmZmZmZmZmZmZmZmZmZmYmNlNmZhYWRhNzE3OWU4NGYzYjljYWMyZmM2MzI1NTFcIiksaDpCaWdJbnQoMSksYTpCaWdJbnQoXCIweGZmZmZmZmZmMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmNcIiksYjpCaWdJbnQoXCIweDVhYzYzNWQ4YWEzYTkzZTdiM2ViYmQ1NTc2OTg4NmJjNjUxZDA2YjBjYzUzYjBmNjNiY2UzYzNlMjdkMjYwNGJcIiksR3g6QmlnSW50KFwiMHg2YjE3ZDFmMmUxMmM0MjQ3ZjhiY2U2ZTU2M2E0NDBmMjc3MDM3ZDgxMmRlYjMzYTBmNGExMzk0NWQ4OThjMjk2XCIpLEd5OkJpZ0ludChcIjB4NGZlMzQyZTJmZTFhN2Y5YjhlZTdlYjRhN2MwZjllMTYyYmNlMzM1NzZiMzE1ZWNlY2JiNjQwNjgzN2JmNTFmNVwiKX0sQ289e3A6QmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZmZmZmZmZmYwMDAwMDAwMDAwMDAwMDAwZmZmZmZmZmZcIiksbjpCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmM3NjM0ZDgxZjQzNzJkZGY1ODFhMGRiMjQ4YjBhNzdhZWNlYzE5NmFjY2M1Mjk3M1wiKSxoOkJpZ0ludCgxKSxhOkJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmZmZmMDAwMDAwMDAwMDAwMDAwMGZmZmZmZmZjXCIpLGI6QmlnSW50KFwiMHhiMzMxMmZhN2UyM2VlN2U0OTg4ZTA1NmJlM2Y4MmQxOTE4MWQ5YzZlZmU4MTQxMTIwMzE0MDg4ZjUwMTM4NzVhYzY1NjM5OGQ4YTJlZDE5ZDJhODVjOGVkZDNlYzJhZWZcIiksR3g6QmlnSW50KFwiMHhhYTg3Y2EyMmJlOGIwNTM3OGViMWM3MWVmMzIwYWQ3NDZlMWQzYjYyOGJhNzliOTg1OWY3NDFlMDgyNTQyYTM4NTUwMmYyNWRiZjU1Mjk2YzNhNTQ1ZTM4NzI3NjBhYjdcIiksR3k6QmlnSW50KFwiMHgzNjE3ZGU0YTk2MjYyYzZmNWQ5ZTk4YmY5MjkyZGMyOWY4ZjQxZGJkMjg5YTE0N2NlOWRhMzExM2I1ZjBiOGMwMGE2MGIxY2UxZDdlODE5ZDdhNDMxZDdjOTBlYTBlNWZcIil9LExvPXtwOkJpZ0ludChcIjB4MWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZcIiksbjpCaWdJbnQoXCIweDAxZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZhNTE4Njg3ODNiZjJmOTY2YjdmY2MwMTQ4ZjcwOWE1ZDAzYmI1YzliODg5OWM0N2FlYmI2ZmI3MWU5MTM4NjQwOVwiKSxoOkJpZ0ludCgxKSxhOkJpZ0ludChcIjB4MWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmNcIiksYjpCaWdJbnQoXCIweDAwNTE5NTNlYjk2MThlMWM5YTFmOTI5YTIxYTBiNjg1NDBlZWEyZGE3MjViOTliMzE1ZjNiOGI0ODk5MThlZjEwOWUxNTYxOTM5NTFlYzdlOTM3YjE2NTJjMGJkM2JiMWJmMDczNTczZGY4ODNkMmMzNGYxZWY0NTFmZDQ2YjUwM2YwMFwiKSxHeDpCaWdJbnQoXCIweDAwYzY4NThlMDZiNzA0MDRlOWNkOWUzZWNiNjYyMzk1YjQ0MjljNjQ4MTM5MDUzZmI1MjFmODI4YWY2MDZiNGQzZGJhYTE0YjVlNzdlZmU3NTkyOGZlMWRjMTI3YTJmZmE4ZGUzMzQ4YjNjMTg1NmE0MjliZjk3ZTdlMzFjMmU1YmQ2NlwiKSxHeTpCaWdJbnQoXCIweDAxMTgzOTI5NmE3ODlhM2JjMDA0NWM4YTVmYjQyYzdkMWJkOTk4ZjU0NDQ5NTc5YjQ0NjgxN2FmYmQxNzI3M2U2NjJjOTdlZTcyOTk1ZWY0MjY0MGM1NTBiOTAxM2ZhZDA3NjEzNTNjNzA4NmEyNzJjMjQwODhiZTk0NzY5ZmQxNjY1MFwiKX0samM9WXQoJG8ucCksa2M9WXQoQ28ucCksUGM9WXQoTG8ucCksSGM9Um4oey4uLiRvLEZwOmpjLGxvd1M6ITF9LEFlKTtSbih7Li4uQ28sRnA6a2MsbG93UzohMX0sWWkpLFJuKHsuLi5MbyxGcDpQYyxsb3dTOiExLGFsbG93ZWRQcml2YXRlS2V5TGVuZ3RoczpbMTMwLDEzMSwxMzJdfSxXaSk7Y29uc3QgRGM9SGMsJG49XCJiYXNlMTBcIix0dD1cImJhc2UxNlwiLFF0PVwiYmFzZTY0cGFkXCIsRGU9XCJiYXNlNjR1cmxcIix0ZT1cInV0ZjhcIixDbj0wLGVlPTEsZ2U9MixNYz0wLGpvPTEsYmU9MTIsTG49MzI7ZnVuY3Rpb24gVmMoKXtjb25zdCB0PVRuLnV0aWxzLnJhbmRvbVByaXZhdGVLZXkoKSxlPVRuLmdldFB1YmxpY0tleSh0KTtyZXR1cm57cHJpdmF0ZUtleTpzdCh0LHR0KSxwdWJsaWNLZXk6c3QoZSx0dCl9fWZ1bmN0aW9uIHFjKCl7Y29uc3QgdD1adChMbik7cmV0dXJuIHN0KHQsdHQpfWZ1bmN0aW9uIEtjKHQsZSl7Y29uc3Qgbj1Ubi5nZXRTaGFyZWRTZWNyZXQoZnQodCx0dCksZnQoZSx0dCkpLHI9SmYoVGUsbix2b2lkIDAsdm9pZCAwLExuKTtyZXR1cm4gc3Qocix0dCl9ZnVuY3Rpb24gRmModCl7Y29uc3QgZT1UZShmdCh0LHR0KSk7cmV0dXJuIHN0KGUsdHQpfWZ1bmN0aW9uIHpjKHQpe2NvbnN0IGU9VGUoZnQodCx0ZSkpO3JldHVybiBzdChlLHR0KX1mdW5jdGlvbiBqbih0KXtyZXR1cm4gZnQoYCR7dH1gLCRuKX1mdW5jdGlvbiBWdCh0KXtyZXR1cm4gTnVtYmVyKHN0KHQsJG4pKX1mdW5jdGlvbiBrbyh0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXCsvZyxcIi1cIikucmVwbGFjZSgvXFwvL2csXCJfXCIpLnJlcGxhY2UoLz0vZyxcIlwiKX1mdW5jdGlvbiBQbyh0KXtjb25zdCBlPXQucmVwbGFjZSgvLS9nLFwiK1wiKS5yZXBsYWNlKC9fL2csXCIvXCIpLG49KDQtZS5sZW5ndGglNCklNDtyZXR1cm4gZStcIj1cIi5yZXBlYXQobil9ZnVuY3Rpb24gR2ModCl7Y29uc3QgZT1qbih0eXBlb2YgdC50eXBlPFwidVwiP3QudHlwZTpDbik7aWYoVnQoZSk9PT1lZSYmdHlwZW9mIHQuc2VuZGVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXkgZm9yIHR5cGUgMSBlbnZlbG9wZVwiKTtjb25zdCBuPXR5cGVvZiB0LnNlbmRlclB1YmxpY0tleTxcInVcIj9mdCh0LnNlbmRlclB1YmxpY0tleSx0dCk6dm9pZCAwLHI9dHlwZW9mIHQuaXY8XCJ1XCI/ZnQodC5pdix0dCk6WnQoYmUpLG89ZnQodC5zeW1LZXksdHQpLHM9Y28obyxyKS5lbmNyeXB0KGZ0KHQubWVzc2FnZSx0ZSkpLGk9a24oe3R5cGU6ZSxzZWFsZWQ6cyxpdjpyLHNlbmRlclB1YmxpY0tleTpufSk7cmV0dXJuIHQuZW5jb2Rpbmc9PT1EZT9rbyhpKTppfWZ1bmN0aW9uIFpjKHQpe2NvbnN0IGU9ZnQodC5zeW1LZXksdHQpLHtzZWFsZWQ6bixpdjpyfT1NZSh7ZW5jb2RlZDp0LmVuY29kZWQsZW5jb2Rpbmc6dC5lbmNvZGluZ30pLG89Y28oZSxyKS5kZWNyeXB0KG4pO2lmKG89PT1udWxsKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWNyeXB0XCIpO3JldHVybiBzdChvLHRlKX1mdW5jdGlvbiBXYyh0LGUpe2NvbnN0IG49am4oZ2UpLHI9WnQoYmUpLG89ZnQodCx0ZSkscz1rbih7dHlwZTpuLHNlYWxlZDpvLGl2OnJ9KTtyZXR1cm4gZT09PURlP2tvKHMpOnN9ZnVuY3Rpb24gWWModCxlKXtjb25zdHtzZWFsZWQ6bn09TWUoe2VuY29kZWQ6dCxlbmNvZGluZzplfSk7cmV0dXJuIHN0KG4sdGUpfWZ1bmN0aW9uIGtuKHQpe2lmKFZ0KHQudHlwZSk9PT1nZSlyZXR1cm4gc3Qob2UoW3QudHlwZSx0LnNlYWxlZF0pLFF0KTtpZihWdCh0LnR5cGUpPT09ZWUpe2lmKHR5cGVvZiB0LnNlbmRlclB1YmxpY0tleT5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHNlbmRlciBwdWJsaWMga2V5IGZvciB0eXBlIDEgZW52ZWxvcGVcIik7cmV0dXJuIHN0KG9lKFt0LnR5cGUsdC5zZW5kZXJQdWJsaWNLZXksdC5pdix0LnNlYWxlZF0pLFF0KX1yZXR1cm4gc3Qob2UoW3QudHlwZSx0Lml2LHQuc2VhbGVkXSksUXQpfWZ1bmN0aW9uIE1lKHQpe2NvbnN0IGU9KHQuZW5jb2Rpbmd8fFF0KT09PURlP1BvKHQuZW5jb2RlZCk6dC5lbmNvZGVkLG49ZnQoZSxRdCkscj1uLnNsaWNlKE1jLGpvKSxvPWpvO2lmKFZ0KHIpPT09ZWUpe2NvbnN0IGE9bytMbixsPWErYmUsYz1uLnNsaWNlKG8sYSksdT1uLnNsaWNlKGEsbCksaD1uLnNsaWNlKGwpO3JldHVybnt0eXBlOnIsc2VhbGVkOmgsaXY6dSxzZW5kZXJQdWJsaWNLZXk6Y319aWYoVnQocik9PT1nZSl7Y29uc3QgYT1uLnNsaWNlKG8pLGw9WnQoYmUpO3JldHVybnt0eXBlOnIsc2VhbGVkOmEsaXY6bH19Y29uc3Qgcz1vK2JlLGk9bi5zbGljZShvLHMpLGY9bi5zbGljZShzKTtyZXR1cm57dHlwZTpyLHNlYWxlZDpmLGl2Oml9fWZ1bmN0aW9uIFhjKHQsZSl7Y29uc3Qgbj1NZSh7ZW5jb2RlZDp0LGVuY29kaW5nOmU/LmVuY29kaW5nfSk7cmV0dXJuIEhvKHt0eXBlOlZ0KG4udHlwZSksc2VuZGVyUHVibGljS2V5OnR5cGVvZiBuLnNlbmRlclB1YmxpY0tleTxcInVcIj9zdChuLnNlbmRlclB1YmxpY0tleSx0dCk6dm9pZCAwLHJlY2VpdmVyUHVibGljS2V5OmU/LnJlY2VpdmVyUHVibGljS2V5fSl9ZnVuY3Rpb24gSG8odCl7Y29uc3QgZT10Py50eXBlfHxDbjtpZihlPT09ZWUpe2lmKHR5cGVvZiB0Py5zZW5kZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBzZW5kZXIgcHVibGljIGtleVwiKTtpZih0eXBlb2YgdD8ucmVjZWl2ZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyByZWNlaXZlciBwdWJsaWMga2V5XCIpfXJldHVybnt0eXBlOmUsc2VuZGVyUHVibGljS2V5OnQ/LnNlbmRlclB1YmxpY0tleSxyZWNlaXZlclB1YmxpY0tleTp0Py5yZWNlaXZlclB1YmxpY0tleX19ZnVuY3Rpb24gSmModCl7cmV0dXJuIHQudHlwZT09PWVlJiZ0eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk9PVwic3RyaW5nXCImJnR5cGVvZiB0LnJlY2VpdmVyUHVibGljS2V5PT1cInN0cmluZ1wifWZ1bmN0aW9uIFFjKHQpe3JldHVybiB0LnR5cGU9PT1nZX1mdW5jdGlvbiBEbyh0KXtjb25zdCBlPUJ1ZmZlci5mcm9tKHQueCxcImJhc2U2NFwiKSxuPUJ1ZmZlci5mcm9tKHQueSxcImJhc2U2NFwiKTtyZXR1cm4gb2UoW25ldyBVaW50OEFycmF5KFs0XSksZSxuXSl9ZnVuY3Rpb24gdGEodCxlKXtjb25zdFtuLHIsb109dC5zcGxpdChcIi5cIikscz1CdWZmZXIuZnJvbShQbyhvKSxcImJhc2U2NFwiKTtpZihzLmxlbmd0aCE9PTY0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmF0dXJlIGxlbmd0aFwiKTtjb25zdCBpPXMuc2xpY2UoMCwzMiksZj1zLnNsaWNlKDMyLDY0KSxhPWAke259LiR7cn1gLGw9VGUoYSksYz1EbyhlKTtpZighRGMudmVyaWZ5KG9lKFtpLGZdKSxsLGMpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmF0dXJlXCIpO3JldHVybiBBcyh0KS5wYXlsb2FkfWNvbnN0IE1vPVwiaXJuXCI7ZnVuY3Rpb24gZWEodCl7cmV0dXJuIHQ/LnJlbGF5fHx7cHJvdG9jb2w6TW99fWZ1bmN0aW9uIG5hKHQpe2NvbnN0IGU9U3NbdF07aWYodHlwZW9mIGU+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBSZWxheSBQcm90b2NvbCBub3Qgc3VwcG9ydGVkOiAke3R9YCk7cmV0dXJuIGV9ZnVuY3Rpb24gVm8odCxlPVwiLVwiKXtjb25zdCBuPXt9LHI9XCJyZWxheVwiK2U7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobz0+e2lmKG8uc3RhcnRzV2l0aChyKSl7Y29uc3Qgcz1vLnJlcGxhY2UocixcIlwiKSxpPXRbb107bltzXT1pfX0pLG59ZnVuY3Rpb24gcmEodCl7aWYoIXQuaW5jbHVkZXMoXCJ3YzpcIikpe2NvbnN0IGw9UWUodCk7bCE9bnVsbCYmbC5pbmNsdWRlcyhcIndjOlwiKSYmKHQ9bCl9dD10LmluY2x1ZGVzKFwid2M6Ly9cIik/dC5yZXBsYWNlKFwid2M6Ly9cIixcIlwiKTp0LHQ9dC5pbmNsdWRlcyhcIndjOlwiKT90LnJlcGxhY2UoXCJ3YzpcIixcIlwiKTp0O2NvbnN0IGU9dC5pbmRleE9mKFwiOlwiKSxuPXQuaW5kZXhPZihcIj9cIikhPT0tMT90LmluZGV4T2YoXCI/XCIpOnZvaWQgMCxyPXQuc3Vic3RyaW5nKDAsZSksbz10LnN1YnN0cmluZyhlKzEsbikuc3BsaXQoXCJAXCIpLHM9dHlwZW9mIG48XCJ1XCI/dC5zdWJzdHJpbmcobik6XCJcIixpPW5ldyBVUkxTZWFyY2hQYXJhbXMocyksZj17fTtpLmZvckVhY2goKGwsYyk9PntmW2NdPWx9KTtjb25zdCBhPXR5cGVvZiBmLm1ldGhvZHM9PVwic3RyaW5nXCI/Zi5tZXRob2RzLnNwbGl0KFwiLFwiKTp2b2lkIDA7cmV0dXJue3Byb3RvY29sOnIsdG9waWM6cW8ob1swXSksdmVyc2lvbjpwYXJzZUludChvWzFdLDEwKSxzeW1LZXk6Zi5zeW1LZXkscmVsYXk6Vm8oZiksbWV0aG9kczphLGV4cGlyeVRpbWVzdGFtcDpmLmV4cGlyeVRpbWVzdGFtcD9wYXJzZUludChmLmV4cGlyeVRpbWVzdGFtcCwxMCk6dm9pZCAwfX1mdW5jdGlvbiBxbyh0KXtyZXR1cm4gdC5zdGFydHNXaXRoKFwiLy9cIik/dC5zdWJzdHJpbmcoMik6dH1mdW5jdGlvbiBLbyh0LGU9XCItXCIpe2NvbnN0IG49XCJyZWxheVwiLHI9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobz0+e2NvbnN0IHM9byxpPW4rZStzO3Rbc10mJihyW2ldPXRbc10pfSkscn1mdW5jdGlvbiBvYSh0KXtjb25zdCBlPW5ldyBVUkxTZWFyY2hQYXJhbXMsbj1Lbyh0LnJlbGF5KTtPYmplY3Qua2V5cyhuKS5zb3J0KCkuZm9yRWFjaChvPT57ZS5zZXQobyxuW29dKX0pLGUuc2V0KFwic3ltS2V5XCIsdC5zeW1LZXkpLHQuZXhwaXJ5VGltZXN0YW1wJiZlLnNldChcImV4cGlyeVRpbWVzdGFtcFwiLHQuZXhwaXJ5VGltZXN0YW1wLnRvU3RyaW5nKCkpLHQubWV0aG9kcyYmZS5zZXQoXCJtZXRob2RzXCIsdC5tZXRob2RzLmpvaW4oXCIsXCIpKTtjb25zdCByPWUudG9TdHJpbmcoKTtyZXR1cm5gJHt0LnByb3RvY29sfToke3QudG9waWN9QCR7dC52ZXJzaW9ufT8ke3J9YH1mdW5jdGlvbiBzYSh0LGUsbil7cmV0dXJuYCR7dH0/d2NfZXY9JHtufSZ0b3BpYz0ke2V9YH12YXIgaWE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGZhPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLGNhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLEZvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsYWE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx1YT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHpvPSh0LGUsbik9PmUgaW4gdD9pYSh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTp0W2VdPW4sbGE9KHQsZSk9Pntmb3IodmFyIG4gaW4gZXx8KGU9e30pKWFhLmNhbGwoZSxuKSYmem8odCxuLGVbbl0pO2lmKEZvKWZvcih2YXIgbiBvZiBGbyhlKSl1YS5jYWxsKGUsbikmJnpvKHQsbixlW25dKTtyZXR1cm4gdH0sZGE9KHQsZSk9PmZhKHQsY2EoZSkpO2Z1bmN0aW9uIHF0KHQpe2NvbnN0IGU9W107cmV0dXJuIHQuZm9yRWFjaChuPT57Y29uc3RbcixvXT1uLnNwbGl0KFwiOlwiKTtlLnB1c2goYCR7cn06JHtvfWApfSksZX1mdW5jdGlvbiBHbyh0KXtjb25zdCBlPVtdO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gobj0+e2UucHVzaCguLi5xdChuLmFjY291bnRzKSl9KSxlfWZ1bmN0aW9uIFpvKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntxdChyLmFjY291bnRzKS5pbmNsdWRlcyhlKSYmbi5wdXNoKC4uLnIubWV0aG9kcyl9KSxufWZ1bmN0aW9uIFdvKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntxdChyLmFjY291bnRzKS5pbmNsdWRlcyhlKSYmbi5wdXNoKC4uLnIuZXZlbnRzKX0pLG59ZnVuY3Rpb24gaGEodCxlKXtjb25zdCBuPWlzKHQsZSk7aWYobil0aHJvdyBuZXcgRXJyb3Iobi5tZXNzYWdlKTtjb25zdCByPXt9O2Zvcihjb25zdFtvLHNdb2YgT2JqZWN0LmVudHJpZXModCkpcltvXT17bWV0aG9kczpzLm1ldGhvZHMsZXZlbnRzOnMuZXZlbnRzLGNoYWluczpzLmFjY291bnRzLm1hcChpPT5gJHtpLnNwbGl0KFwiOlwiKVswXX06JHtpLnNwbGl0KFwiOlwiKVsxXX1gKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcGEodCl7dmFyIGU7Y29uc3R7cHJvcG9zYWw6e3JlcXVpcmVkTmFtZXNwYWNlczpuLG9wdGlvbmFsTmFtZXNwYWNlczpyPXt9fSxzdXBwb3J0ZWROYW1lc3BhY2VzOm99PXQscz15ZShuKSxpPXllKHIpLGY9e307T2JqZWN0LmtleXMobykuZm9yRWFjaChjPT57Y29uc3QgdT1vW2NdLmNoYWlucyxoPW9bY10ubWV0aG9kcyxnPW9bY10uZXZlbnRzLHc9b1tjXS5hY2NvdW50czt1LmZvckVhY2goeT0+e2lmKCF3LnNvbWUoeD0+eC5pbmNsdWRlcyh5KSkpdGhyb3cgbmV3IEVycm9yKGBObyBhY2NvdW50cyBwcm92aWRlZCBmb3IgY2hhaW4gJHt5fSBpbiBuYW1lc3BhY2UgJHtjfWApfSksZltjXT17Y2hhaW5zOnUsbWV0aG9kczpoLGV2ZW50czpnLGFjY291bnRzOnd9fSk7Y29uc3QgYT1jcyhuLGYsXCJhcHByb3ZlKClcIik7aWYoYSl0aHJvdyBuZXcgRXJyb3IoYS5tZXNzYWdlKTtjb25zdCBsPXt9O2lmKCFPYmplY3Qua2V5cyhuKS5sZW5ndGgmJiFPYmplY3Qua2V5cyhyKS5sZW5ndGgpcmV0dXJuIGY7T2JqZWN0LmtleXMocykuZm9yRWFjaChjPT57Y29uc3QgdT1vW2NdLmNoYWlucy5maWx0ZXIoeT0+e3ZhciB4LFI7cmV0dXJuKFI9KHg9c1tjXSk9PW51bGw/dm9pZCAwOnguY2hhaW5zKT09bnVsbD92b2lkIDA6Ui5pbmNsdWRlcyh5KX0pLGg9b1tjXS5tZXRob2RzLmZpbHRlcih5PT57dmFyIHgsUjtyZXR1cm4oUj0oeD1zW2NdKT09bnVsbD92b2lkIDA6eC5tZXRob2RzKT09bnVsbD92b2lkIDA6Ui5pbmNsdWRlcyh5KX0pLGc9b1tjXS5ldmVudHMuZmlsdGVyKHk9Pnt2YXIgeCxSO3JldHVybihSPSh4PXNbY10pPT1udWxsP3ZvaWQgMDp4LmV2ZW50cyk9PW51bGw/dm9pZCAwOlIuaW5jbHVkZXMoeSl9KSx3PXUubWFwKHk9Pm9bY10uYWNjb3VudHMuZmlsdGVyKHg9PnguaW5jbHVkZXMoYCR7eX06YCkpKS5mbGF0KCk7bFtjXT17Y2hhaW5zOnUsbWV0aG9kczpoLGV2ZW50czpnLGFjY291bnRzOnd9fSksT2JqZWN0LmtleXMoaSkuZm9yRWFjaChjPT57dmFyIHUsaCxnLHcseSx4O2lmKCFvW2NdKXJldHVybjtjb25zdCBSPShoPSh1PWlbY10pPT1udWxsP3ZvaWQgMDp1LmNoYWlucyk9PW51bGw/dm9pZCAwOmguZmlsdGVyKF89Pm9bY10uY2hhaW5zLmluY2x1ZGVzKF8pKSxNPW9bY10ubWV0aG9kcy5maWx0ZXIoXz0+e3ZhciBrLGo7cmV0dXJuKGo9KGs9aVtjXSk9PW51bGw/dm9pZCAwOmsubWV0aG9kcyk9PW51bGw/dm9pZCAwOmouaW5jbHVkZXMoXyl9KSxMPW9bY10uZXZlbnRzLmZpbHRlcihfPT57dmFyIGssajtyZXR1cm4oaj0oaz1pW2NdKT09bnVsbD92b2lkIDA6ay5ldmVudHMpPT1udWxsP3ZvaWQgMDpqLmluY2x1ZGVzKF8pfSksVj1SPy5tYXAoXz0+b1tjXS5hY2NvdW50cy5maWx0ZXIoaz0+ay5pbmNsdWRlcyhgJHtffTpgKSkpLmZsYXQoKTtsW2NdPXtjaGFpbnM6Y3QoKGc9bFtjXSk9PW51bGw/dm9pZCAwOmcuY2hhaW5zLFIpLG1ldGhvZHM6Y3QoKHc9bFtjXSk9PW51bGw/dm9pZCAwOncubWV0aG9kcyxNKSxldmVudHM6Y3QoKHk9bFtjXSk9PW51bGw/dm9pZCAwOnkuZXZlbnRzLEwpLGFjY291bnRzOmN0KCh4PWxbY10pPT1udWxsP3ZvaWQgMDp4LmFjY291bnRzLFYpfX0pO2Zvcihjb25zdFtjLHVdb2YgT2JqZWN0LmVudHJpZXMobCkpKHUuYWNjb3VudHMubGVuZ3RoPT09MHx8KChlPXU/LmNoYWlucyk9PW51bGw/dm9pZCAwOmUubGVuZ3RoKT09PTApJiZkZWxldGUgbFtjXTtyZXR1cm4gbH1mdW5jdGlvbiBQbih0KXtyZXR1cm4gdC5pbmNsdWRlcyhcIjpcIil9ZnVuY3Rpb24gWW8odCl7cmV0dXJuIFBuKHQpP3Quc3BsaXQoXCI6XCIpWzBdOnR9ZnVuY3Rpb24geWUodCl7dmFyIGUsbixyO2NvbnN0IG89e307aWYoIVZlKHQpKXJldHVybiBvO2Zvcihjb25zdFtzLGldb2YgT2JqZWN0LmVudHJpZXModCkpe2NvbnN0IGY9UG4ocyk/W3NdOmkuY2hhaW5zLGE9aS5tZXRob2RzfHxbXSxsPWkuZXZlbnRzfHxbXSxjPVlvKHMpO29bY109ZGEobGEoe30sb1tjXSkse2NoYWluczpjdChmLChlPW9bY10pPT1udWxsP3ZvaWQgMDplLmNoYWlucyksbWV0aG9kczpjdChhLChuPW9bY10pPT1udWxsP3ZvaWQgMDpuLm1ldGhvZHMpLGV2ZW50czpjdChsLChyPW9bY10pPT1udWxsP3ZvaWQgMDpyLmV2ZW50cyl9KX1yZXR1cm4gb31mdW5jdGlvbiBYbyh0KXtjb25zdCBlPXt9O3JldHVybiB0Py5mb3JFYWNoKG49Pnt2YXIgcjtjb25zdFtvLHNdPW4uc3BsaXQoXCI6XCIpO2Vbb118fChlW29dPXthY2NvdW50czpbXSxjaGFpbnM6W10sZXZlbnRzOltdLG1ldGhvZHM6W119KSxlW29dLmFjY291bnRzLnB1c2gobiksKHI9ZVtvXS5jaGFpbnMpPT1udWxsfHxyLnB1c2goYCR7b306JHtzfWApfSksZX1mdW5jdGlvbiBnYSh0LGUpe2U9ZS5tYXAocj0+ci5yZXBsYWNlKFwiZGlkOnBraDpcIixcIlwiKSk7Y29uc3Qgbj1YbyhlKTtmb3IoY29uc3RbcixvXW9mIE9iamVjdC5lbnRyaWVzKG4pKW8ubWV0aG9kcz9vLm1ldGhvZHM9Y3Qoby5tZXRob2RzLHQpOm8ubWV0aG9kcz10LG8uZXZlbnRzPVtcImNoYWluQ2hhbmdlZFwiLFwiYWNjb3VudHNDaGFuZ2VkXCJdO3JldHVybiBufWZ1bmN0aW9uIGJhKHQsZSl7dmFyIG4scixvLHMsaSxmO2NvbnN0IGE9eWUodCksbD15ZShlKSxjPXt9LHU9T2JqZWN0LmtleXMoYSkuY29uY2F0KE9iamVjdC5rZXlzKGwpKTtmb3IoY29uc3QgaCBvZiB1KWNbaF09e2NoYWluczpjdCgobj1hW2hdKT09bnVsbD92b2lkIDA6bi5jaGFpbnMsKHI9bFtoXSk9PW51bGw/dm9pZCAwOnIuY2hhaW5zKSxtZXRob2RzOmN0KChvPWFbaF0pPT1udWxsP3ZvaWQgMDpvLm1ldGhvZHMsKHM9bFtoXSk9PW51bGw/dm9pZCAwOnMubWV0aG9kcyksZXZlbnRzOmN0KChpPWFbaF0pPT1udWxsP3ZvaWQgMDppLmV2ZW50cywoZj1sW2hdKT09bnVsbD92b2lkIDA6Zi5ldmVudHMpfTtyZXR1cm4gY31jb25zdCBKbz17SU5WQUxJRF9NRVRIT0Q6e21lc3NhZ2U6XCJJbnZhbGlkIG1ldGhvZC5cIixjb2RlOjEwMDF9LElOVkFMSURfRVZFTlQ6e21lc3NhZ2U6XCJJbnZhbGlkIGV2ZW50LlwiLGNvZGU6MTAwMn0sSU5WQUxJRF9VUERBVEVfUkVRVUVTVDp7bWVzc2FnZTpcIkludmFsaWQgdXBkYXRlIHJlcXVlc3QuXCIsY29kZToxMDAzfSxJTlZBTElEX0VYVEVORF9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCBleHRlbmQgcmVxdWVzdC5cIixjb2RlOjEwMDR9LElOVkFMSURfU0VTU0lPTl9TRVRUTEVfUkVRVUVTVDp7bWVzc2FnZTpcIkludmFsaWQgc2Vzc2lvbiBzZXR0bGUgcmVxdWVzdC5cIixjb2RlOjEwMDV9LFVOQVVUSE9SSVpFRF9NRVRIT0Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgbWV0aG9kLlwiLGNvZGU6MzAwMX0sVU5BVVRIT1JJWkVEX0VWRU5UOnttZXNzYWdlOlwiVW5hdXRob3JpemVkIGV2ZW50LlwiLGNvZGU6MzAwMn0sVU5BVVRIT1JJWkVEX1VQREFURV9SRVFVRVNUOnttZXNzYWdlOlwiVW5hdXRob3JpemVkIHVwZGF0ZSByZXF1ZXN0LlwiLGNvZGU6MzAwM30sVU5BVVRIT1JJWkVEX0VYVEVORF9SRVFVRVNUOnttZXNzYWdlOlwiVW5hdXRob3JpemVkIGV4dGVuZCByZXF1ZXN0LlwiLGNvZGU6MzAwNH0sVVNFUl9SRUpFQ1RFRDp7bWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQuXCIsY29kZTo1ZTN9LFVTRVJfUkVKRUNURURfQ0hBSU5TOnttZXNzYWdlOlwiVXNlciByZWplY3RlZCBjaGFpbnMuXCIsY29kZTo1MDAxfSxVU0VSX1JFSkVDVEVEX01FVEhPRFM6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIG1ldGhvZHMuXCIsY29kZTo1MDAyfSxVU0VSX1JFSkVDVEVEX0VWRU5UUzp7bWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgZXZlbnRzLlwiLGNvZGU6NTAwM30sVU5TVVBQT1JURURfQ0hBSU5TOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgY2hhaW5zLlwiLGNvZGU6NTEwMH0sVU5TVVBQT1JURURfTUVUSE9EUzp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIG1ldGhvZHMuXCIsY29kZTo1MTAxfSxVTlNVUFBPUlRFRF9FVkVOVFM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBldmVudHMuXCIsY29kZTo1MTAyfSxVTlNVUFBPUlRFRF9BQ0NPVU5UUzp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIGFjY291bnRzLlwiLGNvZGU6NTEwM30sVU5TVVBQT1JURURfTkFNRVNQQUNFX0tFWTp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIG5hbWVzcGFjZSBrZXkuXCIsY29kZTo1MTA0fSxVU0VSX0RJU0NPTk5FQ1RFRDp7bWVzc2FnZTpcIlVzZXIgZGlzY29ubmVjdGVkLlwiLGNvZGU6NmUzfSxTRVNTSU9OX1NFVFRMRU1FTlRfRkFJTEVEOnttZXNzYWdlOlwiU2Vzc2lvbiBzZXR0bGVtZW50IGZhaWxlZC5cIixjb2RlOjdlM30sV0NfTUVUSE9EX1VOU1VQUE9SVEVEOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgd2NfIG1ldGhvZC5cIixjb2RlOjEwMDAxfX0sUW89e05PVF9JTklUSUFMSVpFRDp7bWVzc2FnZTpcIk5vdCBpbml0aWFsaXplZC5cIixjb2RlOjF9LE5PX01BVENISU5HX0tFWTp7bWVzc2FnZTpcIk5vIG1hdGNoaW5nIGtleS5cIixjb2RlOjJ9LFJFU1RPUkVfV0lMTF9PVkVSUklERTp7bWVzc2FnZTpcIlJlc3RvcmUgd2lsbCBvdmVycmlkZS5cIixjb2RlOjN9LFJFU1VCU0NSSUJFRDp7bWVzc2FnZTpcIlJlc3Vic2NyaWJlZC5cIixjb2RlOjR9LE1JU1NJTkdfT1JfSU5WQUxJRDp7bWVzc2FnZTpcIk1pc3Npbmcgb3IgaW52YWxpZC5cIixjb2RlOjV9LEVYUElSRUQ6e21lc3NhZ2U6XCJFeHBpcmVkLlwiLGNvZGU6Nn0sVU5LTk9XTl9UWVBFOnttZXNzYWdlOlwiVW5rbm93biB0eXBlLlwiLGNvZGU6N30sTUlTTUFUQ0hFRF9UT1BJQzp7bWVzc2FnZTpcIk1pc21hdGNoZWQgdG9waWMuXCIsY29kZTo4fSxOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTOnttZXNzYWdlOlwiTm9uIGNvbmZvcm1pbmcgbmFtZXNwYWNlcy5cIixjb2RlOjl9fTtmdW5jdGlvbiBFdCh0LGUpe2NvbnN0e21lc3NhZ2U6bixjb2RlOnJ9PVFvW3RdO3JldHVybnttZXNzYWdlOmU/YCR7bn0gJHtlfWA6bixjb2RlOnJ9fWZ1bmN0aW9uIEt0KHQsZSl7Y29uc3R7bWVzc2FnZTpuLGNvZGU6cn09Sm9bdF07cmV0dXJue21lc3NhZ2U6ZT9gJHtufSAke2V9YDpuLGNvZGU6cn19ZnVuY3Rpb24gbWUodCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90eXBlb2YgZTxcInVcIiYmdC5sZW5ndGg/dC5ldmVyeShlKTohMDohMX1mdW5jdGlvbiBWZSh0KXtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT09T2JqZWN0LnByb3RvdHlwZSYmT2JqZWN0LmtleXModCkubGVuZ3RofWZ1bmN0aW9uIGt0KHQpe3JldHVybiB0eXBlb2YgdD5cInVcIn1mdW5jdGlvbiBpdCh0LGUpe3JldHVybiBlJiZrdCh0KT8hMDp0eXBlb2YgdD09XCJzdHJpbmdcIiYmISF0LnRyaW0oKS5sZW5ndGh9ZnVuY3Rpb24gcWUodCxlKXtyZXR1cm4gZSYma3QodCk/ITA6dHlwZW9mIHQ9PVwibnVtYmVyXCImJiFpc05hTih0KX1mdW5jdGlvbiB5YSh0LGUpe2NvbnN0e3JlcXVpcmVkTmFtZXNwYWNlczpufT1lLHI9T2JqZWN0LmtleXModC5uYW1lc3BhY2VzKSxvPU9iamVjdC5rZXlzKG4pO2xldCBzPSEwO3JldHVybiBJdChvLHIpPyhyLmZvckVhY2goaT0+e2NvbnN0e2FjY291bnRzOmYsbWV0aG9kczphLGV2ZW50czpsfT10Lm5hbWVzcGFjZXNbaV0sYz1xdChmKSx1PW5baV07KCFJdCh2ZShpLHUpLGMpfHwhSXQodS5tZXRob2RzLGEpfHwhSXQodS5ldmVudHMsbCkpJiYocz0hMSl9KSxzKTohMX1mdW5jdGlvbiB3ZSh0KXtyZXR1cm4gaXQodCwhMSkmJnQuaW5jbHVkZXMoXCI6XCIpP3Quc3BsaXQoXCI6XCIpLmxlbmd0aD09PTI6ITF9ZnVuY3Rpb24gdHModCl7aWYoaXQodCwhMSkmJnQuaW5jbHVkZXMoXCI6XCIpKXtjb25zdCBlPXQuc3BsaXQoXCI6XCIpO2lmKGUubGVuZ3RoPT09Myl7Y29uc3Qgbj1lWzBdK1wiOlwiK2VbMV07cmV0dXJuISFlWzJdJiZ3ZShuKX19cmV0dXJuITF9ZnVuY3Rpb24gbWEodCl7ZnVuY3Rpb24gZShuKXt0cnl7cmV0dXJuIHR5cGVvZiBuZXcgVVJMKG4pPFwidVwifWNhdGNoe3JldHVybiExfX10cnl7aWYoaXQodCwhMSkpe2lmKGUodCkpcmV0dXJuITA7Y29uc3Qgbj1RZSh0KTtyZXR1cm4gZShuKX19Y2F0Y2h7fXJldHVybiExfWZ1bmN0aW9uIHdhKHQpe3ZhciBlO3JldHVybihlPXQ/LnByb3Bvc2VyKT09bnVsbD92b2lkIDA6ZS5wdWJsaWNLZXl9ZnVuY3Rpb24geGEodCl7cmV0dXJuIHQ/LnRvcGljfWZ1bmN0aW9uIHZhKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gaXQodD8ucHVibGljS2V5LCExKXx8KG49RXQoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgJHtlfSBjb250cm9sbGVyIHB1YmxpYyBrZXkgc2hvdWxkIGJlIGEgc3RyaW5nYCkpLG59ZnVuY3Rpb24gSG4odCl7bGV0IGU9ITA7cmV0dXJuIG1lKHQpP3QubGVuZ3RoJiYoZT10LmV2ZXJ5KG49Pml0KG4sITEpKSk6ZT0hMSxlfWZ1bmN0aW9uIGVzKHQsZSxuKXtsZXQgcj1udWxsO3JldHVybiBtZShlKSYmZS5sZW5ndGg/ZS5mb3JFYWNoKG89PntyfHx3ZShvKXx8KHI9S3QoXCJVTlNVUFBPUlRFRF9DSEFJTlNcIixgJHtufSwgY2hhaW4gJHtvfSBzaG91bGQgYmUgYSBzdHJpbmcgYW5kIGNvbmZvcm0gdG8gXCJuYW1lc3BhY2U6Y2hhaW5JZFwiIGZvcm1hdGApKX0pOndlKHQpfHwocj1LdChcIlVOU1VQUE9SVEVEX0NIQUlOU1wiLGAke259LCBjaGFpbnMgbXVzdCBiZSBkZWZpbmVkIGFzIFwibmFtZXNwYWNlOmNoYWluSWRcIiBlLmcuIFwiZWlwMTU1OjFcIjogey4uLn0gaW4gdGhlIG5hbWVzcGFjZSBrZXkgT1IgYXMgYW4gYXJyYXkgb2YgQ0FJUC0yIGNoYWluSWRzIGUuZy4gZWlwMTU1OiB7IGNoYWluczogW1wiZWlwMTU1OjFcIiwgXCJlaXAxNTU6NVwiXSB9YCkpLHJ9ZnVuY3Rpb24gbnModCxlLG4pe2xldCByPW51bGw7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKFtvLHNdKT0+e2lmKHIpcmV0dXJuO2NvbnN0IGk9ZXMobyx2ZShvLHMpLGAke2V9ICR7bn1gKTtpJiYocj1pKX0pLHJ9ZnVuY3Rpb24gcnModCxlKXtsZXQgbj1udWxsO3JldHVybiBtZSh0KT90LmZvckVhY2gocj0+e258fHRzKHIpfHwobj1LdChcIlVOU1VQUE9SVEVEX0FDQ09VTlRTXCIsYCR7ZX0sIGFjY291bnQgJHtyfSBzaG91bGQgYmUgYSBzdHJpbmcgYW5kIGNvbmZvcm0gdG8gXCJuYW1lc3BhY2U6Y2hhaW5JZDphZGRyZXNzXCIgZm9ybWF0YCkpfSk6bj1LdChcIlVOU1VQUE9SVEVEX0FDQ09VTlRTXCIsYCR7ZX0sIGFjY291bnRzIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIGNvbmZvcm1pbmcgdG8gXCJuYW1lc3BhY2U6Y2hhaW5JZDphZGRyZXNzXCIgZm9ybWF0YCksbn1mdW5jdGlvbiBvcyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIE9iamVjdC52YWx1ZXModCkuZm9yRWFjaChyPT57aWYobilyZXR1cm47Y29uc3Qgbz1ycyhyPy5hY2NvdW50cyxgJHtlfSBuYW1lc3BhY2VgKTtvJiYobj1vKX0pLG59ZnVuY3Rpb24gc3ModCxlKXtsZXQgbj1udWxsO3JldHVybiBIbih0Py5tZXRob2RzKT9Ibih0Py5ldmVudHMpfHwobj1LdChcIlVOU1VQUE9SVEVEX0VWRU5UU1wiLGAke2V9LCBldmVudHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgZW1wdHkgYXJyYXkgZm9yIG5vIGV2ZW50c2ApKTpuPUt0KFwiVU5TVVBQT1JURURfTUVUSE9EU1wiLGAke2V9LCBtZXRob2RzIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIG9yIGVtcHR5IGFycmF5IGZvciBubyBtZXRob2RzYCksbn1mdW5jdGlvbiBEbih0LGUpe2xldCBuPW51bGw7cmV0dXJuIE9iamVjdC52YWx1ZXModCkuZm9yRWFjaChyPT57aWYobilyZXR1cm47Y29uc3Qgbz1zcyhyLGAke2V9LCBuYW1lc3BhY2VgKTtvJiYobj1vKX0pLG59ZnVuY3Rpb24gRWEodCxlLG4pe2xldCByPW51bGw7aWYodCYmVmUodCkpe2NvbnN0IG89RG4odCxlKTtvJiYocj1vKTtjb25zdCBzPW5zKHQsZSxuKTtzJiYocj1zKX1lbHNlIHI9RXQoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgJHtlfSwgJHtufSBzaG91bGQgYmUgYW4gb2JqZWN0IHdpdGggZGF0YWApO3JldHVybiByfWZ1bmN0aW9uIGlzKHQsZSl7bGV0IG49bnVsbDtpZih0JiZWZSh0KSl7Y29uc3Qgcj1Ebih0LGUpO3ImJihuPXIpO2NvbnN0IG89b3ModCxlKTtvJiYobj1vKX1lbHNlIG49RXQoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgJHtlfSwgbmFtZXNwYWNlcyBzaG91bGQgYmUgYW4gb2JqZWN0IHdpdGggZGF0YWApO3JldHVybiBufWZ1bmN0aW9uIGZzKHQpe3JldHVybiBpdCh0LnByb3RvY29sLCEwKX1mdW5jdGlvbiBCYSh0LGUpe2xldCBuPSExO3JldHVybiBlJiYhdD9uPSEwOnQmJm1lKHQpJiZ0Lmxlbmd0aCYmdC5mb3JFYWNoKHI9PntuPWZzKHIpfSksbn1mdW5jdGlvbiBJYSh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwibnVtYmVyXCJ9ZnVuY3Rpb24gQWEodCl7cmV0dXJuIHR5cGVvZiB0PFwidVwiJiZ0eXBlb2YgdCE9PW51bGx9ZnVuY3Rpb24gU2EodCl7cmV0dXJuISghdHx8dHlwZW9mIHQhPVwib2JqZWN0XCJ8fCF0LmNvZGV8fCFxZSh0LmNvZGUsITEpfHwhdC5tZXNzYWdlfHwhaXQodC5tZXNzYWdlLCExKSl9ZnVuY3Rpb24gTmEodCl7cmV0dXJuIShrdCh0KXx8IWl0KHQubWV0aG9kLCExKSl9ZnVuY3Rpb24gT2EodCl7cmV0dXJuIShrdCh0KXx8a3QodC5yZXN1bHQpJiZrdCh0LmVycm9yKXx8IXFlKHQuaWQsITEpfHwhaXQodC5qc29ucnBjLCExKSl9ZnVuY3Rpb24gVWEodCl7cmV0dXJuIShrdCh0KXx8IWl0KHQubmFtZSwhMSkpfWZ1bmN0aW9uIF9hKHQsZSl7cmV0dXJuISghd2UoZSl8fCFHbyh0KS5pbmNsdWRlcyhlKSl9ZnVuY3Rpb24gVGEodCxlLG4pe3JldHVybiBpdChuLCExKT9abyh0LGUpLmluY2x1ZGVzKG4pOiExfWZ1bmN0aW9uIFJhKHQsZSxuKXtyZXR1cm4gaXQobiwhMSk/V28odCxlKS5pbmNsdWRlcyhuKTohMX1mdW5jdGlvbiBjcyh0LGUsbil7bGV0IHI9bnVsbDtjb25zdCBvPSRhKHQpLHM9Q2EoZSksaT1PYmplY3Qua2V5cyhvKSxmPU9iamVjdC5rZXlzKHMpLGE9YXMoT2JqZWN0LmtleXModCkpLGw9YXMoT2JqZWN0LmtleXMoZSkpLGM9YS5maWx0ZXIodT0+IWwuaW5jbHVkZXModSkpO3JldHVybiBjLmxlbmd0aCYmKHI9RXQoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsYCR7bn0gbmFtZXNwYWNlcyBrZXlzIGRvbid0IHNhdGlzZnkgcmVxdWlyZWROYW1lc3BhY2VzLlxuICAgICAgUmVxdWlyZWQ6ICR7Yy50b1N0cmluZygpfVxuICAgICAgUmVjZWl2ZWQ6ICR7T2JqZWN0LmtleXMoZSkudG9TdHJpbmcoKX1gKSksSXQoaSxmKXx8KHI9RXQoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsYCR7bn0gbmFtZXNwYWNlcyBjaGFpbnMgZG9uJ3Qgc2F0aXNmeSByZXF1aXJlZCBuYW1lc3BhY2VzLlxuICAgICAgUmVxdWlyZWQ6ICR7aS50b1N0cmluZygpfVxuICAgICAgQXBwcm92ZWQ6ICR7Zi50b1N0cmluZygpfWApKSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKHU9PntpZighdS5pbmNsdWRlcyhcIjpcIil8fHIpcmV0dXJuO2NvbnN0IGg9cXQoZVt1XS5hY2NvdW50cyk7aC5pbmNsdWRlcyh1KXx8KHI9RXQoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsYCR7bn0gbmFtZXNwYWNlcyBhY2NvdW50cyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBhY2NvdW50cyBmb3IgJHt1fVxuICAgICAgICBSZXF1aXJlZDogJHt1fVxuICAgICAgICBBcHByb3ZlZDogJHtoLnRvU3RyaW5nKCl9YCkpfSksaS5mb3JFYWNoKHU9PntyfHwoSXQob1t1XS5tZXRob2RzLHNbdV0ubWV0aG9kcyk/SXQob1t1XS5ldmVudHMsc1t1XS5ldmVudHMpfHwocj1FdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGV2ZW50cyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBldmVudHMgZm9yICR7dX1gKSk6cj1FdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIG1ldGhvZHMgZG9uJ3Qgc2F0aXNmeSBuYW1lc3BhY2UgbWV0aG9kcyBmb3IgJHt1fWApKX0pLHJ9ZnVuY3Rpb24gJGEodCl7Y29uc3QgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChuPT57dmFyIHI7bi5pbmNsdWRlcyhcIjpcIik/ZVtuXT10W25dOihyPXRbbl0uY2hhaW5zKT09bnVsbHx8ci5mb3JFYWNoKG89PntlW29dPXttZXRob2RzOnRbbl0ubWV0aG9kcyxldmVudHM6dFtuXS5ldmVudHN9fSl9KSxlfWZ1bmN0aW9uIGFzKHQpe3JldHVyblsuLi5uZXcgU2V0KHQubWFwKGU9PmUuaW5jbHVkZXMoXCI6XCIpP2Uuc3BsaXQoXCI6XCIpWzBdOmUpKV19ZnVuY3Rpb24gQ2EodCl7Y29uc3QgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChuPT57aWYobi5pbmNsdWRlcyhcIjpcIikpZVtuXT10W25dO2Vsc2V7Y29uc3Qgcj1xdCh0W25dLmFjY291bnRzKTtyPy5mb3JFYWNoKG89PntlW29dPXthY2NvdW50czp0W25dLmFjY291bnRzLmZpbHRlcihzPT5zLmluY2x1ZGVzKGAke299OmApKSxtZXRob2RzOnRbbl0ubWV0aG9kcyxldmVudHM6dFtuXS5ldmVudHN9fSl9fSksZX1mdW5jdGlvbiBMYSh0LGUpe3JldHVybiBxZSh0LCExKSYmdDw9ZS5tYXgmJnQ+PWUubWlufWZ1bmN0aW9uIGphKCl7Y29uc3QgdD1QdCgpO3JldHVybiBuZXcgUHJvbWlzZShlPT57c3dpdGNoKHQpe2Nhc2UgSi5icm93c2VyOmUodXMoKSk7YnJlYWs7Y2FzZSBKLnJlYWN0TmF0aXZlOmUobHMoKSk7YnJlYWs7Y2FzZSBKLm5vZGU6ZShkcygpKTticmVhaztkZWZhdWx0OmUoITApfX0pfWZ1bmN0aW9uIHVzKCl7cmV0dXJuIHp0KCkmJm5hdmlnYXRvcj8ub25MaW5lfWFzeW5jIGZ1bmN0aW9uIGxzKCl7aWYoQnQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmZ2xvYmFsIT1udWxsJiZnbG9iYWwuTmV0SW5mbyl7Y29uc3QgdD1hd2FpdChnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5OZXRJbmZvLmZldGNoKCkpO3JldHVybiB0Py5pc0Nvbm5lY3RlZH1yZXR1cm4hMH1mdW5jdGlvbiBkcygpe3JldHVybiEwfWZ1bmN0aW9uIGthKHQpe3N3aXRjaChQdCgpKXtjYXNlIEouYnJvd3Nlcjpocyh0KTticmVhaztjYXNlIEoucmVhY3ROYXRpdmU6cHModCk7YnJlYWs7Y2FzZSBKLm5vZGU6YnJlYWt9fWZ1bmN0aW9uIGhzKHQpeyFCdCgpJiZ6dCgpJiYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwoKT0+dCghMCkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgpPT50KCExKSkpfWZ1bmN0aW9uIHBzKHQpe0J0KCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJmdsb2JhbCE9bnVsbCYmZ2xvYmFsLk5ldEluZm8mJmdsb2JhbD8uTmV0SW5mby5hZGRFdmVudExpc3RlbmVyKGU9PnQoZT8uaXNDb25uZWN0ZWQpKX1mdW5jdGlvbiBQYSgpe3ZhciB0O3JldHVybiB6dCgpJiZuZSgpPygodD1uZSgpKT09bnVsbD92b2lkIDA6dC52aXNpYmlsaXR5U3RhdGUpPT09XCJ2aXNpYmxlXCI6ITB9Y29uc3QgTW49e307Y2xhc3MgSGF7c3RhdGljIGdldChlKXtyZXR1cm4gTW5bZV19c3RhdGljIHNldChlLG4pe01uW2VdPW59c3RhdGljIGRlbGV0ZShlKXtkZWxldGUgTW5bZV19fWZ1bmN0aW9uIGdzKHQpe2NvbnN0IGU9cmUuZGVjb2RlKHQpO2lmKGUubGVuZ3RoPDMzKXRocm93IG5ldyBFcnJvcihcIlRvbyBzaG9ydCB0byBjb250YWluIGEgcHVibGljIGtleVwiKTtyZXR1cm4gZS5zbGljZSgxLDMzKX1mdW5jdGlvbiBicyh7cHVibGljS2V5OnQsc2lnbmF0dXJlOmUscGF5bG9hZDpufSl7dmFyIHI7Y29uc3Qgbz1WbihuLm1ldGhvZCkscz0xMjh8cGFyc2VJbnQoKChyPW4udmVyc2lvbik9PW51bGw/dm9pZCAwOnIudG9TdHJpbmcoKSl8fFwiNFwiKSxpPU1hKG4uYWRkcmVzcyksZj1uLmVyYT09PVwiMDBcIj9uZXcgVWludDhBcnJheShbMF0pOlZuKG4uZXJhKTtpZihmLmxlbmd0aCE9PTEmJmYubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVyYSBsZW5ndGhcIik7Y29uc3QgYT1wYXJzZUludChuLm5vbmNlLDE2KSxsPW5ldyBVaW50OEFycmF5KFthJjI1NSxhPj44JjI1NV0pLGM9QmlnSW50KGAweCR7RGEobi50aXApfWApLHU9cWEoYyksaD1uZXcgVWludDhBcnJheShbMCwuLi50LGksLi4uZSwuLi5mLC4uLmwsLi4udSwuLi5vXSksZz1WYShoLmxlbmd0aCsxKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWy4uLmcscywuLi5oXSl9ZnVuY3Rpb24geXModCl7Y29uc3QgZT1Wbih0KSxuPU5zKGUsdm9pZCAwLDMyKTtyZXR1cm5cIjB4XCIrQnVmZmVyLmZyb20obikudG9TdHJpbmcoXCJoZXhcIil9ZnVuY3Rpb24gVm4odCl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHQucmVwbGFjZSgvXjB4LyxcIlwiKS5tYXRjaCgvLnsxLDJ9L2cpLm1hcChlPT5wYXJzZUludChlLDE2KSkpfWZ1bmN0aW9uIERhKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoXCIweFwiKT90LnNsaWNlKDIpOnR9ZnVuY3Rpb24gTWEodCl7Y29uc3QgZT1yZS5kZWNvZGUodClbMF07cmV0dXJuIGU9PT00Mj8wOmU9PT02MD8yOjF9ZnVuY3Rpb24gVmEodCl7aWYodDw2NClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW3Q8PDJdKTtpZih0PDE2Mzg0KXtjb25zdCBlPXQ8PDJ8MTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW2UmMjU1LGU+PjgmMjU1XSl9ZWxzZSBpZih0PDE8PDMwKXtjb25zdCBlPXQ8PDJ8MjtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW2UmMjU1LGU+PjgmMjU1LGU+PjE2JjI1NSxlPj4yNCYyNTVdKX1lbHNlIHRocm93IG5ldyBFcnJvcihcIkNvbXBhY3QgZW5jb2RpbmcgPiAyXjMwIG5vdCBzdXBwb3J0ZWRcIil9ZnVuY3Rpb24gcWEodCl7aWYodDxCaWdJbnQoMSk8PEJpZ0ludCg2KSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW051bWJlcih0PDxCaWdJbnQoMikpXSk7aWYodDxCaWdJbnQoMSk8PEJpZ0ludCgxNCkpe2NvbnN0IGU9dDw8QmlnSW50KDIpfEJpZ0ludCgxKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW051bWJlcihlJkJpZ0ludCgyNTUpKSxOdW1iZXIoZT4+QmlnSW50KDgpJkJpZ0ludCgyNTUpKV0pfWVsc2UgaWYodDxCaWdJbnQoMSk8PEJpZ0ludCgzMCkpe2NvbnN0IGU9dDw8QmlnSW50KDIpfEJpZ0ludCgyKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW051bWJlcihlJkJpZ0ludCgyNTUpKSxOdW1iZXIoZT4+QmlnSW50KDgpJkJpZ0ludCgyNTUpKSxOdW1iZXIoZT4+QmlnSW50KDE2KSZCaWdJbnQoMjU1KSksTnVtYmVyKGU+PkJpZ0ludCgyNCkmQmlnSW50KDI1NSkpXSl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJCaWdJbnQgY29tcGFjdCBlbmNvZGluZyBub3Qgc3VwcG9ydGVkID4gMl4zMFwiKX1mdW5jdGlvbiBLYSh0KXtjb25zdCBlPVVpbnQ4QXJyYXkuZnJvbShCdWZmZXIuZnJvbSh0LnNpZ25hdHVyZSxcImhleFwiKSksbj1ncyh0LnRyYW5zYWN0aW9uLmFkZHJlc3MpLHI9YnMoe3B1YmxpY0tleTpuLHNpZ25hdHVyZTplLHBheWxvYWQ6dC50cmFuc2FjdGlvbn0pLG89QnVmZmVyLmZyb20ocikudG9TdHJpbmcoXCJoZXhcIik7cmV0dXJuIHlzKG8pfWV4cG9ydHskbiBhcyBCQVNFMTAsdHQgYXMgQkFTRTE2LFF0IGFzIEJBU0U2NCxEZSBhcyBCQVNFNjRVUkwsSHMgYXMgQ09MT04sV2UgYXMgREVGQVVMVF9ERVBUSCxFZSBhcyBFTVBUWV9TUEFDRSxKIGFzIEVOVl9NQVAsUW8gYXMgSU5URVJOQUxfRVJST1JTLGdpIGFzIExpbWl0ZWRTZXQsSGEgYXMgTWVtb3J5U3RvcmUsRHMgYXMgT05FX1RIT1VTQU5ELGVyIGFzIFJFQUNUX05BVElWRV9QUk9EVUNULE1vIGFzIFJFTEFZRVJfREVGQVVMVF9QUk9UT0NPTCxKbyBhcyBTREtfRVJST1JTLHJyIGFzIFNES19UWVBFLG5yIGFzIFNMQVNILENuIGFzIFRZUEVfMCxlZSBhcyBUWVBFXzEsZ2UgYXMgVFlQRV8yLHRlIGFzIFVURjgsWXIgYXMgYWRkUmVzb3VyY2VUb1JlY2FwLGJzIGFzIGFkZFNpZ25hdHVyZVRvRXh0cmluc2ljLG9yIGFzIGFwcGVuZFRvUXVlcnlTdHJpbmcsWnMgYXMgYXNzZXJ0VHlwZSxobiBhcyBhc3NpZ25BYmlsaXR5VG9BY3Rpb25zLFpyIGFzIGJhc2U2NERlY29kZSxHciBhcyBiYXNlNjRFbmNvZGUscGEgYXMgYnVpbGRBcHByb3ZlZE5hbWVzcGFjZXMsbWYgYXMgYnVpbGRBdXRoT2JqZWN0LGdhIGFzIGJ1aWxkTmFtZXNwYWNlc0Zyb21BdXRoLEpyIGFzIGJ1aWxkUmVjYXBTdGF0ZW1lbnQsS2EgYXMgYnVpbGRTaWduZWRFeHRyaW5zaWNIYXNoLGlpIGFzIGNhbGNFeHBpcnksdGkgYXMgY2FwaXRhbGl6ZSxsciBhcyBjYXBpdGFsaXplV29yZCxlaSBhcyBjcmVhdGVEZWxheWVkUHJvbWlzZSxFZiBhcyBjcmVhdGVFbmNvZGVkUmVjYXAsbmkgYXMgY3JlYXRlRXhwaXJpbmdQcm9taXNlLFdyIGFzIGNyZWF0ZVJlY2FwLEx0IGFzIGRlY29kZVJlY2FwLFZ0IGFzIGRlY29kZVR5cGVCeXRlLFljIGFzIGRlY29kZVR5cGVUd29FbnZlbG9wZSxaYyBhcyBkZWNyeXB0LHlzIGFzIGRlcml2ZUV4dHJpbnNpY0hhc2gsS2MgYXMgZGVyaXZlU3ltS2V5LE1lIGFzIGRlc2VyaWFsaXplLE5lIGFzIGVuY29kZVJlY2FwLGpuIGFzIGVuY29kZVR5cGVCeXRlLFdjIGFzIGVuY29kZVR5cGVUd29FbnZlbG9wZSxHYyBhcyBlbmNyeXB0LGNpIGFzIGVuZ2luZUV2ZW50LFFzIGFzIGVudW1pZnksc2YgYXMgZXh0cmFjdFNvbGFuYVRyYW5zYWN0aW9uSWQsWm4gYXMgZm9ybWF0QWNjb3VudElkLE9zIGFzIGZvcm1hdEFjY291bnRXaXRoQ2hhaW4sR24gYXMgZm9ybWF0Q2hhaW5JZCxkciBhcyBmb3JtYXREZWVwbGlua1VybCxYZSBhcyBmb3JtYXRFeHBpcmVyVGFyZ2V0LG9pIGFzIGZvcm1hdElkVGFyZ2V0LHFyIGFzIGZvcm1hdE1lc3NhZ2UsV3MgYXMgZm9ybWF0TWVzc2FnZUNvbnRleHQsS28gYXMgZm9ybWF0UmVsYXlQYXJhbXMsenMgYXMgZm9ybWF0UmVsYXlScGNVcmwsZ24gYXMgZm9ybWF0U3RhdGVtZW50RnJvbVJlY2FwLHJpIGFzIGZvcm1hdFRvcGljVGFyZ2V0LGNyIGFzIGZvcm1hdFVBLG9hIGFzIGZvcm1hdFVyaSxRZSBhcyBmcm9tQmFzZTY0LFZjIGFzIGdlbmVyYXRlS2V5UGFpcixxYyBhcyBnZW5lcmF0ZVJhbmRvbUJ5dGVzMzIscXQgYXMgZ2V0QWNjb3VudHNDaGFpbnMsX3MgYXMgZ2V0QWNjb3VudHNGcm9tTmFtZXNwYWNlcyxXbiBhcyBnZXRBZGRyZXNzRnJvbUFjY291bnQsVXMgYXMgZ2V0QWRkcmVzc2VzRnJvbUFjY291bnRzLGFmIGFzIGdldEFsZ29yYW5kVHJhbnNhY3Rpb25JZCxxcyBhcyBnZXRBcHBJZCxzciBhcyBnZXRBcHBNZXRhZGF0YSx1cyBhcyBnZXRCcm93c2VyT25saW5lU3RhdHVzLFluIGFzIGdldENoYWluRnJvbUFjY291bnQsWG4gYXMgZ2V0Q2hhaW5zRnJvbUFjY291bnRzLHZlIGFzIGdldENoYWluc0Zyb21OYW1lc3BhY2UsVHMgYXMgZ2V0Q2hhaW5zRnJvbU5hbWVzcGFjZXMsQWYgYXMgZ2V0Q2hhaW5zRnJvbVJlY2FwLFJzIGFzIGdldENoYWluc0Zyb21SZXF1aXJlZE5hbWVzcGFjZXMsSmUgYXMgZ2V0Q29tbW9uVmFsdWVzSW5BcnJheXMsRG8gYXMgZ2V0Q3J5cHRvS2V5RnJvbUtleURhdGEsS3IgYXMgZ2V0RGVjb2RlZFJlY2FwRnJvbVJlc291cmNlcyx1aSBhcyBnZXREZWVwTGluayxkbiBhcyBnZXREaWRBZGRyZXNzLFNlIGFzIGdldERpZEFkZHJlc3NTZWdtZW50cyxNciBhcyBnZXREaWRDaGFpbklkLFB0IGFzIGdldEVudmlyb25tZW50LEdzIGFzIGdldEh0dHBVcmwsRXQgYXMgZ2V0SW50ZXJuYWxFcnJvcixmciBhcyBnZXRKYXZhc2NyaXB0SUQsaXIgYXMgZ2V0SmF2YXNjcmlwdE9TLHVyIGFzIGdldExhc3RJdGVtcyxzYSBhcyBnZXRMaW5rTW9kZVVSTCxJZiBhcyBnZXRNZXRob2RzRnJvbVJlY2FwLFZyIGFzIGdldE5hbWVzcGFjZWREaWRDaGFpbklkLEdvIGFzIGdldE5hbWVzcGFjZXNDaGFpbnMsV28gYXMgZ2V0TmFtZXNwYWNlc0V2ZW50c0ZvckNoYWluSWQsWG8gYXMgZ2V0TmFtZXNwYWNlc0Zyb21BY2NvdW50cyxabyBhcyBnZXROYW1lc3BhY2VzTWV0aG9kc0ZvckNoYWluSWQsY2YgYXMgZ2V0TmVhclRyYW5zYWN0aW9uSWRGcm9tU2lnbmVkVHJhbnNhY3Rpb24sa3IgYXMgZ2V0TmVhclVpbnQ4QXJyYXlGcm9tQnl0ZXMsZHMgYXMgZ2V0Tm9kZU9ubGluZVN0YXR1cyx6ciBhcyBnZXRSZUNhcEFjdGlvbnMsbHMgYXMgZ2V0UmVhY3ROYXRpdmVPbmxpbmVTdGF0dXMsdmYgYXMgZ2V0UmVjYXBBYmlsaXRpZXNGcm9tUmVzb3VyY2UsT2UgYXMgZ2V0UmVjYXBGcm9tUmVzb3VyY2VzLEZyIGFzIGdldFJlY2FwUmVzb3VyY2UsRnMgYXMgZ2V0UmVsYXlDbGllbnRNZXRhZGF0YSxuYSBhcyBnZXRSZWxheVByb3RvY29sQXBpLGVhIGFzIGdldFJlbGF5UHJvdG9jb2xOYW1lLGhhIGFzIGdldFJlcXVpcmVkTmFtZXNwYWNlc0Zyb21OYW1lc3BhY2VzLEt0IGFzIGdldFNka0Vycm9yLGxpIGFzIGdldFNlYXJjaFBhcmFtRnJvbVVSTCx1ZiBhcyBnZXRTaWduRGlyZWN0SGFzaCxmZiBhcyBnZXRTdWlEaWdlc3QsR2UgYXMgZ2V0VW5pcXVlVmFsdWVzLGFpIGFzIGhhbmRsZURlZXBsaW5rUmVkaXJlY3QsSXQgYXMgaGFzT3ZlcmxhcCxhbiBhcyBoYXNoRXRoZXJldW1NZXNzYWdlLEZjIGFzIGhhc2hLZXksemMgYXMgaGFzaE1lc3NhZ2UsTXMgYXMgaXNBbmRyb2lkLFBhIGFzIGlzQXBwVmlzaWJsZSx6dCBhcyBpc0Jyb3dzZXIsUG4gYXMgaXNDYWlwTmFtZXNwYWNlLGNzIGFzIGlzQ29uZm9ybWluZ05hbWVzcGFjZXMsZmkgYXMgaXNFeHBpcmVkLGdyIGFzIGlzSWZyYW1lLFZzIGFzIGlzSW9zLFllIGFzIGlzTm9kZSxqYSBhcyBpc09ubGluZSx3YSBhcyBpc1Byb3Bvc2FsU3RydWN0LEJ0IGFzIGlzUmVhY3ROYXRpdmUscG4gYXMgaXNSZWNhcCx5YSBhcyBpc1Nlc3Npb25Db21wYXRpYmxlLHhhIGFzIGlzU2Vzc2lvblN0cnVjdCxwciBhcyBpc1RlbGVncmFtLGhpIGFzIGlzVGVzdFJ1bixKYyBhcyBpc1R5cGVPbmVFbnZlbG9wZSxRYyBhcyBpc1R5cGVUd29FbnZlbG9wZSxrdCBhcyBpc1VuZGVmaW5lZCx0cyBhcyBpc1ZhbGlkQWNjb3VudElkLHJzIGFzIGlzVmFsaWRBY2NvdW50cyxzcyBhcyBpc1ZhbGlkQWN0aW9ucyxtZSBhcyBpc1ZhbGlkQXJyYXksd2UgYXMgaXNWYWxpZENoYWluSWQsZXMgYXMgaXNWYWxpZENoYWlucyx2YSBhcyBpc1ZhbGlkQ29udHJvbGxlcixqciBhcyBpc1ZhbGlkRWlwMTI3MVNpZ25hdHVyZSxMciBhcyBpc1ZhbGlkRWlwMTkxU2lnbmF0dXJlLFNhIGFzIGlzVmFsaWRFcnJvclJlYXNvbixVYSBhcyBpc1ZhbGlkRXZlbnQsSWEgYXMgaXNWYWxpZElkLG9zIGFzIGlzVmFsaWROYW1lc3BhY2VBY2NvdW50cyxEbiBhcyBpc1ZhbGlkTmFtZXNwYWNlQWN0aW9ucyxucyBhcyBpc1ZhbGlkTmFtZXNwYWNlQ2hhaW5zLEhuIGFzIGlzVmFsaWROYW1lc3BhY2VNZXRob2RzT3JFdmVudHMsaXMgYXMgaXNWYWxpZE5hbWVzcGFjZXMsX2EgYXMgaXNWYWxpZE5hbWVzcGFjZXNDaGFpbklkLFJhIGFzIGlzVmFsaWROYW1lc3BhY2VzRXZlbnQsVGEgYXMgaXNWYWxpZE5hbWVzcGFjZXNSZXF1ZXN0LHFlIGFzIGlzVmFsaWROdW1iZXIsVmUgYXMgaXNWYWxpZE9iamVjdCxBYSBhcyBpc1ZhbGlkUGFyYW1zLGJ0IGFzIGlzVmFsaWRSZWNhcCxmcyBhcyBpc1ZhbGlkUmVsYXksQmEgYXMgaXNWYWxpZFJlbGF5cyxOYSBhcyBpc1ZhbGlkUmVxdWVzdCxMYSBhcyBpc1ZhbGlkUmVxdWVzdEV4cGlyeSxFYSBhcyBpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzLE9hIGFzIGlzVmFsaWRSZXNwb25zZSxpdCBhcyBpc1ZhbGlkU3RyaW5nLG1hIGFzIGlzVmFsaWRVcmwsSnMgYXMgbWFwRW50cmllcyxZcyBhcyBtYXBUb09iaixjdCBhcyBtZXJnZUFycmF5cyxCZiBhcyBtZXJnZUVuY29kZWRSZWNhcHMsWHIgYXMgbWVyZ2VSZWNhcHMsYmEgYXMgbWVyZ2VSZXF1aXJlZEFuZE9wdGlvbmFsTmFtZXNwYWNlcyx5ZSBhcyBub3JtYWxpemVOYW1lc3BhY2VzLFhzIGFzIG9ialRvTWFwLGhyIGFzIG9wZW5EZWVwbGluayx6ZSBhcyBwYXJzZUFjY291bnRJZCxGZSBhcyBwYXJzZUNoYWluSWQsYXIgYXMgcGFyc2VDb250ZXh0TmFtZXMsc2kgYXMgcGFyc2VFeHBpcmVyVGFyZ2V0LFlvIGFzIHBhcnNlTmFtZXNwYWNlS2V5LFZvIGFzIHBhcnNlUmVsYXlQYXJhbXMscW8gYXMgcGFyc2VUb3BpYyxyYSBhcyBwYXJzZVVyaSxLcyBhcyBwb3B1bGF0ZUFwcE1ldGFkYXRhLHdmIGFzIHBvcHVsYXRlQXV0aFBheWxvYWQseGYgYXMgcmVjYXBIYXNSZXNvdXJjZSxrbiBhcyBzZXJpYWxpemUscGkgYXMgc2xlZXAsZ3MgYXMgc3M1OEFkZHJlc3NUb1B1YmxpY0tleSxocyBhcyBzdWJzY3JpYmVUb0Jyb3dzZXJOZXR3b3JrQ2hhbmdlLGthIGFzIHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSxwcyBhcyBzdWJzY3JpYmVUb1JlYWN0TmF0aXZlTmV0d29ya0NoYW5nZSxiciBhcyB0b0Jhc2U2NCxkaSBhcyB1dWlkdjQsWGMgYXMgdmFsaWRhdGVEZWNvZGluZyxIbyBhcyB2YWxpZGF0ZUVuY29kaW5nLHlmIGFzIHZhbGlkYXRlU2lnbmVkQ2FjYW8sdGEgYXMgdmVyaWZ5UDI1Nkp3dCxDciBhcyB2ZXJpZnlTaWduYXR1cmV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/window-getters/dist/cjs/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getLocalStorage = exports.getLocalStorageOrThrow = exports.getCrypto = exports.getCryptoOrThrow = exports.getLocation = exports.getLocationOrThrow = exports.getNavigator = exports.getNavigatorOrThrow = exports.getDocument = exports.getDocumentOrThrow = exports.getFromWindowOrThrow = exports.getFromWindow = void 0;\nfunction getFromWindow(name) {\n    let res = undefined;\n    if (typeof window !== \"undefined\" && typeof window[name] !== \"undefined\") {\n        res = window[name];\n    }\n    return res;\n}\nexports.getFromWindow = getFromWindow;\nfunction getFromWindowOrThrow(name) {\n    const res = getFromWindow(name);\n    if (!res) {\n        throw new Error(`${name} is not defined in Window`);\n    }\n    return res;\n}\nexports.getFromWindowOrThrow = getFromWindowOrThrow;\nfunction getDocumentOrThrow() {\n    return getFromWindowOrThrow(\"document\");\n}\nexports.getDocumentOrThrow = getDocumentOrThrow;\nfunction getDocument() {\n    return getFromWindow(\"document\");\n}\nexports.getDocument = getDocument;\nfunction getNavigatorOrThrow() {\n    return getFromWindowOrThrow(\"navigator\");\n}\nexports.getNavigatorOrThrow = getNavigatorOrThrow;\nfunction getNavigator() {\n    return getFromWindow(\"navigator\");\n}\nexports.getNavigator = getNavigator;\nfunction getLocationOrThrow() {\n    return getFromWindowOrThrow(\"location\");\n}\nexports.getLocationOrThrow = getLocationOrThrow;\nfunction getLocation() {\n    return getFromWindow(\"location\");\n}\nexports.getLocation = getLocation;\nfunction getCryptoOrThrow() {\n    return getFromWindowOrThrow(\"crypto\");\n}\nexports.getCryptoOrThrow = getCryptoOrThrow;\nfunction getCrypto() {\n    return getFromWindow(\"crypto\");\n}\nexports.getCrypto = getCrypto;\nfunction getLocalStorageOrThrow() {\n    return getFromWindowOrThrow(\"localStorage\");\n}\nexports.getLocalStorageOrThrow = getLocalStorageOrThrow;\nfunction getLocalStorage() {\n    return getFromWindow(\"localStorage\");\n}\nexports.getLocalStorage = getLocalStorage;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnMvZGlzdC9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsOEJBQThCLEdBQUcsaUJBQWlCLEdBQUcsd0JBQXdCLEdBQUcsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcsb0JBQW9CLEdBQUcsMkJBQTJCLEdBQUcsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcsNEJBQTRCLEdBQUcscUJBQXFCO0FBQ3pUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixNQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnMvZGlzdC9janMvaW5kZXguanM/NDc2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0TG9jYWxTdG9yYWdlID0gZXhwb3J0cy5nZXRMb2NhbFN0b3JhZ2VPclRocm93ID0gZXhwb3J0cy5nZXRDcnlwdG8gPSBleHBvcnRzLmdldENyeXB0b09yVGhyb3cgPSBleHBvcnRzLmdldExvY2F0aW9uID0gZXhwb3J0cy5nZXRMb2NhdGlvbk9yVGhyb3cgPSBleHBvcnRzLmdldE5hdmlnYXRvciA9IGV4cG9ydHMuZ2V0TmF2aWdhdG9yT3JUaHJvdyA9IGV4cG9ydHMuZ2V0RG9jdW1lbnQgPSBleHBvcnRzLmdldERvY3VtZW50T3JUaHJvdyA9IGV4cG9ydHMuZ2V0RnJvbVdpbmRvd09yVGhyb3cgPSBleHBvcnRzLmdldEZyb21XaW5kb3cgPSB2b2lkIDA7XG5mdW5jdGlvbiBnZXRGcm9tV2luZG93KG5hbWUpIHtcbiAgICBsZXQgcmVzID0gdW5kZWZpbmVkO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB3aW5kb3dbbmFtZV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmVzID0gd2luZG93W25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5nZXRGcm9tV2luZG93ID0gZ2V0RnJvbVdpbmRvdztcbmZ1bmN0aW9uIGdldEZyb21XaW5kb3dPclRocm93KG5hbWUpIHtcbiAgICBjb25zdCByZXMgPSBnZXRGcm9tV2luZG93KG5hbWUpO1xuICAgIGlmICghcmVzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtuYW1lfSBpcyBub3QgZGVmaW5lZCBpbiBXaW5kb3dgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydHMuZ2V0RnJvbVdpbmRvd09yVGhyb3cgPSBnZXRGcm9tV2luZG93T3JUaHJvdztcbmZ1bmN0aW9uIGdldERvY3VtZW50T3JUaHJvdygpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvd09yVGhyb3coXCJkb2N1bWVudFwiKTtcbn1cbmV4cG9ydHMuZ2V0RG9jdW1lbnRPclRocm93ID0gZ2V0RG9jdW1lbnRPclRocm93O1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3coXCJkb2N1bWVudFwiKTtcbn1cbmV4cG9ydHMuZ2V0RG9jdW1lbnQgPSBnZXREb2N1bWVudDtcbmZ1bmN0aW9uIGdldE5hdmlnYXRvck9yVGhyb3coKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3dPclRocm93KFwibmF2aWdhdG9yXCIpO1xufVxuZXhwb3J0cy5nZXROYXZpZ2F0b3JPclRocm93ID0gZ2V0TmF2aWdhdG9yT3JUaHJvdztcbmZ1bmN0aW9uIGdldE5hdmlnYXRvcigpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvdyhcIm5hdmlnYXRvclwiKTtcbn1cbmV4cG9ydHMuZ2V0TmF2aWdhdG9yID0gZ2V0TmF2aWdhdG9yO1xuZnVuY3Rpb24gZ2V0TG9jYXRpb25PclRocm93KCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93T3JUaHJvdyhcImxvY2F0aW9uXCIpO1xufVxuZXhwb3J0cy5nZXRMb2NhdGlvbk9yVGhyb3cgPSBnZXRMb2NhdGlvbk9yVGhyb3c7XG5mdW5jdGlvbiBnZXRMb2NhdGlvbigpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvdyhcImxvY2F0aW9uXCIpO1xufVxuZXhwb3J0cy5nZXRMb2NhdGlvbiA9IGdldExvY2F0aW9uO1xuZnVuY3Rpb24gZ2V0Q3J5cHRvT3JUaHJvdygpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvd09yVGhyb3coXCJjcnlwdG9cIik7XG59XG5leHBvcnRzLmdldENyeXB0b09yVGhyb3cgPSBnZXRDcnlwdG9PclRocm93O1xuZnVuY3Rpb24gZ2V0Q3J5cHRvKCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93KFwiY3J5cHRvXCIpO1xufVxuZXhwb3J0cy5nZXRDcnlwdG8gPSBnZXRDcnlwdG87XG5mdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2VPclRocm93KCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93T3JUaHJvdyhcImxvY2FsU3RvcmFnZVwiKTtcbn1cbmV4cG9ydHMuZ2V0TG9jYWxTdG9yYWdlT3JUaHJvdyA9IGdldExvY2FsU3RvcmFnZU9yVGhyb3c7XG5mdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UoKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3coXCJsb2NhbFN0b3JhZ2VcIik7XG59XG5leHBvcnRzLmdldExvY2FsU3RvcmFnZSA9IGdldExvY2FsU3RvcmFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/window-metadata/dist/cjs/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getWindowMetadata = void 0;\nconst window_getters_1 = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nfunction getWindowMetadata() {\n    let doc;\n    let loc;\n    try {\n        doc = window_getters_1.getDocumentOrThrow();\n        loc = window_getters_1.getLocationOrThrow();\n    }\n    catch (e) {\n        return null;\n    }\n    function getIcons() {\n        const links = doc.getElementsByTagName(\"link\");\n        const icons = [];\n        for (let i = 0; i < links.length; i++) {\n            const link = links[i];\n            const rel = link.getAttribute(\"rel\");\n            if (rel) {\n                if (rel.toLowerCase().indexOf(\"icon\") > -1) {\n                    const href = link.getAttribute(\"href\");\n                    if (href) {\n                        if (href.toLowerCase().indexOf(\"https:\") === -1 &&\n                            href.toLowerCase().indexOf(\"http:\") === -1 &&\n                            href.indexOf(\"//\") !== 0) {\n                            let absoluteHref = loc.protocol + \"//\" + loc.host;\n                            if (href.indexOf(\"/\") === 0) {\n                                absoluteHref += href;\n                            }\n                            else {\n                                const path = loc.pathname.split(\"/\");\n                                path.pop();\n                                const finalPath = path.join(\"/\");\n                                absoluteHref += finalPath + \"/\" + href;\n                            }\n                            icons.push(absoluteHref);\n                        }\n                        else if (href.indexOf(\"//\") === 0) {\n                            const absoluteUrl = loc.protocol + href;\n                            icons.push(absoluteUrl);\n                        }\n                        else {\n                            icons.push(href);\n                        }\n                    }\n                }\n            }\n        }\n        return icons;\n    }\n    function getWindowMetadataOfAny(...args) {\n        const metaTags = doc.getElementsByTagName(\"meta\");\n        for (let i = 0; i < metaTags.length; i++) {\n            const tag = metaTags[i];\n            const attributes = [\"itemprop\", \"property\", \"name\"]\n                .map((target) => tag.getAttribute(target))\n                .filter((attr) => {\n                if (attr) {\n                    return args.includes(attr);\n                }\n                return false;\n            });\n            if (attributes.length && attributes) {\n                const content = tag.getAttribute(\"content\");\n                if (content) {\n                    return content;\n                }\n            }\n        }\n        return \"\";\n    }\n    function getName() {\n        let name = getWindowMetadataOfAny(\"name\", \"og:site_name\", \"og:title\", \"twitter:title\");\n        if (!name) {\n            name = doc.title;\n        }\n        return name;\n    }\n    function getDescription() {\n        const description = getWindowMetadataOfAny(\"description\", \"og:description\", \"twitter:description\", \"keywords\");\n        return description;\n    }\n    const name = getName();\n    const description = getDescription();\n    const url = loc.origin;\n    const icons = getIcons();\n    const meta = {\n        description,\n        url,\n        icons,\n        name,\n    };\n    return meta;\n}\nexports.getWindowMetadata = getWindowMetadata;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvd2luZG93LW1ldGFkYXRhL2Rpc3QvY2pzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6Qix5QkFBeUIsbUJBQU8sQ0FBQywyR0FBK0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3dpbmRvdy1tZXRhZGF0YS9kaXN0L2Nqcy9pbmRleC5qcz83OTE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRXaW5kb3dNZXRhZGF0YSA9IHZvaWQgMDtcbmNvbnN0IHdpbmRvd19nZXR0ZXJzXzEgPSByZXF1aXJlKFwiQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnNcIik7XG5mdW5jdGlvbiBnZXRXaW5kb3dNZXRhZGF0YSgpIHtcbiAgICBsZXQgZG9jO1xuICAgIGxldCBsb2M7XG4gICAgdHJ5IHtcbiAgICAgICAgZG9jID0gd2luZG93X2dldHRlcnNfMS5nZXREb2N1bWVudE9yVGhyb3coKTtcbiAgICAgICAgbG9jID0gd2luZG93X2dldHRlcnNfMS5nZXRMb2NhdGlvbk9yVGhyb3coKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEljb25zKCkge1xuICAgICAgICBjb25zdCBsaW5rcyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpbmtcIik7XG4gICAgICAgIGNvbnN0IGljb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBsaW5rc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlbCA9IGxpbmsuZ2V0QXR0cmlidXRlKFwicmVsXCIpO1xuICAgICAgICAgICAgaWYgKHJlbCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaWNvblwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhyZWYgPSBsaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChocmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJodHRwczpcIikgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJodHRwOlwiKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmLmluZGV4T2YoXCIvL1wiKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhYnNvbHV0ZUhyZWYgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2MuaG9zdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZi5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYnNvbHV0ZUhyZWYgKz0gaHJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBsb2MucGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFBhdGggPSBwYXRoLmpvaW4oXCIvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYnNvbHV0ZUhyZWYgKz0gZmluYWxQYXRoICsgXCIvXCIgKyBocmVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29ucy5wdXNoKGFic29sdXRlSHJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChocmVmLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFic29sdXRlVXJsID0gbG9jLnByb3RvY29sICsgaHJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29ucy5wdXNoKGFic29sdXRlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25zLnB1c2goaHJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGljb25zO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRXaW5kb3dNZXRhZGF0YU9mQW55KC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgbWV0YVRhZ3MgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJtZXRhXCIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1ldGFUYWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSBtZXRhVGFnc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXCJpdGVtcHJvcFwiLCBcInByb3BlcnR5XCIsIFwibmFtZVwiXVxuICAgICAgICAgICAgICAgIC5tYXAoKHRhcmdldCkgPT4gdGFnLmdldEF0dHJpYnV0ZSh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGF0dHIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJncy5pbmNsdWRlcyhhdHRyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5sZW5ndGggJiYgYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0YWcuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5hbWUoKSB7XG4gICAgICAgIGxldCBuYW1lID0gZ2V0V2luZG93TWV0YWRhdGFPZkFueShcIm5hbWVcIiwgXCJvZzpzaXRlX25hbWVcIiwgXCJvZzp0aXRsZVwiLCBcInR3aXR0ZXI6dGl0bGVcIik7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGRvYy50aXRsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZ2V0V2luZG93TWV0YWRhdGFPZkFueShcImRlc2NyaXB0aW9uXCIsIFwib2c6ZGVzY3JpcHRpb25cIiwgXCJ0d2l0dGVyOmRlc2NyaXB0aW9uXCIsIFwia2V5d29yZHNcIik7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgY29uc3QgbmFtZSA9IGdldE5hbWUoKTtcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGdldERlc2NyaXB0aW9uKCk7XG4gICAgY29uc3QgdXJsID0gbG9jLm9yaWdpbjtcbiAgICBjb25zdCBpY29ucyA9IGdldEljb25zKCk7XG4gICAgY29uc3QgbWV0YSA9IHtcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHVybCxcbiAgICAgICAgaWNvbnMsXG4gICAgICAgIG5hbWUsXG4gICAgfTtcbiAgICByZXR1cm4gbWV0YTtcbn1cbmV4cG9ydHMuZ2V0V2luZG93TWV0YWRhdGEgPSBnZXRXaW5kb3dNZXRhZGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/index.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@walletconnect/core/node_modules/unstorage/dist/index.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   builtinDrivers: () => (/* binding */ builtinDrivers),\n/* harmony export */   createStorage: () => (/* binding */ createStorage),\n/* harmony export */   defineDriver: () => (/* binding */ defineDriver),\n/* harmony export */   filterKeyByBase: () => (/* reexport safe */ _shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   filterKeyByDepth: () => (/* reexport safe */ _shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   joinKeys: () => (/* reexport safe */ _shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   normalizeBaseKey: () => (/* reexport safe */ _shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   normalizeKey: () => (/* reexport safe */ _shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   prefixStorage: () => (/* reexport safe */ _shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   restoreSnapshot: () => (/* binding */ restoreSnapshot),\n/* harmony export */   snapshot: () => (/* binding */ snapshot)\n/* harmony export */ });\n/* harmony import */ var destr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! destr */ \"(ssr)/./node_modules/destr/dist/index.mjs\");\n/* harmony import */ var _shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared/unstorage.CoCt7NXC.mjs */ \"(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/shared/unstorage.CoCt7NXC.mjs\");\n\n\n\n\nfunction defineDriver(factory) {\n  return factory;\n}\n\nconst DRIVER_NAME = \"memory\";\nconst memory = defineDriver(() => {\n  const data = /* @__PURE__ */ new Map();\n  return {\n    name: DRIVER_NAME,\n    getInstance: () => data,\n    hasItem(key) {\n      return data.has(key);\n    },\n    getItem(key) {\n      return data.get(key) ?? null;\n    },\n    getItemRaw(key) {\n      return data.get(key) ?? null;\n    },\n    setItem(key, value) {\n      data.set(key, value);\n    },\n    setItemRaw(key, value) {\n      data.set(key, value);\n    },\n    removeItem(key) {\n      data.delete(key);\n    },\n    getKeys() {\n      return [...data.keys()];\n    },\n    clear() {\n      data.clear();\n    },\n    dispose() {\n      data.clear();\n    }\n  };\n});\n\nfunction createStorage(options = {}) {\n  const context = {\n    mounts: { \"\": options.driver || memory() },\n    mountpoints: [\"\"],\n    watching: false,\n    watchListeners: [],\n    unwatch: {}\n  };\n  const getMount = (key) => {\n    for (const base of context.mountpoints) {\n      if (key.startsWith(base)) {\n        return {\n          base,\n          relativeKey: key.slice(base.length),\n          driver: context.mounts[base]\n        };\n      }\n    }\n    return {\n      base: \"\",\n      relativeKey: key,\n      driver: context.mounts[\"\"]\n    };\n  };\n  const getMounts = (base, includeParent) => {\n    return context.mountpoints.filter(\n      (mountpoint) => mountpoint.startsWith(base) || includeParent && base.startsWith(mountpoint)\n    ).map((mountpoint) => ({\n      relativeBase: base.length > mountpoint.length ? base.slice(mountpoint.length) : void 0,\n      mountpoint,\n      driver: context.mounts[mountpoint]\n    }));\n  };\n  const onChange = (event, key) => {\n    if (!context.watching) {\n      return;\n    }\n    key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n    for (const listener of context.watchListeners) {\n      listener(event, key);\n    }\n  };\n  const startWatch = async () => {\n    if (context.watching) {\n      return;\n    }\n    context.watching = true;\n    for (const mountpoint in context.mounts) {\n      context.unwatch[mountpoint] = await watch(\n        context.mounts[mountpoint],\n        onChange,\n        mountpoint\n      );\n    }\n  };\n  const stopWatch = async () => {\n    if (!context.watching) {\n      return;\n    }\n    for (const mountpoint in context.unwatch) {\n      await context.unwatch[mountpoint]();\n    }\n    context.unwatch = {};\n    context.watching = false;\n  };\n  const runBatch = (items, commonOptions, cb) => {\n    const batches = /* @__PURE__ */ new Map();\n    const getBatch = (mount) => {\n      let batch = batches.get(mount.base);\n      if (!batch) {\n        batch = {\n          driver: mount.driver,\n          base: mount.base,\n          items: []\n        };\n        batches.set(mount.base, batch);\n      }\n      return batch;\n    };\n    for (const item of items) {\n      const isStringItem = typeof item === \"string\";\n      const key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(isStringItem ? item : item.key);\n      const value = isStringItem ? void 0 : item.value;\n      const options2 = isStringItem || !item.options ? commonOptions : { ...commonOptions, ...item.options };\n      const mount = getMount(key);\n      getBatch(mount).items.push({\n        key,\n        value,\n        relativeKey: mount.relativeKey,\n        options: options2\n      });\n    }\n    return Promise.all([...batches.values()].map((batch) => cb(batch))).then(\n      (r) => r.flat()\n    );\n  };\n  const storage = {\n    // Item\n    hasItem(key, opts = {}) {\n      key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.hasItem, relativeKey, opts);\n    },\n    getItem(key, opts = {}) {\n      key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItem, relativeKey, opts).then(\n        (value) => (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)\n      );\n    },\n    getItems(items, commonOptions = {}) {\n      return runBatch(items, commonOptions, (batch) => {\n        if (batch.driver.getItems) {\n          return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n            batch.driver.getItems,\n            batch.items.map((item) => ({\n              key: item.relativeKey,\n              options: item.options\n            })),\n            commonOptions\n          ).then(\n            (r) => r.map((item) => ({\n              key: (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(batch.base, item.key),\n              value: (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(item.value)\n            }))\n          );\n        }\n        return Promise.all(\n          batch.items.map((item) => {\n            return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n              batch.driver.getItem,\n              item.relativeKey,\n              item.options\n            ).then((value) => ({\n              key: item.key,\n              value: (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)\n            }));\n          })\n        );\n      });\n    },\n    getItemRaw(key, opts = {}) {\n      key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (driver.getItemRaw) {\n        return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItemRaw, relativeKey, opts);\n      }\n      return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getItem, relativeKey, opts).then(\n        (value) => (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.e)(value)\n      );\n    },\n    async setItem(key, value, opts = {}) {\n      if (value === void 0) {\n        return storage.removeItem(key);\n      }\n      key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (!driver.setItem) {\n        return;\n      }\n      await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItem, relativeKey, (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(value), opts);\n      if (!driver.watch) {\n        onChange(\"update\", key);\n      }\n    },\n    async setItems(items, commonOptions) {\n      await runBatch(items, commonOptions, async (batch) => {\n        if (batch.driver.setItems) {\n          return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n            batch.driver.setItems,\n            batch.items.map((item) => ({\n              key: item.relativeKey,\n              value: (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(item.value),\n              options: item.options\n            })),\n            commonOptions\n          );\n        }\n        if (!batch.driver.setItem) {\n          return;\n        }\n        await Promise.all(\n          batch.items.map((item) => {\n            return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n              batch.driver.setItem,\n              item.relativeKey,\n              (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(item.value),\n              item.options\n            );\n          })\n        );\n      });\n    },\n    async setItemRaw(key, value, opts = {}) {\n      if (value === void 0) {\n        return storage.removeItem(key, opts);\n      }\n      key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (driver.setItemRaw) {\n        await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItemRaw, relativeKey, value, opts);\n      } else if (driver.setItem) {\n        await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.setItem, relativeKey, (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(value), opts);\n      } else {\n        return;\n      }\n      if (!driver.watch) {\n        onChange(\"update\", key);\n      }\n    },\n    async removeItem(key, opts = {}) {\n      if (typeof opts === \"boolean\") {\n        opts = { removeMeta: opts };\n      }\n      key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      if (!driver.removeItem) {\n        return;\n      }\n      await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.removeItem, relativeKey, opts);\n      if (opts.removeMeta || opts.removeMata) {\n        await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.removeItem, relativeKey + \"$\", opts);\n      }\n      if (!driver.watch) {\n        onChange(\"remove\", key);\n      }\n    },\n    // Meta\n    async getMeta(key, opts = {}) {\n      if (typeof opts === \"boolean\") {\n        opts = { nativeOnly: opts };\n      }\n      key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n      const { relativeKey, driver } = getMount(key);\n      const meta = /* @__PURE__ */ Object.create(null);\n      if (driver.getMeta) {\n        Object.assign(meta, await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.getMeta, relativeKey, opts));\n      }\n      if (!opts.nativeOnly) {\n        const value = await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n          driver.getItem,\n          relativeKey + \"$\",\n          opts\n        ).then((value_) => (0,destr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value_));\n        if (value && typeof value === \"object\") {\n          if (typeof value.atime === \"string\") {\n            value.atime = new Date(value.atime);\n          }\n          if (typeof value.mtime === \"string\") {\n            value.mtime = new Date(value.mtime);\n          }\n          Object.assign(meta, value);\n        }\n      }\n      return meta;\n    },\n    setMeta(key, value, opts = {}) {\n      return this.setItem(key + \"$\", value, opts);\n    },\n    removeMeta(key, opts = {}) {\n      return this.removeItem(key + \"$\", opts);\n    },\n    // Keys\n    async getKeys(base, opts = {}) {\n      base = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      const mounts = getMounts(base, true);\n      let maskedMounts = [];\n      const allKeys = [];\n      let allMountsSupportMaxDepth = true;\n      for (const mount of mounts) {\n        if (!mount.driver.flags?.maxDepth) {\n          allMountsSupportMaxDepth = false;\n        }\n        const rawKeys = await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(\n          mount.driver.getKeys,\n          mount.relativeBase,\n          opts\n        );\n        for (const key of rawKeys) {\n          const fullKey = mount.mountpoint + (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key);\n          if (!maskedMounts.some((p) => fullKey.startsWith(p))) {\n            allKeys.push(fullKey);\n          }\n        }\n        maskedMounts = [\n          mount.mountpoint,\n          ...maskedMounts.filter((p) => !p.startsWith(mount.mountpoint))\n        ];\n      }\n      const shouldFilterByDepth = opts.maxDepth !== void 0 && !allMountsSupportMaxDepth;\n      return allKeys.filter(\n        (key) => (!shouldFilterByDepth || (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(key, opts.maxDepth)) && (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(key, base)\n      );\n    },\n    // Utils\n    async clear(base, opts = {}) {\n      base = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      await Promise.all(\n        getMounts(base, false).map(async (m) => {\n          if (m.driver.clear) {\n            return (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(m.driver.clear, m.relativeBase, opts);\n          }\n          if (m.driver.removeItem) {\n            const keys = await m.driver.getKeys(m.relativeBase || \"\", opts);\n            return Promise.all(\n              keys.map((key) => m.driver.removeItem(key, opts))\n            );\n          }\n        })\n      );\n    },\n    async dispose() {\n      await Promise.all(\n        Object.values(context.mounts).map((driver) => dispose(driver))\n      );\n    },\n    async watch(callback) {\n      await startWatch();\n      context.watchListeners.push(callback);\n      return async () => {\n        context.watchListeners = context.watchListeners.filter(\n          (listener) => listener !== callback\n        );\n        if (context.watchListeners.length === 0) {\n          await stopWatch();\n        }\n      };\n    },\n    async unwatch() {\n      context.watchListeners = [];\n      await stopWatch();\n    },\n    // Mount\n    mount(base, driver) {\n      base = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      if (base && context.mounts[base]) {\n        throw new Error(`already mounted at ${base}`);\n      }\n      if (base) {\n        context.mountpoints.push(base);\n        context.mountpoints.sort((a, b) => b.length - a.length);\n      }\n      context.mounts[base] = driver;\n      if (context.watching) {\n        Promise.resolve(watch(driver, onChange, base)).then((unwatcher) => {\n          context.unwatch[base] = unwatcher;\n        }).catch(console.error);\n      }\n      return storage;\n    },\n    async unmount(base, _dispose = true) {\n      base = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n      if (!base || !context.mounts[base]) {\n        return;\n      }\n      if (context.watching && base in context.unwatch) {\n        context.unwatch[base]?.();\n        delete context.unwatch[base];\n      }\n      if (_dispose) {\n        await dispose(context.mounts[base]);\n      }\n      context.mountpoints = context.mountpoints.filter((key) => key !== base);\n      delete context.mounts[base];\n    },\n    getMount(key = \"\") {\n      key = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(key) + \":\";\n      const m = getMount(key);\n      return {\n        driver: m.driver,\n        base: m.base\n      };\n    },\n    getMounts(base = \"\", opts = {}) {\n      base = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.a)(base);\n      const mounts = getMounts(base, opts.parents);\n      return mounts.map((m) => ({\n        driver: m.driver,\n        base: m.mountpoint\n      }));\n    },\n    // Aliases\n    keys: (base, opts = {}) => storage.getKeys(base, opts),\n    get: (key, opts = {}) => storage.getItem(key, opts),\n    set: (key, value, opts = {}) => storage.setItem(key, value, opts),\n    has: (key, opts = {}) => storage.hasItem(key, opts),\n    del: (key, opts = {}) => storage.removeItem(key, opts),\n    remove: (key, opts = {}) => storage.removeItem(key, opts)\n  };\n  return storage;\n}\nasync function snapshot(storage, base) {\n  base = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n  const keys = await storage.getKeys(base);\n  const snapshot2 = {};\n  await Promise.all(\n    keys.map(async (key) => {\n      snapshot2[key.slice(base.length)] = await storage.getItem(key);\n    })\n  );\n  return snapshot2;\n}\nasync function restoreSnapshot(driver, snapshot2, base = \"\") {\n  base = (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(base);\n  await Promise.all(\n    Object.entries(snapshot2).map((e) => driver.setItem(base + e[0], e[1]))\n  );\n}\nfunction watch(driver, onChange, base) {\n  return driver.watch ? driver.watch((event, key) => onChange(event, base + key)) : () => {\n  };\n}\nasync function dispose(driver) {\n  if (typeof driver.dispose === \"function\") {\n    await (0,_shared_unstorage_CoCt7NXC_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(driver.dispose);\n  }\n}\n\nconst builtinDrivers = {\n  \"azure-app-configuration\": \"unstorage/drivers/azure-app-configuration\",\n  \"azureAppConfiguration\": \"unstorage/drivers/azure-app-configuration\",\n  \"azure-cosmos\": \"unstorage/drivers/azure-cosmos\",\n  \"azureCosmos\": \"unstorage/drivers/azure-cosmos\",\n  \"azure-key-vault\": \"unstorage/drivers/azure-key-vault\",\n  \"azureKeyVault\": \"unstorage/drivers/azure-key-vault\",\n  \"azure-storage-blob\": \"unstorage/drivers/azure-storage-blob\",\n  \"azureStorageBlob\": \"unstorage/drivers/azure-storage-blob\",\n  \"azure-storage-table\": \"unstorage/drivers/azure-storage-table\",\n  \"azureStorageTable\": \"unstorage/drivers/azure-storage-table\",\n  \"capacitor-preferences\": \"unstorage/drivers/capacitor-preferences\",\n  \"capacitorPreferences\": \"unstorage/drivers/capacitor-preferences\",\n  \"cloudflare-kv-binding\": \"unstorage/drivers/cloudflare-kv-binding\",\n  \"cloudflareKVBinding\": \"unstorage/drivers/cloudflare-kv-binding\",\n  \"cloudflare-kv-http\": \"unstorage/drivers/cloudflare-kv-http\",\n  \"cloudflareKVHttp\": \"unstorage/drivers/cloudflare-kv-http\",\n  \"cloudflare-r2-binding\": \"unstorage/drivers/cloudflare-r2-binding\",\n  \"cloudflareR2Binding\": \"unstorage/drivers/cloudflare-r2-binding\",\n  \"db0\": \"unstorage/drivers/db0\",\n  \"deno-kv-node\": \"unstorage/drivers/deno-kv-node\",\n  \"denoKVNode\": \"unstorage/drivers/deno-kv-node\",\n  \"deno-kv\": \"unstorage/drivers/deno-kv\",\n  \"denoKV\": \"unstorage/drivers/deno-kv\",\n  \"fs-lite\": \"unstorage/drivers/fs-lite\",\n  \"fsLite\": \"unstorage/drivers/fs-lite\",\n  \"fs\": \"unstorage/drivers/fs\",\n  \"github\": \"unstorage/drivers/github\",\n  \"http\": \"unstorage/drivers/http\",\n  \"indexedb\": \"unstorage/drivers/indexedb\",\n  \"localstorage\": \"unstorage/drivers/localstorage\",\n  \"lru-cache\": \"unstorage/drivers/lru-cache\",\n  \"lruCache\": \"unstorage/drivers/lru-cache\",\n  \"memory\": \"unstorage/drivers/memory\",\n  \"mongodb\": \"unstorage/drivers/mongodb\",\n  \"netlify-blobs\": \"unstorage/drivers/netlify-blobs\",\n  \"netlifyBlobs\": \"unstorage/drivers/netlify-blobs\",\n  \"null\": \"unstorage/drivers/null\",\n  \"overlay\": \"unstorage/drivers/overlay\",\n  \"planetscale\": \"unstorage/drivers/planetscale\",\n  \"redis\": \"unstorage/drivers/redis\",\n  \"s3\": \"unstorage/drivers/s3\",\n  \"session-storage\": \"unstorage/drivers/session-storage\",\n  \"sessionStorage\": \"unstorage/drivers/session-storage\",\n  \"uploadthing\": \"unstorage/drivers/uploadthing\",\n  \"upstash\": \"unstorage/drivers/upstash\",\n  \"vercel-blob\": \"unstorage/drivers/vercel-blob\",\n  \"vercelBlob\": \"unstorage/drivers/vercel-blob\",\n  \"vercel-kv\": \"unstorage/drivers/vercel-kv\",\n  \"vercelKV\": \"unstorage/drivers/vercel-kv\"\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvdW5zdG9yYWdlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEI7QUFDcU07QUFDMUo7O0FBRXJFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELG1DQUFtQztBQUNuQztBQUNBLGNBQWMsZ0NBQWdDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlFQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlFQUFZO0FBQzlCO0FBQ0EseUVBQXlFO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixZQUFZLGlFQUFZO0FBQ3hCLGNBQWMsc0JBQXNCO0FBQ3BDLGFBQWEsaUVBQVM7QUFDdEIsS0FBSztBQUNMLDBCQUEwQjtBQUMxQixZQUFZLGlFQUFZO0FBQ3hCLGNBQWMsc0JBQXNCO0FBQ3BDLGFBQWEsaUVBQVM7QUFDdEIsbUJBQW1CLGlEQUFLO0FBQ3hCO0FBQ0EsS0FBSztBQUNMLHNDQUFzQztBQUN0QztBQUNBO0FBQ0EsaUJBQWlCLGlFQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpRUFBUTtBQUMzQixxQkFBcUIsaURBQUs7QUFDMUIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlFQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaURBQUs7QUFDMUIsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsNkJBQTZCO0FBQzdCLFlBQVksaUVBQVk7QUFDeEIsY0FBYyxzQkFBc0I7QUFDcEM7QUFDQSxlQUFlLGlFQUFTO0FBQ3hCO0FBQ0EsYUFBYSxpRUFBUztBQUN0QixtQkFBbUIsaUVBQWM7QUFDakM7QUFDQSxLQUFLO0FBQ0wsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUVBQVk7QUFDeEIsY0FBYyxzQkFBc0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBUyw4QkFBOEIsaUVBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpRUFBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUVBQVM7QUFDOUI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpRUFBUztBQUM1QjtBQUNBO0FBQ0EsY0FBYyxpRUFBUztBQUN2QjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBWTtBQUN4QixjQUFjLHNCQUFzQjtBQUNwQztBQUNBLGNBQWMsaUVBQVM7QUFDdkIsUUFBUTtBQUNSLGNBQWMsaUVBQVMsOEJBQThCLGlFQUFZO0FBQ2pFLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG1DQUFtQztBQUNuQztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFlBQVksaUVBQVk7QUFDeEIsY0FBYyxzQkFBc0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBUztBQUNyQjtBQUNBLGNBQWMsaUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxZQUFZLGlFQUFZO0FBQ3hCLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0E7QUFDQSxrQ0FBa0MsaUVBQVM7QUFDM0M7QUFDQTtBQUNBLDRCQUE0QixpRUFBUztBQUNyQztBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsaURBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpQ0FBaUM7QUFDakM7QUFDQSxLQUFLO0FBQ0wsNkJBQTZCO0FBQzdCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUNBQWlDO0FBQ2pDLGFBQWEsaUVBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxpRUFBWTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGlFQUFnQix5QkFBeUIsaUVBQWU7QUFDbEc7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrQkFBK0I7QUFDL0IsYUFBYSxpRUFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlFQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxhQUFhLGlFQUFnQjtBQUM3QjtBQUNBLDhDQUE4QyxLQUFLO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsYUFBYSxpRUFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsWUFBWSxpRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtDQUFrQztBQUNsQyxhQUFhLGlFQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLDBCQUEwQjtBQUMxQix3QkFBd0I7QUFDeEIsK0JBQStCO0FBQy9CLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEIsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpRUFBZ0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaUVBQWdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpRUFBUztBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFK0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvdW5zdG9yYWdlL2Rpc3QvaW5kZXgubWpzP2MyNzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlc3RyIGZyb20gJ2Rlc3RyJztcbmltcG9ydCB7IG4gYXMgbm9ybWFsaXplQmFzZUtleSwgYSBhcyBub3JtYWxpemVLZXksIGIgYXMgYXN5bmNDYWxsLCBmIGFzIGZpbHRlcktleUJ5RGVwdGgsIGMgYXMgZmlsdGVyS2V5QnlCYXNlLCBzIGFzIHNlcmlhbGl6ZVJhdywgZCBhcyBzdHJpbmdpZnksIGUgYXMgZGVzZXJpYWxpemVSYXcsIGogYXMgam9pbktleXMgfSBmcm9tICcuL3NoYXJlZC91bnN0b3JhZ2UuQ29DdDdOWEMubWpzJztcbmV4cG9ydCB7IHAgYXMgcHJlZml4U3RvcmFnZSB9IGZyb20gJy4vc2hhcmVkL3Vuc3RvcmFnZS5Db0N0N05YQy5tanMnO1xuXG5mdW5jdGlvbiBkZWZpbmVEcml2ZXIoZmFjdG9yeSkge1xuICByZXR1cm4gZmFjdG9yeTtcbn1cblxuY29uc3QgRFJJVkVSX05BTUUgPSBcIm1lbW9yeVwiO1xuY29uc3QgbWVtb3J5ID0gZGVmaW5lRHJpdmVyKCgpID0+IHtcbiAgY29uc3QgZGF0YSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogRFJJVkVSX05BTUUsXG4gICAgZ2V0SW5zdGFuY2U6ICgpID0+IGRhdGEsXG4gICAgaGFzSXRlbShrZXkpIHtcbiAgICAgIHJldHVybiBkYXRhLmhhcyhrZXkpO1xuICAgIH0sXG4gICAgZ2V0SXRlbShrZXkpIHtcbiAgICAgIHJldHVybiBkYXRhLmdldChrZXkpID8/IG51bGw7XG4gICAgfSxcbiAgICBnZXRJdGVtUmF3KGtleSkge1xuICAgICAgcmV0dXJuIGRhdGEuZ2V0KGtleSkgPz8gbnVsbDtcbiAgICB9LFxuICAgIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSxcbiAgICBzZXRJdGVtUmF3KGtleSwgdmFsdWUpIHtcbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbShrZXkpIHtcbiAgICAgIGRhdGEuZGVsZXRlKGtleSk7XG4gICAgfSxcbiAgICBnZXRLZXlzKCkge1xuICAgICAgcmV0dXJuIFsuLi5kYXRhLmtleXMoKV07XG4gICAgfSxcbiAgICBjbGVhcigpIHtcbiAgICAgIGRhdGEuY2xlYXIoKTtcbiAgICB9LFxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICBkYXRhLmNsZWFyKCk7XG4gICAgfVxuICB9O1xufSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JhZ2Uob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgbW91bnRzOiB7IFwiXCI6IG9wdGlvbnMuZHJpdmVyIHx8IG1lbW9yeSgpIH0sXG4gICAgbW91bnRwb2ludHM6IFtcIlwiXSxcbiAgICB3YXRjaGluZzogZmFsc2UsXG4gICAgd2F0Y2hMaXN0ZW5lcnM6IFtdLFxuICAgIHVud2F0Y2g6IHt9XG4gIH07XG4gIGNvbnN0IGdldE1vdW50ID0gKGtleSkgPT4ge1xuICAgIGZvciAoY29uc3QgYmFzZSBvZiBjb250ZXh0Lm1vdW50cG9pbnRzKSB7XG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoYmFzZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBiYXNlLFxuICAgICAgICAgIHJlbGF0aXZlS2V5OiBrZXkuc2xpY2UoYmFzZS5sZW5ndGgpLFxuICAgICAgICAgIGRyaXZlcjogY29udGV4dC5tb3VudHNbYmFzZV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2U6IFwiXCIsXG4gICAgICByZWxhdGl2ZUtleToga2V5LFxuICAgICAgZHJpdmVyOiBjb250ZXh0Lm1vdW50c1tcIlwiXVxuICAgIH07XG4gIH07XG4gIGNvbnN0IGdldE1vdW50cyA9IChiYXNlLCBpbmNsdWRlUGFyZW50KSA9PiB7XG4gICAgcmV0dXJuIGNvbnRleHQubW91bnRwb2ludHMuZmlsdGVyKFxuICAgICAgKG1vdW50cG9pbnQpID0+IG1vdW50cG9pbnQuc3RhcnRzV2l0aChiYXNlKSB8fCBpbmNsdWRlUGFyZW50ICYmIGJhc2Uuc3RhcnRzV2l0aChtb3VudHBvaW50KVxuICAgICkubWFwKChtb3VudHBvaW50KSA9PiAoe1xuICAgICAgcmVsYXRpdmVCYXNlOiBiYXNlLmxlbmd0aCA+IG1vdW50cG9pbnQubGVuZ3RoID8gYmFzZS5zbGljZShtb3VudHBvaW50Lmxlbmd0aCkgOiB2b2lkIDAsXG4gICAgICBtb3VudHBvaW50LFxuICAgICAgZHJpdmVyOiBjb250ZXh0Lm1vdW50c1ttb3VudHBvaW50XVxuICAgIH0pKTtcbiAgfTtcbiAgY29uc3Qgb25DaGFuZ2UgPSAoZXZlbnQsIGtleSkgPT4ge1xuICAgIGlmICghY29udGV4dC53YXRjaGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGNvbnRleHQud2F0Y2hMaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVyKGV2ZW50LCBrZXkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc3RhcnRXYXRjaCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoY29udGV4dC53YXRjaGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb250ZXh0LndhdGNoaW5nID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IG1vdW50cG9pbnQgaW4gY29udGV4dC5tb3VudHMpIHtcbiAgICAgIGNvbnRleHQudW53YXRjaFttb3VudHBvaW50XSA9IGF3YWl0IHdhdGNoKFxuICAgICAgICBjb250ZXh0Lm1vdW50c1ttb3VudHBvaW50XSxcbiAgICAgICAgb25DaGFuZ2UsXG4gICAgICAgIG1vdW50cG9pbnRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzdG9wV2F0Y2ggPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjb250ZXh0LndhdGNoaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgbW91bnRwb2ludCBpbiBjb250ZXh0LnVud2F0Y2gpIHtcbiAgICAgIGF3YWl0IGNvbnRleHQudW53YXRjaFttb3VudHBvaW50XSgpO1xuICAgIH1cbiAgICBjb250ZXh0LnVud2F0Y2ggPSB7fTtcbiAgICBjb250ZXh0LndhdGNoaW5nID0gZmFsc2U7XG4gIH07XG4gIGNvbnN0IHJ1bkJhdGNoID0gKGl0ZW1zLCBjb21tb25PcHRpb25zLCBjYikgPT4ge1xuICAgIGNvbnN0IGJhdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGdldEJhdGNoID0gKG1vdW50KSA9PiB7XG4gICAgICBsZXQgYmF0Y2ggPSBiYXRjaGVzLmdldChtb3VudC5iYXNlKTtcbiAgICAgIGlmICghYmF0Y2gpIHtcbiAgICAgICAgYmF0Y2ggPSB7XG4gICAgICAgICAgZHJpdmVyOiBtb3VudC5kcml2ZXIsXG4gICAgICAgICAgYmFzZTogbW91bnQuYmFzZSxcbiAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgfTtcbiAgICAgICAgYmF0Y2hlcy5zZXQobW91bnQuYmFzZSwgYmF0Y2gpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhdGNoO1xuICAgIH07XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBjb25zdCBpc1N0cmluZ0l0ZW0gPSB0eXBlb2YgaXRlbSA9PT0gXCJzdHJpbmdcIjtcbiAgICAgIGNvbnN0IGtleSA9IG5vcm1hbGl6ZUtleShpc1N0cmluZ0l0ZW0gPyBpdGVtIDogaXRlbS5rZXkpO1xuICAgICAgY29uc3QgdmFsdWUgPSBpc1N0cmluZ0l0ZW0gPyB2b2lkIDAgOiBpdGVtLnZhbHVlO1xuICAgICAgY29uc3Qgb3B0aW9uczIgPSBpc1N0cmluZ0l0ZW0gfHwgIWl0ZW0ub3B0aW9ucyA/IGNvbW1vbk9wdGlvbnMgOiB7IC4uLmNvbW1vbk9wdGlvbnMsIC4uLml0ZW0ub3B0aW9ucyB9O1xuICAgICAgY29uc3QgbW91bnQgPSBnZXRNb3VudChrZXkpO1xuICAgICAgZ2V0QmF0Y2gobW91bnQpLml0ZW1zLnB1c2goe1xuICAgICAgICBrZXksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICByZWxhdGl2ZUtleTogbW91bnQucmVsYXRpdmVLZXksXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMyXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFsuLi5iYXRjaGVzLnZhbHVlcygpXS5tYXAoKGJhdGNoKSA9PiBjYihiYXRjaCkpKS50aGVuKFxuICAgICAgKHIpID0+IHIuZmxhdCgpXG4gICAgKTtcbiAgfTtcbiAgY29uc3Qgc3RvcmFnZSA9IHtcbiAgICAvLyBJdGVtXG4gICAgaGFzSXRlbShrZXksIG9wdHMgPSB7fSkge1xuICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5LCBkcml2ZXIgfSA9IGdldE1vdW50KGtleSk7XG4gICAgICByZXR1cm4gYXN5bmNDYWxsKGRyaXZlci5oYXNJdGVtLCByZWxhdGl2ZUtleSwgb3B0cyk7XG4gICAgfSxcbiAgICBnZXRJdGVtKGtleSwgb3B0cyA9IHt9KSB7XG4gICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXksIGRyaXZlciB9ID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIHJldHVybiBhc3luY0NhbGwoZHJpdmVyLmdldEl0ZW0sIHJlbGF0aXZlS2V5LCBvcHRzKS50aGVuKFxuICAgICAgICAodmFsdWUpID0+IGRlc3RyKHZhbHVlKVxuICAgICAgKTtcbiAgICB9LFxuICAgIGdldEl0ZW1zKGl0ZW1zLCBjb21tb25PcHRpb25zID0ge30pIHtcbiAgICAgIHJldHVybiBydW5CYXRjaChpdGVtcywgY29tbW9uT3B0aW9ucywgKGJhdGNoKSA9PiB7XG4gICAgICAgIGlmIChiYXRjaC5kcml2ZXIuZ2V0SXRlbXMpIHtcbiAgICAgICAgICByZXR1cm4gYXN5bmNDYWxsKFxuICAgICAgICAgICAgYmF0Y2guZHJpdmVyLmdldEl0ZW1zLFxuICAgICAgICAgICAgYmF0Y2guaXRlbXMubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgICBrZXk6IGl0ZW0ucmVsYXRpdmVLZXksXG4gICAgICAgICAgICAgIG9wdGlvbnM6IGl0ZW0ub3B0aW9uc1xuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgY29tbW9uT3B0aW9uc1xuICAgICAgICAgICkudGhlbihcbiAgICAgICAgICAgIChyKSA9PiByLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgICAgICAga2V5OiBqb2luS2V5cyhiYXRjaC5iYXNlLCBpdGVtLmtleSksXG4gICAgICAgICAgICAgIHZhbHVlOiBkZXN0cihpdGVtLnZhbHVlKVxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgYmF0Y2guaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXN5bmNDYWxsKFxuICAgICAgICAgICAgICBiYXRjaC5kcml2ZXIuZ2V0SXRlbSxcbiAgICAgICAgICAgICAgaXRlbS5yZWxhdGl2ZUtleSxcbiAgICAgICAgICAgICAgaXRlbS5vcHRpb25zXG4gICAgICAgICAgICApLnRoZW4oKHZhbHVlKSA9PiAoe1xuICAgICAgICAgICAgICBrZXk6IGl0ZW0ua2V5LFxuICAgICAgICAgICAgICB2YWx1ZTogZGVzdHIodmFsdWUpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbVJhdyhrZXksIG9wdHMgPSB7fSkge1xuICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5LCBkcml2ZXIgfSA9IGdldE1vdW50KGtleSk7XG4gICAgICBpZiAoZHJpdmVyLmdldEl0ZW1SYXcpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jQ2FsbChkcml2ZXIuZ2V0SXRlbVJhdywgcmVsYXRpdmVLZXksIG9wdHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFzeW5jQ2FsbChkcml2ZXIuZ2V0SXRlbSwgcmVsYXRpdmVLZXksIG9wdHMpLnRoZW4oXG4gICAgICAgICh2YWx1ZSkgPT4gZGVzZXJpYWxpemVSYXcodmFsdWUpXG4gICAgICApO1xuICAgIH0sXG4gICAgYXN5bmMgc2V0SXRlbShrZXksIHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgIH1cbiAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleSwgZHJpdmVyIH0gPSBnZXRNb3VudChrZXkpO1xuICAgICAgaWYgKCFkcml2ZXIuc2V0SXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhd2FpdCBhc3luY0NhbGwoZHJpdmVyLnNldEl0ZW0sIHJlbGF0aXZlS2V5LCBzdHJpbmdpZnkodmFsdWUpLCBvcHRzKTtcbiAgICAgIGlmICghZHJpdmVyLndhdGNoKSB7XG4gICAgICAgIG9uQ2hhbmdlKFwidXBkYXRlXCIsIGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBzZXRJdGVtcyhpdGVtcywgY29tbW9uT3B0aW9ucykge1xuICAgICAgYXdhaXQgcnVuQmF0Y2goaXRlbXMsIGNvbW1vbk9wdGlvbnMsIGFzeW5jIChiYXRjaCkgPT4ge1xuICAgICAgICBpZiAoYmF0Y2guZHJpdmVyLnNldEl0ZW1zKSB7XG4gICAgICAgICAgcmV0dXJuIGFzeW5jQ2FsbChcbiAgICAgICAgICAgIGJhdGNoLmRyaXZlci5zZXRJdGVtcyxcbiAgICAgICAgICAgIGJhdGNoLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgICAgICAga2V5OiBpdGVtLnJlbGF0aXZlS2V5LFxuICAgICAgICAgICAgICB2YWx1ZTogc3RyaW5naWZ5KGl0ZW0udmFsdWUpLFxuICAgICAgICAgICAgICBvcHRpb25zOiBpdGVtLm9wdGlvbnNcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGNvbW1vbk9wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmF0Y2guZHJpdmVyLnNldEl0ZW0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgYmF0Y2guaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXN5bmNDYWxsKFxuICAgICAgICAgICAgICBiYXRjaC5kcml2ZXIuc2V0SXRlbSxcbiAgICAgICAgICAgICAgaXRlbS5yZWxhdGl2ZUtleSxcbiAgICAgICAgICAgICAgc3RyaW5naWZ5KGl0ZW0udmFsdWUpLFxuICAgICAgICAgICAgICBpdGVtLm9wdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgc2V0SXRlbVJhdyhrZXksIHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5LCBvcHRzKTtcbiAgICAgIH1cbiAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleSwgZHJpdmVyIH0gPSBnZXRNb3VudChrZXkpO1xuICAgICAgaWYgKGRyaXZlci5zZXRJdGVtUmF3KSB7XG4gICAgICAgIGF3YWl0IGFzeW5jQ2FsbChkcml2ZXIuc2V0SXRlbVJhdywgcmVsYXRpdmVLZXksIHZhbHVlLCBvcHRzKTtcbiAgICAgIH0gZWxzZSBpZiAoZHJpdmVyLnNldEl0ZW0pIHtcbiAgICAgICAgYXdhaXQgYXN5bmNDYWxsKGRyaXZlci5zZXRJdGVtLCByZWxhdGl2ZUtleSwgc2VyaWFsaXplUmF3KHZhbHVlKSwgb3B0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWRyaXZlci53YXRjaCkge1xuICAgICAgICBvbkNoYW5nZShcInVwZGF0ZVwiLCBrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgcmVtb3ZlSXRlbShrZXksIG9wdHMgPSB7fSkge1xuICAgICAgaWYgKHR5cGVvZiBvcHRzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRzID0geyByZW1vdmVNZXRhOiBvcHRzIH07XG4gICAgICB9XG4gICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXksIGRyaXZlciB9ID0gZ2V0TW91bnQoa2V5KTtcbiAgICAgIGlmICghZHJpdmVyLnJlbW92ZUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXdhaXQgYXN5bmNDYWxsKGRyaXZlci5yZW1vdmVJdGVtLCByZWxhdGl2ZUtleSwgb3B0cyk7XG4gICAgICBpZiAob3B0cy5yZW1vdmVNZXRhIHx8IG9wdHMucmVtb3ZlTWF0YSkge1xuICAgICAgICBhd2FpdCBhc3luY0NhbGwoZHJpdmVyLnJlbW92ZUl0ZW0sIHJlbGF0aXZlS2V5ICsgXCIkXCIsIG9wdHMpO1xuICAgICAgfVxuICAgICAgaWYgKCFkcml2ZXIud2F0Y2gpIHtcbiAgICAgICAgb25DaGFuZ2UoXCJyZW1vdmVcIiwga2V5KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIE1ldGFcbiAgICBhc3luYyBnZXRNZXRhKGtleSwgb3B0cyA9IHt9KSB7XG4gICAgICBpZiAodHlwZW9mIG9wdHMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIG9wdHMgPSB7IG5hdGl2ZU9ubHk6IG9wdHMgfTtcbiAgICAgIH1cbiAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleSwgZHJpdmVyIH0gPSBnZXRNb3VudChrZXkpO1xuICAgICAgY29uc3QgbWV0YSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgaWYgKGRyaXZlci5nZXRNZXRhKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24obWV0YSwgYXdhaXQgYXN5bmNDYWxsKGRyaXZlci5nZXRNZXRhLCByZWxhdGl2ZUtleSwgb3B0cykpO1xuICAgICAgfVxuICAgICAgaWYgKCFvcHRzLm5hdGl2ZU9ubHkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBhc3luY0NhbGwoXG4gICAgICAgICAgZHJpdmVyLmdldEl0ZW0sXG4gICAgICAgICAgcmVsYXRpdmVLZXkgKyBcIiRcIixcbiAgICAgICAgICBvcHRzXG4gICAgICAgICkudGhlbigodmFsdWVfKSA9PiBkZXN0cih2YWx1ZV8pKTtcbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUuYXRpbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhbHVlLmF0aW1lID0gbmV3IERhdGUodmFsdWUuYXRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlLm10aW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YWx1ZS5tdGltZSA9IG5ldyBEYXRlKHZhbHVlLm10aW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihtZXRhLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtZXRhO1xuICAgIH0sXG4gICAgc2V0TWV0YShrZXksIHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICAgIHJldHVybiB0aGlzLnNldEl0ZW0oa2V5ICsgXCIkXCIsIHZhbHVlLCBvcHRzKTtcbiAgICB9LFxuICAgIHJlbW92ZU1ldGEoa2V5LCBvcHRzID0ge30pIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZUl0ZW0oa2V5ICsgXCIkXCIsIG9wdHMpO1xuICAgIH0sXG4gICAgLy8gS2V5c1xuICAgIGFzeW5jIGdldEtleXMoYmFzZSwgb3B0cyA9IHt9KSB7XG4gICAgICBiYXNlID0gbm9ybWFsaXplQmFzZUtleShiYXNlKTtcbiAgICAgIGNvbnN0IG1vdW50cyA9IGdldE1vdW50cyhiYXNlLCB0cnVlKTtcbiAgICAgIGxldCBtYXNrZWRNb3VudHMgPSBbXTtcbiAgICAgIGNvbnN0IGFsbEtleXMgPSBbXTtcbiAgICAgIGxldCBhbGxNb3VudHNTdXBwb3J0TWF4RGVwdGggPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCBtb3VudCBvZiBtb3VudHMpIHtcbiAgICAgICAgaWYgKCFtb3VudC5kcml2ZXIuZmxhZ3M/Lm1heERlcHRoKSB7XG4gICAgICAgICAgYWxsTW91bnRzU3VwcG9ydE1heERlcHRoID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3S2V5cyA9IGF3YWl0IGFzeW5jQ2FsbChcbiAgICAgICAgICBtb3VudC5kcml2ZXIuZ2V0S2V5cyxcbiAgICAgICAgICBtb3VudC5yZWxhdGl2ZUJhc2UsXG4gICAgICAgICAgb3B0c1xuICAgICAgICApO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiByYXdLZXlzKSB7XG4gICAgICAgICAgY29uc3QgZnVsbEtleSA9IG1vdW50Lm1vdW50cG9pbnQgKyBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgICBpZiAoIW1hc2tlZE1vdW50cy5zb21lKChwKSA9PiBmdWxsS2V5LnN0YXJ0c1dpdGgocCkpKSB7XG4gICAgICAgICAgICBhbGxLZXlzLnB1c2goZnVsbEtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hc2tlZE1vdW50cyA9IFtcbiAgICAgICAgICBtb3VudC5tb3VudHBvaW50LFxuICAgICAgICAgIC4uLm1hc2tlZE1vdW50cy5maWx0ZXIoKHApID0+ICFwLnN0YXJ0c1dpdGgobW91bnQubW91bnRwb2ludCkpXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBjb25zdCBzaG91bGRGaWx0ZXJCeURlcHRoID0gb3B0cy5tYXhEZXB0aCAhPT0gdm9pZCAwICYmICFhbGxNb3VudHNTdXBwb3J0TWF4RGVwdGg7XG4gICAgICByZXR1cm4gYWxsS2V5cy5maWx0ZXIoXG4gICAgICAgIChrZXkpID0+ICghc2hvdWxkRmlsdGVyQnlEZXB0aCB8fCBmaWx0ZXJLZXlCeURlcHRoKGtleSwgb3B0cy5tYXhEZXB0aCkpICYmIGZpbHRlcktleUJ5QmFzZShrZXksIGJhc2UpXG4gICAgICApO1xuICAgIH0sXG4gICAgLy8gVXRpbHNcbiAgICBhc3luYyBjbGVhcihiYXNlLCBvcHRzID0ge30pIHtcbiAgICAgIGJhc2UgPSBub3JtYWxpemVCYXNlS2V5KGJhc2UpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIGdldE1vdW50cyhiYXNlLCBmYWxzZSkubWFwKGFzeW5jIChtKSA9PiB7XG4gICAgICAgICAgaWYgKG0uZHJpdmVyLmNsZWFyKSB7XG4gICAgICAgICAgICByZXR1cm4gYXN5bmNDYWxsKG0uZHJpdmVyLmNsZWFyLCBtLnJlbGF0aXZlQmFzZSwgb3B0cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtLmRyaXZlci5yZW1vdmVJdGVtKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gYXdhaXQgbS5kcml2ZXIuZ2V0S2V5cyhtLnJlbGF0aXZlQmFzZSB8fCBcIlwiLCBvcHRzKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAga2V5cy5tYXAoKGtleSkgPT4gbS5kcml2ZXIucmVtb3ZlSXRlbShrZXksIG9wdHMpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAgYXN5bmMgZGlzcG9zZSgpIHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBPYmplY3QudmFsdWVzKGNvbnRleHQubW91bnRzKS5tYXAoKGRyaXZlcikgPT4gZGlzcG9zZShkcml2ZXIpKVxuICAgICAgKTtcbiAgICB9LFxuICAgIGFzeW5jIHdhdGNoKGNhbGxiYWNrKSB7XG4gICAgICBhd2FpdCBzdGFydFdhdGNoKCk7XG4gICAgICBjb250ZXh0LndhdGNoTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29udGV4dC53YXRjaExpc3RlbmVycyA9IGNvbnRleHQud2F0Y2hMaXN0ZW5lcnMuZmlsdGVyKFxuICAgICAgICAgIChsaXN0ZW5lcikgPT4gbGlzdGVuZXIgIT09IGNhbGxiYWNrXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb250ZXh0LndhdGNoTGlzdGVuZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGF3YWl0IHN0b3BXYXRjaCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgdW53YXRjaCgpIHtcbiAgICAgIGNvbnRleHQud2F0Y2hMaXN0ZW5lcnMgPSBbXTtcbiAgICAgIGF3YWl0IHN0b3BXYXRjaCgpO1xuICAgIH0sXG4gICAgLy8gTW91bnRcbiAgICBtb3VudChiYXNlLCBkcml2ZXIpIHtcbiAgICAgIGJhc2UgPSBub3JtYWxpemVCYXNlS2V5KGJhc2UpO1xuICAgICAgaWYgKGJhc2UgJiYgY29udGV4dC5tb3VudHNbYmFzZV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBhbHJlYWR5IG1vdW50ZWQgYXQgJHtiYXNlfWApO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2UpIHtcbiAgICAgICAgY29udGV4dC5tb3VudHBvaW50cy5wdXNoKGJhc2UpO1xuICAgICAgICBjb250ZXh0Lm1vdW50cG9pbnRzLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgY29udGV4dC5tb3VudHNbYmFzZV0gPSBkcml2ZXI7XG4gICAgICBpZiAoY29udGV4dC53YXRjaGluZykge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUod2F0Y2goZHJpdmVyLCBvbkNoYW5nZSwgYmFzZSkpLnRoZW4oKHVud2F0Y2hlcikgPT4ge1xuICAgICAgICAgIGNvbnRleHQudW53YXRjaFtiYXNlXSA9IHVud2F0Y2hlcjtcbiAgICAgICAgfSkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RvcmFnZTtcbiAgICB9LFxuICAgIGFzeW5jIHVubW91bnQoYmFzZSwgX2Rpc3Bvc2UgPSB0cnVlKSB7XG4gICAgICBiYXNlID0gbm9ybWFsaXplQmFzZUtleShiYXNlKTtcbiAgICAgIGlmICghYmFzZSB8fCAhY29udGV4dC5tb3VudHNbYmFzZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQud2F0Y2hpbmcgJiYgYmFzZSBpbiBjb250ZXh0LnVud2F0Y2gpIHtcbiAgICAgICAgY29udGV4dC51bndhdGNoW2Jhc2VdPy4oKTtcbiAgICAgICAgZGVsZXRlIGNvbnRleHQudW53YXRjaFtiYXNlXTtcbiAgICAgIH1cbiAgICAgIGlmIChfZGlzcG9zZSkge1xuICAgICAgICBhd2FpdCBkaXNwb3NlKGNvbnRleHQubW91bnRzW2Jhc2VdKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQubW91bnRwb2ludHMgPSBjb250ZXh0Lm1vdW50cG9pbnRzLmZpbHRlcigoa2V5KSA9PiBrZXkgIT09IGJhc2UpO1xuICAgICAgZGVsZXRlIGNvbnRleHQubW91bnRzW2Jhc2VdO1xuICAgIH0sXG4gICAgZ2V0TW91bnQoa2V5ID0gXCJcIikge1xuICAgICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSkgKyBcIjpcIjtcbiAgICAgIGNvbnN0IG0gPSBnZXRNb3VudChrZXkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZHJpdmVyOiBtLmRyaXZlcixcbiAgICAgICAgYmFzZTogbS5iYXNlXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2V0TW91bnRzKGJhc2UgPSBcIlwiLCBvcHRzID0ge30pIHtcbiAgICAgIGJhc2UgPSBub3JtYWxpemVLZXkoYmFzZSk7XG4gICAgICBjb25zdCBtb3VudHMgPSBnZXRNb3VudHMoYmFzZSwgb3B0cy5wYXJlbnRzKTtcbiAgICAgIHJldHVybiBtb3VudHMubWFwKChtKSA9PiAoe1xuICAgICAgICBkcml2ZXI6IG0uZHJpdmVyLFxuICAgICAgICBiYXNlOiBtLm1vdW50cG9pbnRcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIC8vIEFsaWFzZXNcbiAgICBrZXlzOiAoYmFzZSwgb3B0cyA9IHt9KSA9PiBzdG9yYWdlLmdldEtleXMoYmFzZSwgb3B0cyksXG4gICAgZ2V0OiAoa2V5LCBvcHRzID0ge30pID0+IHN0b3JhZ2UuZ2V0SXRlbShrZXksIG9wdHMpLFxuICAgIHNldDogKGtleSwgdmFsdWUsIG9wdHMgPSB7fSkgPT4gc3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUsIG9wdHMpLFxuICAgIGhhczogKGtleSwgb3B0cyA9IHt9KSA9PiBzdG9yYWdlLmhhc0l0ZW0oa2V5LCBvcHRzKSxcbiAgICBkZWw6IChrZXksIG9wdHMgPSB7fSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKGtleSwgb3B0cyksXG4gICAgcmVtb3ZlOiAoa2V5LCBvcHRzID0ge30pID0+IHN0b3JhZ2UucmVtb3ZlSXRlbShrZXksIG9wdHMpXG4gIH07XG4gIHJldHVybiBzdG9yYWdlO1xufVxuYXN5bmMgZnVuY3Rpb24gc25hcHNob3Qoc3RvcmFnZSwgYmFzZSkge1xuICBiYXNlID0gbm9ybWFsaXplQmFzZUtleShiYXNlKTtcbiAgY29uc3Qga2V5cyA9IGF3YWl0IHN0b3JhZ2UuZ2V0S2V5cyhiYXNlKTtcbiAgY29uc3Qgc25hcHNob3QyID0ge307XG4gIGF3YWl0IFByb21pc2UuYWxsKFxuICAgIGtleXMubWFwKGFzeW5jIChrZXkpID0+IHtcbiAgICAgIHNuYXBzaG90MltrZXkuc2xpY2UoYmFzZS5sZW5ndGgpXSA9IGF3YWl0IHN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIH0pXG4gICk7XG4gIHJldHVybiBzbmFwc2hvdDI7XG59XG5hc3luYyBmdW5jdGlvbiByZXN0b3JlU25hcHNob3QoZHJpdmVyLCBzbmFwc2hvdDIsIGJhc2UgPSBcIlwiKSB7XG4gIGJhc2UgPSBub3JtYWxpemVCYXNlS2V5KGJhc2UpO1xuICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBPYmplY3QuZW50cmllcyhzbmFwc2hvdDIpLm1hcCgoZSkgPT4gZHJpdmVyLnNldEl0ZW0oYmFzZSArIGVbMF0sIGVbMV0pKVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2goZHJpdmVyLCBvbkNoYW5nZSwgYmFzZSkge1xuICByZXR1cm4gZHJpdmVyLndhdGNoID8gZHJpdmVyLndhdGNoKChldmVudCwga2V5KSA9PiBvbkNoYW5nZShldmVudCwgYmFzZSArIGtleSkpIDogKCkgPT4ge1xuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gZGlzcG9zZShkcml2ZXIpIHtcbiAgaWYgKHR5cGVvZiBkcml2ZXIuZGlzcG9zZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgYXdhaXQgYXN5bmNDYWxsKGRyaXZlci5kaXNwb3NlKTtcbiAgfVxufVxuXG5jb25zdCBidWlsdGluRHJpdmVycyA9IHtcbiAgXCJhenVyZS1hcHAtY29uZmlndXJhdGlvblwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLWFwcC1jb25maWd1cmF0aW9uXCIsXG4gIFwiYXp1cmVBcHBDb25maWd1cmF0aW9uXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUtYXBwLWNvbmZpZ3VyYXRpb25cIixcbiAgXCJhenVyZS1jb3Ntb3NcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1jb3Ntb3NcIixcbiAgXCJhenVyZUNvc21vc1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLWNvc21vc1wiLFxuICBcImF6dXJlLWtleS12YXVsdFwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLWtleS12YXVsdFwiLFxuICBcImF6dXJlS2V5VmF1bHRcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1rZXktdmF1bHRcIixcbiAgXCJhenVyZS1zdG9yYWdlLWJsb2JcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9henVyZS1zdG9yYWdlLWJsb2JcIixcbiAgXCJhenVyZVN0b3JhZ2VCbG9iXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvYXp1cmUtc3RvcmFnZS1ibG9iXCIsXG4gIFwiYXp1cmUtc3RvcmFnZS10YWJsZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLXN0b3JhZ2UtdGFibGVcIixcbiAgXCJhenVyZVN0b3JhZ2VUYWJsZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2F6dXJlLXN0b3JhZ2UtdGFibGVcIixcbiAgXCJjYXBhY2l0b3ItcHJlZmVyZW5jZXNcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9jYXBhY2l0b3ItcHJlZmVyZW5jZXNcIixcbiAgXCJjYXBhY2l0b3JQcmVmZXJlbmNlc1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2NhcGFjaXRvci1wcmVmZXJlbmNlc1wiLFxuICBcImNsb3VkZmxhcmUta3YtYmluZGluZ1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Nsb3VkZmxhcmUta3YtYmluZGluZ1wiLFxuICBcImNsb3VkZmxhcmVLVkJpbmRpbmdcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9jbG91ZGZsYXJlLWt2LWJpbmRpbmdcIixcbiAgXCJjbG91ZGZsYXJlLWt2LWh0dHBcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9jbG91ZGZsYXJlLWt2LWh0dHBcIixcbiAgXCJjbG91ZGZsYXJlS1ZIdHRwXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvY2xvdWRmbGFyZS1rdi1odHRwXCIsXG4gIFwiY2xvdWRmbGFyZS1yMi1iaW5kaW5nXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvY2xvdWRmbGFyZS1yMi1iaW5kaW5nXCIsXG4gIFwiY2xvdWRmbGFyZVIyQmluZGluZ1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Nsb3VkZmxhcmUtcjItYmluZGluZ1wiLFxuICBcImRiMFwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2RiMFwiLFxuICBcImRlbm8ta3Ytbm9kZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Rlbm8ta3Ytbm9kZVwiLFxuICBcImRlbm9LVk5vZGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9kZW5vLWt2LW5vZGVcIixcbiAgXCJkZW5vLWt2XCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZGVuby1rdlwiLFxuICBcImRlbm9LVlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2Rlbm8ta3ZcIixcbiAgXCJmcy1saXRlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZnMtbGl0ZVwiLFxuICBcImZzTGl0ZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2ZzLWxpdGVcIixcbiAgXCJmc1wiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2ZzXCIsXG4gIFwiZ2l0aHViXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvZ2l0aHViXCIsXG4gIFwiaHR0cFwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2h0dHBcIixcbiAgXCJpbmRleGVkYlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL2luZGV4ZWRiXCIsXG4gIFwibG9jYWxzdG9yYWdlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvbG9jYWxzdG9yYWdlXCIsXG4gIFwibHJ1LWNhY2hlXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvbHJ1LWNhY2hlXCIsXG4gIFwibHJ1Q2FjaGVcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9scnUtY2FjaGVcIixcbiAgXCJtZW1vcnlcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9tZW1vcnlcIixcbiAgXCJtb25nb2RiXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvbW9uZ29kYlwiLFxuICBcIm5ldGxpZnktYmxvYnNcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9uZXRsaWZ5LWJsb2JzXCIsXG4gIFwibmV0bGlmeUJsb2JzXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvbmV0bGlmeS1ibG9ic1wiLFxuICBcIm51bGxcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9udWxsXCIsXG4gIFwib3ZlcmxheVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL292ZXJsYXlcIixcbiAgXCJwbGFuZXRzY2FsZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3BsYW5ldHNjYWxlXCIsXG4gIFwicmVkaXNcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9yZWRpc1wiLFxuICBcInMzXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvczNcIixcbiAgXCJzZXNzaW9uLXN0b3JhZ2VcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy9zZXNzaW9uLXN0b3JhZ2VcIixcbiAgXCJzZXNzaW9uU3RvcmFnZVwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3Nlc3Npb24tc3RvcmFnZVwiLFxuICBcInVwbG9hZHRoaW5nXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvdXBsb2FkdGhpbmdcIixcbiAgXCJ1cHN0YXNoXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvdXBzdGFzaFwiLFxuICBcInZlcmNlbC1ibG9iXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvdmVyY2VsLWJsb2JcIixcbiAgXCJ2ZXJjZWxCbG9iXCI6IFwidW5zdG9yYWdlL2RyaXZlcnMvdmVyY2VsLWJsb2JcIixcbiAgXCJ2ZXJjZWwta3ZcIjogXCJ1bnN0b3JhZ2UvZHJpdmVycy92ZXJjZWwta3ZcIixcbiAgXCJ2ZXJjZWxLVlwiOiBcInVuc3RvcmFnZS9kcml2ZXJzL3ZlcmNlbC1rdlwiXG59O1xuXG5leHBvcnQgeyBidWlsdGluRHJpdmVycywgY3JlYXRlU3RvcmFnZSwgZGVmaW5lRHJpdmVyLCBmaWx0ZXJLZXlCeUJhc2UsIGZpbHRlcktleUJ5RGVwdGgsIGpvaW5LZXlzLCBub3JtYWxpemVCYXNlS2V5LCBub3JtYWxpemVLZXksIHJlc3RvcmVTbmFwc2hvdCwgc25hcHNob3QgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/shared/unstorage.CoCt7NXC.mjs":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/core/node_modules/unstorage/dist/shared/unstorage.CoCt7NXC.mjs ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ normalizeKey),\n/* harmony export */   b: () => (/* binding */ asyncCall),\n/* harmony export */   c: () => (/* binding */ filterKeyByBase),\n/* harmony export */   d: () => (/* binding */ stringify),\n/* harmony export */   e: () => (/* binding */ deserializeRaw),\n/* harmony export */   f: () => (/* binding */ filterKeyByDepth),\n/* harmony export */   j: () => (/* binding */ joinKeys),\n/* harmony export */   n: () => (/* binding */ normalizeBaseKey),\n/* harmony export */   p: () => (/* binding */ prefixStorage),\n/* harmony export */   s: () => (/* binding */ serializeRaw)\n/* harmony export */ });\nfunction wrapToPromise(value) {\n  if (!value || typeof value.then !== \"function\") {\n    return Promise.resolve(value);\n  }\n  return value;\n}\nfunction asyncCall(function_, ...arguments_) {\n  try {\n    return wrapToPromise(function_(...arguments_));\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\nfunction isPrimitive(value) {\n  const type = typeof value;\n  return value === null || type !== \"object\" && type !== \"function\";\n}\nfunction isPureObject(value) {\n  const proto = Object.getPrototypeOf(value);\n  return !proto || proto.isPrototypeOf(Object);\n}\nfunction stringify(value) {\n  if (isPrimitive(value)) {\n    return String(value);\n  }\n  if (isPureObject(value) || Array.isArray(value)) {\n    return JSON.stringify(value);\n  }\n  if (typeof value.toJSON === \"function\") {\n    return stringify(value.toJSON());\n  }\n  throw new Error(\"[unstorage] Cannot stringify value!\");\n}\nconst BASE64_PREFIX = \"base64:\";\nfunction serializeRaw(value) {\n  if (typeof value === \"string\") {\n    return value;\n  }\n  return BASE64_PREFIX + base64Encode(value);\n}\nfunction deserializeRaw(value) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  if (!value.startsWith(BASE64_PREFIX)) {\n    return value;\n  }\n  return base64Decode(value.slice(BASE64_PREFIX.length));\n}\nfunction base64Decode(input) {\n  if (globalThis.Buffer) {\n    return Buffer.from(input, \"base64\");\n  }\n  return Uint8Array.from(\n    globalThis.atob(input),\n    (c) => c.codePointAt(0)\n  );\n}\nfunction base64Encode(input) {\n  if (globalThis.Buffer) {\n    return Buffer.from(input).toString(\"base64\");\n  }\n  return globalThis.btoa(String.fromCodePoint(...input));\n}\n\nconst storageKeyProperties = [\n  \"has\",\n  \"hasItem\",\n  \"get\",\n  \"getItem\",\n  \"getItemRaw\",\n  \"set\",\n  \"setItem\",\n  \"setItemRaw\",\n  \"del\",\n  \"remove\",\n  \"removeItem\",\n  \"getMeta\",\n  \"setMeta\",\n  \"removeMeta\",\n  \"getKeys\",\n  \"clear\",\n  \"mount\",\n  \"unmount\"\n];\nfunction prefixStorage(storage, base) {\n  base = normalizeBaseKey(base);\n  if (!base) {\n    return storage;\n  }\n  const nsStorage = { ...storage };\n  for (const property of storageKeyProperties) {\n    nsStorage[property] = (key = \"\", ...args) => (\n      // @ts-ignore\n      storage[property](base + key, ...args)\n    );\n  }\n  nsStorage.getKeys = (key = \"\", ...arguments_) => storage.getKeys(base + key, ...arguments_).then((keys) => keys.map((key2) => key2.slice(base.length)));\n  nsStorage.getItems = async (items, commonOptions) => {\n    const prefixedItems = items.map(\n      (item) => typeof item === \"string\" ? base + item : { ...item, key: base + item.key }\n    );\n    const results = await storage.getItems(prefixedItems, commonOptions);\n    return results.map((entry) => ({\n      key: entry.key.slice(base.length),\n      value: entry.value\n    }));\n  };\n  nsStorage.setItems = async (items, commonOptions) => {\n    const prefixedItems = items.map((item) => ({\n      key: base + item.key,\n      value: item.value,\n      options: item.options\n    }));\n    return storage.setItems(prefixedItems, commonOptions);\n  };\n  return nsStorage;\n}\nfunction normalizeKey(key) {\n  if (!key) {\n    return \"\";\n  }\n  return key.split(\"?\")[0]?.replace(/[/\\\\]/g, \":\").replace(/:+/g, \":\").replace(/^:|:$/g, \"\") || \"\";\n}\nfunction joinKeys(...keys) {\n  return normalizeKey(keys.join(\":\"));\n}\nfunction normalizeBaseKey(base) {\n  base = normalizeKey(base);\n  return base ? base + \":\" : \"\";\n}\nfunction filterKeyByDepth(key, depth) {\n  if (depth === void 0) {\n    return true;\n  }\n  let substrCount = 0;\n  let index = key.indexOf(\":\");\n  while (index > -1) {\n    substrCount++;\n    index = key.indexOf(\":\", index + 1);\n  }\n  return substrCount <= depth;\n}\nfunction filterKeyByBase(key, base) {\n  if (base) {\n    return key.startsWith(base) && key[key.length - 1] !== \"$\";\n  }\n  return key[key.length - 1] !== \"$\";\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9ub2RlX21vZHVsZXMvdW5zdG9yYWdlL2Rpc3Qvc2hhcmVkL3Vuc3RvcmFnZS5Db0N0N05YQy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTRNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2NvcmUvbm9kZV9tb2R1bGVzL3Vuc3RvcmFnZS9kaXN0L3NoYXJlZC91bnN0b3JhZ2UuQ29DdDdOWEMubWpzPzlkODUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gd3JhcFRvUHJvbWlzZSh2YWx1ZSkge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZS50aGVuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBhc3luY0NhbGwoZnVuY3Rpb25fLCAuLi5hcmd1bWVudHNfKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdyYXBUb1Byb21pc2UoZnVuY3Rpb25fKC4uLmFyZ3VtZW50c18pKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9XG59XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdHlwZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlICE9PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBpc1B1cmVPYmplY3QodmFsdWUpIHtcbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICByZXR1cm4gIXByb3RvIHx8IHByb3RvLmlzUHJvdG90eXBlT2YoT2JqZWN0KTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZSkge1xuICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH1cbiAgaWYgKGlzUHVyZU9iamVjdCh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUudG9KU09OID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gc3RyaW5naWZ5KHZhbHVlLnRvSlNPTigpKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJbdW5zdG9yYWdlXSBDYW5ub3Qgc3RyaW5naWZ5IHZhbHVlIVwiKTtcbn1cbmNvbnN0IEJBU0U2NF9QUkVGSVggPSBcImJhc2U2NDpcIjtcbmZ1bmN0aW9uIHNlcmlhbGl6ZVJhdyh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBCQVNFNjRfUFJFRklYICsgYmFzZTY0RW5jb2RlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplUmF3KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKCF2YWx1ZS5zdGFydHNXaXRoKEJBU0U2NF9QUkVGSVgpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBiYXNlNjREZWNvZGUodmFsdWUuc2xpY2UoQkFTRTY0X1BSRUZJWC5sZW5ndGgpKTtcbn1cbmZ1bmN0aW9uIGJhc2U2NERlY29kZShpbnB1dCkge1xuICBpZiAoZ2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oaW5wdXQsIFwiYmFzZTY0XCIpO1xuICB9XG4gIHJldHVybiBVaW50OEFycmF5LmZyb20oXG4gICAgZ2xvYmFsVGhpcy5hdG9iKGlucHV0KSxcbiAgICAoYykgPT4gYy5jb2RlUG9pbnRBdCgwKVxuICApO1xufVxuZnVuY3Rpb24gYmFzZTY0RW5jb2RlKGlucHV0KSB7XG4gIGlmIChnbG9iYWxUaGlzLkJ1ZmZlcikge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShpbnB1dCkudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gIH1cbiAgcmV0dXJuIGdsb2JhbFRoaXMuYnRvYShTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5pbnB1dCkpO1xufVxuXG5jb25zdCBzdG9yYWdlS2V5UHJvcGVydGllcyA9IFtcbiAgXCJoYXNcIixcbiAgXCJoYXNJdGVtXCIsXG4gIFwiZ2V0XCIsXG4gIFwiZ2V0SXRlbVwiLFxuICBcImdldEl0ZW1SYXdcIixcbiAgXCJzZXRcIixcbiAgXCJzZXRJdGVtXCIsXG4gIFwic2V0SXRlbVJhd1wiLFxuICBcImRlbFwiLFxuICBcInJlbW92ZVwiLFxuICBcInJlbW92ZUl0ZW1cIixcbiAgXCJnZXRNZXRhXCIsXG4gIFwic2V0TWV0YVwiLFxuICBcInJlbW92ZU1ldGFcIixcbiAgXCJnZXRLZXlzXCIsXG4gIFwiY2xlYXJcIixcbiAgXCJtb3VudFwiLFxuICBcInVubW91bnRcIlxuXTtcbmZ1bmN0aW9uIHByZWZpeFN0b3JhZ2Uoc3RvcmFnZSwgYmFzZSkge1xuICBiYXNlID0gbm9ybWFsaXplQmFzZUtleShiYXNlKTtcbiAgaWYgKCFiYXNlKSB7XG4gICAgcmV0dXJuIHN0b3JhZ2U7XG4gIH1cbiAgY29uc3QgbnNTdG9yYWdlID0geyAuLi5zdG9yYWdlIH07XG4gIGZvciAoY29uc3QgcHJvcGVydHkgb2Ygc3RvcmFnZUtleVByb3BlcnRpZXMpIHtcbiAgICBuc1N0b3JhZ2VbcHJvcGVydHldID0gKGtleSA9IFwiXCIsIC4uLmFyZ3MpID0+IChcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHN0b3JhZ2VbcHJvcGVydHldKGJhc2UgKyBrZXksIC4uLmFyZ3MpXG4gICAgKTtcbiAgfVxuICBuc1N0b3JhZ2UuZ2V0S2V5cyA9IChrZXkgPSBcIlwiLCAuLi5hcmd1bWVudHNfKSA9PiBzdG9yYWdlLmdldEtleXMoYmFzZSArIGtleSwgLi4uYXJndW1lbnRzXykudGhlbigoa2V5cykgPT4ga2V5cy5tYXAoKGtleTIpID0+IGtleTIuc2xpY2UoYmFzZS5sZW5ndGgpKSk7XG4gIG5zU3RvcmFnZS5nZXRJdGVtcyA9IGFzeW5jIChpdGVtcywgY29tbW9uT3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHByZWZpeGVkSXRlbXMgPSBpdGVtcy5tYXAoXG4gICAgICAoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIgPyBiYXNlICsgaXRlbSA6IHsgLi4uaXRlbSwga2V5OiBiYXNlICsgaXRlbS5rZXkgfVxuICAgICk7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHN0b3JhZ2UuZ2V0SXRlbXMocHJlZml4ZWRJdGVtcywgY29tbW9uT3B0aW9ucyk7XG4gICAgcmV0dXJuIHJlc3VsdHMubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgIGtleTogZW50cnkua2V5LnNsaWNlKGJhc2UubGVuZ3RoKSxcbiAgICAgIHZhbHVlOiBlbnRyeS52YWx1ZVxuICAgIH0pKTtcbiAgfTtcbiAgbnNTdG9yYWdlLnNldEl0ZW1zID0gYXN5bmMgKGl0ZW1zLCBjb21tb25PcHRpb25zKSA9PiB7XG4gICAgY29uc3QgcHJlZml4ZWRJdGVtcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgIGtleTogYmFzZSArIGl0ZW0ua2V5LFxuICAgICAgdmFsdWU6IGl0ZW0udmFsdWUsXG4gICAgICBvcHRpb25zOiBpdGVtLm9wdGlvbnNcbiAgICB9KSk7XG4gICAgcmV0dXJuIHN0b3JhZ2Uuc2V0SXRlbXMocHJlZml4ZWRJdGVtcywgY29tbW9uT3B0aW9ucyk7XG4gIH07XG4gIHJldHVybiBuc1N0b3JhZ2U7XG59XG5mdW5jdGlvbiBub3JtYWxpemVLZXkoa2V5KSB7XG4gIGlmICgha2V5KSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgcmV0dXJuIGtleS5zcGxpdChcIj9cIilbMF0/LnJlcGxhY2UoL1svXFxcXF0vZywgXCI6XCIpLnJlcGxhY2UoLzorL2csIFwiOlwiKS5yZXBsYWNlKC9eOnw6JC9nLCBcIlwiKSB8fCBcIlwiO1xufVxuZnVuY3Rpb24gam9pbktleXMoLi4ua2V5cykge1xuICByZXR1cm4gbm9ybWFsaXplS2V5KGtleXMuam9pbihcIjpcIikpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZUtleShiYXNlKSB7XG4gIGJhc2UgPSBub3JtYWxpemVLZXkoYmFzZSk7XG4gIHJldHVybiBiYXNlID8gYmFzZSArIFwiOlwiIDogXCJcIjtcbn1cbmZ1bmN0aW9uIGZpbHRlcktleUJ5RGVwdGgoa2V5LCBkZXB0aCkge1xuICBpZiAoZGVwdGggPT09IHZvaWQgMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGxldCBzdWJzdHJDb3VudCA9IDA7XG4gIGxldCBpbmRleCA9IGtleS5pbmRleE9mKFwiOlwiKTtcbiAgd2hpbGUgKGluZGV4ID4gLTEpIHtcbiAgICBzdWJzdHJDb3VudCsrO1xuICAgIGluZGV4ID0ga2V5LmluZGV4T2YoXCI6XCIsIGluZGV4ICsgMSk7XG4gIH1cbiAgcmV0dXJuIHN1YnN0ckNvdW50IDw9IGRlcHRoO1xufVxuZnVuY3Rpb24gZmlsdGVyS2V5QnlCYXNlKGtleSwgYmFzZSkge1xuICBpZiAoYmFzZSkge1xuICAgIHJldHVybiBrZXkuc3RhcnRzV2l0aChiYXNlKSAmJiBrZXlba2V5Lmxlbmd0aCAtIDFdICE9PSBcIiRcIjtcbiAgfVxuICByZXR1cm4ga2V5W2tleS5sZW5ndGggLSAxXSAhPT0gXCIkXCI7XG59XG5cbmV4cG9ydCB7IG5vcm1hbGl6ZUtleSBhcyBhLCBhc3luY0NhbGwgYXMgYiwgZmlsdGVyS2V5QnlCYXNlIGFzIGMsIHN0cmluZ2lmeSBhcyBkLCBkZXNlcmlhbGl6ZVJhdyBhcyBlLCBmaWx0ZXJLZXlCeURlcHRoIGFzIGYsIGpvaW5LZXlzIGFzIGosIG5vcm1hbGl6ZUJhc2VLZXkgYXMgbiwgcHJlZml4U3RvcmFnZSBhcyBwLCBzZXJpYWxpemVSYXcgYXMgcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/node_modules/unstorage/dist/shared/unstorage.CoCt7NXC.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-core/dist/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigCtrl: () => (/* binding */ ConfigCtrl),\n/* harmony export */   CoreUtil: () => (/* binding */ CoreUtil),\n/* harmony export */   EventsCtrl: () => (/* binding */ EventsCtrl),\n/* harmony export */   ExplorerCtrl: () => (/* binding */ ExplorerCtrl),\n/* harmony export */   ModalCtrl: () => (/* binding */ ModalCtrl),\n/* harmony export */   OptionsCtrl: () => (/* binding */ OptionsCtrl),\n/* harmony export */   RouterCtrl: () => (/* binding */ RouterCtrl),\n/* harmony export */   ThemeCtrl: () => (/* binding */ ThemeCtrl),\n/* harmony export */   ToastCtrl: () => (/* binding */ ToastCtrl)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/valtio/esm/vanilla.mjs\");\n\n\nconst state$7 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  history: [\"ConnectWallet\"],\n  view: \"ConnectWallet\",\n  data: void 0\n});\nconst RouterCtrl = {\n  state: state$7,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$7, () => callback(state$7));\n  },\n  push(view, data) {\n    if (view !== state$7.view) {\n      state$7.view = view;\n      if (data) {\n        state$7.data = data;\n      }\n      state$7.history.push(view);\n    }\n  },\n  reset(view) {\n    state$7.view = view;\n    state$7.history = [view];\n  },\n  replace(view) {\n    if (state$7.history.length > 1) {\n      state$7.history[state$7.history.length - 1] = view;\n      state$7.view = view;\n    }\n  },\n  goBack() {\n    if (state$7.history.length > 1) {\n      state$7.history.pop();\n      const [last] = state$7.history.slice(-1);\n      state$7.view = last;\n    }\n  },\n  setData(data) {\n    state$7.data = data;\n  }\n};\n\nconst CoreUtil = {\n  WALLETCONNECT_DEEPLINK_CHOICE: \"WALLETCONNECT_DEEPLINK_CHOICE\",\n  WCM_VERSION: \"WCM_VERSION\",\n  RECOMMENDED_WALLET_AMOUNT: 9,\n  isMobile() {\n    if (typeof window !== \"undefined\") {\n      return Boolean(\n        window.matchMedia(\"(pointer:coarse)\").matches || /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)\n      );\n    }\n    return false;\n  },\n  isAndroid() {\n    return CoreUtil.isMobile() && navigator.userAgent.toLowerCase().includes(\"android\");\n  },\n  isIos() {\n    const ua = navigator.userAgent.toLowerCase();\n    return CoreUtil.isMobile() && (ua.includes(\"iphone\") || ua.includes(\"ipad\"));\n  },\n  isHttpUrl(url) {\n    return url.startsWith(\"http://\") || url.startsWith(\"https://\");\n  },\n  isArray(data) {\n    return Array.isArray(data) && data.length > 0;\n  },\n  isTelegram() {\n    return typeof window !== \"undefined\" && // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (Boolean(window.TelegramWebviewProxy) || // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.Telegram) || // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.TelegramWebviewProxyProto));\n  },\n  formatNativeUrl(appUrl, wcUri, name) {\n    if (CoreUtil.isHttpUrl(appUrl)) {\n      return this.formatUniversalUrl(appUrl, wcUri, name);\n    }\n    let safeAppUrl = appUrl;\n    if (!safeAppUrl.includes(\"://\")) {\n      safeAppUrl = appUrl.replaceAll(\"/\", \"\").replaceAll(\":\", \"\");\n      safeAppUrl = `${safeAppUrl}://`;\n    }\n    if (!safeAppUrl.endsWith(\"/\")) {\n      safeAppUrl = `${safeAppUrl}/`;\n    }\n    this.setWalletConnectDeepLink(safeAppUrl, name);\n    const encodedWcUrl = encodeURIComponent(wcUri);\n    return `${safeAppUrl}wc?uri=${encodedWcUrl}`;\n  },\n  formatUniversalUrl(appUrl, wcUri, name) {\n    if (!CoreUtil.isHttpUrl(appUrl)) {\n      return this.formatNativeUrl(appUrl, wcUri, name);\n    }\n    let safeAppUrl = appUrl;\n    if (safeAppUrl.startsWith(\"https://t.me\")) {\n      const formattedUri = Buffer.from(wcUri).toString(\"base64\").replace(/[=]/g, \"\");\n      if (safeAppUrl.endsWith(\"/\")) {\n        safeAppUrl = safeAppUrl.slice(0, -1);\n      }\n      this.setWalletConnectDeepLink(safeAppUrl, name);\n      const url = new URL(safeAppUrl);\n      url.searchParams.set(\"startapp\", formattedUri);\n      const link = url.toString();\n      return link;\n    }\n    if (!safeAppUrl.endsWith(\"/\")) {\n      safeAppUrl = `${safeAppUrl}/`;\n    }\n    this.setWalletConnectDeepLink(safeAppUrl, name);\n    const encodedWcUrl = encodeURIComponent(wcUri);\n    return `${safeAppUrl}wc?uri=${encodedWcUrl}`;\n  },\n  async wait(miliseconds) {\n    return new Promise((resolve) => {\n      setTimeout(resolve, miliseconds);\n    });\n  },\n  openHref(href, target) {\n    const adjustedTarget = this.isTelegram() ? \"_blank\" : target;\n    window.open(href, adjustedTarget, \"noreferrer noopener\");\n  },\n  setWalletConnectDeepLink(href, name) {\n    try {\n      localStorage.setItem(CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE, JSON.stringify({ href, name }));\n    } catch (e) {\n      console.info(\"Unable to set WalletConnect deep link\");\n    }\n  },\n  setWalletConnectAndroidDeepLink(wcUri) {\n    try {\n      const [href] = wcUri.split(\"?\");\n      localStorage.setItem(\n        CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE,\n        JSON.stringify({ href, name: \"Android\" })\n      );\n    } catch (e) {\n      console.info(\"Unable to set WalletConnect android deep link\");\n    }\n  },\n  removeWalletConnectDeepLink() {\n    try {\n      localStorage.removeItem(CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE);\n    } catch (e) {\n      console.info(\"Unable to remove WalletConnect deep link\");\n    }\n  },\n  setModalVersionInStorage() {\n    try {\n      if (typeof localStorage !== \"undefined\") {\n        localStorage.setItem(CoreUtil.WCM_VERSION, \"2.7.0\");\n      }\n    } catch (e) {\n      console.info(\"Unable to set Web3Modal version in storage\");\n    }\n  },\n  getWalletRouterData() {\n    var _a;\n    const routerData = (_a = RouterCtrl.state.data) == null ? void 0 : _a.Wallet;\n    if (!routerData) {\n      throw new Error('Missing \"Wallet\" view data');\n    }\n    return routerData;\n  }\n};\n\nconst isEnabled = typeof location !== \"undefined\" && (location.hostname.includes(\"localhost\") || location.protocol.includes(\"https\"));\nconst state$6 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  enabled: isEnabled,\n  userSessionId: \"\",\n  events: [],\n  connectedWalletId: void 0\n});\nconst EventsCtrl = {\n  state: state$6,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$6.events, () => callback((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state$6.events[state$6.events.length - 1])));\n  },\n  initialize() {\n    if (state$6.enabled && typeof (crypto == null ? void 0 : crypto.randomUUID) !== \"undefined\") {\n      state$6.userSessionId = crypto.randomUUID();\n    }\n  },\n  setConnectedWalletId(connectedWalletId) {\n    state$6.connectedWalletId = connectedWalletId;\n  },\n  click(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"CLICK\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  },\n  track(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"TRACK\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  },\n  view(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"VIEW\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  }\n};\n\nconst state$5 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  chains: void 0,\n  walletConnectUri: void 0,\n  isAuth: false,\n  isCustomDesktop: false,\n  isCustomMobile: false,\n  isDataLoaded: false,\n  isUiLoaded: false\n});\nconst OptionsCtrl = {\n  state: state$5,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$5, () => callback(state$5));\n  },\n  setChains(chains) {\n    state$5.chains = chains;\n  },\n  setWalletConnectUri(walletConnectUri) {\n    state$5.walletConnectUri = walletConnectUri;\n  },\n  setIsCustomDesktop(isCustomDesktop) {\n    state$5.isCustomDesktop = isCustomDesktop;\n  },\n  setIsCustomMobile(isCustomMobile) {\n    state$5.isCustomMobile = isCustomMobile;\n  },\n  setIsDataLoaded(isDataLoaded) {\n    state$5.isDataLoaded = isDataLoaded;\n  },\n  setIsUiLoaded(isUiLoaded) {\n    state$5.isUiLoaded = isUiLoaded;\n  },\n  setIsAuth(isAuth) {\n    state$5.isAuth = isAuth;\n  }\n};\n\nconst state$4 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  projectId: \"\",\n  mobileWallets: void 0,\n  desktopWallets: void 0,\n  walletImages: void 0,\n  chains: void 0,\n  enableAuthMode: false,\n  enableExplorer: true,\n  explorerExcludedWalletIds: void 0,\n  explorerRecommendedWalletIds: void 0,\n  termsOfServiceUrl: void 0,\n  privacyPolicyUrl: void 0\n});\nconst ConfigCtrl = {\n  state: state$4,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$4, () => callback(state$4));\n  },\n  setConfig(config) {\n    var _a, _b;\n    EventsCtrl.initialize();\n    OptionsCtrl.setChains(config.chains);\n    OptionsCtrl.setIsAuth(Boolean(config.enableAuthMode));\n    OptionsCtrl.setIsCustomMobile(Boolean((_a = config.mobileWallets) == null ? void 0 : _a.length));\n    OptionsCtrl.setIsCustomDesktop(Boolean((_b = config.desktopWallets) == null ? void 0 : _b.length));\n    CoreUtil.setModalVersionInStorage();\n    Object.assign(state$4, config);\n  }\n};\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nconst W3M_API = \"https://explorer-api.walletconnect.com\";\nconst SDK_TYPE = \"wcm\";\nconst SDK_VERSION = `js-${\"2.7.0\"}`;\nasync function fetchListings(endpoint, params) {\n  const allParams = __spreadValues$2({ sdkType: SDK_TYPE, sdkVersion: SDK_VERSION }, params);\n  const url = new URL(endpoint, W3M_API);\n  url.searchParams.append(\"projectId\", ConfigCtrl.state.projectId);\n  Object.entries(allParams).forEach(([key, value]) => {\n    if (value) {\n      url.searchParams.append(key, String(value));\n    }\n  });\n  const request = await fetch(url);\n  return request.json();\n}\nconst ExplorerUtil = {\n  async getDesktopListings(params) {\n    return fetchListings(\"/w3m/v1/getDesktopListings\", params);\n  },\n  async getMobileListings(params) {\n    return fetchListings(\"/w3m/v1/getMobileListings\", params);\n  },\n  async getInjectedListings(params) {\n    return fetchListings(\"/w3m/v1/getInjectedListings\", params);\n  },\n  async getAllListings(params) {\n    return fetchListings(\"/w3m/v1/getAllListings\", params);\n  },\n  getWalletImageUrl(imageId) {\n    return `${W3M_API}/w3m/v1/getWalletImage/${imageId}?projectId=${ConfigCtrl.state.projectId}&sdkType=${SDK_TYPE}&sdkVersion=${SDK_VERSION}`;\n  },\n  getAssetImageUrl(imageId) {\n    return `${W3M_API}/w3m/v1/getAssetImage/${imageId}?projectId=${ConfigCtrl.state.projectId}&sdkType=${SDK_TYPE}&sdkVersion=${SDK_VERSION}`;\n  }\n};\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nconst isMobile = CoreUtil.isMobile();\nconst state$3 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  wallets: { listings: [], total: 0, page: 1 },\n  search: { listings: [], total: 0, page: 1 },\n  recomendedWallets: []\n});\nconst ExplorerCtrl = {\n  state: state$3,\n  async getRecomendedWallets() {\n    const { explorerRecommendedWalletIds, explorerExcludedWalletIds } = ConfigCtrl.state;\n    if (explorerRecommendedWalletIds === \"NONE\" || explorerExcludedWalletIds === \"ALL\" && !explorerRecommendedWalletIds) {\n      return state$3.recomendedWallets;\n    }\n    if (CoreUtil.isArray(explorerRecommendedWalletIds)) {\n      const recommendedIds = explorerRecommendedWalletIds.join(\",\");\n      const params = { recommendedIds };\n      const { listings } = await ExplorerUtil.getAllListings(params);\n      const listingsArr = Object.values(listings);\n      listingsArr.sort((a, b) => {\n        const aIndex = explorerRecommendedWalletIds.indexOf(a.id);\n        const bIndex = explorerRecommendedWalletIds.indexOf(b.id);\n        return aIndex - bIndex;\n      });\n      state$3.recomendedWallets = listingsArr;\n    } else {\n      const { chains, isAuth } = OptionsCtrl.state;\n      const chainsFilter = chains == null ? void 0 : chains.join(\",\");\n      const isExcluded = CoreUtil.isArray(explorerExcludedWalletIds);\n      const params = {\n        page: 1,\n        sdks: isAuth ? \"auth_v1\" : void 0,\n        entries: CoreUtil.RECOMMENDED_WALLET_AMOUNT,\n        chains: chainsFilter,\n        version: 2,\n        excludedIds: isExcluded ? explorerExcludedWalletIds.join(\",\") : void 0\n      };\n      const { listings } = isMobile ? await ExplorerUtil.getMobileListings(params) : await ExplorerUtil.getDesktopListings(params);\n      state$3.recomendedWallets = Object.values(listings);\n    }\n    return state$3.recomendedWallets;\n  },\n  async getWallets(params) {\n    const extendedParams = __spreadValues$1({}, params);\n    const { explorerRecommendedWalletIds, explorerExcludedWalletIds } = ConfigCtrl.state;\n    const { recomendedWallets } = state$3;\n    if (explorerExcludedWalletIds === \"ALL\") {\n      return state$3.wallets;\n    }\n    if (recomendedWallets.length) {\n      extendedParams.excludedIds = recomendedWallets.map((wallet) => wallet.id).join(\",\");\n    } else if (CoreUtil.isArray(explorerRecommendedWalletIds)) {\n      extendedParams.excludedIds = explorerRecommendedWalletIds.join(\",\");\n    }\n    if (CoreUtil.isArray(explorerExcludedWalletIds)) {\n      extendedParams.excludedIds = [extendedParams.excludedIds, explorerExcludedWalletIds].filter(Boolean).join(\",\");\n    }\n    if (OptionsCtrl.state.isAuth) {\n      extendedParams.sdks = \"auth_v1\";\n    }\n    const { page, search } = params;\n    const { listings: listingsObj, total } = isMobile ? await ExplorerUtil.getMobileListings(extendedParams) : await ExplorerUtil.getDesktopListings(extendedParams);\n    const listings = Object.values(listingsObj);\n    const type = search ? \"search\" : \"wallets\";\n    state$3[type] = {\n      listings: [...state$3[type].listings, ...listings],\n      total,\n      page: page != null ? page : 1\n    };\n    return { listings, total };\n  },\n  getWalletImageUrl(imageId) {\n    return ExplorerUtil.getWalletImageUrl(imageId);\n  },\n  getAssetImageUrl(imageId) {\n    return ExplorerUtil.getAssetImageUrl(imageId);\n  },\n  resetSearch() {\n    state$3.search = { listings: [], total: 0, page: 1 };\n  }\n};\n\nconst state$2 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  open: false\n});\nconst ModalCtrl = {\n  state: state$2,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$2, () => callback(state$2));\n  },\n  async open(options) {\n    return new Promise((resolve) => {\n      const { isUiLoaded, isDataLoaded } = OptionsCtrl.state;\n      CoreUtil.removeWalletConnectDeepLink();\n      OptionsCtrl.setWalletConnectUri(options == null ? void 0 : options.uri);\n      OptionsCtrl.setChains(options == null ? void 0 : options.chains);\n      RouterCtrl.reset(\"ConnectWallet\");\n      if (isUiLoaded && isDataLoaded) {\n        state$2.open = true;\n        resolve();\n      } else {\n        const interval = setInterval(() => {\n          const opts = OptionsCtrl.state;\n          if (opts.isUiLoaded && opts.isDataLoaded) {\n            clearInterval(interval);\n            state$2.open = true;\n            resolve();\n          }\n        }, 200);\n      }\n    });\n  },\n  close() {\n    state$2.open = false;\n  }\n};\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction isDarkMode() {\n  return typeof matchMedia !== \"undefined\" && matchMedia(\"(prefers-color-scheme: dark)\").matches;\n}\nconst state$1 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  themeMode: isDarkMode() ? \"dark\" : \"light\"\n});\nconst ThemeCtrl = {\n  state: state$1,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$1, () => callback(state$1));\n  },\n  setThemeConfig(theme) {\n    const { themeMode, themeVariables } = theme;\n    if (themeMode) {\n      state$1.themeMode = themeMode;\n    }\n    if (themeVariables) {\n      state$1.themeVariables = __spreadValues({}, themeVariables);\n    }\n  }\n};\n\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  open: false,\n  message: \"\",\n  variant: \"success\"\n});\nconst ToastCtrl = {\n  state,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n  },\n  openToast(message, variant) {\n    state.open = true;\n    state.message = message;\n    state.variant = variant;\n  },\n  closeToast() {\n    state.open = false;\n  }\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7O0FBRTVELGdCQUFnQixxREFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5REFBUztBQUNwQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixXQUFXO0FBQ2pDO0FBQ0E7QUFDQSxzQkFBc0IsV0FBVztBQUNqQztBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVcsU0FBUyxhQUFhO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFdBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXLFNBQVMsYUFBYTtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxH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QTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFTO0FBQ3BCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFb0g7QUFDcEgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9kaXN0L2luZGV4LmpzPzUwZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSwgc25hcHNob3QgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5cbmNvbnN0IHN0YXRlJDcgPSBwcm94eSh7XG4gIGhpc3Rvcnk6IFtcIkNvbm5lY3RXYWxsZXRcIl0sXG4gIHZpZXc6IFwiQ29ubmVjdFdhbGxldFwiLFxuICBkYXRhOiB2b2lkIDBcbn0pO1xuY29uc3QgUm91dGVyQ3RybCA9IHtcbiAgc3RhdGU6IHN0YXRlJDcsXG4gIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUkNywgKCkgPT4gY2FsbGJhY2soc3RhdGUkNykpO1xuICB9LFxuICBwdXNoKHZpZXcsIGRhdGEpIHtcbiAgICBpZiAodmlldyAhPT0gc3RhdGUkNy52aWV3KSB7XG4gICAgICBzdGF0ZSQ3LnZpZXcgPSB2aWV3O1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgc3RhdGUkNy5kYXRhID0gZGF0YTtcbiAgICAgIH1cbiAgICAgIHN0YXRlJDcuaGlzdG9yeS5wdXNoKHZpZXcpO1xuICAgIH1cbiAgfSxcbiAgcmVzZXQodmlldykge1xuICAgIHN0YXRlJDcudmlldyA9IHZpZXc7XG4gICAgc3RhdGUkNy5oaXN0b3J5ID0gW3ZpZXddO1xuICB9LFxuICByZXBsYWNlKHZpZXcpIHtcbiAgICBpZiAoc3RhdGUkNy5oaXN0b3J5Lmxlbmd0aCA+IDEpIHtcbiAgICAgIHN0YXRlJDcuaGlzdG9yeVtzdGF0ZSQ3Lmhpc3RvcnkubGVuZ3RoIC0gMV0gPSB2aWV3O1xuICAgICAgc3RhdGUkNy52aWV3ID0gdmlldztcbiAgICB9XG4gIH0sXG4gIGdvQmFjaygpIHtcbiAgICBpZiAoc3RhdGUkNy5oaXN0b3J5Lmxlbmd0aCA+IDEpIHtcbiAgICAgIHN0YXRlJDcuaGlzdG9yeS5wb3AoKTtcbiAgICAgIGNvbnN0IFtsYXN0XSA9IHN0YXRlJDcuaGlzdG9yeS5zbGljZSgtMSk7XG4gICAgICBzdGF0ZSQ3LnZpZXcgPSBsYXN0O1xuICAgIH1cbiAgfSxcbiAgc2V0RGF0YShkYXRhKSB7XG4gICAgc3RhdGUkNy5kYXRhID0gZGF0YTtcbiAgfVxufTtcblxuY29uc3QgQ29yZVV0aWwgPSB7XG4gIFdBTExFVENPTk5FQ1RfREVFUExJTktfQ0hPSUNFOiBcIldBTExFVENPTk5FQ1RfREVFUExJTktfQ0hPSUNFXCIsXG4gIFdDTV9WRVJTSU9OOiBcIldDTV9WRVJTSU9OXCIsXG4gIFJFQ09NTUVOREVEX1dBTExFVF9BTU9VTlQ6IDksXG4gIGlzTW9iaWxlKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgd2luZG93Lm1hdGNoTWVkaWEoXCIocG9pbnRlcjpjb2Fyc2UpXCIpLm1hdGNoZXMgfHwgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fE9wZXJhIE1pbmkvdS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzQW5kcm9pZCgpIHtcbiAgICByZXR1cm4gQ29yZVV0aWwuaXNNb2JpbGUoKSAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJhbmRyb2lkXCIpO1xuICB9LFxuICBpc0lvcygpIHtcbiAgICBjb25zdCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gQ29yZVV0aWwuaXNNb2JpbGUoKSAmJiAodWEuaW5jbHVkZXMoXCJpcGhvbmVcIikgfHwgdWEuaW5jbHVkZXMoXCJpcGFkXCIpKTtcbiAgfSxcbiAgaXNIdHRwVXJsKHVybCkge1xuICAgIHJldHVybiB1cmwuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgfHwgdXJsLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKTtcbiAgfSxcbiAgaXNBcnJheShkYXRhKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YSkgJiYgZGF0YS5sZW5ndGggPiAwO1xuICB9LFxuICBpc1RlbGVncmFtKCkge1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKEJvb2xlYW4od2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5KSB8fCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEJvb2xlYW4od2luZG93LlRlbGVncmFtKSB8fCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEJvb2xlYW4od2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5UHJvdG8pKTtcbiAgfSxcbiAgZm9ybWF0TmF0aXZlVXJsKGFwcFVybCwgd2NVcmksIG5hbWUpIHtcbiAgICBpZiAoQ29yZVV0aWwuaXNIdHRwVXJsKGFwcFVybCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdFVuaXZlcnNhbFVybChhcHBVcmwsIHdjVXJpLCBuYW1lKTtcbiAgICB9XG4gICAgbGV0IHNhZmVBcHBVcmwgPSBhcHBVcmw7XG4gICAgaWYgKCFzYWZlQXBwVXJsLmluY2x1ZGVzKFwiOi8vXCIpKSB7XG4gICAgICBzYWZlQXBwVXJsID0gYXBwVXJsLnJlcGxhY2VBbGwoXCIvXCIsIFwiXCIpLnJlcGxhY2VBbGwoXCI6XCIsIFwiXCIpO1xuICAgICAgc2FmZUFwcFVybCA9IGAke3NhZmVBcHBVcmx9Oi8vYDtcbiAgICB9XG4gICAgaWYgKCFzYWZlQXBwVXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgc2FmZUFwcFVybCA9IGAke3NhZmVBcHBVcmx9L2A7XG4gICAgfVxuICAgIHRoaXMuc2V0V2FsbGV0Q29ubmVjdERlZXBMaW5rKHNhZmVBcHBVcmwsIG5hbWUpO1xuICAgIGNvbnN0IGVuY29kZWRXY1VybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3Y1VyaSk7XG4gICAgcmV0dXJuIGAke3NhZmVBcHBVcmx9d2M/dXJpPSR7ZW5jb2RlZFdjVXJsfWA7XG4gIH0sXG4gIGZvcm1hdFVuaXZlcnNhbFVybChhcHBVcmwsIHdjVXJpLCBuYW1lKSB7XG4gICAgaWYgKCFDb3JlVXRpbC5pc0h0dHBVcmwoYXBwVXJsKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0TmF0aXZlVXJsKGFwcFVybCwgd2NVcmksIG5hbWUpO1xuICAgIH1cbiAgICBsZXQgc2FmZUFwcFVybCA9IGFwcFVybDtcbiAgICBpZiAoc2FmZUFwcFVybC5zdGFydHNXaXRoKFwiaHR0cHM6Ly90Lm1lXCIpKSB7XG4gICAgICBjb25zdCBmb3JtYXR0ZWRVcmkgPSBCdWZmZXIuZnJvbSh3Y1VyaSkudG9TdHJpbmcoXCJiYXNlNjRcIikucmVwbGFjZSgvWz1dL2csIFwiXCIpO1xuICAgICAgaWYgKHNhZmVBcHBVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHNhZmVBcHBVcmwgPSBzYWZlQXBwVXJsLnNsaWNlKDAsIC0xKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0V2FsbGV0Q29ubmVjdERlZXBMaW5rKHNhZmVBcHBVcmwsIG5hbWUpO1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChzYWZlQXBwVXJsKTtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwic3RhcnRhcHBcIiwgZm9ybWF0dGVkVXJpKTtcbiAgICAgIGNvbnN0IGxpbmsgPSB1cmwudG9TdHJpbmcoKTtcbiAgICAgIHJldHVybiBsaW5rO1xuICAgIH1cbiAgICBpZiAoIXNhZmVBcHBVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH0vYDtcbiAgICB9XG4gICAgdGhpcy5zZXRXYWxsZXRDb25uZWN0RGVlcExpbmsoc2FmZUFwcFVybCwgbmFtZSk7XG4gICAgY29uc3QgZW5jb2RlZFdjVXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHdjVXJpKTtcbiAgICByZXR1cm4gYCR7c2FmZUFwcFVybH13Yz91cmk9JHtlbmNvZGVkV2NVcmx9YDtcbiAgfSxcbiAgYXN5bmMgd2FpdChtaWxpc2Vjb25kcykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBtaWxpc2Vjb25kcyk7XG4gICAgfSk7XG4gIH0sXG4gIG9wZW5IcmVmKGhyZWYsIHRhcmdldCkge1xuICAgIGNvbnN0IGFkanVzdGVkVGFyZ2V0ID0gdGhpcy5pc1RlbGVncmFtKCkgPyBcIl9ibGFua1wiIDogdGFyZ2V0O1xuICAgIHdpbmRvdy5vcGVuKGhyZWYsIGFkanVzdGVkVGFyZ2V0LCBcIm5vcmVmZXJyZXIgbm9vcGVuZXJcIik7XG4gIH0sXG4gIHNldFdhbGxldENvbm5lY3REZWVwTGluayhocmVmLCBuYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKENvcmVVdGlsLldBTExFVENPTk5FQ1RfREVFUExJTktfQ0hPSUNFLCBKU09OLnN0cmluZ2lmeSh7IGhyZWYsIG5hbWUgfSkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlVuYWJsZSB0byBzZXQgV2FsbGV0Q29ubmVjdCBkZWVwIGxpbmtcIik7XG4gICAgfVxuICB9LFxuICBzZXRXYWxsZXRDb25uZWN0QW5kcm9pZERlZXBMaW5rKHdjVXJpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IFtocmVmXSA9IHdjVXJpLnNwbGl0KFwiP1wiKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICBDb3JlVXRpbC5XQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoeyBocmVmLCBuYW1lOiBcIkFuZHJvaWRcIiB9KVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmluZm8oXCJVbmFibGUgdG8gc2V0IFdhbGxldENvbm5lY3QgYW5kcm9pZCBkZWVwIGxpbmtcIik7XG4gICAgfVxuICB9LFxuICByZW1vdmVXYWxsZXRDb25uZWN0RGVlcExpbmsoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKENvcmVVdGlsLldBTExFVENPTk5FQ1RfREVFUExJTktfQ0hPSUNFKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmluZm8oXCJVbmFibGUgdG8gcmVtb3ZlIFdhbGxldENvbm5lY3QgZGVlcCBsaW5rXCIpO1xuICAgIH1cbiAgfSxcbiAgc2V0TW9kYWxWZXJzaW9uSW5TdG9yYWdlKCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDb3JlVXRpbC5XQ01fVkVSU0lPTiwgXCIyLjcuMFwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmluZm8oXCJVbmFibGUgdG8gc2V0IFdlYjNNb2RhbCB2ZXJzaW9uIGluIHN0b3JhZ2VcIik7XG4gICAgfVxuICB9LFxuICBnZXRXYWxsZXRSb3V0ZXJEYXRhKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByb3V0ZXJEYXRhID0gKF9hID0gUm91dGVyQ3RybC5zdGF0ZS5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2EuV2FsbGV0O1xuICAgIGlmICghcm91dGVyRGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFwiV2FsbGV0XCIgdmlldyBkYXRhJyk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZXJEYXRhO1xuICB9XG59O1xuXG5jb25zdCBpc0VuYWJsZWQgPSB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgKGxvY2F0aW9uLmhvc3RuYW1lLmluY2x1ZGVzKFwibG9jYWxob3N0XCIpIHx8IGxvY2F0aW9uLnByb3RvY29sLmluY2x1ZGVzKFwiaHR0cHNcIikpO1xuY29uc3Qgc3RhdGUkNiA9IHByb3h5KHtcbiAgZW5hYmxlZDogaXNFbmFibGVkLFxuICB1c2VyU2Vzc2lvbklkOiBcIlwiLFxuICBldmVudHM6IFtdLFxuICBjb25uZWN0ZWRXYWxsZXRJZDogdm9pZCAwXG59KTtcbmNvbnN0IEV2ZW50c0N0cmwgPSB7XG4gIHN0YXRlOiBzdGF0ZSQ2LFxuICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlJDYuZXZlbnRzLCAoKSA9PiBjYWxsYmFjayhzbmFwc2hvdChzdGF0ZSQ2LmV2ZW50c1tzdGF0ZSQ2LmV2ZW50cy5sZW5ndGggLSAxXSkpKTtcbiAgfSxcbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBpZiAoc3RhdGUkNi5lbmFibGVkICYmIHR5cGVvZiAoY3J5cHRvID09IG51bGwgPyB2b2lkIDAgOiBjcnlwdG8ucmFuZG9tVVVJRCkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHN0YXRlJDYudXNlclNlc3Npb25JZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgfVxuICB9LFxuICBzZXRDb25uZWN0ZWRXYWxsZXRJZChjb25uZWN0ZWRXYWxsZXRJZCkge1xuICAgIHN0YXRlJDYuY29ubmVjdGVkV2FsbGV0SWQgPSBjb25uZWN0ZWRXYWxsZXRJZDtcbiAgfSxcbiAgY2xpY2soZGF0YSkge1xuICAgIGlmIChzdGF0ZSQ2LmVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcIkNMSUNLXCIsXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgdXNlclNlc3Npb25JZDogc3RhdGUkNi51c2VyU2Vzc2lvbklkLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGRhdGFcbiAgICAgIH07XG4gICAgICBzdGF0ZSQ2LmV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9XG4gIH0sXG4gIHRyYWNrKGRhdGEpIHtcbiAgICBpZiAoc3RhdGUkNi5lbmFibGVkKSB7XG4gICAgICBjb25zdCBldmVudCA9IHtcbiAgICAgICAgdHlwZTogXCJUUkFDS1wiLFxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIHVzZXJTZXNzaW9uSWQ6IHN0YXRlJDYudXNlclNlc3Npb25JZCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBkYXRhXG4gICAgICB9O1xuICAgICAgc3RhdGUkNi5ldmVudHMucHVzaChldmVudCk7XG4gICAgfVxuICB9LFxuICB2aWV3KGRhdGEpIHtcbiAgICBpZiAoc3RhdGUkNi5lbmFibGVkKSB7XG4gICAgICBjb25zdCBldmVudCA9IHtcbiAgICAgICAgdHlwZTogXCJWSUVXXCIsXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgdXNlclNlc3Npb25JZDogc3RhdGUkNi51c2VyU2Vzc2lvbklkLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGRhdGFcbiAgICAgIH07XG4gICAgICBzdGF0ZSQ2LmV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHN0YXRlJDUgPSBwcm94eSh7XG4gIGNoYWluczogdm9pZCAwLFxuICB3YWxsZXRDb25uZWN0VXJpOiB2b2lkIDAsXG4gIGlzQXV0aDogZmFsc2UsXG4gIGlzQ3VzdG9tRGVza3RvcDogZmFsc2UsXG4gIGlzQ3VzdG9tTW9iaWxlOiBmYWxzZSxcbiAgaXNEYXRhTG9hZGVkOiBmYWxzZSxcbiAgaXNVaUxvYWRlZDogZmFsc2Vcbn0pO1xuY29uc3QgT3B0aW9uc0N0cmwgPSB7XG4gIHN0YXRlOiBzdGF0ZSQ1LFxuICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlJDUsICgpID0+IGNhbGxiYWNrKHN0YXRlJDUpKTtcbiAgfSxcbiAgc2V0Q2hhaW5zKGNoYWlucykge1xuICAgIHN0YXRlJDUuY2hhaW5zID0gY2hhaW5zO1xuICB9LFxuICBzZXRXYWxsZXRDb25uZWN0VXJpKHdhbGxldENvbm5lY3RVcmkpIHtcbiAgICBzdGF0ZSQ1LndhbGxldENvbm5lY3RVcmkgPSB3YWxsZXRDb25uZWN0VXJpO1xuICB9LFxuICBzZXRJc0N1c3RvbURlc2t0b3AoaXNDdXN0b21EZXNrdG9wKSB7XG4gICAgc3RhdGUkNS5pc0N1c3RvbURlc2t0b3AgPSBpc0N1c3RvbURlc2t0b3A7XG4gIH0sXG4gIHNldElzQ3VzdG9tTW9iaWxlKGlzQ3VzdG9tTW9iaWxlKSB7XG4gICAgc3RhdGUkNS5pc0N1c3RvbU1vYmlsZSA9IGlzQ3VzdG9tTW9iaWxlO1xuICB9LFxuICBzZXRJc0RhdGFMb2FkZWQoaXNEYXRhTG9hZGVkKSB7XG4gICAgc3RhdGUkNS5pc0RhdGFMb2FkZWQgPSBpc0RhdGFMb2FkZWQ7XG4gIH0sXG4gIHNldElzVWlMb2FkZWQoaXNVaUxvYWRlZCkge1xuICAgIHN0YXRlJDUuaXNVaUxvYWRlZCA9IGlzVWlMb2FkZWQ7XG4gIH0sXG4gIHNldElzQXV0aChpc0F1dGgpIHtcbiAgICBzdGF0ZSQ1LmlzQXV0aCA9IGlzQXV0aDtcbiAgfVxufTtcblxuY29uc3Qgc3RhdGUkNCA9IHByb3h5KHtcbiAgcHJvamVjdElkOiBcIlwiLFxuICBtb2JpbGVXYWxsZXRzOiB2b2lkIDAsXG4gIGRlc2t0b3BXYWxsZXRzOiB2b2lkIDAsXG4gIHdhbGxldEltYWdlczogdm9pZCAwLFxuICBjaGFpbnM6IHZvaWQgMCxcbiAgZW5hYmxlQXV0aE1vZGU6IGZhbHNlLFxuICBlbmFibGVFeHBsb3JlcjogdHJ1ZSxcbiAgZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkczogdm9pZCAwLFxuICBleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzOiB2b2lkIDAsXG4gIHRlcm1zT2ZTZXJ2aWNlVXJsOiB2b2lkIDAsXG4gIHByaXZhY3lQb2xpY3lVcmw6IHZvaWQgMFxufSk7XG5jb25zdCBDb25maWdDdHJsID0ge1xuICBzdGF0ZTogc3RhdGUkNCxcbiAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSQ0LCAoKSA9PiBjYWxsYmFjayhzdGF0ZSQ0KSk7XG4gIH0sXG4gIHNldENvbmZpZyhjb25maWcpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIEV2ZW50c0N0cmwuaW5pdGlhbGl6ZSgpO1xuICAgIE9wdGlvbnNDdHJsLnNldENoYWlucyhjb25maWcuY2hhaW5zKTtcbiAgICBPcHRpb25zQ3RybC5zZXRJc0F1dGgoQm9vbGVhbihjb25maWcuZW5hYmxlQXV0aE1vZGUpKTtcbiAgICBPcHRpb25zQ3RybC5zZXRJc0N1c3RvbU1vYmlsZShCb29sZWFuKChfYSA9IGNvbmZpZy5tb2JpbGVXYWxsZXRzKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGVuZ3RoKSk7XG4gICAgT3B0aW9uc0N0cmwuc2V0SXNDdXN0b21EZXNrdG9wKEJvb2xlYW4oKF9iID0gY29uZmlnLmRlc2t0b3BXYWxsZXRzKSA9PSBudWxsID8gdm9pZCAwIDogX2IubGVuZ3RoKSk7XG4gICAgQ29yZVV0aWwuc2V0TW9kYWxWZXJzaW9uSW5TdG9yYWdlKCk7XG4gICAgT2JqZWN0LmFzc2lnbihzdGF0ZSQ0LCBjb25maWcpO1xuICB9XG59O1xuXG52YXIgX19kZWZQcm9wJDIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQyID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkMiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDIgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQyID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQyKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQyID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkMi5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDIoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDIpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDIoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kMi5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkMihhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmNvbnN0IFczTV9BUEkgPSBcImh0dHBzOi8vZXhwbG9yZXItYXBpLndhbGxldGNvbm5lY3QuY29tXCI7XG5jb25zdCBTREtfVFlQRSA9IFwid2NtXCI7XG5jb25zdCBTREtfVkVSU0lPTiA9IGBqcy0ke1wiMi43LjBcIn1gO1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hMaXN0aW5ncyhlbmRwb2ludCwgcGFyYW1zKSB7XG4gIGNvbnN0IGFsbFBhcmFtcyA9IF9fc3ByZWFkVmFsdWVzJDIoeyBzZGtUeXBlOiBTREtfVFlQRSwgc2RrVmVyc2lvbjogU0RLX1ZFUlNJT04gfSwgcGFyYW1zKTtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChlbmRwb2ludCwgVzNNX0FQSSk7XG4gIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwicHJvamVjdElkXCIsIENvbmZpZ0N0cmwuc3RhdGUucHJvamVjdElkKTtcbiAgT2JqZWN0LmVudHJpZXMoYWxsUGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IGZldGNoKHVybCk7XG4gIHJldHVybiByZXF1ZXN0Lmpzb24oKTtcbn1cbmNvbnN0IEV4cGxvcmVyVXRpbCA9IHtcbiAgYXN5bmMgZ2V0RGVza3RvcExpc3RpbmdzKHBhcmFtcykge1xuICAgIHJldHVybiBmZXRjaExpc3RpbmdzKFwiL3czbS92MS9nZXREZXNrdG9wTGlzdGluZ3NcIiwgcGFyYW1zKTtcbiAgfSxcbiAgYXN5bmMgZ2V0TW9iaWxlTGlzdGluZ3MocGFyYW1zKSB7XG4gICAgcmV0dXJuIGZldGNoTGlzdGluZ3MoXCIvdzNtL3YxL2dldE1vYmlsZUxpc3RpbmdzXCIsIHBhcmFtcyk7XG4gIH0sXG4gIGFzeW5jIGdldEluamVjdGVkTGlzdGluZ3MocGFyYW1zKSB7XG4gICAgcmV0dXJuIGZldGNoTGlzdGluZ3MoXCIvdzNtL3YxL2dldEluamVjdGVkTGlzdGluZ3NcIiwgcGFyYW1zKTtcbiAgfSxcbiAgYXN5bmMgZ2V0QWxsTGlzdGluZ3MocGFyYW1zKSB7XG4gICAgcmV0dXJuIGZldGNoTGlzdGluZ3MoXCIvdzNtL3YxL2dldEFsbExpc3RpbmdzXCIsIHBhcmFtcyk7XG4gIH0sXG4gIGdldFdhbGxldEltYWdlVXJsKGltYWdlSWQpIHtcbiAgICByZXR1cm4gYCR7VzNNX0FQSX0vdzNtL3YxL2dldFdhbGxldEltYWdlLyR7aW1hZ2VJZH0/cHJvamVjdElkPSR7Q29uZmlnQ3RybC5zdGF0ZS5wcm9qZWN0SWR9JnNka1R5cGU9JHtTREtfVFlQRX0mc2RrVmVyc2lvbj0ke1NES19WRVJTSU9OfWA7XG4gIH0sXG4gIGdldEFzc2V0SW1hZ2VVcmwoaW1hZ2VJZCkge1xuICAgIHJldHVybiBgJHtXM01fQVBJfS93M20vdjEvZ2V0QXNzZXRJbWFnZS8ke2ltYWdlSWR9P3Byb2plY3RJZD0ke0NvbmZpZ0N0cmwuc3RhdGUucHJvamVjdElkfSZzZGtUeXBlPSR7U0RLX1RZUEV9JnNka1ZlcnNpb249JHtTREtfVkVSU0lPTn1gO1xuICB9XG59O1xuXG52YXIgX19kZWZQcm9wJDEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQxID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkMSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDEgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQxKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQxID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkMS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDEoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDEpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDEoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kMS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkMShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmNvbnN0IGlzTW9iaWxlID0gQ29yZVV0aWwuaXNNb2JpbGUoKTtcbmNvbnN0IHN0YXRlJDMgPSBwcm94eSh7XG4gIHdhbGxldHM6IHsgbGlzdGluZ3M6IFtdLCB0b3RhbDogMCwgcGFnZTogMSB9LFxuICBzZWFyY2g6IHsgbGlzdGluZ3M6IFtdLCB0b3RhbDogMCwgcGFnZTogMSB9LFxuICByZWNvbWVuZGVkV2FsbGV0czogW11cbn0pO1xuY29uc3QgRXhwbG9yZXJDdHJsID0ge1xuICBzdGF0ZTogc3RhdGUkMyxcbiAgYXN5bmMgZ2V0UmVjb21lbmRlZFdhbGxldHMoKSB7XG4gICAgY29uc3QgeyBleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzLCBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzIH0gPSBDb25maWdDdHJsLnN0YXRlO1xuICAgIGlmIChleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzID09PSBcIk5PTkVcIiB8fCBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzID09PSBcIkFMTFwiICYmICFleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzKSB7XG4gICAgICByZXR1cm4gc3RhdGUkMy5yZWNvbWVuZGVkV2FsbGV0cztcbiAgICB9XG4gICAgaWYgKENvcmVVdGlsLmlzQXJyYXkoZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcykpIHtcbiAgICAgIGNvbnN0IHJlY29tbWVuZGVkSWRzID0gZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcy5qb2luKFwiLFwiKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHsgcmVjb21tZW5kZWRJZHMgfTtcbiAgICAgIGNvbnN0IHsgbGlzdGluZ3MgfSA9IGF3YWl0IEV4cGxvcmVyVXRpbC5nZXRBbGxMaXN0aW5ncyhwYXJhbXMpO1xuICAgICAgY29uc3QgbGlzdGluZ3NBcnIgPSBPYmplY3QudmFsdWVzKGxpc3RpbmdzKTtcbiAgICAgIGxpc3RpbmdzQXJyLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3QgYUluZGV4ID0gZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcy5pbmRleE9mKGEuaWQpO1xuICAgICAgICBjb25zdCBiSW5kZXggPSBleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzLmluZGV4T2YoYi5pZCk7XG4gICAgICAgIHJldHVybiBhSW5kZXggLSBiSW5kZXg7XG4gICAgICB9KTtcbiAgICAgIHN0YXRlJDMucmVjb21lbmRlZFdhbGxldHMgPSBsaXN0aW5nc0FycjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeyBjaGFpbnMsIGlzQXV0aCB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgICBjb25zdCBjaGFpbnNGaWx0ZXIgPSBjaGFpbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGNoYWlucy5qb2luKFwiLFwiKTtcbiAgICAgIGNvbnN0IGlzRXhjbHVkZWQgPSBDb3JlVXRpbC5pc0FycmF5KGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMpO1xuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBzZGtzOiBpc0F1dGggPyBcImF1dGhfdjFcIiA6IHZvaWQgMCxcbiAgICAgICAgZW50cmllczogQ29yZVV0aWwuUkVDT01NRU5ERURfV0FMTEVUX0FNT1VOVCxcbiAgICAgICAgY2hhaW5zOiBjaGFpbnNGaWx0ZXIsXG4gICAgICAgIHZlcnNpb246IDIsXG4gICAgICAgIGV4Y2x1ZGVkSWRzOiBpc0V4Y2x1ZGVkID8gZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcy5qb2luKFwiLFwiKSA6IHZvaWQgMFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHsgbGlzdGluZ3MgfSA9IGlzTW9iaWxlID8gYXdhaXQgRXhwbG9yZXJVdGlsLmdldE1vYmlsZUxpc3RpbmdzKHBhcmFtcykgOiBhd2FpdCBFeHBsb3JlclV0aWwuZ2V0RGVza3RvcExpc3RpbmdzKHBhcmFtcyk7XG4gICAgICBzdGF0ZSQzLnJlY29tZW5kZWRXYWxsZXRzID0gT2JqZWN0LnZhbHVlcyhsaXN0aW5ncyk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZSQzLnJlY29tZW5kZWRXYWxsZXRzO1xuICB9LFxuICBhc3luYyBnZXRXYWxsZXRzKHBhcmFtcykge1xuICAgIGNvbnN0IGV4dGVuZGVkUGFyYW1zID0gX19zcHJlYWRWYWx1ZXMkMSh7fSwgcGFyYW1zKTtcbiAgICBjb25zdCB7IGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMsIGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMgfSA9IENvbmZpZ0N0cmwuc3RhdGU7XG4gICAgY29uc3QgeyByZWNvbWVuZGVkV2FsbGV0cyB9ID0gc3RhdGUkMztcbiAgICBpZiAoZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcyA9PT0gXCJBTExcIikge1xuICAgICAgcmV0dXJuIHN0YXRlJDMud2FsbGV0cztcbiAgICB9XG4gICAgaWYgKHJlY29tZW5kZWRXYWxsZXRzLmxlbmd0aCkge1xuICAgICAgZXh0ZW5kZWRQYXJhbXMuZXhjbHVkZWRJZHMgPSByZWNvbWVuZGVkV2FsbGV0cy5tYXAoKHdhbGxldCkgPT4gd2FsbGV0LmlkKS5qb2luKFwiLFwiKTtcbiAgICB9IGVsc2UgaWYgKENvcmVVdGlsLmlzQXJyYXkoZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcykpIHtcbiAgICAgIGV4dGVuZGVkUGFyYW1zLmV4Y2x1ZGVkSWRzID0gZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcy5qb2luKFwiLFwiKTtcbiAgICB9XG4gICAgaWYgKENvcmVVdGlsLmlzQXJyYXkoZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcykpIHtcbiAgICAgIGV4dGVuZGVkUGFyYW1zLmV4Y2x1ZGVkSWRzID0gW2V4dGVuZGVkUGFyYW1zLmV4Y2x1ZGVkSWRzLCBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIixcIik7XG4gICAgfVxuICAgIGlmIChPcHRpb25zQ3RybC5zdGF0ZS5pc0F1dGgpIHtcbiAgICAgIGV4dGVuZGVkUGFyYW1zLnNka3MgPSBcImF1dGhfdjFcIjtcbiAgICB9XG4gICAgY29uc3QgeyBwYWdlLCBzZWFyY2ggfSA9IHBhcmFtcztcbiAgICBjb25zdCB7IGxpc3RpbmdzOiBsaXN0aW5nc09iaiwgdG90YWwgfSA9IGlzTW9iaWxlID8gYXdhaXQgRXhwbG9yZXJVdGlsLmdldE1vYmlsZUxpc3RpbmdzKGV4dGVuZGVkUGFyYW1zKSA6IGF3YWl0IEV4cGxvcmVyVXRpbC5nZXREZXNrdG9wTGlzdGluZ3MoZXh0ZW5kZWRQYXJhbXMpO1xuICAgIGNvbnN0IGxpc3RpbmdzID0gT2JqZWN0LnZhbHVlcyhsaXN0aW5nc09iaik7XG4gICAgY29uc3QgdHlwZSA9IHNlYXJjaCA/IFwic2VhcmNoXCIgOiBcIndhbGxldHNcIjtcbiAgICBzdGF0ZSQzW3R5cGVdID0ge1xuICAgICAgbGlzdGluZ3M6IFsuLi5zdGF0ZSQzW3R5cGVdLmxpc3RpbmdzLCAuLi5saXN0aW5nc10sXG4gICAgICB0b3RhbCxcbiAgICAgIHBhZ2U6IHBhZ2UgIT0gbnVsbCA/IHBhZ2UgOiAxXG4gICAgfTtcbiAgICByZXR1cm4geyBsaXN0aW5ncywgdG90YWwgfTtcbiAgfSxcbiAgZ2V0V2FsbGV0SW1hZ2VVcmwoaW1hZ2VJZCkge1xuICAgIHJldHVybiBFeHBsb3JlclV0aWwuZ2V0V2FsbGV0SW1hZ2VVcmwoaW1hZ2VJZCk7XG4gIH0sXG4gIGdldEFzc2V0SW1hZ2VVcmwoaW1hZ2VJZCkge1xuICAgIHJldHVybiBFeHBsb3JlclV0aWwuZ2V0QXNzZXRJbWFnZVVybChpbWFnZUlkKTtcbiAgfSxcbiAgcmVzZXRTZWFyY2goKSB7XG4gICAgc3RhdGUkMy5zZWFyY2ggPSB7IGxpc3RpbmdzOiBbXSwgdG90YWw6IDAsIHBhZ2U6IDEgfTtcbiAgfVxufTtcblxuY29uc3Qgc3RhdGUkMiA9IHByb3h5KHtcbiAgb3BlbjogZmFsc2Vcbn0pO1xuY29uc3QgTW9kYWxDdHJsID0ge1xuICBzdGF0ZTogc3RhdGUkMixcbiAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSQyLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSQyKSk7XG4gIH0sXG4gIGFzeW5jIG9wZW4ob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgeyBpc1VpTG9hZGVkLCBpc0RhdGFMb2FkZWQgfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgICAgQ29yZVV0aWwucmVtb3ZlV2FsbGV0Q29ubmVjdERlZXBMaW5rKCk7XG4gICAgICBPcHRpb25zQ3RybC5zZXRXYWxsZXRDb25uZWN0VXJpKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudXJpKTtcbiAgICAgIE9wdGlvbnNDdHJsLnNldENoYWlucyhvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmNoYWlucyk7XG4gICAgICBSb3V0ZXJDdHJsLnJlc2V0KFwiQ29ubmVjdFdhbGxldFwiKTtcbiAgICAgIGlmIChpc1VpTG9hZGVkICYmIGlzRGF0YUxvYWRlZCkge1xuICAgICAgICBzdGF0ZSQyLm9wZW4gPSB0cnVlO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBvcHRzID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgICAgICAgaWYgKG9wdHMuaXNVaUxvYWRlZCAmJiBvcHRzLmlzRGF0YUxvYWRlZCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICBzdGF0ZSQyLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgY2xvc2UoKSB7XG4gICAgc3RhdGUkMi5vcGVuID0gZmFsc2U7XG4gIH1cbn07XG5cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbmZ1bmN0aW9uIGlzRGFya01vZGUoKSB7XG4gIHJldHVybiB0eXBlb2YgbWF0Y2hNZWRpYSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzO1xufVxuY29uc3Qgc3RhdGUkMSA9IHByb3h5KHtcbiAgdGhlbWVNb2RlOiBpc0RhcmtNb2RlKCkgPyBcImRhcmtcIiA6IFwibGlnaHRcIlxufSk7XG5jb25zdCBUaGVtZUN0cmwgPSB7XG4gIHN0YXRlOiBzdGF0ZSQxLFxuICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlJDEsICgpID0+IGNhbGxiYWNrKHN0YXRlJDEpKTtcbiAgfSxcbiAgc2V0VGhlbWVDb25maWcodGhlbWUpIHtcbiAgICBjb25zdCB7IHRoZW1lTW9kZSwgdGhlbWVWYXJpYWJsZXMgfSA9IHRoZW1lO1xuICAgIGlmICh0aGVtZU1vZGUpIHtcbiAgICAgIHN0YXRlJDEudGhlbWVNb2RlID0gdGhlbWVNb2RlO1xuICAgIH1cbiAgICBpZiAodGhlbWVWYXJpYWJsZXMpIHtcbiAgICAgIHN0YXRlJDEudGhlbWVWYXJpYWJsZXMgPSBfX3NwcmVhZFZhbHVlcyh7fSwgdGhlbWVWYXJpYWJsZXMpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gIG9wZW46IGZhbHNlLFxuICBtZXNzYWdlOiBcIlwiLFxuICB2YXJpYW50OiBcInN1Y2Nlc3NcIlxufSk7XG5jb25zdCBUb2FzdEN0cmwgPSB7XG4gIHN0YXRlLFxuICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICB9LFxuICBvcGVuVG9hc3QobWVzc2FnZSwgdmFyaWFudCkge1xuICAgIHN0YXRlLm9wZW4gPSB0cnVlO1xuICAgIHN0YXRlLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHN0YXRlLnZhcmlhbnQgPSB2YXJpYW50O1xuICB9LFxuICBjbG9zZVRvYXN0KCkge1xuICAgIHN0YXRlLm9wZW4gPSBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0IHsgQ29uZmlnQ3RybCwgQ29yZVV0aWwsIEV2ZW50c0N0cmwsIEV4cGxvcmVyQ3RybCwgTW9kYWxDdHJsLCBPcHRpb25zQ3RybCwgUm91dGVyQ3RybCwgVGhlbWVDdHJsLCBUb2FzdEN0cmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/dist/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WcmModal: () => (/* binding */ WcmModal),\n/* harmony export */   WcmQrCode: () => (/* binding */ WcmQrCode)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/directives/class-map.js */ \"(ssr)/./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/modal-core */ \"(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit-html */ \"(ssr)/./node_modules/lit-html/node/development/lit-html.js\");\n/* harmony import */ var motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! motion */ \"(ssr)/./node_modules/motion/dist/animate.es.js\");\n/* harmony import */ var lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/if-defined.js */ \"(ssr)/./node_modules/lit/directives/if-defined.js\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! qrcode */ \"(ssr)/./node_modules/qrcode/lib/index.js\");\n\n\n\n\n\n\n\n\n\nvar __defProp$y = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp$y(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction themeModeVariables() {\n  var _a;\n  const themeMode = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode) != null ? _a : \"dark\";\n  const themeModePresets = {\n    light: {\n      foreground: { 1: `rgb(20,20,20)`, 2: `rgb(121,134,134)`, 3: `rgb(158,169,169)` },\n      background: { 1: `rgb(255,255,255)`, 2: `rgb(241,243,243)`, 3: `rgb(228,231,231)` },\n      overlay: \"rgba(0,0,0,0.1)\"\n    },\n    dark: {\n      foreground: { 1: `rgb(228,231,231)`, 2: `rgb(148,158,158)`, 3: `rgb(110,119,119)` },\n      background: { 1: `rgb(20,20,20)`, 2: `rgb(39,42,42)`, 3: `rgb(59,64,64)` },\n      overlay: \"rgba(255,255,255,0.1)\"\n    }\n  };\n  const themeModeColors = themeModePresets[themeMode];\n  return {\n    \"--wcm-color-fg-1\": themeModeColors.foreground[1],\n    \"--wcm-color-fg-2\": themeModeColors.foreground[2],\n    \"--wcm-color-fg-3\": themeModeColors.foreground[3],\n    \"--wcm-color-bg-1\": themeModeColors.background[1],\n    \"--wcm-color-bg-2\": themeModeColors.background[2],\n    \"--wcm-color-bg-3\": themeModeColors.background[3],\n    \"--wcm-color-overlay\": themeModeColors.overlay\n  };\n}\nfunction themeVariablesPresets() {\n  return {\n    \"--wcm-accent-color\": \"#3396FF\",\n    \"--wcm-accent-fill-color\": \"#FFFFFF\",\n    \"--wcm-z-index\": \"89\",\n    \"--wcm-background-color\": \"#3396FF\",\n    \"--wcm-background-border-radius\": \"8px\",\n    \"--wcm-container-border-radius\": \"30px\",\n    \"--wcm-wallet-icon-border-radius\": \"15px\",\n    \"--wcm-wallet-icon-large-border-radius\": \"30px\",\n    \"--wcm-wallet-icon-small-border-radius\": \"7px\",\n    \"--wcm-input-border-radius\": \"28px\",\n    \"--wcm-button-border-radius\": \"10px\",\n    \"--wcm-notification-border-radius\": \"36px\",\n    \"--wcm-secondary-button-border-radius\": \"28px\",\n    \"--wcm-icon-button-border-radius\": \"50%\",\n    \"--wcm-button-hover-highlight-border-radius\": \"10px\",\n    \"--wcm-text-big-bold-size\": \"20px\",\n    \"--wcm-text-big-bold-weight\": \"600\",\n    \"--wcm-text-big-bold-line-height\": \"24px\",\n    \"--wcm-text-big-bold-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-big-bold-text-transform\": \"none\",\n    \"--wcm-text-xsmall-bold-size\": \"10px\",\n    \"--wcm-text-xsmall-bold-weight\": \"700\",\n    \"--wcm-text-xsmall-bold-line-height\": \"12px\",\n    \"--wcm-text-xsmall-bold-letter-spacing\": \"0.02em\",\n    \"--wcm-text-xsmall-bold-text-transform\": \"uppercase\",\n    \"--wcm-text-xsmall-regular-size\": \"12px\",\n    \"--wcm-text-xsmall-regular-weight\": \"600\",\n    \"--wcm-text-xsmall-regular-line-height\": \"14px\",\n    \"--wcm-text-xsmall-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-xsmall-regular-text-transform\": \"none\",\n    \"--wcm-text-small-thin-size\": \"14px\",\n    \"--wcm-text-small-thin-weight\": \"500\",\n    \"--wcm-text-small-thin-line-height\": \"16px\",\n    \"--wcm-text-small-thin-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-small-thin-text-transform\": \"none\",\n    \"--wcm-text-small-regular-size\": \"14px\",\n    \"--wcm-text-small-regular-weight\": \"600\",\n    \"--wcm-text-small-regular-line-height\": \"16px\",\n    \"--wcm-text-small-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-small-regular-text-transform\": \"none\",\n    \"--wcm-text-medium-regular-size\": \"16px\",\n    \"--wcm-text-medium-regular-weight\": \"600\",\n    \"--wcm-text-medium-regular-line-height\": \"20px\",\n    \"--wcm-text-medium-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-medium-regular-text-transform\": \"none\",\n    \"--wcm-font-family\": \"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif\",\n    \"--wcm-font-feature-settings\": `'tnum' on, 'lnum' on, 'case' on`,\n    \"--wcm-success-color\": \"rgb(38,181,98)\",\n    \"--wcm-error-color\": \"rgb(242, 90, 103)\",\n    \"--wcm-overlay-background-color\": \"rgba(0, 0, 0, 0.3)\",\n    \"--wcm-overlay-backdrop-filter\": \"none\"\n  };\n}\nconst ThemeUtil = {\n  getPreset(key) {\n    return themeVariablesPresets()[key];\n  },\n  setTheme() {\n    const root = document.querySelector(\":root\");\n    const { themeVariables } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state;\n    if (root) {\n      const variables = __spreadValues(__spreadValues(__spreadValues({}, themeModeVariables()), themeVariablesPresets()), themeVariables);\n      Object.entries(variables).forEach(([key, val]) => root.style.setProperty(key, val));\n    }\n  },\n  globalCss: (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`\n};\n\nconst styles$t = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;\n\nvar __defProp$x = Object.defineProperty;\nvar __getOwnPropDesc$x = Object.getOwnPropertyDescriptor;\nvar __decorateClass$x = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$x(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$x(target, key, result);\n  return result;\n};\nlet WcmButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.iconLeft = void 0;\n    this.iconRight = void 0;\n    this.onClick = () => null;\n    this.variant = \"default\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-icon-left\": this.iconLeft !== void 0,\n      \"wcm-icon-right\": this.iconRight !== void 0,\n      \"wcm-ghost\": this.variant === \"ghost\",\n      \"wcm-outline\": this.variant === \"outline\"\n    };\n    let textColor = \"inverse\";\n    if (this.variant === \"ghost\") {\n      textColor = \"secondary\";\n    }\n    if (this.variant === \"outline\") {\n      textColor = \"accent\";\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\" ?disabled=\"${this.disabled}\" @click=\"${this.onClick}\">${this.iconLeft}<wcm-text variant=\"small-regular\" color=\"${textColor}\"><slot></slot></wcm-text>${this.iconRight}</button>`;\n  }\n};\nWcmButton.styles = [ThemeUtil.globalCss, styles$t];\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmButton.prototype, \"disabled\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"iconLeft\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"iconRight\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"onClick\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"variant\", 2);\nWcmButton = __decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-button\")\n], WcmButton);\n\nconst styles$s = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;\n\nvar __defProp$w = Object.defineProperty;\nvar __getOwnPropDesc$w = Object.getOwnPropertyDescriptor;\nvar __decorateClass$w = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$w(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$w(target, key, result);\n  return result;\n};\nlet WcmButtonBig = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.variant = \"primary\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-secondary\": this.variant === \"secondary\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button ?disabled=\"${this.disabled}\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"><slot></slot></button>`;\n  }\n};\nWcmButtonBig.styles = [ThemeUtil.globalCss, styles$s];\n__decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmButtonBig.prototype, \"disabled\", 2);\n__decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButtonBig.prototype, \"variant\", 2);\nWcmButtonBig = __decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-button-big\")\n], WcmButtonBig);\n\nconst styles$r = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;\n\nvar __defProp$v = Object.defineProperty;\nvar __getOwnPropDesc$v = Object.getOwnPropertyDescriptor;\nvar __decorateClass$v = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$v(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$v(target, key, result);\n  return result;\n};\nlet WcmInfoFooter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><slot></slot></div>`;\n  }\n};\nWcmInfoFooter.styles = [ThemeUtil.globalCss, styles$r];\nWcmInfoFooter = __decorateClass$v([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-info-footer\")\n], WcmInfoFooter);\n\nconst SvgUtil = {\n  CROSS_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\"><path d=\"M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z\" fill=\"#fff\"/></svg>`,\n  WALLET_CONNECT_LOGO: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"178\" height=\"29\" viewBox=\"0 0 178 29\" id=\"wcm-wc-logo\"><path d=\"M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z\" fill=\"#fff\"/></svg>`,\n  WALLET_CONNECT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"28\" height=\"20\" viewBox=\"0 0 28 20\"><g clip-path=\"url(#a)\"><path d=\"M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z\" fill=\"#000000\"/></g><defs><clipPath id=\"a\"><path fill=\"#ffffff\" d=\"M0 0h28v20H0z\"/></clipPath></defs></svg>`,\n  WALLET_CONNECT_ICON_COLORED: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"96\" height=\"96\" fill=\"none\"><path fill=\"#fff\" d=\"M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z\"/><path stroke=\"#000\" d=\"M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z\"/></svg>`,\n  BACK_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"10\" height=\"18\" viewBox=\"0 0 10 18\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z\" fill=\"#fff\"/></svg>`,\n  COPY_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"24\" height=\"24\" fill=\"none\"><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z\" clip-rule=\"evenodd\"/></svg>`,\n  RETRY_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"15\" height=\"16\" viewBox=\"0 0 15 16\"><path d=\"M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z\" fill=\"#fff\"/></svg>`,\n  DESKTOP_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z\" fill=\"#fff\"/><path d=\"M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z\" fill=\"#fff\"/></svg>`,\n  MOBILE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path d=\"M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z\" fill=\"#fff\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z\" fill=\"#fff\"/></svg>`,\n  ARROW_DOWN_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\"><path d=\"M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z\" fill=\"#fff\"/></svg>`,\n  ARROW_UP_RIGHT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"15\" height=\"14\" fill=\"none\"><path d=\"M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z\" fill=\"#fff\"/></svg>`,\n  ARROW_RIGHT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"6\" height=\"14\" viewBox=\"0 0 6 14\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z\" fill=\"#fff\"/></svg>`,\n  QRCODE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\"><path d=\"M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z\" fill=\"#fff\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z\" fill=\"#fff\"/><path d=\"M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z\" fill=\"#fff\"/></svg>`,\n  SCAN_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" fill=\"none\"><path fill=\"#fff\" d=\"M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z\"/></svg>`,\n  CHECKMARK_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"13\" height=\"12\" viewBox=\"0 0 13 12\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z\" fill=\"#fff\"/></svg>`,\n  SEARCH_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"20\" height=\"21\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z\" fill=\"#949E9E\"/></svg>`,\n  WALLET_PLACEHOLDER: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"60\" height=\"60\" fill=\"none\" viewBox=\"0 0 60 60\"><g clip-path=\"url(#q)\"><path id=\"wallet-placeholder-fill\" fill=\"#fff\" d=\"M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z\"/><path id=\"wallet-placeholder-dash\" stroke=\"#000\" stroke-dasharray=\"4 4\" stroke-width=\"1.5\" d=\"M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z\"/><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z\" clip-rule=\"evenodd\"/><path fill=\"#9EA9A9\" fill-rule=\"evenodd\" d=\"M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z\" clip-rule=\"evenodd\"/></g><defs><clipPath id=\"q\"><path fill=\"#fff\" d=\"M0 0h60v60H0z\"/></clipPath></defs></svg>`,\n  GLOBE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z\" clip-rule=\"evenodd\"/></svg>`\n};\n\nconst styles$q = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;\n\nvar __defProp$u = Object.defineProperty;\nvar __getOwnPropDesc$u = Object.getOwnPropertyDescriptor;\nvar __decorateClass$u = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$u(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$u(target, key, result);\n  return result;\n};\nlet WcmModalBackcard = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-toolbar-placeholder\"></div><div class=\"wcm-toolbar\">${SvgUtil.WALLET_CONNECT_LOGO} <button @click=\"${_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close}\">${SvgUtil.CROSS_ICON}</button></div>`;\n  }\n};\nWcmModalBackcard.styles = [ThemeUtil.globalCss, styles$q];\nWcmModalBackcard = __decorateClass$u([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-backcard\")\n], WcmModalBackcard);\n\nconst styles$p = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`main{padding:20px;padding-top:0;width:100%}`;\n\nvar __defProp$t = Object.defineProperty;\nvar __getOwnPropDesc$t = Object.getOwnPropertyDescriptor;\nvar __decorateClass$t = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$t(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$t(target, key, result);\n  return result;\n};\nlet WcmModalContent = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<main><slot></slot></main>`;\n  }\n};\nWcmModalContent.styles = [ThemeUtil.globalCss, styles$p];\nWcmModalContent = __decorateClass$t([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-content\")\n], WcmModalContent);\n\nconst styles$o = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;\n\nvar __defProp$s = Object.defineProperty;\nvar __getOwnPropDesc$s = Object.getOwnPropertyDescriptor;\nvar __decorateClass$s = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$s(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$s(target, key, result);\n  return result;\n};\nlet WcmModalFooter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<footer><slot></slot></footer>`;\n  }\n};\nWcmModalFooter.styles = [ThemeUtil.globalCss, styles$o];\nWcmModalFooter = __decorateClass$s([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-footer\")\n], WcmModalFooter);\n\nconst styles$n = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;\n\nvar __defProp$r = Object.defineProperty;\nvar __getOwnPropDesc$r = Object.getOwnPropertyDescriptor;\nvar __decorateClass$r = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$r(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$r(target, key, result);\n  return result;\n};\nlet WcmModalHeader = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.title = \"\";\n    this.onAction = void 0;\n    this.actionIcon = void 0;\n    this.border = false;\n  }\n  // -- private ------------------------------------------------------ //\n  backBtnTemplate() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"wcm-back-btn\" @click=\"${_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.goBack}\">${SvgUtil.BACK_ICON}</button>`;\n  }\n  actionBtnTemplate() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"wcm-action-btn\" @click=\"${this.onAction}\">${this.actionIcon}</button>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-border\": this.border\n    };\n    const backBtn = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.history.length > 1;\n    const content = this.title ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text variant=\"big-bold\">${this.title}</wcm-text>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<slot></slot>`;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<header class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${backBtn ? this.backBtnTemplate() : null} ${content} ${this.onAction ? this.actionBtnTemplate() : null}</header>`;\n  }\n};\nWcmModalHeader.styles = [ThemeUtil.globalCss, styles$n];\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"title\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"onAction\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"actionIcon\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmModalHeader.prototype, \"border\", 2);\nWcmModalHeader = __decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-header\")\n], WcmModalHeader);\n\nconst UiUtil = {\n  MOBILE_BREAKPOINT: 600,\n  WCM_RECENT_WALLET_DATA: \"WCM_RECENT_WALLET_DATA\",\n  EXPLORER_WALLET_URL: \"https://explorer.walletconnect.com/?type=wallet\",\n  getShadowRootElement(root, selector) {\n    const el = root.renderRoot.querySelector(selector);\n    if (!el) {\n      throw new Error(`${selector} not found`);\n    }\n    return el;\n  },\n  getWalletIcon({ id, image_id }) {\n    const { walletImages } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    if (walletImages == null ? void 0 : walletImages[id]) {\n      return walletImages[id];\n    } else if (image_id) {\n      return _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getWalletImageUrl(image_id);\n    }\n    return \"\";\n  },\n  getWalletName(name, short = false) {\n    return short && name.length > 8 ? `${name.substring(0, 8)}..` : name;\n  },\n  isMobileAnimation() {\n    return window.innerWidth <= UiUtil.MOBILE_BREAKPOINT;\n  },\n  async preloadImage(src) {\n    const imagePromise = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.onload = resolve;\n      image.onerror = reject;\n      image.crossOrigin = \"anonymous\";\n      image.src = src;\n    });\n    return Promise.race([imagePromise, _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.wait(3e3)]);\n  },\n  getErrorMessage(err) {\n    return err instanceof Error ? err.message : \"Unknown Error\";\n  },\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  debounce(func, timeout = 500) {\n    let timer = void 0;\n    return (...args) => {\n      function next() {\n        func(...args);\n      }\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(next, timeout);\n    };\n  },\n  handleMobileLinking(wallet, target = \"_self\") {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const { mobile, name } = wallet;\n    const nativeUrl = mobile == null ? void 0 : mobile.native;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    UiUtil.setRecentWallet(wallet);\n    function onRedirect(uri) {\n      if (nativeUrl) {\n        const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n      } else if (universalUrl) {\n        const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n      }\n    }\n    if (walletConnectUri) {\n      onRedirect(walletConnectUri);\n    }\n  },\n  handleAndroidLinking() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    if (walletConnectUri) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.setWalletConnectAndroidDeepLink(walletConnectUri);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(walletConnectUri, _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() ? \"_blank\" : \"_self\");\n    }\n  },\n  async handleUriCopy() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    if (walletConnectUri) {\n      try {\n        await navigator.clipboard.writeText(walletConnectUri);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Link copied\", \"success\");\n      } catch (e) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Failed to copy\", \"error\");\n      }\n    }\n  },\n  getCustomImageUrls() {\n    const { walletImages } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const walletUrls = Object.values(walletImages != null ? walletImages : {});\n    return Object.values(walletUrls);\n  },\n  truncate(value, strLen = 8) {\n    if (value.length <= strLen) {\n      return value;\n    }\n    return `${value.substring(0, 4)}...${value.substring(value.length - 4)}`;\n  },\n  setRecentWallet(wallet) {\n    try {\n      localStorage.setItem(UiUtil.WCM_RECENT_WALLET_DATA, JSON.stringify(wallet));\n    } catch (e) {\n      console.info(\"Unable to set recent wallet\");\n    }\n  },\n  getRecentWallet() {\n    try {\n      const wallet = localStorage.getItem(UiUtil.WCM_RECENT_WALLET_DATA);\n      if (wallet) {\n        const json = JSON.parse(wallet);\n        return json;\n      }\n      return void 0;\n    } catch (e) {\n      console.info(\"Unable to get recent wallet\");\n    }\n    return void 0;\n  },\n  caseSafeIncludes(str1, str2) {\n    return str1.toUpperCase().includes(str2.toUpperCase());\n  },\n  openWalletExplorerUrl() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(UiUtil.EXPLORER_WALLET_URL, \"_blank\");\n  },\n  getCachedRouterWalletPlatforms() {\n    const { desktop, mobile } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const isDesktop = Boolean(desktop == null ? void 0 : desktop.native);\n    const isWeb = Boolean(desktop == null ? void 0 : desktop.universal);\n    const isMobile = Boolean(mobile == null ? void 0 : mobile.native) || Boolean(mobile == null ? void 0 : mobile.universal);\n    return { isDesktop, isMobile, isWeb };\n  },\n  goToConnectingView(wallet) {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.setData({ Wallet: wallet });\n    const isMobileDevice = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    const { isDesktop, isWeb, isMobile } = UiUtil.getCachedRouterWalletPlatforms();\n    if (isMobileDevice) {\n      if (isMobile) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"MobileConnecting\");\n        if (!_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() && _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram()) {\n          this.handleMobileLinking(wallet, \"_blank\");\n        }\n      } else if (isWeb) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WebConnecting\");\n      } else {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"InstallWallet\");\n      }\n    } else if (isDesktop) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"DesktopConnecting\");\n    } else if (isWeb) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WebConnecting\");\n    } else if (isMobile) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"MobileQrcodeConnecting\");\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"InstallWallet\");\n    }\n  }\n};\n\nconst styles$m = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;\n\nvar __defProp$q = Object.defineProperty;\nvar __getOwnPropDesc$q = Object.getOwnPropertyDescriptor;\nvar __decorateClass$q = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$q(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$q(target, key, result);\n  return result;\n};\nlet WcmModalRouter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.view = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    this.prevView = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribe = void 0;\n    this.oldHeight = \"0px\";\n    this.resizeObserver = void 0;\n    this.unsubscribe = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.subscribe((routerState) => {\n      if (this.view !== routerState.view) {\n        this.onChangeRoute();\n      }\n    });\n  }\n  firstUpdated() {\n    this.resizeObserver = new ResizeObserver(([conetnt]) => {\n      const newHeight = `${conetnt.contentRect.height}px`;\n      if (this.oldHeight !== \"0px\") {\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.routerEl, { height: [this.oldHeight, newHeight] }, { duration: 0.2 });\n      }\n      this.oldHeight = newHeight;\n    });\n    this.resizeObserver.observe(this.contentEl);\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_a = this.unsubscribe) == null ? void 0 : _a.call(this);\n    (_b = this.resizeObserver) == null ? void 0 : _b.disconnect();\n  }\n  get routerEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-router\");\n  }\n  get contentEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-content\");\n  }\n  viewTemplate() {\n    switch (this.view) {\n      case \"ConnectWallet\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;\n      case \"DesktopConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;\n      case \"MobileConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;\n      case \"WebConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-web-connecting-view></wcm-web-connecting-view>`;\n      case \"MobileQrcodeConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;\n      case \"WalletExplorer\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;\n      case \"Qrcode\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-qrcode-view></wcm-qrcode-view>`;\n      case \"InstallWallet\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-install-wallet-view></wcm-install-wallet-view>`;\n      default:\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div>Not Found</div>`;\n    }\n  }\n  async onChangeRoute() {\n    await (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(\n      this.routerEl,\n      { opacity: [1, 0], scale: [1, 1.02] },\n      { duration: 0.15, delay: 0.1 }\n    ).finished;\n    this.view = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.routerEl, { opacity: [0, 1], scale: [0.99, 1] }, { duration: 0.37, delay: 0.05 });\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-router\"><div class=\"wcm-content\">${this.viewTemplate()}</div></div>`;\n  }\n};\nWcmModalRouter.styles = [ThemeUtil.globalCss, styles$m];\n__decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalRouter.prototype, \"view\", 2);\n__decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalRouter.prototype, \"prevView\", 2);\nWcmModalRouter = __decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-router\")\n], WcmModalRouter);\n\nconst styles$l = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;\n\nvar __defProp$p = Object.defineProperty;\nvar __getOwnPropDesc$p = Object.getOwnPropertyDescriptor;\nvar __decorateClass$p = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$p(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$p(target, key, result);\n  return result;\n};\nlet WcmModalToast = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super();\n    this.open = false;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribe = void 0;\n    this.timeout = void 0;\n    this.unsubscribe = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.subscribe((newState) => {\n      if (newState.open) {\n        this.open = true;\n        this.timeout = setTimeout(() => _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.closeToast(), 2200);\n      } else {\n        this.open = false;\n        clearTimeout(this.timeout);\n      }\n    });\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribe) == null ? void 0 : _a.call(this);\n    clearTimeout(this.timeout);\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.closeToast();\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { message, variant } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.state;\n    const classes = {\n      \"wcm-success\": variant === \"success\",\n      \"wcm-error\": variant === \"error\"\n    };\n    return this.open ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${variant === \"success\" ? SvgUtil.CHECKMARK_ICON : null} ${variant === \"error\" ? SvgUtil.CROSS_ICON : null}<wcm-text variant=\"small-regular\">${message}</wcm-text></div>` : null;\n  }\n};\nWcmModalToast.styles = [ThemeUtil.globalCss, styles$l];\n__decorateClass$p([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalToast.prototype, \"open\", 2);\nWcmModalToast = __decorateClass$p([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-toast\")\n], WcmModalToast);\n\nconst CONNECTING_ERROR_MARGIN = 0.1;\nconst CIRCLE_SIZE_MODIFIER = 2.5;\nconst QRCODE_MATRIX_MARGIN = 7;\nfunction isAdjecentDots(cy, otherCy, cellSize) {\n  if (cy === otherCy) {\n    return false;\n  }\n  const diff = cy - otherCy < 0 ? otherCy - cy : cy - otherCy;\n  return diff <= cellSize + CONNECTING_ERROR_MARGIN;\n}\nfunction getMatrix(value, errorCorrectionLevel) {\n  const arr = Array.prototype.slice.call(\n    qrcode__WEBPACK_IMPORTED_MODULE_6__.create(value, { errorCorrectionLevel }).modules.data,\n    0\n  );\n  const sqrt = Math.sqrt(arr.length);\n  return arr.reduce(\n    (rows, key, index) => (index % sqrt === 0 ? rows.push([key]) : rows[rows.length - 1].push(key)) && rows,\n    []\n  );\n}\nconst QrCodeUtil = {\n  generate(uri, size, logoSize) {\n    const dotColor = \"#141414\";\n    const edgeColor = \"#ffffff\";\n    const dots = [];\n    const matrix = getMatrix(uri, \"Q\");\n    const cellSize = size / matrix.length;\n    const qrList = [\n      { x: 0, y: 0 },\n      { x: 1, y: 0 },\n      { x: 0, y: 1 }\n    ];\n    qrList.forEach(({ x, y }) => {\n      const x1 = (matrix.length - QRCODE_MATRIX_MARGIN) * cellSize * x;\n      const y1 = (matrix.length - QRCODE_MATRIX_MARGIN) * cellSize * y;\n      const borderRadius = 0.45;\n      for (let i = 0; i < qrList.length; i += 1) {\n        const dotSize = cellSize * (QRCODE_MATRIX_MARGIN - i * 2);\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<rect fill=\"${i % 2 === 0 ? dotColor : edgeColor}\" height=\"${dotSize}\" rx=\"${dotSize * borderRadius}\" ry=\"${dotSize * borderRadius}\" width=\"${dotSize}\" x=\"${x1 + cellSize * i}\" y=\"${y1 + cellSize * i}\">`\n        );\n      }\n    });\n    const clearArenaSize = Math.floor((logoSize + 25) / cellSize);\n    const matrixMiddleStart = matrix.length / 2 - clearArenaSize / 2;\n    const matrixMiddleEnd = matrix.length / 2 + clearArenaSize / 2 - 1;\n    const circles = [];\n    matrix.forEach((row, i) => {\n      row.forEach((_, j) => {\n        if (matrix[i][j]) {\n          if (!(i < QRCODE_MATRIX_MARGIN && j < QRCODE_MATRIX_MARGIN || i > matrix.length - (QRCODE_MATRIX_MARGIN + 1) && j < QRCODE_MATRIX_MARGIN || i < QRCODE_MATRIX_MARGIN && j > matrix.length - (QRCODE_MATRIX_MARGIN + 1))) {\n            if (!(i > matrixMiddleStart && i < matrixMiddleEnd && j > matrixMiddleStart && j < matrixMiddleEnd)) {\n              const cx = i * cellSize + cellSize / 2;\n              const cy = j * cellSize + cellSize / 2;\n              circles.push([cx, cy]);\n            }\n          }\n        }\n      });\n    });\n    const circlesToConnect = {};\n    circles.forEach(([cx, cy]) => {\n      if (circlesToConnect[cx]) {\n        circlesToConnect[cx].push(cy);\n      } else {\n        circlesToConnect[cx] = [cy];\n      }\n    });\n    Object.entries(circlesToConnect).map(([cx, cys]) => {\n      const newCys = cys.filter(\n        (cy) => cys.every((otherCy) => !isAdjecentDots(cy, otherCy, cellSize))\n      );\n      return [Number(cx), newCys];\n    }).forEach(([cx, cys]) => {\n      cys.forEach((cy) => {\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<circle cx=\"${cx}\" cy=\"${cy}\" fill=\"${dotColor}\" r=\"${cellSize / CIRCLE_SIZE_MODIFIER}\">`\n        );\n      });\n    });\n    Object.entries(circlesToConnect).filter(([_, cys]) => cys.length > 1).map(([cx, cys]) => {\n      const newCys = cys.filter((cy) => cys.some((otherCy) => isAdjecentDots(cy, otherCy, cellSize)));\n      return [Number(cx), newCys];\n    }).map(([cx, cys]) => {\n      cys.sort((a, b) => a < b ? -1 : 1);\n      const groups = [];\n      for (const cy of cys) {\n        const group = groups.find(\n          (item) => item.some((otherCy) => isAdjecentDots(cy, otherCy, cellSize))\n        );\n        if (group) {\n          group.push(cy);\n        } else {\n          groups.push([cy]);\n        }\n      }\n      return [cx, groups.map((item) => [item[0], item[item.length - 1]])];\n    }).forEach(([cx, groups]) => {\n      groups.forEach(([y1, y2]) => {\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<line x1=\"${cx}\" x2=\"${cx}\" y1=\"${y1}\" y2=\"${y2}\" stroke=\"${dotColor}\" stroke-width=\"${cellSize / (CIRCLE_SIZE_MODIFIER / 2)}\" stroke-linecap=\"round\">`\n        );\n      });\n    });\n    return dots;\n  }\n};\n\nconst styles$k = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$o = Object.defineProperty;\nvar __getOwnPropDesc$o = Object.getOwnPropertyDescriptor;\nvar __decorateClass$o = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$o(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$o(target, key, result);\n  return result;\n};\nlet WcmQrCode = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.uri = \"\";\n    this.size = 0;\n    this.imageId = void 0;\n    this.walletId = void 0;\n    this.imageUrl = void 0;\n  }\n  // -- private ------------------------------------------------------ //\n  svgTemplate() {\n    const isLightMode = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode === \"light\";\n    const size = isLightMode ? this.size : this.size - 18 * 2;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<svg height=\"${size}\" width=\"${size}\">${QrCodeUtil.generate(this.uri, size, size / 4)}</svg>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-dark\": _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode === \"dark\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div style=\"${`width: ${this.size}px`}\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${this.walletId || this.imageUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-image walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\" imageUrl=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageUrl)}\"></wcm-wallet-image>` : SvgUtil.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`;\n  }\n};\nWcmQrCode.styles = [ThemeUtil.globalCss, styles$k];\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"uri\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Number })\n], WcmQrCode.prototype, \"size\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"imageId\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"walletId\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"imageUrl\", 2);\nWcmQrCode = __decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-qrcode\")\n], WcmQrCode);\n\nconst styles$j = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;\n\nvar __defProp$n = Object.defineProperty;\nvar __getOwnPropDesc$n = Object.getOwnPropertyDescriptor;\nvar __decorateClass$n = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$n(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$n(target, key, result);\n  return result;\n};\nlet WcmSearchInput = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.onChange = () => null;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<input type=\"text\" @input=\"${this.onChange}\" placeholder=\"Search wallets\"> ${SvgUtil.SEARCH_ICON}`;\n  }\n};\nWcmSearchInput.styles = [ThemeUtil.globalCss, styles$j];\n__decorateClass$n([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmSearchInput.prototype, \"onChange\", 2);\nWcmSearchInput = __decorateClass$n([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-search-input\")\n], WcmSearchInput);\n\nconst styles$i = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;\n\nvar __defProp$m = Object.defineProperty;\nvar __getOwnPropDesc$m = Object.getOwnPropertyDescriptor;\nvar __decorateClass$m = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$m(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$m(target, key, result);\n  return result;\n};\nlet WcmSpinner = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<svg viewBox=\"0 0 50 50\" width=\"24\" height=\"24\"><circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"4\" stroke=\"#fff\"/></svg>`;\n  }\n};\nWcmSpinner.styles = [ThemeUtil.globalCss, styles$i];\nWcmSpinner = __decorateClass$m([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-spinner\")\n], WcmSpinner);\n\nconst styles$h = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;\n\nvar __defProp$l = Object.defineProperty;\nvar __getOwnPropDesc$l = Object.getOwnPropertyDescriptor;\nvar __decorateClass$l = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$l(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$l(target, key, result);\n  return result;\n};\nlet WcmText = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.variant = \"medium-regular\";\n    this.color = \"primary\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-big-bold\": this.variant === \"big-bold\",\n      \"wcm-medium-regular\": this.variant === \"medium-regular\",\n      \"wcm-small-regular\": this.variant === \"small-regular\",\n      \"wcm-small-thin\": this.variant === \"small-thin\",\n      \"wcm-xsmall-regular\": this.variant === \"xsmall-regular\",\n      \"wcm-xsmall-bold\": this.variant === \"xsmall-bold\",\n      \"wcm-color-primary\": this.color === \"primary\",\n      \"wcm-color-secondary\": this.color === \"secondary\",\n      \"wcm-color-tertiary\": this.color === \"tertiary\",\n      \"wcm-color-inverse\": this.color === \"inverse\",\n      \"wcm-color-accnt\": this.color === \"accent\",\n      \"wcm-color-error\": this.color === \"error\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<span><slot class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"></slot></span>`;\n  }\n};\nWcmText.styles = [ThemeUtil.globalCss, styles$h];\n__decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmText.prototype, \"variant\", 2);\n__decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmText.prototype, \"color\", 2);\nWcmText = __decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-text\")\n], WcmText);\n\nconst styles$g = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;\n\nvar __defProp$k = Object.defineProperty;\nvar __getOwnPropDesc$k = Object.getOwnPropertyDescriptor;\nvar __decorateClass$k = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$k(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$k(target, key, result);\n  return result;\n};\nlet WcmWalletButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.onClick = () => null;\n    this.name = \"\";\n    this.walletId = \"\";\n    this.label = void 0;\n    this.imageId = void 0;\n    this.installed = false;\n    this.recent = false;\n  }\n  // -- private ------------------------------------------------------ //\n  sublabelTemplate() {\n    if (this.recent) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text class=\"wcm-sublabel\" variant=\"xsmall-bold\" color=\"tertiary\">RECENT</wcm-text>`;\n    } else if (this.installed) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text class=\"wcm-sublabel\" variant=\"xsmall-bold\" color=\"tertiary\">INSTALLED</wcm-text>`;\n    }\n    return null;\n  }\n  handleClick() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.EventsCtrl.click({ name: \"WALLET_BUTTON\", walletId: this.walletId });\n    this.onClick();\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    var _a;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button @click=\"${this.handleClick.bind(this)}\"><div><wcm-wallet-image walletId=\"${this.walletId}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-wallet-image><wcm-text variant=\"xsmall-regular\">${(_a = this.label) != null ? _a : UiUtil.getWalletName(this.name, true)}</wcm-text>${this.sublabelTemplate()}</div></button>`;\n  }\n};\nWcmWalletButton.styles = [ThemeUtil.globalCss, styles$g];\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"onClick\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"name\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"walletId\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"label\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"imageId\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmWalletButton.prototype, \"installed\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmWalletButton.prototype, \"recent\", 2);\nWcmWalletButton = __decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-button\")\n], WcmWalletButton);\n\nconst styles$f = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$j = Object.defineProperty;\nvar __getOwnPropDesc$j = Object.getOwnPropertyDescriptor;\nvar __decorateClass$j = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$j(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$j(target, key, result);\n  return result;\n};\nlet WcmWalletImage = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.walletId = \"\";\n    this.imageId = void 0;\n    this.imageUrl = void 0;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    var _a;\n    const src = ((_a = this.imageUrl) == null ? void 0 : _a.length) ? this.imageUrl : UiUtil.getWalletIcon({ id: this.walletId, image_id: this.imageId });\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${src.length ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><img crossorigin=\"anonymous\" src=\"${src}\" alt=\"${this.id}\"></div>` : SvgUtil.WALLET_PLACEHOLDER}`;\n  }\n};\nWcmWalletImage.styles = [ThemeUtil.globalCss, styles$f];\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"walletId\", 2);\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"imageId\", 2);\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"imageUrl\", 2);\nWcmWalletImage = __decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-image\")\n], WcmWalletImage);\n\nvar __defProp$i = Object.defineProperty;\nvar __getOwnPropDesc$i = Object.getOwnPropertyDescriptor;\nvar __decorateClass$i = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$i(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$i(target, key, result);\n  return result;\n};\nlet WcmExplorerContext = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.preload = true;\n    this.preloadData();\n  }\n  // -- private ------------------------------------------------------ //\n  async loadImages(images) {\n    try {\n      if (images == null ? void 0 : images.length) {\n        await Promise.all(images.map(async (url) => UiUtil.preloadImage(url)));\n      }\n    } catch (e) {\n      console.info(\"Unsuccessful attempt at preloading some images\", images);\n    }\n  }\n  async preloadListings() {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state.enableExplorer) {\n      await _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getRecomendedWallets();\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.setIsDataLoaded(true);\n      const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n      const walletImgs = recomendedWallets.map((wallet) => UiUtil.getWalletIcon(wallet));\n      await this.loadImages(walletImgs);\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.setIsDataLoaded(true);\n    }\n  }\n  async preloadCustomImages() {\n    const images = UiUtil.getCustomImageUrls();\n    await this.loadImages(images);\n  }\n  async preloadData() {\n    try {\n      if (this.preload) {\n        this.preload = false;\n        await Promise.all([this.preloadListings(), this.preloadCustomImages()]);\n      }\n    } catch (err) {\n      console.error(err);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Failed preloading\", \"error\");\n    }\n  }\n};\n__decorateClass$i([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmExplorerContext.prototype, \"preload\", 2);\nWcmExplorerContext = __decorateClass$i([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-explorer-context\")\n], WcmExplorerContext);\n\nvar __defProp$h = Object.defineProperty;\nvar __getOwnPropDesc$h = Object.getOwnPropertyDescriptor;\nvar __decorateClass$h = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$h(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$h(target, key, result);\n  return result;\n};\nlet WcmThemeContext = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    // -- private ------------------------------------------------------ //\n    this.unsubscribeTheme = void 0;\n    ThemeUtil.setTheme();\n    this.unsubscribeTheme = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.subscribe(ThemeUtil.setTheme);\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribeTheme) == null ? void 0 : _a.call(this);\n  }\n};\nWcmThemeContext = __decorateClass$h([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-theme-context\")\n], WcmThemeContext);\n\nconst styles$e = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$g = Object.defineProperty;\nvar __getOwnPropDesc$g = Object.getOwnPropertyDescriptor;\nvar __decorateClass$g = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$g(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$g(target, key, result);\n  return result;\n};\nlet WcmAndroidWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onGoToQrcode() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"Qrcode\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const wallets = [...recomendedWallets, ...recomendedWallets];\n    const recomendedCount = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.RECOMMENDED_WALLET_AMOUNT * 2;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Connect your wallet\" .onAction=\"${this.onGoToQrcode}\" .actionIcon=\"${SvgUtil.QRCODE_ICON}\"></wcm-modal-header><wcm-modal-content><div class=\"wcm-title\">${SvgUtil.MOBILE_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">WalletConnect</wcm-text></div><div class=\"wcm-slider\"><div class=\"wcm-track\">${[...Array(recomendedCount)].map((_, index) => {\n      const wallet = wallets[index % wallets.length];\n      return wallet ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-image walletId=\"${wallet.id}\" imageId=\"${wallet.image_id}\"></wcm-wallet-image>` : SvgUtil.WALLET_PLACEHOLDER;\n    })}</div><wcm-button-big @click=\"${UiUtil.handleAndroidLinking}\"><wcm-text variant=\"medium-regular\" color=\"inverse\">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`;\n  }\n};\nWcmAndroidWalletSelection.styles = [ThemeUtil.globalCss, styles$e];\nWcmAndroidWalletSelection = __decorateClass$g([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-android-wallet-selection\")\n], WcmAndroidWalletSelection);\n\nconst styles$d = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;\n\nvar __defProp$f = Object.defineProperty;\nvar __getOwnPropDesc$f = Object.getOwnPropertyDescriptor;\nvar __decorateClass$f = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$f(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$f(target, key, result);\n  return result;\n};\nlet WcmConnectorWaiting = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.walletId = void 0;\n    this.imageId = void 0;\n    this.isError = false;\n    this.isStale = false;\n    this.label = \"\";\n  }\n  // -- private ------------------------------------------------------ //\n  svgLoaderTemplate() {\n    var _a, _b;\n    const ICON_SIZE = 88;\n    const DH_ARRAY = 317;\n    const DH_OFFSET = 425;\n    const radius = (_b = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeVariables) == null ? void 0 : _a[\"--wcm-wallet-icon-large-border-radius\"]) != null ? _b : ThemeUtil.getPreset(\"--wcm-wallet-icon-large-border-radius\");\n    let numRadius = 0;\n    if (radius.includes(\"%\")) {\n      numRadius = ICON_SIZE / 100 * parseInt(radius, 10);\n    } else {\n      numRadius = parseInt(radius, 10);\n    }\n    numRadius *= 1.17;\n    const dashArray = DH_ARRAY - numRadius * 1.57;\n    const dashOffset = DH_OFFSET - numRadius * 1.8;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<svg viewBox=\"0 0 110 110\" width=\"110\" height=\"110\"><rect id=\"wcm-loader\" x=\"2\" y=\"2\" width=\"106\" height=\"106\" rx=\"${numRadius}\"/><use xlink:href=\"#wcm-loader\" stroke-dasharray=\"106 ${dashArray}\" stroke-dashoffset=\"${dashOffset}\"></use></svg>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-error\": this.isError,\n      \"wcm-stale\": this.isStale\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${this.svgLoaderTemplate()}<wcm-wallet-image walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-wallet-image></div><wcm-text variant=\"medium-regular\" color=\"${this.isError ? \"error\" : \"primary\"}\">${this.isError ? \"Connection declined\" : this.label}</wcm-text>`;\n  }\n};\nWcmConnectorWaiting.styles = [ThemeUtil.globalCss, styles$d];\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"walletId\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"imageId\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmConnectorWaiting.prototype, \"isError\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmConnectorWaiting.prototype, \"isStale\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"label\", 2);\nWcmConnectorWaiting = __decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-connector-waiting\")\n], WcmConnectorWaiting);\n\nconst DataUtil = {\n  manualWallets() {\n    var _a, _b;\n    const { mobileWallets, desktopWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const recentWalletId = (_a = DataUtil.recentWallet()) == null ? void 0 : _a.id;\n    const platformWallets = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile() ? mobileWallets : desktopWallets;\n    const wallets = platformWallets == null ? void 0 : platformWallets.filter((wallet) => recentWalletId !== wallet.id);\n    return (_b = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile() ? wallets == null ? void 0 : wallets.map(({ id, name, links }) => ({ id, name, mobile: links, links })) : wallets == null ? void 0 : wallets.map(({ id, name, links }) => ({ id, name, desktop: links, links }))) != null ? _b : [];\n  },\n  recentWallet() {\n    return UiUtil.getRecentWallet();\n  },\n  recomendedWallets(skipRecent = false) {\n    var _a;\n    const recentWalletId = skipRecent ? void 0 : (_a = DataUtil.recentWallet()) == null ? void 0 : _a.id;\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const wallets = recomendedWallets.filter((wallet) => recentWalletId !== wallet.id);\n    return wallets;\n  }\n};\n\nconst TemplateUtil = {\n  onConnecting(data) {\n    UiUtil.goToConnectingView(data);\n  },\n  manualWalletsTemplate() {\n    const wallets = DataUtil.manualWallets();\n    return wallets.map(\n      (wallet) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button walletId=\"${wallet.id}\" name=\"${wallet.name}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`\n    );\n  },\n  recomendedWalletsTemplate(skipRecent = false) {\n    const wallets = DataUtil.recomendedWallets(skipRecent);\n    return wallets.map(\n      (wallet) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button name=\"${wallet.name}\" walletId=\"${wallet.id}\" imageId=\"${wallet.image_id}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`\n    );\n  },\n  recentWalletTemplate() {\n    const wallet = DataUtil.recentWallet();\n    if (!wallet) {\n      return void 0;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button name=\"${wallet.name}\" walletId=\"${wallet.id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(wallet.image_id)}\" .recent=\"${true}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`;\n  }\n};\n\nconst styles$c = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;\n\nvar __defProp$e = Object.defineProperty;\nvar __getOwnPropDesc$e = Object.getOwnPropertyDescriptor;\nvar __decorateClass$e = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$e(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$e(target, key, result);\n  return result;\n};\nlet WcmDesktopWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { explorerExcludedWalletIds, enableExplorer } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isExplorerWallets = explorerExcludedWalletIds !== \"ALL\" && enableExplorer;\n    const manualTemplate = TemplateUtil.manualWalletsTemplate();\n    const recomendedTemplate = TemplateUtil.recomendedWalletsTemplate();\n    const recentTemplate = TemplateUtil.recentWalletTemplate();\n    let templates = [recentTemplate, ...manualTemplate, ...recomendedTemplate];\n    templates = templates.filter(Boolean);\n    const isViewAll = templates.length > 4 || isExplorerWallets;\n    let wallets = [];\n    if (isViewAll) {\n      wallets = templates.slice(0, 3);\n    } else {\n      wallets = templates;\n    }\n    const isWallets = Boolean(wallets.length);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header .border=\"${true}\" title=\"Connect your wallet\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><div class=\"wcm-mobile-title\"><div class=\"wcm-subtitle\">${SvgUtil.MOBILE_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">Mobile</wcm-text></div><div class=\"wcm-subtitle\">${SvgUtil.SCAN_ICON}<wcm-text variant=\"small-regular\" color=\"secondary\">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${isWallets ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-footer><div class=\"wcm-desktop-title\">${SvgUtil.DESKTOP_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">Desktop</wcm-text></div><div class=\"wcm-grid\">${wallets} ${isViewAll ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>` : null}</div></wcm-modal-footer>` : null}`;\n  }\n};\nWcmDesktopWalletSelection.styles = [ThemeUtil.globalCss, styles$c];\nWcmDesktopWalletSelection = __decorateClass$e([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-desktop-wallet-selection\")\n], WcmDesktopWalletSelection);\n\nconst styles$b = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;\n\nvar __defProp$d = Object.defineProperty;\nvar __getOwnPropDesc$d = Object.getOwnPropertyDescriptor;\nvar __decorateClass$d = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$d(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$d(target, key, result);\n  return result;\n};\nlet WcmLegalNotice = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { termsOfServiceUrl, privacyPolicyUrl } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isLegal = termsOfServiceUrl != null ? termsOfServiceUrl : privacyPolicyUrl;\n    if (!isLegal) {\n      return null;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><wcm-text variant=\"small-regular\" color=\"secondary\">By connecting your wallet to this app, you agree to the app's ${termsOfServiceUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<a href=\"${termsOfServiceUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">Terms of Service</a>` : null} ${termsOfServiceUrl && privacyPolicyUrl ? \"and\" : null} ${privacyPolicyUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<a href=\"${privacyPolicyUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a>` : null}</wcm-text></div>`;\n  }\n};\nWcmLegalNotice.styles = [ThemeUtil.globalCss, styles$b];\nWcmLegalNotice = __decorateClass$d([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-legal-notice\")\n], WcmLegalNotice);\n\nconst styles$a = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;\n\nvar __defProp$c = Object.defineProperty;\nvar __getOwnPropDesc$c = Object.getOwnPropertyDescriptor;\nvar __decorateClass$c = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$c(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$c(target, key, result);\n  return result;\n};\nlet WcmMobileWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onQrcode() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"Qrcode\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { explorerExcludedWalletIds, enableExplorer } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isExplorerWallets = explorerExcludedWalletIds !== \"ALL\" && enableExplorer;\n    const manualTemplate = TemplateUtil.manualWalletsTemplate();\n    const recomendedTemplate = TemplateUtil.recomendedWalletsTemplate();\n    const recentTemplate = TemplateUtil.recentWalletTemplate();\n    let templates = [recentTemplate, ...manualTemplate, ...recomendedTemplate];\n    templates = templates.filter(Boolean);\n    const isViewAll = templates.length > 8 || isExplorerWallets;\n    let wallets = [];\n    if (isViewAll) {\n      wallets = templates.slice(0, 7);\n    } else {\n      wallets = templates;\n    }\n    const isWallets = Boolean(wallets.length);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Connect your wallet\" .onAction=\"${this.onQrcode}\" .actionIcon=\"${SvgUtil.QRCODE_ICON}\"></wcm-modal-header>${isWallets ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-content><div>${wallets} ${isViewAll ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>` : null}</div></wcm-modal-content>` : null}`;\n  }\n};\nWcmMobileWalletSelection.styles = [ThemeUtil.globalCss, styles$a];\nWcmMobileWalletSelection = __decorateClass$c([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-wallet-selection\")\n], WcmMobileWalletSelection);\n\nconst styles$9 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;\n\nvar __defProp$b = Object.defineProperty;\nvar __getOwnPropDesc$b = Object.getOwnPropertyDescriptor;\nvar __decorateClass$b = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$b(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$b(target, key, result);\n  return result;\n};\nlet WcmModal = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.open = false;\n    this.active = false;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribeModal = void 0;\n    this.abortController = void 0;\n    this.unsubscribeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.subscribe((modalState) => {\n      if (modalState.open) {\n        this.onOpenModalEvent();\n      } else {\n        this.onCloseModalEvent();\n      }\n    });\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribeModal) == null ? void 0 : _a.call(this);\n  }\n  get overlayEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-overlay\");\n  }\n  get containerEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-container\");\n  }\n  toggleBodyScroll(enabled) {\n    const body = document.querySelector(\"body\");\n    if (body) {\n      if (enabled) {\n        const wcmStyles = document.getElementById(\"wcm-styles\");\n        wcmStyles == null ? void 0 : wcmStyles.remove();\n      } else {\n        document.head.insertAdjacentHTML(\n          \"beforeend\",\n          `<style id=\"wcm-styles\">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>`\n        );\n      }\n    }\n  }\n  onCloseModal(event) {\n    if (event.target === event.currentTarget) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close();\n    }\n  }\n  onOpenModalEvent() {\n    this.toggleBodyScroll(false);\n    this.addKeyboardEvents();\n    this.open = true;\n    setTimeout(async () => {\n      const animation = UiUtil.isMobileAnimation() ? { y: [\"50vh\", \"0vh\"] } : { scale: [0.98, 1] };\n      const delay = 0.1;\n      const duration = 0.2;\n      await Promise.all([\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.overlayEl, { opacity: [0, 1] }, { delay, duration }).finished,\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.containerEl, animation, { delay, duration }).finished\n      ]);\n      this.active = true;\n    }, 0);\n  }\n  async onCloseModalEvent() {\n    this.toggleBodyScroll(true);\n    this.removeKeyboardEvents();\n    const animation = UiUtil.isMobileAnimation() ? { y: [\"0vh\", \"50vh\"] } : { scale: [1, 0.98] };\n    const duration = 0.2;\n    await Promise.all([\n      (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.overlayEl, { opacity: [1, 0] }, { duration }).finished,\n      (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.containerEl, animation, { duration }).finished\n    ]);\n    this.containerEl.removeAttribute(\"style\");\n    this.active = false;\n    this.open = false;\n  }\n  addKeyboardEvents() {\n    this.abortController = new AbortController();\n    window.addEventListener(\n      \"keydown\",\n      (event) => {\n        var _a;\n        if (event.key === \"Escape\") {\n          _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close();\n        } else if (event.key === \"Tab\") {\n          if (!((_a = event.target) == null ? void 0 : _a.tagName.includes(\"wcm-\"))) {\n            this.containerEl.focus();\n          }\n        }\n      },\n      this.abortController\n    );\n    this.containerEl.focus();\n  }\n  removeKeyboardEvents() {\n    var _a;\n    (_a = this.abortController) == null ? void 0 : _a.abort();\n    this.abortController = void 0;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-overlay\": true,\n      \"wcm-active\": this.active\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id=\"wcm-modal\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\" @click=\"${this.onCloseModal}\" role=\"alertdialog\" aria-modal=\"true\"><div class=\"wcm-container\" tabindex=\"0\">${this.open ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-backcard></wcm-modal-backcard><div class=\"wcm-card\"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>` : null}</div></div>`;\n  }\n};\nWcmModal.styles = [ThemeUtil.globalCss, styles$9];\n__decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModal.prototype, \"open\", 2);\n__decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModal.prototype, \"active\", 2);\nWcmModal = __decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal\")\n], WcmModal);\n\nconst styles$8 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;\n\nvar __defProp$a = Object.defineProperty;\nvar __getOwnPropDesc$a = Object.getOwnPropertyDescriptor;\nvar __decorateClass$a = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$a(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$a(target, key, result);\n  return result;\n};\nlet WcmPlatformSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.isMobile = false;\n    this.isDesktop = false;\n    this.isWeb = false;\n    this.isRetry = false;\n  }\n  // -- private ------------------------------------------------------ //\n  onMobile() {\n    const isMobile = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    if (isMobile) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"MobileConnecting\");\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"MobileQrcodeConnecting\");\n    }\n  }\n  onDesktop() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"DesktopConnecting\");\n  }\n  onWeb() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"WebConnecting\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div>${this.isRetry ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<slot></slot>` : null} ${this.isMobile ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onMobile}\" .iconLeft=\"${SvgUtil.MOBILE_ICON}\" variant=\"outline\">Mobile</wcm-button>` : null} ${this.isDesktop ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onDesktop}\" .iconLeft=\"${SvgUtil.DESKTOP_ICON}\" variant=\"outline\">Desktop</wcm-button>` : null} ${this.isWeb ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onWeb}\" .iconLeft=\"${SvgUtil.GLOBE_ICON}\" variant=\"outline\">Web</wcm-button>` : null}</div>`;\n  }\n};\nWcmPlatformSelection.styles = [ThemeUtil.globalCss, styles$8];\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isMobile\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isDesktop\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isWeb\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isRetry\", 2);\nWcmPlatformSelection = __decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-platform-selection\")\n], WcmPlatformSelection);\n\nconst styles$7 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$9 = Object.defineProperty;\nvar __getOwnPropDesc$9 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$9 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$9(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$9(target, key, result);\n  return result;\n};\nlet WcmViewAllWalletsButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  onClick() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WalletExplorer\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const manualWallets = DataUtil.manualWallets();\n    const reversedWallets = [...recomendedWallets, ...manualWallets].reverse().slice(0, 4);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button @click=\"${this.onClick}\"><div class=\"wcm-icons\">${reversedWallets.map((wallet) => {\n      const explorerImg = UiUtil.getWalletIcon(wallet);\n      if (explorerImg) {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<img crossorigin=\"anonymous\" src=\"${explorerImg}\">`;\n      }\n      const src = UiUtil.getWalletIcon({ id: wallet.id });\n      return src ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<img crossorigin=\"anonymous\" src=\"${src}\">` : SvgUtil.WALLET_PLACEHOLDER;\n    })} ${[...Array(4 - reversedWallets.length)].map(() => SvgUtil.WALLET_PLACEHOLDER)}</div><wcm-text variant=\"xsmall-regular\">View All</wcm-text></button>`;\n  }\n};\nWcmViewAllWalletsButton.styles = [ThemeUtil.globalCss, styles$7];\nWcmViewAllWalletsButton = __decorateClass$9([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-view-all-wallets-button\")\n], WcmViewAllWalletsButton);\n\nconst styles$6 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;\n\nvar __defProp$8 = Object.defineProperty;\nvar __getOwnPropDesc$8 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$8 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$8(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$8(target, key, result);\n  return result;\n};\nlet WcmWalletConnectQr = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.walletId = \"\";\n    this.imageId = \"\";\n    this.uri = \"\";\n    setTimeout(() => {\n      const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n      this.uri = walletConnectUri;\n    }, 0);\n  }\n  // -- private ------------------------------------------------------ //\n  get overlayEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-qr-container\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-qr-container\">${this.uri ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-qrcode size=\"${this.overlayEl.offsetWidth}\" uri=\"${this.uri}\" walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-qrcode>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-spinner></wcm-spinner>`}</div>`;\n  }\n};\nWcmWalletConnectQr.styles = [ThemeUtil.globalCss, styles$6];\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletConnectQr.prototype, \"walletId\", 2);\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletConnectQr.prototype, \"imageId\", 2);\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletConnectQr.prototype, \"uri\", 2);\nWcmWalletConnectQr = __decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-walletconnect-qr\")\n], WcmWalletConnectQr);\n\nvar __defProp$7 = Object.defineProperty;\nvar __getOwnPropDesc$7 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$7 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$7(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$7(target, key, result);\n  return result;\n};\nlet WcmConnectWalletView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  viewTemplate() {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() && !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram()) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-android-wallet-selection></wcm-android-wallet-selection>`;\n    }\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile()) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`;\n  }\n};\nWcmConnectWalletView.styles = [ThemeUtil.globalCss];\nWcmConnectWalletView = __decorateClass$7([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-connect-wallet-view\")\n], WcmConnectWalletView);\n\nconst styles$5 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp$6 = Object.defineProperty;\nvar __getOwnPropDesc$6 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$6 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$6(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$6(target, key, result);\n  return result;\n};\nlet WcmDesktopConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openDesktopApp();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri) {\n    const { desktop, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const nativeUrl = desktop == null ? void 0 : desktop.native;\n    const universalUrl = desktop == null ? void 0 : desktop.universal;\n    if (nativeUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_self\");\n    } else if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_blank\");\n    }\n  }\n  openDesktopApp() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    UiUtil.setRecentWallet(routerData);\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri);\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isMobile, isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"${`Continue in ${name}...`}\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Connection can continue loading if ${name} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile=\"${isMobile}\" .isWeb=\"${isWeb}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${this.openDesktopApp.bind(this)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmDesktopConnectingView.styles = [ThemeUtil.globalCss, styles$5];\n__decorateClass$6([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmDesktopConnectingView.prototype, \"isError\", 2);\nWcmDesktopConnectingView = __decorateClass$6([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-desktop-connecting-view\")\n], WcmDesktopConnectingView);\n\nconst styles$4 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;\n\nvar __defProp$5 = Object.defineProperty;\nvar __getOwnPropDesc$5 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$5 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$5(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$5(target, key, result);\n  return result;\n};\nlet WcmInstallWalletView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onInstall(uri) {\n    if (uri) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(uri, \"_blank\");\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id, homepage } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"Not Detected\" .isStale=\"${true}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Download ${name} to continue. If multiple browser extensions are installed, disable non ${name} ones and try again`}</wcm-text><wcm-button .onClick=\"${() => this.onInstall(homepage)}\" .iconLeft=\"${SvgUtil.ARROW_DOWN_ICON}\">Download</wcm-button></wcm-info-footer>`;\n  }\n};\nWcmInstallWalletView.styles = [ThemeUtil.globalCss, styles$4];\nWcmInstallWalletView = __decorateClass$5([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-install-wallet-view\")\n], WcmInstallWalletView);\n\nconst styles$3 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;\n\nvar __defProp$4 = Object.defineProperty;\nvar __getOwnPropDesc$4 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$4 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$4(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$4(target, key, result);\n  return result;\n};\nlet WcmMobileConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openMobileApp();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri, forceUniversalUrl = false) {\n    const { mobile, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const nativeUrl = mobile == null ? void 0 : mobile.native;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    const target = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() ? \"_blank\" : \"_self\";\n    uri = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() && _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() ? encodeURIComponent(uri) : uri;\n    if (nativeUrl && !forceUniversalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n    } else if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n    }\n  }\n  openMobileApp(forceUniversalUrl = false) {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri, forceUniversalUrl);\n    }\n    UiUtil.setRecentWallet(routerData);\n  }\n  onGoToAppStore(downloadUrl) {\n    if (downloadUrl) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(downloadUrl, \"_blank\");\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id, app, mobile } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    const downloadUrl = app == null ? void 0 : app.ios;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"Tap 'Open' to continue\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class=\"wcm-note\"><wcm-platform-selection .isWeb=\"${isWeb}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${() => this.openMobileApp(false)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection>${universalUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text color=\"secondary\" variant=\"small-thin\">Still doesn't work? <span tabindex=\"0\" @click=\"${() => this.openMobileApp(true)}\">Try this alternate link</span></wcm-text>` : null}</wcm-info-footer><wcm-info-footer class=\"wcm-app-store\"><div><wcm-wallet-image walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\"></wcm-wallet-image><wcm-text>${`Get ${name}`}</wcm-text></div><wcm-button .iconRight=\"${SvgUtil.ARROW_RIGHT_ICON}\" .onClick=\"${() => this.onGoToAppStore(downloadUrl)}\" variant=\"ghost\">App Store</wcm-button></wcm-info-footer>`;\n  }\n};\nWcmMobileConnectingView.styles = [ThemeUtil.globalCss, styles$3];\n__decorateClass$4([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmMobileConnectingView.prototype, \"isError\", 2);\nWcmMobileConnectingView = __decorateClass$4([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-connecting-view\")\n], WcmMobileConnectingView);\n\nconst styles$2 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp$3 = Object.defineProperty;\nvar __getOwnPropDesc$3 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$3 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$3(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$3(target, key, result);\n  return result;\n};\nlet WcmMobileQrConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isDesktop, isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Scan this QR Code with your phone's camera or inside ${name} app`}</wcm-text><wcm-platform-selection .isDesktop=\"${isDesktop}\" .isWeb=\"${isWeb}\"></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmMobileQrConnectingView.styles = [ThemeUtil.globalCss, styles$2];\nWcmMobileQrConnectingView = __decorateClass$3([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-qr-connecting-view\")\n], WcmMobileQrConnectingView);\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropDesc$2 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$2 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$2(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$2(target, key, result);\n  return result;\n};\nlet WcmQrcodeView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Scan the code\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`;\n  }\n};\nWcmQrcodeView.styles = [ThemeUtil.globalCss];\nWcmQrcodeView = __decorateClass$2([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-qrcode-view\")\n], WcmQrcodeView);\n\nconst styles$1 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropDesc$1 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$1 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$1(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$1(target, key, result);\n  return result;\n};\nconst PAGE_ENTRIES = 40;\nlet WcmWalletExplorerView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.loading = !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state.wallets.listings.length;\n    this.firstFetch = !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state.wallets.listings.length;\n    this.search = \"\";\n    this.endReached = false;\n    this.intersectionObserver = void 0;\n    this.searchDebounce = UiUtil.debounce((value) => {\n      if (value.length >= 1) {\n        this.firstFetch = true;\n        this.endReached = false;\n        this.search = value;\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.resetSearch();\n        this.fetchWallets();\n      } else if (this.search) {\n        this.search = \"\";\n        this.endReached = this.isLastPage();\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.resetSearch();\n      }\n    });\n  }\n  // -- lifecycle ---------------------------------------------------- //\n  firstUpdated() {\n    this.createPaginationObserver();\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.intersectionObserver) == null ? void 0 : _a.disconnect();\n  }\n  // -- private ------------------------------------------------------ //\n  get placeholderEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-placeholder-block\");\n  }\n  createPaginationObserver() {\n    this.intersectionObserver = new IntersectionObserver(([element]) => {\n      if (element.isIntersecting && !(this.search && this.firstFetch)) {\n        this.fetchWallets();\n      }\n    });\n    this.intersectionObserver.observe(this.placeholderEl);\n  }\n  isLastPage() {\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings, total } = this.search ? search : wallets;\n    return total <= PAGE_ENTRIES || listings.length >= total;\n  }\n  async fetchWallets() {\n    var _a;\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings, total, page } = this.search ? search : wallets;\n    if (!this.endReached && (this.firstFetch || total > PAGE_ENTRIES && listings.length < total)) {\n      try {\n        this.loading = true;\n        const chains = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state.chains) == null ? void 0 : _a.join(\",\");\n        const { listings: newListings } = await _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getWallets({\n          page: this.firstFetch ? 1 : page + 1,\n          entries: PAGE_ENTRIES,\n          search: this.search,\n          version: 2,\n          chains\n        });\n        const explorerImages = newListings.map((wallet) => UiUtil.getWalletIcon(wallet));\n        await Promise.all([\n          ...explorerImages.map(async (url) => UiUtil.preloadImage(url)),\n          _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.wait(300)\n        ]);\n        this.endReached = this.isLastPage();\n      } catch (err) {\n        console.error(err);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(UiUtil.getErrorMessage(err), \"error\");\n      } finally {\n        this.loading = false;\n        this.firstFetch = false;\n      }\n    }\n  }\n  onConnect(listing) {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid()) {\n      UiUtil.handleMobileLinking(listing);\n    } else {\n      UiUtil.goToConnectingView(listing);\n    }\n  }\n  onSearchChange(event) {\n    const { value } = event.target;\n    this.searchDebounce(value);\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings } = this.search ? search : wallets;\n    const isLoading = this.loading && !listings.length;\n    const isSearch = this.search.length >= 3;\n    let manualWallets = TemplateUtil.manualWalletsTemplate();\n    let recomendedWallets = TemplateUtil.recomendedWalletsTemplate(true);\n    if (isSearch) {\n      manualWallets = manualWallets.filter(\n        ({ values }) => UiUtil.caseSafeIncludes(values[0], this.search)\n      );\n      recomendedWallets = recomendedWallets.filter(\n        ({ values }) => UiUtil.caseSafeIncludes(values[0], this.search)\n      );\n    }\n    const isEmpty = !this.loading && !listings.length && !recomendedWallets.length;\n    const classes = {\n      \"wcm-loading\": isLoading,\n      \"wcm-end-reached\": this.endReached || !this.loading,\n      \"wcm-empty\": isEmpty\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header><wcm-search-input .onChange=\"${this.onSearchChange.bind(this)}\"></wcm-search-input></wcm-modal-header><wcm-modal-content class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"><div class=\"wcm-grid\">${isLoading ? null : manualWallets} ${isLoading ? null : recomendedWallets} ${isLoading ? null : listings.map(\n      (listing) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${listing ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button imageId=\"${listing.image_id}\" name=\"${listing.name}\" walletId=\"${listing.id}\" .onClick=\"${() => this.onConnect(listing)}\"></wcm-wallet-button>` : null}`\n    )}</div><div class=\"wcm-placeholder-block\">${isEmpty ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text variant=\"big-bold\" color=\"secondary\">No results found</wcm-text>` : null} ${!isEmpty && this.loading ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-spinner></wcm-spinner>` : null}</div></wcm-modal-content>`;\n  }\n};\nWcmWalletExplorerView.styles = [ThemeUtil.globalCss, styles$1];\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"loading\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"firstFetch\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"search\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"endReached\", 2);\nWcmWalletExplorerView = __decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-explorer-view\")\n], WcmWalletExplorerView);\n\nconst styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nlet WcmWebConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openWebWallet();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri) {\n    const { desktop, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const universalUrl = desktop == null ? void 0 : desktop.universal;\n    if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_blank\");\n    }\n  }\n  openWebWallet() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    UiUtil.setRecentWallet(routerData);\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri);\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isMobile, isDesktop } = UiUtil.getCachedRouterWalletPlatforms();\n    const isMobilePlatform = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"${`Continue in ${name}...`}\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`${name} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile=\"${isMobile}\" .isDesktop=\"${isMobilePlatform ? false : isDesktop}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${this.openWebWallet.bind(this)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmWebConnectingView.styles = [ThemeUtil.globalCss, styles];\n__decorateClass([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWebConnectingView.prototype, \"isError\", 2);\nWcmWebConnectingView = __decorateClass([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-web-connecting-view\")\n], WcmWebConnectingView);\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQ1M7QUFDWjtBQUM4RjtBQUN0SDtBQUNFO0FBQ3dCO0FBQ3pCOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRiw2REFBNkQ7QUFDN0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnRUFBUztBQUNuQztBQUNBO0FBQ0Esb0JBQW9CLGtFQUFrRTtBQUN0RixvQkFBb0IscUVBQXFFO0FBQ3pGO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0JBQW9CLHFFQUFxRTtBQUN6RixvQkFBb0IsNERBQTREO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsWUFBWSxpQkFBaUIsRUFBRSxnRUFBUztBQUN4QztBQUNBLHVFQUF1RTtBQUN2RTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsd0NBQUcsb0JBQW9CLFNBQVMsVUFBVSxzQkFBc0Isa0JBQWtCLDZCQUE2QixtQ0FB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cC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9kaXN0L2luZGV4LmpzPzY3NDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCBMaXRFbGVtZW50LCBodG1sLCBzdmcgYXMgc3ZnJDEgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgcHJvcGVydHksIGN1c3RvbUVsZW1lbnQsIHN0YXRlIH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXAuanMnO1xuaW1wb3J0IHsgVGhlbWVDdHJsLCBNb2RhbEN0cmwsIFJvdXRlckN0cmwsIENvbmZpZ0N0cmwsIEV4cGxvcmVyQ3RybCwgQ29yZVV0aWwsIE9wdGlvbnNDdHJsLCBUb2FzdEN0cmwsIEV2ZW50c0N0cmwgfSBmcm9tICdAd2FsbGV0Y29ubmVjdC9tb2RhbC1jb3JlJztcbmltcG9ydCB7IHN2ZyB9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7IGFuaW1hdGUgfSBmcm9tICdtb3Rpb24nO1xuaW1wb3J0IHsgaWZEZWZpbmVkIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvaWYtZGVmaW5lZC5qcyc7XG5pbXBvcnQgUVJDb2RlVXRpbCBmcm9tICdxcmNvZGUnO1xuXG52YXIgX19kZWZQcm9wJHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkeShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xuZnVuY3Rpb24gdGhlbWVNb2RlVmFyaWFibGVzKCkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHRoZW1lTW9kZSA9IChfYSA9IFRoZW1lQ3RybC5zdGF0ZS50aGVtZU1vZGUpICE9IG51bGwgPyBfYSA6IFwiZGFya1wiO1xuICBjb25zdCB0aGVtZU1vZGVQcmVzZXRzID0ge1xuICAgIGxpZ2h0OiB7XG4gICAgICBmb3JlZ3JvdW5kOiB7IDE6IGByZ2IoMjAsMjAsMjApYCwgMjogYHJnYigxMjEsMTM0LDEzNClgLCAzOiBgcmdiKDE1OCwxNjksMTY5KWAgfSxcbiAgICAgIGJhY2tncm91bmQ6IHsgMTogYHJnYigyNTUsMjU1LDI1NSlgLCAyOiBgcmdiKDI0MSwyNDMsMjQzKWAsIDM6IGByZ2IoMjI4LDIzMSwyMzEpYCB9LFxuICAgICAgb3ZlcmxheTogXCJyZ2JhKDAsMCwwLDAuMSlcIlxuICAgIH0sXG4gICAgZGFyazoge1xuICAgICAgZm9yZWdyb3VuZDogeyAxOiBgcmdiKDIyOCwyMzEsMjMxKWAsIDI6IGByZ2IoMTQ4LDE1OCwxNTgpYCwgMzogYHJnYigxMTAsMTE5LDExOSlgIH0sXG4gICAgICBiYWNrZ3JvdW5kOiB7IDE6IGByZ2IoMjAsMjAsMjApYCwgMjogYHJnYigzOSw0Miw0MilgLCAzOiBgcmdiKDU5LDY0LDY0KWAgfSxcbiAgICAgIG92ZXJsYXk6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjEpXCJcbiAgICB9XG4gIH07XG4gIGNvbnN0IHRoZW1lTW9kZUNvbG9ycyA9IHRoZW1lTW9kZVByZXNldHNbdGhlbWVNb2RlXTtcbiAgcmV0dXJuIHtcbiAgICBcIi0td2NtLWNvbG9yLWZnLTFcIjogdGhlbWVNb2RlQ29sb3JzLmZvcmVncm91bmRbMV0sXG4gICAgXCItLXdjbS1jb2xvci1mZy0yXCI6IHRoZW1lTW9kZUNvbG9ycy5mb3JlZ3JvdW5kWzJdLFxuICAgIFwiLS13Y20tY29sb3ItZmctM1wiOiB0aGVtZU1vZGVDb2xvcnMuZm9yZWdyb3VuZFszXSxcbiAgICBcIi0td2NtLWNvbG9yLWJnLTFcIjogdGhlbWVNb2RlQ29sb3JzLmJhY2tncm91bmRbMV0sXG4gICAgXCItLXdjbS1jb2xvci1iZy0yXCI6IHRoZW1lTW9kZUNvbG9ycy5iYWNrZ3JvdW5kWzJdLFxuICAgIFwiLS13Y20tY29sb3ItYmctM1wiOiB0aGVtZU1vZGVDb2xvcnMuYmFja2dyb3VuZFszXSxcbiAgICBcIi0td2NtLWNvbG9yLW92ZXJsYXlcIjogdGhlbWVNb2RlQ29sb3JzLm92ZXJsYXlcbiAgfTtcbn1cbmZ1bmN0aW9uIHRoZW1lVmFyaWFibGVzUHJlc2V0cygpIHtcbiAgcmV0dXJuIHtcbiAgICBcIi0td2NtLWFjY2VudC1jb2xvclwiOiBcIiMzMzk2RkZcIixcbiAgICBcIi0td2NtLWFjY2VudC1maWxsLWNvbG9yXCI6IFwiI0ZGRkZGRlwiLFxuICAgIFwiLS13Y20tei1pbmRleFwiOiBcIjg5XCIsXG4gICAgXCItLXdjbS1iYWNrZ3JvdW5kLWNvbG9yXCI6IFwiIzMzOTZGRlwiLFxuICAgIFwiLS13Y20tYmFja2dyb3VuZC1ib3JkZXItcmFkaXVzXCI6IFwiOHB4XCIsXG4gICAgXCItLXdjbS1jb250YWluZXItYm9yZGVyLXJhZGl1c1wiOiBcIjMwcHhcIixcbiAgICBcIi0td2NtLXdhbGxldC1pY29uLWJvcmRlci1yYWRpdXNcIjogXCIxNXB4XCIsXG4gICAgXCItLXdjbS13YWxsZXQtaWNvbi1sYXJnZS1ib3JkZXItcmFkaXVzXCI6IFwiMzBweFwiLFxuICAgIFwiLS13Y20td2FsbGV0LWljb24tc21hbGwtYm9yZGVyLXJhZGl1c1wiOiBcIjdweFwiLFxuICAgIFwiLS13Y20taW5wdXQtYm9yZGVyLXJhZGl1c1wiOiBcIjI4cHhcIixcbiAgICBcIi0td2NtLWJ1dHRvbi1ib3JkZXItcmFkaXVzXCI6IFwiMTBweFwiLFxuICAgIFwiLS13Y20tbm90aWZpY2F0aW9uLWJvcmRlci1yYWRpdXNcIjogXCIzNnB4XCIsXG4gICAgXCItLXdjbS1zZWNvbmRhcnktYnV0dG9uLWJvcmRlci1yYWRpdXNcIjogXCIyOHB4XCIsXG4gICAgXCItLXdjbS1pY29uLWJ1dHRvbi1ib3JkZXItcmFkaXVzXCI6IFwiNTAlXCIsXG4gICAgXCItLXdjbS1idXR0b24taG92ZXItaGlnaGxpZ2h0LWJvcmRlci1yYWRpdXNcIjogXCIxMHB4XCIsXG4gICAgXCItLXdjbS10ZXh0LWJpZy1ib2xkLXNpemVcIjogXCIyMHB4XCIsXG4gICAgXCItLXdjbS10ZXh0LWJpZy1ib2xkLXdlaWdodFwiOiBcIjYwMFwiLFxuICAgIFwiLS13Y20tdGV4dC1iaWctYm9sZC1saW5lLWhlaWdodFwiOiBcIjI0cHhcIixcbiAgICBcIi0td2NtLXRleHQtYmlnLWJvbGQtbGV0dGVyLXNwYWNpbmdcIjogXCItMC4wM2VtXCIsXG4gICAgXCItLXdjbS10ZXh0LWJpZy1ib2xkLXRleHQtdHJhbnNmb3JtXCI6IFwibm9uZVwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtYm9sZC1zaXplXCI6IFwiMTBweFwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtYm9sZC13ZWlnaHRcIjogXCI3MDBcIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLWJvbGQtbGluZS1oZWlnaHRcIjogXCIxMnB4XCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1ib2xkLWxldHRlci1zcGFjaW5nXCI6IFwiMC4wMmVtXCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1ib2xkLXRleHQtdHJhbnNmb3JtXCI6IFwidXBwZXJjYXNlXCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLXNpemVcIjogXCIxMnB4XCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLXdlaWdodFwiOiBcIjYwMFwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtcmVndWxhci1saW5lLWhlaWdodFwiOiBcIjE0cHhcIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItbGV0dGVyLXNwYWNpbmdcIjogXCItMC4wM2VtXCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLXRleHQtdHJhbnNmb3JtXCI6IFwibm9uZVwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC10aGluLXNpemVcIjogXCIxNHB4XCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXRoaW4td2VpZ2h0XCI6IFwiNTAwXCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXRoaW4tbGluZS1oZWlnaHRcIjogXCIxNnB4XCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXRoaW4tbGV0dGVyLXNwYWNpbmdcIjogXCItMC4wM2VtXCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXRoaW4tdGV4dC10cmFuc2Zvcm1cIjogXCJub25lXCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItc2l6ZVwiOiBcIjE0cHhcIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtcmVndWxhci13ZWlnaHRcIjogXCI2MDBcIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtcmVndWxhci1saW5lLWhlaWdodFwiOiBcIjE2cHhcIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtcmVndWxhci1sZXR0ZXItc3BhY2luZ1wiOiBcIi0wLjAzZW1cIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtcmVndWxhci10ZXh0LXRyYW5zZm9ybVwiOiBcIm5vbmVcIixcbiAgICBcIi0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItc2l6ZVwiOiBcIjE2cHhcIixcbiAgICBcIi0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItd2VpZ2h0XCI6IFwiNjAwXCIsXG4gICAgXCItLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLWxpbmUtaGVpZ2h0XCI6IFwiMjBweFwiLFxuICAgIFwiLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci1sZXR0ZXItc3BhY2luZ1wiOiBcIi0wLjAzZW1cIixcbiAgICBcIi0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItdGV4dC10cmFuc2Zvcm1cIjogXCJub25lXCIsXG4gICAgXCItLXdjbS1mb250LWZhbWlseVwiOiBcIi1hcHBsZS1zeXN0ZW0sIHN5c3RlbS11aSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIFVidW50dSwgJ0hlbHZldGljYSBOZXVlJywgc2Fucy1zZXJpZlwiLFxuICAgIFwiLS13Y20tZm9udC1mZWF0dXJlLXNldHRpbmdzXCI6IGAndG51bScgb24sICdsbnVtJyBvbiwgJ2Nhc2UnIG9uYCxcbiAgICBcIi0td2NtLXN1Y2Nlc3MtY29sb3JcIjogXCJyZ2IoMzgsMTgxLDk4KVwiLFxuICAgIFwiLS13Y20tZXJyb3ItY29sb3JcIjogXCJyZ2IoMjQyLCA5MCwgMTAzKVwiLFxuICAgIFwiLS13Y20tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yXCI6IFwicmdiYSgwLCAwLCAwLCAwLjMpXCIsXG4gICAgXCItLXdjbS1vdmVybGF5LWJhY2tkcm9wLWZpbHRlclwiOiBcIm5vbmVcIlxuICB9O1xufVxuY29uc3QgVGhlbWVVdGlsID0ge1xuICBnZXRQcmVzZXQoa2V5KSB7XG4gICAgcmV0dXJuIHRoZW1lVmFyaWFibGVzUHJlc2V0cygpW2tleV07XG4gIH0sXG4gIHNldFRoZW1lKCkge1xuICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiOnJvb3RcIik7XG4gICAgY29uc3QgeyB0aGVtZVZhcmlhYmxlcyB9ID0gVGhlbWVDdHJsLnN0YXRlO1xuICAgIGlmIChyb290KSB7XG4gICAgICBjb25zdCB2YXJpYWJsZXMgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgdGhlbWVNb2RlVmFyaWFibGVzKCkpLCB0aGVtZVZhcmlhYmxlc1ByZXNldHMoKSksIHRoZW1lVmFyaWFibGVzKTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHZhcmlhYmxlcykuZm9yRWFjaCgoW2tleSwgdmFsXSkgPT4gcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbCkpO1xuICAgIH1cbiAgfSxcbiAgZ2xvYmFsQ3NzOiBjc3NgKiw6OmFmdGVyLDo6YmVmb3Jle21hcmdpbjowO3BhZGRpbmc6MDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Zm9udC1zdHlsZTpub3JtYWw7dGV4dC1yZW5kZXJpbmc6b3B0aW1pemVTcGVlZDstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6dHJhbnNwYXJlbnQ7YmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW59YnV0dG9ue2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3RyYW5zaXRpb246YWxsIC4ycyBlYXNlfUBtZWRpYSAoaG92ZXI6aG92ZXIpIGFuZCAocG9pbnRlcjpmaW5lKXtidXR0b246YWN0aXZle3RyYW5zaXRpb246YWxsIC4xcyBlYXNlO3RyYW5zZm9ybTpzY2FsZSguOTMpfX1idXR0b246OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yLC4ycyBlYXNlfWJ1dHRvbjpkaXNhYmxlZHtjdXJzb3I6bm90LWFsbG93ZWR9YnV0dG9uIHN2ZyxidXR0b24gd2NtLXRleHR7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoxfWlucHV0e2JvcmRlcjpub25lO291dGxpbmU6MDthcHBlYXJhbmNlOm5vbmV9aW1ne2Rpc3BsYXk6YmxvY2t9OjpzZWxlY3Rpb257Y29sb3I6dmFyKC0td2NtLWFjY2VudC1maWxsLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfWBcbn07XG5cbmNvbnN0IHN0eWxlcyR0ID0gY3NzYGJ1dHRvbntib3JkZXItcmFkaXVzOnZhcigtLXdjbS1zZWNvbmRhcnktYnV0dG9uLWJvcmRlci1yYWRpdXMpO2hlaWdodDoyOHB4O3BhZGRpbmc6MCAxMHB4O2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9YnV0dG9uIHBhdGh7ZmlsbDp2YXIoLS13Y20tYWNjZW50LWZpbGwtY29sb3IpfWJ1dHRvbjo6YWZ0ZXJ7Ym9yZGVyLXJhZGl1czppbmhlcml0O2JvcmRlcjoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWJ1dHRvbjpkaXNhYmxlZDo6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ud2NtLWljb24tbGVmdCBzdmd7bWFyZ2luLXJpZ2h0OjVweH0ud2NtLWljb24tcmlnaHQgc3Zne21hcmdpbi1sZWZ0OjVweH1idXR0b246YWN0aXZlOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX0ud2NtLWdob3N0LC53Y20tZ2hvc3Q6YWN0aXZlOjphZnRlciwud2NtLW91dGxpbmV7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ud2NtLWdob3N0OmFjdGl2ZXtvcGFjaXR5Oi41fUBtZWRpYShob3Zlcjpob3Zlcil7YnV0dG9uOmhvdmVyOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX0ud2NtLWdob3N0OmhvdmVyOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS53Y20tZ2hvc3Q6aG92ZXJ7b3BhY2l0eTouNX19YnV0dG9uOmRpc2FibGVke2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTMpO3BvaW50ZXItZXZlbnRzOm5vbmV9LndjbS1naG9zdDo6YWZ0ZXJ7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fS53Y20tZ2hvc3QgcGF0aHtmaWxsOnZhcigtLXdjbS1jb2xvci1mZy0yKX0ud2NtLW91dGxpbmUgcGF0aHtmaWxsOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfS53Y20tb3V0bGluZTpkaXNhYmxlZHtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O29wYWNpdHk6LjV9YDtcblxudmFyIF9fZGVmUHJvcCR4ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkeCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHggPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkeCh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkeCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtQnV0dG9uID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5pY29uTGVmdCA9IHZvaWQgMDtcbiAgICB0aGlzLmljb25SaWdodCA9IHZvaWQgMDtcbiAgICB0aGlzLm9uQ2xpY2sgPSAoKSA9PiBudWxsO1xuICAgIHRoaXMudmFyaWFudCA9IFwiZGVmYXVsdFwiO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20taWNvbi1sZWZ0XCI6IHRoaXMuaWNvbkxlZnQgIT09IHZvaWQgMCxcbiAgICAgIFwid2NtLWljb24tcmlnaHRcIjogdGhpcy5pY29uUmlnaHQgIT09IHZvaWQgMCxcbiAgICAgIFwid2NtLWdob3N0XCI6IHRoaXMudmFyaWFudCA9PT0gXCJnaG9zdFwiLFxuICAgICAgXCJ3Y20tb3V0bGluZVwiOiB0aGlzLnZhcmlhbnQgPT09IFwib3V0bGluZVwiXG4gICAgfTtcbiAgICBsZXQgdGV4dENvbG9yID0gXCJpbnZlcnNlXCI7XG4gICAgaWYgKHRoaXMudmFyaWFudCA9PT0gXCJnaG9zdFwiKSB7XG4gICAgICB0ZXh0Q29sb3IgPSBcInNlY29uZGFyeVwiO1xuICAgIH1cbiAgICBpZiAodGhpcy52YXJpYW50ID09PSBcIm91dGxpbmVcIikge1xuICAgICAgdGV4dENvbG9yID0gXCJhY2NlbnRcIjtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgPGJ1dHRvbiBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCIgP2Rpc2FibGVkPVwiJHt0aGlzLmRpc2FibGVkfVwiIEBjbGljaz1cIiR7dGhpcy5vbkNsaWNrfVwiPiR7dGhpcy5pY29uTGVmdH08d2NtLXRleHQgdmFyaWFudD1cInNtYWxsLXJlZ3VsYXJcIiBjb2xvcj1cIiR7dGV4dENvbG9yfVwiPjxzbG90Pjwvc2xvdD48L3djbS10ZXh0PiR7dGhpcy5pY29uUmlnaHR9PC9idXR0b24+YDtcbiAgfVxufTtcbldjbUJ1dHRvbi5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJHRdO1xuX19kZWNvcmF0ZUNsYXNzJHgoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbUJ1dHRvbi5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkeChbXG4gIHByb3BlcnR5KClcbl0sIFdjbUJ1dHRvbi5wcm90b3R5cGUsIFwiaWNvbkxlZnRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkeChbXG4gIHByb3BlcnR5KClcbl0sIFdjbUJ1dHRvbi5wcm90b3R5cGUsIFwiaWNvblJpZ2h0XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHgoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21CdXR0b24ucHJvdG90eXBlLCBcIm9uQ2xpY2tcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkeChbXG4gIHByb3BlcnR5KClcbl0sIFdjbUJ1dHRvbi5wcm90b3R5cGUsIFwidmFyaWFudFwiLCAyKTtcbldjbUJ1dHRvbiA9IF9fZGVjb3JhdGVDbGFzcyR4KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1idXR0b25cIilcbl0sIFdjbUJ1dHRvbik7XG5cbmNvbnN0IHN0eWxlcyRzID0gY3NzYDpob3N0e2Rpc3BsYXk6aW5saW5lLWJsb2NrfWJ1dHRvbntwYWRkaW5nOjAgMTVweCAxcHg7aGVpZ2h0OjQwcHg7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tYnV0dG9uLWJvcmRlci1yYWRpdXMpO2NvbG9yOnZhcigtLXdjbS1hY2NlbnQtZmlsbC1jb2xvcik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1idXR0b246OmFmdGVye2NvbnRlbnQ6Jyc7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmFkaXVzOmluaGVyaXQ7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBlYXNlO2JvcmRlcjoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWJ1dHRvbjphY3RpdmU6OmFmdGVye2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWJ1dHRvbjpkaXNhYmxlZHtwYWRkaW5nLWJvdHRvbTowO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTMpO2NvbG9yOnZhcigtLXdjbS1jb2xvci1mZy0zKX0ud2NtLXNlY29uZGFyeXtjb2xvcjp2YXIoLS13Y20tYWNjZW50LWNvbG9yKTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS53Y20tc2Vjb25kYXJ5OjphZnRlcntkaXNwbGF5Om5vbmV9QG1lZGlhKGhvdmVyOmhvdmVyKXtidXR0b246aG92ZXI6OmFmdGVye2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfX1gO1xuXG52YXIgX19kZWZQcm9wJHcgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyR3ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkdyA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyR3KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCR3KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21CdXR0b25CaWcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnZhcmlhbnQgPSBcInByaW1hcnlcIjtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLXNlY29uZGFyeVwiOiB0aGlzLnZhcmlhbnQgPT09IFwic2Vjb25kYXJ5XCJcbiAgICB9O1xuICAgIHJldHVybiBodG1sYDxidXR0b24gP2Rpc2FibGVkPVwiJHt0aGlzLmRpc2FibGVkfVwiIGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIj48c2xvdD48L3Nsb3Q+PC9idXR0b24+YDtcbiAgfVxufTtcbldjbUJ1dHRvbkJpZy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJHNdO1xuX19kZWNvcmF0ZUNsYXNzJHcoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbUJ1dHRvbkJpZy5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkdyhbXG4gIHByb3BlcnR5KClcbl0sIFdjbUJ1dHRvbkJpZy5wcm90b3R5cGUsIFwidmFyaWFudFwiLCAyKTtcbldjbUJ1dHRvbkJpZyA9IF9fZGVjb3JhdGVDbGFzcyR3KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1idXR0b24tYmlnXCIpXG5dLCBXY21CdXR0b25CaWcpO1xuXG5jb25zdCBzdHlsZXMkciA9IGNzc2A6aG9zdHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0yKTtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3ItYmctMyl9ZGl2e3BhZGRpbmc6MTBweCAyMHB4O2Rpc3BsYXk6aW5oZXJpdDtmbGV4LWRpcmVjdGlvbjppbmhlcml0O2FsaWduLWl0ZW1zOmluaGVyaXQ7d2lkdGg6aW5oZXJpdDtqdXN0aWZ5LWNvbnRlbnQ6aW5oZXJpdH1gO1xuXG52YXIgX19kZWZQcm9wJHYgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyR2ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkdiA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyR2KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCR2KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21JbmZvRm9vdGVyID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxkaXY+PHNsb3Q+PC9zbG90PjwvZGl2PmA7XG4gIH1cbn07XG5XY21JbmZvRm9vdGVyLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkcl07XG5XY21JbmZvRm9vdGVyID0gX19kZWNvcmF0ZUNsYXNzJHYoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWluZm8tZm9vdGVyXCIpXG5dLCBXY21JbmZvRm9vdGVyKTtcblxuY29uc3QgU3ZnVXRpbCA9IHtcbiAgQ1JPU1NfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAxMiAxMlwiPjxwYXRoIGQ9XCJNOS45NCAxMUEuNzUuNzUgMCAxIDAgMTEgOS45NEw3LjQxNCA2LjM1M2EuNS41IDAgMCAxIDAtLjcwOEwxMSAyLjA2MUEuNzUuNzUgMCAxIDAgOS45NCAxTDYuMzUzIDQuNTg2YS41LjUgMCAwIDEtLjcwOCAwTDIuMDYxIDFBLjc1Ljc1IDAgMCAwIDEgMi4wNmwzLjU4NiAzLjU4NmEuNS41IDAgMCAxIDAgLjcwOEwxIDkuOTM5QS43NS43NSAwIDEgMCAyLjA2IDExbDMuNTg2LTMuNTg2YS41LjUgMCAwIDEgLjcwOCAwTDkuOTM5IDExWlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIFdBTExFVF9DT05ORUNUX0xPR086IHN2Z2A8c3ZnIHdpZHRoPVwiMTc4XCIgaGVpZ2h0PVwiMjlcIiB2aWV3Qm94PVwiMCAwIDE3OCAyOVwiIGlkPVwid2NtLXdjLWxvZ29cIj48cGF0aCBkPVwiTTEwLjY4MyA3LjkyNmM1LjI4NC01LjE3IDEzLjg1LTUuMTcgMTkuMTM0IDBsLjYzNi42MjNhLjY1Mi42NTIgMCAwIDEgMCAuOTM2bC0yLjE3NiAyLjEyOWEuMzQzLjM0MyAwIDAgMS0uNDc4IDBsLS44NzUtLjg1N2MtMy42ODYtMy42MDctOS42NjItMy42MDctMTMuMzQ4IDBsLS45MzcuOTE4YS4zNDMuMzQzIDAgMCAxLS40NzkgMGwtMi4xNzUtMi4xM2EuNjUyLjY1MiAwIDAgMSAwLS45MzZsLjY5OC0uNjgzWm0yMy42MzMgNC40MDMgMS45MzUgMS44OTVhLjY1Mi42NTIgMCAwIDEgMCAuOTM2bC04LjczIDguNTQzYS42ODcuNjg3IDAgMCAxLS45NTYgMEwyMC4zNyAxNy42NGEuMTcyLjE3MiAwIDAgMC0uMjM5IDBsLTYuMTk1IDYuMDYzYS42ODcuNjg3IDAgMCAxLS45NTcgMGwtOC43My04LjU0M2EuNjUyLjY1MiAwIDAgMSAwLS45MzZsMS45MzYtMS44OTVhLjY4Ny42ODcgMCAwIDEgLjk1NyAwbDYuMTk2IDYuMDY0YS4xNzIuMTcyIDAgMCAwIC4yMzkgMGw2LjE5NS02LjA2NGEuNjg3LjY4NyAwIDAgMSAuOTU3IDBsNi4xOTYgNi4wNjRhLjE3Mi4xNzIgMCAwIDAgLjI0IDBsNi4xOTUtNi4wNjRhLjY4Ny42ODcgMCAwIDEgLjk1NiAwWk00OC4wOTMgMjAuOTQ4bDIuMzM4LTkuMzU1Yy4xMzktLjUxNS4yNTgtMS4wNy40MTYtMS45NDIuMTIuODcyLjI1OCAxLjQyNy4zNTcgMS45NDJsMi4wMjIgOS4zNTVoNC4xODFsMy41MjgtMTMuODc0aC0zLjIxbC0xLjk0MyA4LjUyM2EyNC44MjUgMjQuODI1IDAgMCAwLS40NTYgMi40NTdjLS4xNTgtLjkzMS0uMzE3LTEuNjI1LS40OTUtMi40MzhsLTEuODgzLTguNTQyaC00LjIwMWwtMi4wNDIgOC41NDJhNDEuMjA0IDQxLjIwNCAwIDAgMC0uNDc1IDIuNDM4IDQxLjIwOCA0MS4yMDggMCAwIDAtLjQ3Ni0yLjQzOGwtMS45MDMtOC41NDJoLTMuMzQ5bDMuNTA4IDEzLjg3NGg0LjA4M1pNNjMuMzMgMjEuMzA0YzEuNTg1IDAgMi41OTYtLjY1NCAzLjExLTEuNjA1LS4wNTkuMjk3LS4wNzguNTk1LS4wNzguODkydi4zNTdoMi42NTVWMTUuMjJjMC0yLjczNS0xLjI0OC00LjMyLTQuMy00LjMyLTIuNjM2IDAtNC4zNiAxLjQ2Ni00LjUyIDMuNDg3aDIuOTE0Yy4xLS44OTEuNzM0LTEuNDI2IDEuNzA1LTEuNDI2LjkxMSAwIDEuNDA3LjUxNSAxLjQwNyAxLjExIDAgLjQzNS0uMjU4LjY5My0xLjAzLjc5MmwtMS4zODguMTU5Yy0yLjA2MS4yNTctMy44MjUgMS4wMS0zLjgyNSAzLjE5IDAgMS45ODIgMS42NDUgMy4wOTIgMy4zNSAzLjA5MlptLjg5MS0yLjA0MWMtLjc3MyAwLTEuMzQ4LS40MzYtMS4zNDgtMS4xOSAwLS43MzMuNjU1LTEuMDkgMS42NDUtMS4yNjhsLjY3NC0uMTE5Yy41NzUtLjExOC44OTItLjIxOCAxLjA5LS4zOTZ2LjkxMmMwIDEuMjI4LS44OTIgMi4wNi0yLjA2IDIuMDZaTTcwLjM5OCA3LjA3NHYxMy44NzRoMi44NzRWNy4wNzRoLTIuODc0Wk03NC45MzQgNy4wNzR2MTMuODc0aDIuODc0VjcuMDc0aC0yLjg3NFpNODQuMDggMjEuMzA0YzIuNzM1IDAgNC41LTEuNTQ2IDQuNjk3LTMuNTY3aC0yLjg5M2MtLjEzOS44OTItLjg5MiAxLjM4Ny0xLjgwNCAxLjM4Ny0xLjIyOCAwLTIuMTItLjk5LTIuMTQtMi4zNThoNi44OTd2LS41NTVjMC0zLjIxLTEuNzY0LTUuMzEyLTQuODE2LTUuMzEyLTIuOTMzIDAtNC45OTQgMi4wNjItNC45OTQgNS4xNzMgMCAzLjM3IDIuMTIgNS4yMzIgNS4wNTMgNS4yMzJabS0yLjE2LTYuNDIxYy4xMTktMS4xMS45MzItMS45MjIgMi4wODEtMS45MjIgMS4xMSAwIDEuODgzLjc3MiAxLjkwMyAxLjkyMkg4MS45MlpNOTQuOTIgMjEuMTQ2Yy42MzMgMCAxLjI0OC0uMSAxLjUyNS0uMTc5di0yLjE4Yy0uMjE4LjA0LS40NzUuMDYtLjY5My4wNi0xLjA1IDAtMS40MjctLjU5NS0xLjQyNy0xLjU2NnYtMy44MDVoMi4zMzh2LTIuMjRoLTIuMzM4VjcuNzg4SDkxLjQ3djMuNDQ4SDg5LjM3djIuMjRoMi4xdjQuMjAxYzAgMi4zIDEuMTUgMy40NjkgMy40NSAzLjQ2OVpNMTA0LjYyIDIxLjMwNGMzLjkyNCAwIDYuMzAyLTIuMjk5IDYuNTk5LTUuNjA4aC0zLjExMWMtLjIzOCAxLjgwMy0xLjUwNiAzLjAzMi0zLjM2OSAzLjAzMi0yLjIgMC0zLjc0Ni0xLjc4NC0zLjc0Ni00Ljc5NiAwLTIuOTUzIDEuNjA1LTQuNjM4IDMuODA1LTQuNjM4IDEuODgzIDAgMi45NTMgMS4xNSAzLjE3MSAyLjgzNGgzLjE5MWMtLjMxNy0zLjQ0OC0yLjg1NC01LjQxLTYuMzQyLTUuNDEtMy45ODQgMC03LjAzNiAyLjY5NS03LjAzNiA3LjIxNCAwIDQuNjc3IDIuNjc2IDcuMzcyIDYuODM4IDcuMzcyWk0xMTcuNDQ5IDIxLjMwNGMyLjk5MyAwIDUuMTE0LTEuODgyIDUuMTE0LTUuMTcyIDAtMy4yMy0yLjEyMS01LjIzMy01LjExNC01LjIzMy0yLjk3MiAwLTUuMDkzIDIuMDAyLTUuMDkzIDUuMjMzIDAgMy4yOSAyLjEwMSA1LjE3MiA1LjA5MyA1LjE3MlptMC0yLjIyYy0xLjMyNyAwLTIuMTgtMS4wOS0yLjE4LTIuOTUyIDAtMS45MDMuODkyLTIuOTczIDIuMTgtMi45NzMgMS4zMDggMCAyLjIgMS4wNyAyLjIgMi45NzMgMCAxLjg2Mi0uODcyIDIuOTUzLTIuMiAyLjk1M1pNMTI2LjU2OSAyMC45NDh2LTUuNjg5YzAtMS4yMDguNzUzLTIuMSAxLjgyMy0yLjEgMS4wMTEgMCAxLjYwNi43NzMgMS42MDYgMi4wNnY1LjcyOWgyLjg3M3YtNi4xNDRjMC0yLjMzOS0xLjIyOS0zLjkwNS0zLjQyOC0zLjkwNS0xLjUyNiAwLTIuNDU4LjczNC0yLjk1MyAxLjYwNmE1LjMxIDUuMzEgMCAwIDAgLjA3OS0uODkydi0uMzc3aC0yLjg3NHY5LjcxMmgyLjg3NFpNMTM3LjQ2NCAyMC45NDh2LTUuNjg5YzAtMS4yMDguNzUzLTIuMSAxLjgyMy0yLjEgMS4wMTEgMCAxLjYwNi43NzMgMS42MDYgMi4wNnY1LjcyOWgyLjg3M3YtNi4xNDRjMC0yLjMzOS0xLjIyOC0zLjkwNS0zLjQyOC0zLjkwNS0xLjUyNiAwLTIuNDU4LjczNC0yLjk1MyAxLjYwNmE1LjMxIDUuMzEgMCAwIDAgLjA3OS0uODkydi0uMzc3aC0yLjg3NHY5LjcxMmgyLjg3NFpNMTQ5Ljk0OSAyMS4zMDRjMi43MzUgMCA0LjQ5OS0xLjU0NiA0LjY5Ny0zLjU2N2gtMi44OTNjLS4xMzkuODkyLS44OTIgMS4zODctMS44MDQgMS4zODctMS4yMjggMC0yLjEyLS45OS0yLjE0LTIuMzU4aDYuODk3di0uNTU1YzAtMy4yMS0xLjc2NC01LjMxMi00LjgxNi01LjMxMi0yLjkzMyAwLTQuOTk0IDIuMDYyLTQuOTk0IDUuMTczIDAgMy4zNyAyLjEyIDUuMjMyIDUuMDUzIDUuMjMyWm0tMi4xNi02LjQyMWMuMTE5LTEuMTEuOTMyLTEuOTIyIDIuMDgxLTEuOTIyIDEuMTEgMCAxLjg4My43NzIgMS45MDMgMS45MjJoLTMuOTg0Wk0xNjAuODc2IDIxLjMwNGMzLjAxMyAwIDQuNjU4LTEuNjQ1IDQuOTc1LTQuMjAxaC0yLjg3NGMtLjA5OSAxLjA3LS43MTMgMS45ODItMi4wMDEgMS45ODItMS4zMDkgMC0yLjItMS4yMS0yLjItMi45OTMgMC0xLjk0MiAxLjAzLTIuOTMzIDIuMjU5LTIuOTMzIDEuMjA5IDAgMS44MDMuODcyIDEuODgzIDEuODgyaDIuODczYy0uMjE4LTIuMzU4LTEuODIzLTQuMTQyLTQuNzc2LTQuMTQyLTIuODc0IDAtNS4xNTMgMS45MDMtNS4xNTMgNS4xOTMgMCAzLjI1IDEuOTIzIDUuMjEyIDUuMDE0IDUuMjEyWk0xNzIuMDY3IDIxLjE0NmMuNjM0IDAgMS4yNDgtLjEgMS41MjYtLjE3OXYtMi4xOGMtLjIxOC4wNC0uNDc2LjA2LS42OTQuMDYtMS4wNSAwLTEuNDI3LS41OTUtMS40MjctMS41NjZ2LTMuODA1aDIuMzM5di0yLjI0aC0yLjMzOVY3Ljc4OGgtMi44NTR2My40NDhoLTIuMXYyLjI0aDIuMXY0LjIwMWMwIDIuMyAxLjE1IDMuNDY5IDMuNDQ5IDMuNDY5WlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIFdBTExFVF9DT05ORUNUX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMjhcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjggMjBcIj48ZyBjbGlwLXBhdGg9XCJ1cmwoI2EpXCI+PHBhdGggZD1cIk03LjM4NiA2LjQ4MmMzLjY1My0zLjU3NiA5LjU3NS0zLjU3NiAxMy4yMjggMGwuNDQuNDNhLjQ1MS40NTEgMCAwIDEgMCAuNjQ4TDE5LjU1IDkuMDMzYS4yMzcuMjM3IDAgMCAxLS4zMyAwbC0uNjA2LS41OTJjLTIuNTQ4LTIuNDk2LTYuNjgtMi40OTYtOS4yMjggMGwtLjY0OC42MzRhLjIzNy4yMzcgMCAwIDEtLjMzIDBMNi45MDIgNy42MDJhLjQ1MS40NTEgMCAwIDEgMC0uNjQ3bC40ODMtLjQ3M1ptMTYuMzM4IDMuMDQ2IDEuMzM5IDEuMzFhLjQ1MS40NTEgMCAwIDEgMCAuNjQ4bC02LjAzNSA1LjkwOWEuNDc1LjQ3NSAwIDAgMS0uNjYyIDBMMTQuMDgzIDEzLjJhLjExOS4xMTkgMCAwIDAtLjE2NiAwbC00LjI4MyA0LjE5NGEuNDc1LjQ3NSAwIDAgMS0uNjYyIDBsLTYuMDM1LTUuOTFhLjQ1MS40NTEgMCAwIDEgMC0uNjQ3bDEuMzM4LTEuMzFhLjQ3NS40NzUgMCAwIDEgLjY2MiAwbDQuMjgzIDQuMTk0Yy4wNDYuMDQ0LjEyLjA0NC4xNjYgMGw0LjI4My00LjE5NGEuNDc1LjQ3NSAwIDAgMSAuNjYyIDBsNC4yODMgNC4xOTRjLjA0Ni4wNDQuMTIuMDQ0LjE2NiAwbDQuMjgzLTQuMTk0YS40NzUuNDc1IDAgMCAxIC42NjIgMFpcIiBmaWxsPVwiIzAwMDAwMFwiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPVwiYVwiPjxwYXRoIGZpbGw9XCIjZmZmZmZmXCIgZD1cIk0wIDBoMjh2MjBIMHpcIi8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+YCxcbiAgV0FMTEVUX0NPTk5FQ1RfSUNPTl9DT0xPUkVEOiBzdmdgPHN2ZyB3aWR0aD1cIjk2XCIgaGVpZ2h0PVwiOTZcIiBmaWxsPVwibm9uZVwiPjxwYXRoIGZpbGw9XCIjZmZmXCIgZD1cIk0yNS4zMjIgMzMuNTk3YzEyLjUyNS0xMi4yNjMgMzIuODMtMTIuMjYzIDQ1LjM1NSAwbDEuNTA3IDEuNDc2YTEuNTQ3IDEuNTQ3IDAgMCAxIDAgMi4yMmwtNS4xNTYgNS4wNDhhLjgxNC44MTQgMCAwIDEtMS4xMzQgMGwtMi4wNzQtMi4wM2MtOC43MzctOC41NTUtMjIuOTAzLTguNTU1LTMxLjY0IDBsLTIuMjIyIDIuMTc1YS44MTQuODE0IDAgMCAxLTEuMTM0IDBsLTUuMTU2LTUuMDQ5YTEuNTQ3IDEuNTQ3IDAgMCAxIDAtMi4yMmwxLjY1NC0xLjYyWm01Ni4wMTkgMTAuNDQgNC41ODkgNC40OTRhMS41NDcgMS41NDcgMCAwIDEgMCAyLjIybC0yMC42OTMgMjAuMjZhMS42MjggMS42MjggMCAwIDEtMi4yNjcgMEw0OC4yODMgNTYuNjMyYS40MDcuNDA3IDAgMCAwLS41NjcgMEwzMy4wMyA3MS4wMTJhMS42MjggMS42MjggMCAwIDEtMi4yNjggMEwxMC4wNyA1MC43NWExLjU0NyAxLjU0NyAwIDAgMSAwLTIuMjJsNC41OS00LjQ5NGExLjYyOCAxLjYyOCAwIDAgMSAyLjI2NyAwbDE0LjY4NyAxNC4zOGMuMTU2LjE1My40MS4xNTMuNTY3IDBsMTQuNjg1LTE0LjM4YTEuNjI4IDEuNjI4IDAgMCAxIDIuMjY4IDBsMTQuNjg3IDE0LjM4Yy4xNTYuMTUzLjQxLjE1My41NjcgMGwxNC42ODYtMTQuMzhhMS42MjggMS42MjggMCAwIDEgMi4yNjggMFpcIi8+PHBhdGggc3Ryb2tlPVwiIzAwMFwiIGQ9XCJNMjUuNjcyIDMzLjk1NGMxMi4zMy0xMi4wNzIgMzIuMzI1LTEyLjA3MiA0NC42NTUgMGwxLjUwOCAxLjQ3NmExLjA0NyAxLjA0NyAwIDAgMSAwIDEuNTA2bC01LjE1NyA1LjA0OGEuMzE0LjMxNCAwIDAgMS0uNDM0IDBsLTIuMDc0LTIuMDNjLTguOTMyLTguNzQ2LTIzLjQwOS04Ljc0Ni0zMi4zNCAwbC0yLjIyMiAyLjE3NGEuMzE0LjMxNCAwIDAgMS0uNDM0IDBsLTUuMTU3LTUuMDQ4YTEuMDQ3IDEuMDQ3IDAgMCAxIDAtMS41MDZsMS42NTUtMS42MlptNTUuMzE5IDEwLjQ0IDQuNTkgNC40OTRhMS4wNDcgMS4wNDcgMCAwIDEgMCAxLjUwNmwtMjAuNjk0IDIwLjI2YTEuMTI4IDEuMTI4IDAgMCAxLTEuNTY4IDBsLTE0LjY4Ni0xNC4zOGEuOTA3LjkwNyAwIDAgMC0xLjI2NyAwTDMyLjY4IDcwLjY1NWExLjEyOCAxLjEyOCAwIDAgMS0xLjU2OCAwTDEwLjQyIDUwLjM5NGExLjA0NyAxLjA0NyAwIDAgMSAwLTEuNTA2bDQuNTktNC40OTNhMS4xMjggMS4xMjggMCAwIDEgMS41NjcgMGwxNC42ODcgMTQuMzc5YS45MDcuOTA3IDAgMCAwIDEuMjY2IDBsLS4zNS0uMzU3LjM1LjM1NyAxNC42ODYtMTQuMzhhMS4xMjggMS4xMjggMCAwIDEgMS41NjggMGwxNC42ODcgMTQuMzhhLjkwNy45MDcgMCAwIDAgMS4yNjcgMGwxNC42ODYtMTQuMzhhMS4xMjggMS4xMjggMCAwIDEgMS41NjggMFpcIi8+PC9zdmc+YCxcbiAgQkFDS19JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDEwIDE4XCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTguNzM1LjE3OWEuNzUuNzUgMCAwIDEgLjA4NyAxLjA1N0wyLjkyIDguMTkyYTEuMjUgMS4yNSAwIDAgMCAwIDEuNjE3bDUuOTAyIDYuOTU2YS43NS43NSAwIDEgMS0xLjE0NC45N0wxLjc3NiAxMC43OGEyLjc1IDIuNzUgMCAwIDEgMC0zLjU1OUw3LjY3OC4yNjVBLjc1Ljc1IDAgMCAxIDguNzM1LjE4WlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIENPUFlfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIj48cGF0aCBmaWxsPVwiI2ZmZlwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTcuMDEgNy4wMWMuMDMtMS41NDUuMTM4LTIuNS41MzUtMy4yOEE1IDUgMCAwIDEgOS43MyAxLjU0NUMxMC44IDEgMTIuMiAxIDE1IDFjMi44IDAgNC4yIDAgNS4yNy41NDVhNSA1IDAgMCAxIDIuMTg1IDIuMTg1QzIzIDQuOCAyMyA2LjIgMjMgOWMwIDIuOCAwIDQuMi0uNTQ1IDUuMjdhNSA1IDAgMCAxLTIuMTg1IDIuMTg1Yy0uNzguMzk3LTEuNzM1LjUwNS0zLjI4LjUzNGwtLjAwMS4wMWMtLjAzIDEuNTQtLjEzOCAyLjQ5My0uNTM0IDMuMjdhNSA1IDAgMCAxLTIuMTg1IDIuMTg2QzEzLjIgMjMgMTEuOCAyMyA5IDIzYy0yLjggMC00LjIgMC01LjI3LS41NDVhNSA1IDAgMCAxLTIuMTg1LTIuMTg1QzEgMTkuMiAxIDE3LjggMSAxNWMwLTIuOCAwLTQuMi41NDUtNS4yN0E1IDUgMCAwIDEgMy43MyA3LjU0NUM0LjUwOCA3LjE0OSA1LjQ2IDcuMDQgNyA3LjAxaC4wMVpNMTUgMTUuNWMtMS40MjUgMC0yLjQwMy0uMDAxLTMuMTYyLS4wNjMtLjc0LS4wNi0xLjEzOS0uMTcyLTEuNDI3LS4zMTlhMy41IDMuNSAwIDAgMS0xLjUzLTEuNTI5Yy0uMTQ2LS4yODgtLjI1Ny0uNjg2LS4zMTgtMS40MjdDOC41MDEgMTEuNDAzIDguNSAxMC40MjUgOC41IDljMC0xLjQyNS4wMDEtMi40MDMuMDYzLTMuMTYyLjA2LS43NC4xNzItMS4xMzkuMzE4LTEuNDI3YTMuNSAzLjUgMCAwIDEgMS41My0xLjUzYy4yODgtLjE0Ni42ODYtLjI1NyAxLjQyNy0uMzE4Ljc1OS0uMDYyIDEuNzM3LS4wNjMgMy4xNjItLjA2MyAxLjQyNSAwIDIuNDAzLjAwMSAzLjE2Mi4wNjMuNzQuMDYgMS4xMzkuMTcyIDEuNDI3LjMxOGEzLjUgMy41IDAgMCAxIDEuNTMgMS41M2MuMTQ2LjI4OC4yNTcuNjg2LjMxOCAxLjQyNy4wNjIuNzU5LjA2MyAxLjczNy4wNjMgMy4xNjIgMCAxLjQyNS0uMDAxIDIuNDAzLS4wNjMgMy4xNjItLjA2Ljc0LS4xNzIgMS4xMzktLjMxOSAxLjQyN2EzLjUgMy41IDAgMCAxLTEuNTI5IDEuNTNjLS4yODguMTQ2LS42ODYuMjU3LTEuNDI3LjMxOC0uNzU5LjA2Mi0xLjczNy4wNjMtMy4xNjIuMDYzWk03IDguNTExYy0uNDQ0LjAwOS0uODI1LjAyNS0xLjE2Mi4wNTItLjc0LjA2LTEuMTM5LjE3Mi0xLjQyNy4zMThhMy41IDMuNSAwIDAgMC0xLjUzIDEuNTNjLS4xNDYuMjg4LS4yNTcuNjg2LS4zMTggMS40MjctLjA2Mi43NTktLjA2MyAxLjczNy0uMDYzIDMuMTYyIDAgMS40MjUuMDAxIDIuNDAzLjA2MyAzLjE2Mi4wNi43NC4xNzIgMS4xMzkuMzE4IDEuNDI3YTMuNSAzLjUgMCAwIDAgMS41MyAxLjUzYy4yODguMTQ2LjY4Ni4yNTcgMS40MjcuMzE4Ljc1OS4wNjIgMS43MzcuMDYzIDMuMTYyLjA2MyAxLjQyNSAwIDIuNDAzLS4wMDEgMy4xNjItLjA2My43NC0uMDYgMS4xMzktLjE3MiAxLjQyNy0uMzE5YTMuNSAzLjUgMCAwIDAgMS41My0xLjUzYy4xNDYtLjI4Ny4yNTctLjY4NS4zMTgtMS40MjYuMDI3LS4zMzcuMDQzLS43MTguMDUyLTEuMTYySDE1Yy0yLjggMC00LjIgMC01LjI3LS41NDVhNSA1IDAgMCAxLTIuMTg1LTIuMTg1QzcgMTMuMiA3IDExLjggNyA5di0uNDg5WlwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+YCxcbiAgUkVUUllfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxNVwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNSAxNlwiPjxwYXRoIGQ9XCJNNi40NjQgMi4wM0EuNzUuNzUgMCAwIDAgNS40MDMuOTdMMi4wOCA0LjI5M2ExIDEgMCAwIDAgMCAxLjQxNEw1LjQwMyA5LjAzYS43NS43NSAwIDAgMCAxLjA2LTEuMDZMNC42NzIgNi4xNzdhLjI1LjI1IDAgMCAxIC4xNzctLjQyN2gyLjA4NWE0IDQgMCAxIDEtMy45MyA0Ljc0NmMtLjA3Ny0uNDA3LS40MDUtLjc0Ni0uODItLjc0Ni0uNDE0IDAtLjc1NS4zMzgtLjcuNzQ4YTUuNTAxIDUuNTAxIDAgMSAwIDUuNDUtNi4yNDhINC44NDhhLjI1LjI1IDAgMCAxLS4xNzctLjQyN0w2LjQ2NCAyLjAzWlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIERFU0tUT1BfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0wIDUuOThjMC0xLjg1IDAtMi43NzUuMzk0LTMuNDY2YTMgMyAwIDAgMSAxLjEyLTEuMTJDMi4yMDQgMSAzLjEzIDEgNC45OCAxaDYuMDRjMS44NSAwIDIuNzc1IDAgMy40NjYuMzk0YTMgMyAwIDAgMSAxLjEyIDEuMTJDMTYgMy4yMDQgMTYgNC4xMyAxNiA1Ljk4djEuMDRjMCAxLjg1IDAgMi43NzUtLjM5NCAzLjQ2NmEzIDMgMCAwIDEtMS4xMiAxLjEyQzEzLjc5NiAxMiAxMi44NyAxMiAxMS4wMiAxMkg0Ljk4Yy0xLjg1IDAtMi43NzUgMC0zLjQ2Ni0uMzk0YTMgMyAwIDAgMS0xLjEyLTEuMTJDMCA5Ljc5NiAwIDguODcgMCA3LjAyVjUuOThaTTQuOTggMi41aDYuMDRjLjk1MyAwIDEuNTY4LjAwMSAyLjAzNC4wNDMuNDQ2LjA0LjYwOC4xMDguNjkuMTU0YTEuNSAxLjUgMCAwIDEgLjU1OS41NmMuMDQ2LjA4LjExNC4yNDMuMTU0LjY5LjA0Mi40NjUuMDQzIDEuMDguMDQzIDIuMDMzdjEuMDRjMCAuOTUyLS4wMDEgMS41NjgtLjA0MyAyLjAzNC0uMDQuNDQ2LS4xMDguNjA4LS4xNTQuNjlhMS40OTkgMS40OTkgMCAwIDEtLjU2LjU1OWMtLjA4LjA0Ni0uMjQzLjExNC0uNjkuMTU0LS40NjYuMDQyLTEuMDguMDQzLTIuMDMzLjA0M0g0Ljk4Yy0uOTUyIDAtMS41NjgtLjAwMS0yLjAzNC0uMDQzLS40NDYtLjA0LS42MDgtLjEwOC0uNjktLjE1NGExLjUgMS41IDAgMCAxLS41NTktLjU2Yy0uMDQ2LS4wOC0uMTE0LS4yNDMtLjE1NC0uNjktLjA0Mi0uNDY1LS4wNDMtMS4wOC0uMDQzLTIuMDMzVjUuOThjMC0uOTUyLjAwMS0xLjU2OC4wNDMtMi4wMzQuMDQtLjQ0Ni4xMDgtLjYwOC4xNTQtLjY5YTEuNSAxLjUgMCAwIDEgLjU2LS41NTljLjA4LS4wNDYuMjQzLS4xMTQuNjktLjE1NC40NjUtLjA0MiAxLjA4LS4wNDMgMi4wMzMtLjA0M1pcIiBmaWxsPVwiI2ZmZlwiLz48cGF0aCBkPVwiTTQgMTQuMjVhLjc1Ljc1IDAgMCAxIC43NS0uNzVoNi41YS43NS43NSAwIDAgMSAwIDEuNWgtNi41YS43NS43NSAwIDAgMS0uNzUtLjc1WlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIE1PQklMRV9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+PHBhdGggZD1cIk02Ljc1IDVhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNVpcIiBmaWxsPVwiI2ZmZlwiLz48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMyA0Ljk4YzAtMS44NSAwLTIuNzc1LjM5NC0zLjQ2NmEzIDMgMCAwIDEgMS4xMi0xLjEyQzUuMjA0IDAgNi4xMzYgMCA4IDBzMi43OTUgMCAzLjQ4Ni4zOTRhMyAzIDAgMCAxIDEuMTIgMS4xMkMxMyAyLjIwNCAxMyAzLjEzIDEzIDQuOTh2Ni4wNGMwIDEuODUgMCAyLjc3NS0uMzk0IDMuNDY2YTMgMyAwIDAgMS0xLjEyIDEuMTJDMTAuNzk2IDE2IDkuODY0IDE2IDggMTZzLTIuNzk1IDAtMy40ODYtLjM5NGEzIDMgMCAwIDEtMS4xMi0xLjEyQzMgMTMuNzk2IDMgMTIuODcgMyAxMS4wMlY0Ljk4Wm04LjUgMHY2LjA0YzAgLjk1My0uMDAxIDEuNTY4LS4wNDMgMi4wMzQtLjA0LjQ0Ni0uMTA4LjYwOC0uMTU0LjY5YTEuNDk5IDEuNDk5IDAgMCAxLS41Ni41NTljLS4wOC4wNDUtLjI0Mi4xMTMtLjY5My4xNTQtLjQ3LjA0Mi0xLjA5MS4wNDMtMi4wNS4wNDMtLjk1OSAwLTEuNTgtLjAwMS0yLjA1LS4wNDMtLjQ1LS4wNC0uNjEzLS4xMDktLjY5My0uMTU0YTEuNSAxLjUgMCAwIDEtLjU2LS41NmMtLjA0Ni0uMDgtLjExNC0uMjQzLS4xNTQtLjY5LS4wNDItLjQ2Ni0uMDQzLTEuMDgtLjA0My0yLjAzM1Y0Ljk4YzAtLjk1Mi4wMDEtMS41NjguMDQzLTIuMDM0LjA0LS40NDYuMTA4LS42MDguMTU0LS42OWExLjUgMS41IDAgMCAxIC41Ni0uNTU5Yy4wOC0uMDQ1LjI0My0uMTEzLjY5My0uMTU0QzYuNDIgMS41MDEgNy4wNDEgMS41IDggMS41Yy45NTkgMCAxLjU4LjAwMSAyLjA1LjA0My40NS4wNC42MTMuMTA5LjY5My4xNTRhMS41IDEuNSAwIDAgMSAuNTYuNTZjLjA0Ni4wOC4xMTQuMjQzLjE1NC42OS4wNDIuNDY1LjA0MyAxLjA4LjA0MyAyLjAzM1pcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBBUlJPV19ET1dOX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgMTQgMTRcIj48cGF0aCBkPVwiTTIuMjggNy40N2EuNzUuNzUgMCAwIDAtMS4wNiAxLjA2bDUuMjUgNS4yNWEuNzUuNzUgMCAwIDAgMS4wNiAwbDUuMjUtNS4yNWEuNzUuNzUgMCAwIDAtMS4wNi0xLjA2bC0zLjU0NCAzLjU0M2EuMjUuMjUgMCAwIDEtLjQyNi0uMTc3Vi43NWEuNzUuNzUgMCAwIDAtMS41IDB2MTAuMDg2YS4yNS4yNSAwIDAgMS0uNDI3LjE3NkwyLjI4IDcuNDdaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgQVJST1dfVVBfUklHSFRfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxNVwiIGhlaWdodD1cIjE0XCIgZmlsbD1cIm5vbmVcIj48cGF0aCBkPVwiTTQuNSAxLjc1QS43NS43NSAwIDAgMSA1LjI1IDFIMTJhMS41IDEuNSAwIDAgMSAxLjUgMS41djYuNzVhLjc1Ljc1IDAgMCAxLTEuNSAwVjQuMTY0YS4yNS4yNSAwIDAgMC0uNDI3LS4xNzZMNC4wNjEgMTEuNUEuNzUuNzUgMCAwIDEgMyAxMC40NGw3LjUxMy03LjUxM2EuMjUuMjUgMCAwIDAtLjE3Ny0uNDI3SDUuMjVhLjc1Ljc1IDAgMCAxLS43NS0uNzVaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgQVJST1dfUklHSFRfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiMTRcIiB2aWV3Qm94PVwiMCAwIDYgMTRcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMi4xODEgMS4wOTlhLjc1Ljc1IDAgMCAxIDEuMDI0LjI3OWwyLjQzMyA0LjI1OGEyLjc1IDIuNzUgMCAwIDEgMCAyLjcyOWwtMi40MzMgNC4yNTdhLjc1Ljc1IDAgMSAxLTEuMzAzLS43NDRMNC4zMzUgNy42MmExLjI1IDEuMjUgMCAwIDAgMC0xLjI0TDEuOTAyIDIuMTIyYS43NS43NSAwIDAgMSAuMjgtMS4wMjNaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgUVJDT0RFX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMjVcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjUgMjRcIj48cGF0aCBkPVwiTTIzLjc0OCA5YS43NDguNzQ4IDAgMCAwIC43NDgtLjc1MmMtLjAxOC0yLjU5Ni0uMTI4LTQuMDctLjc4NC01LjIyYTYgNiAwIDAgMC0yLjI0LTIuMjRjLTEuMTUtLjY1Ni0yLjYyNC0uNzY2LTUuMjItLjc4NGEuNzQ4Ljc0OCAwIDAgMC0uNzUyLjc0OGMwIC40MTQuMzM1Ljc0OS43NDguNzUyIDEuMDE1LjAwNyAxLjgyLjAyOCAyLjQ5NC4wODguOTk1LjA5IDEuNTYxLjI1NiAxLjk4OC41LjcuMzk4IDEuMjguOTc4IDEuNjc5IDEuNjc4LjI0My40MjcuNDEuOTkzLjQ5OCAxLjk4OC4wNjEuNjc1LjA4MiAxLjQ3OS4wOSAyLjQ5M2EuNzUzLjc1MyAwIDAgMCAuNzUuNzQ5Wk0zLjUyNy43ODhDNC42NzcuMTMyIDYuMTUyLjAyMiA4Ljc0Ny4wMDRBLjc0OC43NDggMCAwIDEgOS41Ljc1MmEuNzUzLjc1MyAwIDAgMS0uNzQ5Ljc1MmMtMS4wMTQuMDA3LTEuODE4LjAyOC0yLjQ5My4wODgtLjk5NS4wOS0xLjU2MS4yNTYtMS45ODguNS0uNy4zOTgtMS4yOC45NzgtMS42NzkgMS42NzgtLjI0My40MjctLjQxLjk5My0uNDk5IDEuOTg4LS4wNi42NzUtLjA4MSAxLjQ3OS0uMDg4IDIuNDkzQS43NTMuNzUzIDAgMCAxIDEuMjUyIDlhLjc0OC43NDggMCAwIDEtLjc0OC0uNzUyYy4wMTgtMi41OTYuMTI4LTQuMDcuNzg0LTUuMjJhNiA2IDAgMCAxIDIuMjQtMi4yNFpNMS4yNTIgMTVhLjc0OC43NDggMCAwIDAtLjc0OC43NTJjLjAxOCAyLjU5Ni4xMjggNC4wNy43ODQgNS4yMmE2IDYgMCAwIDAgMi4yNCAyLjI0YzEuMTUuNjU2IDIuNjI0Ljc2NiA1LjIyLjc4NGEuNzQ4Ljc0OCAwIDAgMCAuNzUyLS43NDguNzUzLjc1MyAwIDAgMC0uNzQ5LS43NTJjLTEuMDE0LS4wMDctMS44MTgtLjAyOC0yLjQ5My0uMDg5LS45OTUtLjA4OS0xLjU2MS0uMjU1LTEuOTg4LS40OThhNC41IDQuNSAwIDAgMS0xLjY3OS0xLjY4Yy0uMjQzLS40MjYtLjQxLS45OTItLjQ5OS0xLjk4Ny0uMDYtLjY3NS0uMDgxLTEuNDc5LS4wODgtMi40OTNBLjc1My43NTMgMCAwIDAgMS4yNTIgMTVaTTIyLjk5NiAxNS43NDlhLjc1My43NTMgMCAwIDEgLjc1Mi0uNzQ5Yy40MTUgMCAuNzUxLjMzOC43NDguNzUyLS4wMTggMi41OTYtLjEyOCA0LjA3LS43ODQgNS4yMmE2IDYgMCAwIDEtMi4yNCAyLjI0Yy0xLjE1LjY1Ni0yLjYyNC43NjYtNS4yMi43ODRhLjc0OC43NDggMCAwIDEtLjc1Mi0uNzQ4YzAtLjQxNC4zMzUtLjc0OS43NDgtLjc1MiAxLjAxNS0uMDA3IDEuODItLjAyOCAyLjQ5NC0uMDg5Ljk5NS0uMDg5IDEuNTYxLS4yNTUgMS45ODgtLjQ5OGE0LjUgNC41IDAgMCAwIDEuNjc5LTEuNjhjLjI0My0uNDI2LjQxLS45OTIuNDk4LTEuOTg3LjA2MS0uNjc1LjA4Mi0xLjQ3OS4wOS0yLjQ5M1pcIiBmaWxsPVwiI2ZmZlwiLz48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNNyA0YTIuNSAyLjUgMCAwIDAtMi41IDIuNXYyQTIuNSAyLjUgMCAwIDAgNyAxMWgyYTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtMkEyLjUgMi41IDAgMCAwIDkgNEg3Wm0yIDEuNUg3YTEgMSAwIDAgMC0xIDF2MmExIDEgMCAwIDAgMSAxaDJhMSAxIDAgMCAwIDEtMXYtMmExIDEgMCAwIDAtMS0xWk0xMy41IDYuNUEyLjUgMi41IDAgMCAxIDE2IDRoMmEyLjUgMi41IDAgMCAxIDIuNSAyLjV2MkEyLjUgMi41IDAgMCAxIDE4IDExaC0yYTIuNSAyLjUgMCAwIDEtMi41LTIuNXYtMlptMi41LTFoMmExIDEgMCAwIDEgMSAxdjJhMSAxIDAgMCAxLTEgMWgtMmExIDEgMCAwIDEtMS0xdi0yYTEgMSAwIDAgMSAxLTFaTTcgMTNhMi41IDIuNSAwIDAgMC0yLjUgMi41djJBMi41IDIuNSAwIDAgMCA3IDIwaDJhMi41IDIuNSAwIDAgMCAyLjUtMi41di0yQTIuNSAyLjUgMCAwIDAgOSAxM0g3Wm0yIDEuNUg3YTEgMSAwIDAgMC0xIDF2MmExIDEgMCAwIDAgMSAxaDJhMSAxIDAgMCAwIDEtMXYtMmExIDEgMCAwIDAtMS0xWlwiIGZpbGw9XCIjZmZmXCIvPjxwYXRoIGQ9XCJNMTMuNSAxNS41YzAtLjQ2NSAwLS42OTcuMDM4LS44OWEyIDIgMCAwIDEgMS41NzItMS41NzJDMTUuMzAzIDEzIDE1LjUzNSAxMyAxNiAxM3YyLjVoLTIuNVpNMTggMTNjLjQ2NSAwIC42OTcgMCAuODkuMDM4YTIgMiAwIDAgMSAxLjU3MiAxLjU3MmMuMDM4LjE5My4wMzguNDI1LjAzOC44OUgxOFYxM1pNMTggMTcuNWgyLjVjMCAuNDY1IDAgLjY5Ny0uMDM4Ljg5YTIgMiAwIDAgMS0xLjU3MiAxLjU3MkMxOC42OTcgMjAgMTguNDY1IDIwIDE4IDIwdi0yLjVaTTEzLjUgMTcuNUgxNlYyMGMtLjQ2NSAwLS42OTcgMC0uODktLjAzOGEyIDIgMCAwIDEtMS41NzItMS41NzJjLS4wMzgtLjE5My0uMDM4LS40MjUtLjAzOC0uODlaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgU0NBTl9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiBmaWxsPVwibm9uZVwiPjxwYXRoIGZpbGw9XCIjZmZmXCIgZD1cIk0xMCAxNS4yMTZjMCAuNDIyLjM0Ny43NjMuNzY4Ljc0IDEuMjAyLS4wNjQgMi4wMjUtLjIyMiAyLjcxLS42MTNhNS4wMDEgNS4wMDEgMCAwIDAgMS44NjUtMS44NjZjLjM5LS42ODQuNTQ5LTEuNTA3LjYxMy0yLjcwOWEuNzM1LjczNSAwIDAgMC0uNzQtLjc2OC43NjguNzY4IDAgMCAwLS43Ni43MzJjLS4wMDkuMTU3LS4wMi4zMDYtLjAzMi40NDctLjA3My44MTItLjIwNiAxLjI0NC0uMzg0IDEuNTU1LS4zMS41NDUtLjc2MS45OTYtMS4zMDYgMS4zMDYtLjMxMS4xNzgtLjc0My4zMTEtMS41NTUuMzg0LS4xNDEuMDEzLS4yOS4wMjMtLjQ0Ny4wMzJhLjc2OC43NjggMCAwIDAtLjczMi43NlpNMTAgLjc4NGMwIC40MDcuMzI1LjczNy43MzIuNzYuMTU3LjAwOS4zMDYuMDIuNDQ3LjAzMi44MTIuMDczIDEuMjQ0LjIwNiAxLjU1NS4zODRhMy41IDMuNSAwIDAgMSAxLjMwNiAxLjMwNmMuMTc4LjMxMS4zMTEuNzQzLjM4NCAxLjU1NS4wMTMuMTQyLjAyMy4yOS4wMzIuNDQ3YS43NjguNzY4IDAgMCAwIC43Ni43MzIuNzM0LjczNCAwIDAgMCAuNzQtLjc2OGMtLjA2NC0xLjIwMi0uMjIyLTIuMDI1LS42MTMtMi43MUE1IDUgMCAwIDAgMTMuNDc3LjY1OGMtLjY4NC0uMzktMS41MDctLjU0OS0yLjcwOS0uNjEzYS43MzUuNzM1IDAgMCAwLS43NjguNzRaTTUuMjMyLjA0NEEuNzM1LjczNSAwIDAgMSA2IC43ODRhLjc2OC43NjggMCAwIDEtLjczMi43NmMtLjE1Ny4wMDktLjMwNS4wMi0uNDQ3LjAzMi0uODEyLjA3My0xLjI0NC4yMDYtMS41NTUuMzg0QTMuNSAzLjUgMCAwIDAgMS45NiAzLjI2NmMtLjE3OC4zMTEtLjMxMS43NDMtLjM4NCAxLjU1NS0uMDEzLjE0Mi0uMDIzLjI5LS4wMzIuNDQ3QS43NjguNzY4IDAgMCAxIC43ODQgNmEuNzM1LjczNSAwIDAgMS0uNzQtLjc2OGMuMDY0LTEuMjAyLjIyMi0yLjAyNS42MTMtMi43MUE1IDUgMCAwIDEgMi41MjMuNjU4QzMuMjA3LjI2NyA0LjAzLjEwOCA1LjIzMy4wNDRaTTUuMjY4IDE0LjQ1NmEuNzY4Ljc2OCAwIDAgMSAuNzMyLjc2LjczNC43MzQgMCAwIDEtLjc2OC43NGMtMS4yMDItLjA2NC0yLjAyNS0uMjIyLTIuNzEtLjYxM2E1IDUgMCAwIDEtMS44NjUtMS44NjZjLS4zOS0uNjg0LS41NDktMS41MDctLjYxMy0yLjcwOUEuNzM1LjczNSAwIDAgMSAuNzg0IDEwYy40MDcgMCAuNzM3LjMyNS43Ni43MzIuMDA5LjE1Ny4wMi4zMDYuMDMyLjQ0Ny4wNzMuODEyLjIwNiAxLjI0NC4zODQgMS41NTVhMy41IDMuNSAwIDAgMCAxLjMwNiAxLjMwNmMuMzExLjE3OC43NDMuMzExIDEuNTU1LjM4NC4xNDIuMDEzLjI5LjAyMy40NDcuMDMyWlwiLz48L3N2Zz5gLFxuICBDSEVDS01BUktfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxM1wiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAxMyAxMlwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMi4xNTUuMTMyYS43NS43NSAwIDAgMSAuMjMyIDEuMDM1TDUuODIxIDExLjUzNWExIDEgMCAwIDEtMS42MjYuMDlMLjY2NSA3LjIxYS43NS43NSAwIDEgMSAxLjE3LS45MzdMNC43MSA5Ljg2N2EuMjUuMjUgMCAwIDAgLjQwNi0uMDIzTDExLjEyLjM2NGEuNzUuNzUgMCAwIDEgMS4wMzUtLjIzMlpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBTRUFSQ0hfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIxXCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEyLjQzMiAxMy45OTJjLS4zNTQtLjM1My0uOTEtLjM4Mi0xLjM1LS4xNDZhNS41IDUuNSAwIDEgMSAyLjI2NS0yLjI2NWMtLjIzNy40NDEtLjIwOC45OTcuMTQ1IDEuMzVsMy4yOTYgMy4yOTZhLjc1Ljc1IDAgMSAxLTEuMDYgMS4wNjFsLTMuMjk2LTMuMjk2Wm0uMDYtNWE0IDQgMCAxIDEtOCAwIDQgNCAwIDAgMSA4IDBaXCIgZmlsbD1cIiM5NDlFOUVcIi8+PC9zdmc+YCxcbiAgV0FMTEVUX1BMQUNFSE9MREVSOiBzdmdgPHN2ZyB3aWR0aD1cIjYwXCIgaGVpZ2h0PVwiNjBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgNjAgNjBcIj48ZyBjbGlwLXBhdGg9XCJ1cmwoI3EpXCI+PHBhdGggaWQ9XCJ3YWxsZXQtcGxhY2Vob2xkZXItZmlsbFwiIGZpbGw9XCIjZmZmXCIgZD1cIk0wIDI0LjljMC05LjI1MSAwLTEzLjg3NyAxLjk3LTE3LjMzMmExNSAxNSAwIDAgMSA1LjU5OC01LjU5N0MxMS4wMjMgMCAxNS42NDggMCAyNC45IDBoMTAuMmM5LjI1MiAwIDEzLjg3NyAwIDE3LjMzMiAxLjk3YTE1IDE1IDAgMCAxIDUuNTk3IDUuNTk4QzYwIDExLjAyMyA2MCAxNS42NDggNjAgMjQuOXYxMC4yYzAgOS4yNTIgMCAxMy44NzctMS45NyAxNy4zMzJhMTUuMDAxIDE1LjAwMSAwIDAgMS01LjU5OCA1LjU5N0M0OC45NzcgNjAgNDQuMzUyIDYwIDM1LjEgNjBIMjQuOWMtOS4yNTEgMC0xMy44NzcgMC0xNy4zMzItMS45N2ExNSAxNSAwIDAgMS01LjU5Ny01LjU5OEMwIDQ4Ljk3NyAwIDQ0LjM1MiAwIDM1LjFWMjQuOVpcIi8+PHBhdGggaWQ9XCJ3YWxsZXQtcGxhY2Vob2xkZXItZGFzaFwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2UtZGFzaGFycmF5PVwiNCA0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgZD1cIk0uMDQgNDEuNzA4YTIzMS41OTggMjMxLjU5OCAwIDAgMS0uMDM5LTQuNDAzbC43NS0uMDAxTC43NSAzNS4xdi0yLjU1SDB2LTUuMWguNzVWMjQuOWwuMDAxLTIuMjA0aC0uNzVjLjAwMy0xLjYxNy4wMTEtMy4wNzcuMDM5LTQuNDA0bC43NS4wMTZjLjAzNC0xLjY1LjA5OS0zLjA4LjIxOC00LjM0M2wtLjc0Ni0uMDdjLjE1OC0xLjY3OC40MTItMy4wODMuODItNC4zMTZsLjcxMy4yMzZjLjIyNC0uNjc5LjQ5Ny0xLjI5Ni44MjctMS44NzVhMTQuMjUgMTQuMjUgMCAwIDEgMS4wNS0xLjU4NUwzLjA3NiA1LjlBMTUgMTUgMCAwIDEgNS45IDMuMDc2bC40NTUuNTk2YTE0LjI1IDE0LjI1IDAgMCAxIDEuNTg1LTEuMDVjLjU3OS0uMzMgMS4xOTYtLjYwMyAxLjg3NS0uODI3bC0uMjM2LS43MTJDMTAuODEyLjY3NCAxMi4yMTcuNDIgMTMuODk1LjI2MmwuMDcuNzQ2QzE1LjIzLjg5IDE2LjY2LjgyNCAxOC4zMDguNzlsLS4wMTYtLjc1QzE5LjYyLjAxMiAyMS4wOC4wMDQgMjIuNjk1LjAwMWwuMDAxLjc1TDI0LjkuNzVoMi41NVYwaDUuMXYuNzVoMi41NWwyLjIwNC4wMDF2LS43NWMxLjYxNy4wMDMgMy4wNzcuMDExIDQuNDA0LjAzOWwtLjAxNi43NWMxLjY1LjAzNCAzLjA4LjA5OSA0LjM0My4yMThsLjA3LS43NDZjMS42NzguMTU4IDMuMDgzLjQxMiA0LjMxNi44MmwtLjIzNi43MTNjLjY3OS4yMjQgMS4yOTYuNDk3IDEuODc1LjgyN2ExNC4yNCAxNC4yNCAwIDAgMSAxLjU4NSAxLjA1bC40NTUtLjU5NkExNC45OTkgMTQuOTk5IDAgMCAxIDU2LjkyNCA1LjlsLS41OTYuNDU1Yy4zODQuNTAyLjczNSAxLjAzMiAxLjA1IDEuNTg1LjMzLjU3OS42MDIgMS4xOTYuODI3IDEuODc1bC43MTItLjIzNmMuNDA5IDEuMjMzLjY2MyAyLjYzOC44MjIgNC4zMTZsLS43NDcuMDdjLjExOSAxLjI2NC4xODQgMi42OTQuMjE4IDQuMzQzbC43NS0uMDE2Yy4wMjggMS4zMjcuMDM2IDIuNzg3LjAzOSA0LjQwM2wtLjc1LjAwMS4wMDEgMi4yMDR2Mi41NUg2MHY1LjFoLS43NXYyLjU1bC0uMDAxIDIuMjA0aC43NWEyMzEuNDMxIDIzMS40MzEgMCAwIDEtLjAzOSA0LjQwNGwtLjc1LS4wMTZjLS4wMzQgMS42NS0uMDk5IDMuMDgtLjIxOCA0LjM0M2wuNzQ3LjA3Yy0uMTU5IDEuNjc4LS40MTMgMy4wODMtLjgyMiA0LjMxNmwtLjcxMi0uMjM2YTEwLjI1NSAxMC4yNTUgMCAwIDEtLjgyNyAxLjg3NSAxNC4yNDIgMTQuMjQyIDAgMCAxLTEuMDUgMS41ODVsLjU5Ni40NTVhMTQuOTk3IDE0Ljk5NyAwIDAgMS0yLjgyNCAyLjgyNGwtLjQ1NS0uNTk2Yy0uNTAyLjM4NC0xLjAzMi43MzUtMS41ODUgMS4wNS0uNTc5LjMzLTEuMTk2LjYwMi0xLjg3NS44MjdsLjIzNi43MTJjLTEuMjMzLjQwOS0yLjYzOC42NjMtNC4zMTYuODIybC0uMDctLjc0N2MtMS4yNjQuMTE5LTIuNjk0LjE4NC00LjM0My4yMThsLjAxNi43NWMtMS4zMjcuMDI4LTIuNzg3LjAzNi00LjQwMy4wMzlsLS4wMDEtLjc1LTIuMjA0LjAwMWgtMi41NVY2MGgtNS4xdi0uNzVIMjQuOWwtMi4yMDQtLjAwMXYuNzVhMjMxLjQzMSAyMzEuNDMxIDAgMCAxLTQuNDA0LS4wMzlsLjAxNi0uNzVjLTEuNjUtLjAzNC0zLjA4LS4wOTktNC4zNDMtLjIxOGwtLjA3Ljc0N2MtMS42NzgtLjE1OS0zLjA4My0uNDEzLTQuMzE2LS44MjJsLjIzNi0uNzEyYTEwLjI1OCAxMC4yNTggMCAwIDEtMS44NzUtLjgyNyAxNC4yNTIgMTQuMjUyIDAgMCAxLTEuNTg1LTEuMDVsLS40NTUuNTk2QTE0Ljk5OSAxNC45OTkgMCAwIDEgMy4wNzYgNTQuMWwuNTk2LS40NTVhMTQuMjQgMTQuMjQgMCAwIDEtMS4wNS0xLjU4NSAxMC4yNTkgMTAuMjU5IDAgMCAxLS44MjctMS44NzVsLS43MTIuMjM2Qy42NzQgNDkuMTg4LjQyIDQ3Ljc4My4yNjIgNDYuMTA1bC43NDYtLjA3Qy44OSA0NC43Ny44MjQgNDMuMzQuNzkgNDEuNjkybC0uNzUuMDE2WlwiLz48cGF0aCBmaWxsPVwiI2ZmZlwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTM1LjY0MyAzMi4xNDVjLS4yOTctLjc0My0uNDQ1LTEuMTE0LS40MDEtMS4yNzVhLjQyLjQyIDAgMCAxIC4xODItLjI3Yy4xMzQtLjEuNDYzLS4xIDEuMTIzLS4xLjc0MiAwIDEuNDk5LjA0NiAyLjIzNi0uMDVhNiA2IDAgMCAwIDUuMTY2LTUuMTY2Yy4wNTEtLjM5LjA1MS0uODU1LjA1MS0xLjc4NCAwLS45MjggMC0xLjM5My0uMDUxLTEuNzgzYTYgNiAwIDAgMC01LjE2Ni01LjE2NWMtLjM5LS4wNTItLjg1NC0uMDUyLTEuNzgzLS4wNTJoLTcuNzJjLTQuOTM0IDAtNy40MDEgMC05LjI0NCAxLjA1MWE4IDggMCAwIDAtMi45ODUgMi45ODZDMTYuMDU3IDIyLjI4IDE2LjAwMyAyNC41OCAxNiAyOSAxNS45OTggMzEuMDc1IDE2IDMzLjE1IDE2IDM1LjIyNEE3Ljc3OCA3Ljc3OCAwIDAgMCAyMy43NzggNDNIMjguNWMxLjM5NCAwIDIuMDkgMCAyLjY3LS4xMTZhNiA2IDAgMCAwIDQuNzE1LTQuNzE0Yy4xMTUtLjU4LjExNS0xLjMwMS4xMTUtMi43NDQgMC0xLjMxIDAtMS45NjQtLjExNC0yLjQ5YTQuOTk4IDQuOTk4IDAgMCAwLS4yNDMtLjc5MlpcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIvPjxwYXRoIGZpbGw9XCIjOUVBOUE5XCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMzcgMThoLTcuNzJjLTIuNDk0IDAtNC4yNjYuMDAyLTUuNjQ3LjEyNi0xLjM2MS4xMjItMi4xOTcuMzU0LTIuODU0LjcyOGE2LjUgNi41IDAgMCAwLTIuNDI1IDIuNDI2Yy0uMzc1LjY1Ny0uNjA3IDEuNDkyLS43MjkgMi44NTMtLjExIDEuMjMzLS4xMjMgMi43NzctLjEyNSA0Ljg2NyAwIC43IDAgMS4wNS4wOTcgMS4xODEuMDk2LjEzLjE4Mi4xODEuMzQzLjIuMTYzLjAyLjUxOC0uMTggMS4yMjktLjU4MWE2LjE5NSA2LjE5NSAwIDAgMSAzLjA1My0uOEgzN2MuOTc3IDAgMS4zMi0uMDAzIDEuNTg3LS4wMzhhNC41IDQuNSAwIDAgMCAzLjg3NC0zLjg3NGMuMDM2LS4yNjguMDM5LS42MTEuMDM5LTEuNTg4IDAtLjk3Ni0uMDAzLTEuMzE5LS4wMzgtMS41ODdhNC41IDQuNSAwIDAgMC0zLjg3NS0zLjg3NEMzOC4zMiAxOC4wMDQgMzcuOTc3IDE4IDM3IDE4Wm0tNy4zNjQgMTIuNWgtNy40MTRhNC43MjIgNC43MjIgMCAwIDAtNC43MjIgNC43MjMgNi4yNzggNi4yNzggMCAwIDAgNi4yNzggNi4yNzhIMjguNWMxLjQ2NiAwIDEuOTgtLjAwOCAyLjM3OC0uMDg3YTQuNSA0LjUgMCAwIDAgMy41MzUtMy41MzZjLjA4LS4zOTcuMDg3LS45MzMuMDg3LTIuNDUxIDAtMS4zOTEtLjAwOS0xLjg0My0uMDgtMi4xN2EzLjUgMy41IDAgMCAwLTIuNjc2LTIuNjc2Yy0uMzI4LS4wNzItLjc2Mi0uMDgtMi4xMDgtLjA4WlwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIi8+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD1cInFcIj48cGF0aCBmaWxsPVwiI2ZmZlwiIGQ9XCJNMCAwaDYwdjYwSDB6XCIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPmAsXG4gIEdMT0JFX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPjxwYXRoIGZpbGw9XCIjZmZmXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTUuNSA4YTcuNSA3LjUgMCAxIDEtMTUgMCA3LjUgNy41IDAgMCAxIDE1IDBabS0yLjExMy43NWMuMzAxIDAgLjUzNS4yNjQuNDcuNTU4YTYuMDEgNi4wMSAwIDAgMS0yLjg2NyAzLjg5NmMtLjIwMy4xMTYtLjQyLS4xMDMtLjMzNC0uMzIuNDA5LTEuMDE4LjY5MS0yLjI3NC43OTctMy42NTdhLjUxMi41MTIgMCAwIDEgLjUwNy0uNDc3aDEuNDI3Wm0uNDctMi4wNThjLjA2NS4yOTQtLjE2OS41NTgtLjQ3LjU1OEgxMS45NmEuNTEyLjUxMiAwIDAgMS0uNTA3LS40NzdjLS4xMDYtMS4zODMtLjM4OS0yLjYzOC0uNzk3LTMuNjU2LS4wODctLjIxNy4xMy0uNDM3LjMzMy0uMzJhNi4wMSA2LjAxIDAgMCAxIDIuODY4IDMuODk1Wm0tNC40MDIuNTU4Yy4yODYgMCAuNTE1LS4yNC40OS0uNTI1LS4xMjEtMS4zNjEtLjQyOS0yLjUzNC0uODMtMy4zOTMtLjI3OS0uNi0uNTQ5LS45My0uNzUzLTEuMTEyYS41MzUuNTM1IDAgMCAwLS43MjQgMGMtLjIwNC4xODItLjQ3NC41MTMtLjc1NCAxLjExMi0uNC44NTktLjcwOCAyLjAzMi0uODI4IDMuMzkzYS40ODYuNDg2IDAgMCAwIC40OS41MjVoMi45MDlabS01LjQxNSAwYy4yNjcgMCAuNDg2LS4yMS41MDctLjQ3Ny4xMDYtMS4zODMuMzg5LTIuNjM4Ljc5Ny0zLjY1Ni4wODctLjIxNy0uMTMtLjQzNy0uMzMzLS4zMmE2LjAxIDYuMDEgMCAwIDAtMi44NjggMy44OTVjLS4wNjUuMjk0LjE2OS41NTguNDcuNTU4SDQuMDRaTTIuMTQzIDkuMzA4Yy0uMDY1LS4yOTQuMTY5LS41NTguNDctLjU1OEg0LjA0Yy4yNjcgMCAuNDg2LjIxLjUwNy40NzcuMTA2IDEuMzgzLjM4OSAyLjYzOS43OTcgMy42NTcuMDg3LjIxNy0uMTMuNDM2LS4zMzMuMzJhNi4wMSA2LjAxIDAgMCAxLTIuODY4LTMuODk2Wm0zLjkxMy0uMDMzYS40ODYuNDg2IDAgMCAxIC40OS0uNTI1aDIuOTA5Yy4yODYgMCAuNTE1LjI0LjQ5LjUyNS0uMTIxIDEuMzYxLS40MjggMi41MzUtLjgzIDMuMzk0LS4yNzkuNi0uNTQ5LjkzLS43NTMgMS4xMTJhLjUzNS41MzUgMCAwIDEtLjcyNCAwYy0uMjA0LS4xODItLjQ3NC0uNTEzLS43NTQtMS4xMTItLjQtLjg1OS0uNzA4LTIuMDMzLS44MjgtMy4zOTRaXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz5gXG59O1xuXG5jb25zdCBzdHlsZXMkcSA9IGNzc2Aud2NtLXRvb2xiYXItcGxhY2Vob2xkZXJ7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7d2lkdGg6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO3BvaW50ZXItZXZlbnRzOm5vbmU7aGVpZ2h0OjEwMHB4O2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS13Y20tYmFja2dyb3VuZC1ib3JkZXItcmFkaXVzKSAqIC45KTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1iYWNrZ3JvdW5kLWNvbG9yKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlcjtiYWNrZ3JvdW5kLXNpemU6Y292ZXJ9LndjbS10b29sYmFye2hlaWdodDozOHB4O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46NXB4IDE1cHggNXB4IDVweDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXJ9LndjbS10b29sYmFyIGltZywud2NtLXRvb2xiYXIgc3Zne2hlaWdodDoyOHB4O29iamVjdC1wb3NpdGlvbjpsZWZ0IGNlbnRlcjtvYmplY3QtZml0OmNvbnRhaW59I3djbS13Yy1sb2dvIHBhdGh7ZmlsbDp2YXIoLS13Y20tYWNjZW50LWZpbGwtY29sb3IpfWJ1dHRvbnt3aWR0aDoyOHB4O2hlaWdodDoyOHB4O2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWljb24tYnV0dG9uLWJvcmRlci1yYWRpdXMpO2JvcmRlcjowO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0xKTtib3gtc2hhZG93OjAgMCAwIDFweCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YnV0dG9uOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0yKX1idXR0b24gc3Zne2Rpc3BsYXk6YmxvY2s7b2JqZWN0LXBvc2l0aW9uOmNlbnRlcn1idXR0b24gcGF0aHtmaWxsOnZhcigtLXdjbS1jb2xvci1mZy0xKX0ud2NtLXRvb2xiYXIgZGl2e2Rpc3BsYXk6ZmxleH1AbWVkaWEoaG92ZXI6aG92ZXIpe2J1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0yKX19YDtcblxudmFyIF9fZGVmUHJvcCR1ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkdSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHUgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkdSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkdSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9kYWxCYWNrY2FyZCA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwid2NtLXRvb2xiYXItcGxhY2Vob2xkZXJcIj48L2Rpdj48ZGl2IGNsYXNzPVwid2NtLXRvb2xiYXJcIj4ke1N2Z1V0aWwuV0FMTEVUX0NPTk5FQ1RfTE9HT30gPGJ1dHRvbiBAY2xpY2s9XCIke01vZGFsQ3RybC5jbG9zZX1cIj4ke1N2Z1V0aWwuQ1JPU1NfSUNPTn08L2J1dHRvbj48L2Rpdj5gO1xuICB9XG59O1xuV2NtTW9kYWxCYWNrY2FyZC5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJHFdO1xuV2NtTW9kYWxCYWNrY2FyZCA9IF9fZGVjb3JhdGVDbGFzcyR1KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2RhbC1iYWNrY2FyZFwiKVxuXSwgV2NtTW9kYWxCYWNrY2FyZCk7XG5cbmNvbnN0IHN0eWxlcyRwID0gY3NzYG1haW57cGFkZGluZzoyMHB4O3BhZGRpbmctdG9wOjA7d2lkdGg6MTAwJX1gO1xuXG52YXIgX19kZWZQcm9wJHQgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyR0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkdCA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyR0KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCR0KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2RhbENvbnRlbnQgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPG1haW4+PHNsb3Q+PC9zbG90PjwvbWFpbj5gO1xuICB9XG59O1xuV2NtTW9kYWxDb250ZW50LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkcF07XG5XY21Nb2RhbENvbnRlbnQgPSBfX2RlY29yYXRlQ2xhc3MkdChbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9kYWwtY29udGVudFwiKVxuXSwgV2NtTW9kYWxDb250ZW50KTtcblxuY29uc3Qgc3R5bGVzJG8gPSBjc3NgZm9vdGVye3BhZGRpbmc6MTBweDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmluaGVyaXQ7anVzdGlmeS1jb250ZW50OmluaGVyaXQ7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLWJnLTIpfWA7XG5cbnZhciBfX2RlZlByb3AkcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRzID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHModGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHModGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vZGFsRm9vdGVyID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxmb290ZXI+PHNsb3Q+PC9zbG90PjwvZm9vdGVyPmA7XG4gIH1cbn07XG5XY21Nb2RhbEZvb3Rlci5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJG9dO1xuV2NtTW9kYWxGb290ZXIgPSBfX2RlY29yYXRlQ2xhc3MkcyhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9kYWwtZm9vdGVyXCIpXG5dLCBXY21Nb2RhbEZvb3Rlcik7XG5cbmNvbnN0IHN0eWxlcyRuID0gY3NzYGhlYWRlcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzoyMHB4O3Bvc2l0aW9uOnJlbGF0aXZlfS53Y20tYm9yZGVye2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1iZy0yKTttYXJnaW4tYm90dG9tOjIwcHh9aGVhZGVyIGJ1dHRvbntwYWRkaW5nOjE1cHggMjBweH1oZWFkZXIgYnV0dG9uOmFjdGl2ZXtvcGFjaXR5Oi41fUBtZWRpYShob3Zlcjpob3Zlcil7aGVhZGVyIGJ1dHRvbjpob3ZlcntvcGFjaXR5Oi41fX0ud2NtLWJhY2stYnRue3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MH0ud2NtLWFjdGlvbi1idG57cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MH1wYXRoe2ZpbGw6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9YDtcblxudmFyIF9fZGVmUHJvcCRyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHIgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2Mkcih0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3Akcih0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9kYWxIZWFkZXIgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMudGl0bGUgPSBcIlwiO1xuICAgIHRoaXMub25BY3Rpb24gPSB2b2lkIDA7XG4gICAgdGhpcy5hY3Rpb25JY29uID0gdm9pZCAwO1xuICAgIHRoaXMuYm9yZGVyID0gZmFsc2U7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgYmFja0J0blRlbXBsYXRlKCkge1xuICAgIHJldHVybiBodG1sYDxidXR0b24gY2xhc3M9XCJ3Y20tYmFjay1idG5cIiBAY2xpY2s9XCIke1JvdXRlckN0cmwuZ29CYWNrfVwiPiR7U3ZnVXRpbC5CQUNLX0lDT059PC9idXR0b24+YDtcbiAgfVxuICBhY3Rpb25CdG5UZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gaHRtbGA8YnV0dG9uIGNsYXNzPVwid2NtLWFjdGlvbi1idG5cIiBAY2xpY2s9XCIke3RoaXMub25BY3Rpb259XCI+JHt0aGlzLmFjdGlvbkljb259PC9idXR0b24+YDtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLWJvcmRlclwiOiB0aGlzLmJvcmRlclxuICAgIH07XG4gICAgY29uc3QgYmFja0J0biA9IFJvdXRlckN0cmwuc3RhdGUuaGlzdG9yeS5sZW5ndGggPiAxO1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLnRpdGxlID8gaHRtbGA8d2NtLXRleHQgdmFyaWFudD1cImJpZy1ib2xkXCI+JHt0aGlzLnRpdGxlfTwvd2NtLXRleHQ+YCA6IGh0bWxgPHNsb3Q+PC9zbG90PmA7XG4gICAgcmV0dXJuIGh0bWxgPGhlYWRlciBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCI+JHtiYWNrQnRuID8gdGhpcy5iYWNrQnRuVGVtcGxhdGUoKSA6IG51bGx9ICR7Y29udGVudH0gJHt0aGlzLm9uQWN0aW9uID8gdGhpcy5hY3Rpb25CdG5UZW1wbGF0ZSgpIDogbnVsbH08L2hlYWRlcj5gO1xuICB9XG59O1xuV2NtTW9kYWxIZWFkZXIuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRuXTtcbl9fZGVjb3JhdGVDbGFzcyRyKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtTW9kYWxIZWFkZXIucHJvdG90eXBlLCBcInRpdGxlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHIoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21Nb2RhbEhlYWRlci5wcm90b3R5cGUsIFwib25BY3Rpb25cIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkcihbXG4gIHByb3BlcnR5KClcbl0sIFdjbU1vZGFsSGVhZGVyLnByb3RvdHlwZSwgXCJhY3Rpb25JY29uXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHIoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbU1vZGFsSGVhZGVyLnByb3RvdHlwZSwgXCJib3JkZXJcIiwgMik7XG5XY21Nb2RhbEhlYWRlciA9IF9fZGVjb3JhdGVDbGFzcyRyKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2RhbC1oZWFkZXJcIilcbl0sIFdjbU1vZGFsSGVhZGVyKTtcblxuY29uc3QgVWlVdGlsID0ge1xuICBNT0JJTEVfQlJFQUtQT0lOVDogNjAwLFxuICBXQ01fUkVDRU5UX1dBTExFVF9EQVRBOiBcIldDTV9SRUNFTlRfV0FMTEVUX0RBVEFcIixcbiAgRVhQTE9SRVJfV0FMTEVUX1VSTDogXCJodHRwczovL2V4cGxvcmVyLndhbGxldGNvbm5lY3QuY29tLz90eXBlPXdhbGxldFwiLFxuICBnZXRTaGFkb3dSb290RWxlbWVudChyb290LCBzZWxlY3Rvcikge1xuICAgIGNvbnN0IGVsID0gcm9vdC5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIGlmICghZWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtzZWxlY3Rvcn0gbm90IGZvdW5kYCk7XG4gICAgfVxuICAgIHJldHVybiBlbDtcbiAgfSxcbiAgZ2V0V2FsbGV0SWNvbih7IGlkLCBpbWFnZV9pZCB9KSB7XG4gICAgY29uc3QgeyB3YWxsZXRJbWFnZXMgfSA9IENvbmZpZ0N0cmwuc3RhdGU7XG4gICAgaWYgKHdhbGxldEltYWdlcyA9PSBudWxsID8gdm9pZCAwIDogd2FsbGV0SW1hZ2VzW2lkXSkge1xuICAgICAgcmV0dXJuIHdhbGxldEltYWdlc1tpZF07XG4gICAgfSBlbHNlIGlmIChpbWFnZV9pZCkge1xuICAgICAgcmV0dXJuIEV4cGxvcmVyQ3RybC5nZXRXYWxsZXRJbWFnZVVybChpbWFnZV9pZCk7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9LFxuICBnZXRXYWxsZXROYW1lKG5hbWUsIHNob3J0ID0gZmFsc2UpIHtcbiAgICByZXR1cm4gc2hvcnQgJiYgbmFtZS5sZW5ndGggPiA4ID8gYCR7bmFtZS5zdWJzdHJpbmcoMCwgOCl9Li5gIDogbmFtZTtcbiAgfSxcbiAgaXNNb2JpbGVBbmltYXRpb24oKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDw9IFVpVXRpbC5NT0JJTEVfQlJFQUtQT0lOVDtcbiAgfSxcbiAgYXN5bmMgcHJlbG9hZEltYWdlKHNyYykge1xuICAgIGNvbnN0IGltYWdlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZS5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICAgIGltYWdlLnNyYyA9IHNyYztcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtpbWFnZVByb21pc2UsIENvcmVVdGlsLndhaXQoM2UzKV0pO1xuICB9LFxuICBnZXRFcnJvck1lc3NhZ2UoZXJyKSB7XG4gICAgcmV0dXJuIGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIlVua25vd24gRXJyb3JcIjtcbiAgfSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgZGVib3VuY2UoZnVuYywgdGltZW91dCA9IDUwMCkge1xuICAgIGxldCB0aW1lciA9IHZvaWQgMDtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIH1cbiAgICAgIHRpbWVyID0gc2V0VGltZW91dChuZXh0LCB0aW1lb3V0KTtcbiAgICB9O1xuICB9LFxuICBoYW5kbGVNb2JpbGVMaW5raW5nKHdhbGxldCwgdGFyZ2V0ID0gXCJfc2VsZlwiKSB7XG4gICAgY29uc3QgeyB3YWxsZXRDb25uZWN0VXJpIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICBjb25zdCB7IG1vYmlsZSwgbmFtZSB9ID0gd2FsbGV0O1xuICAgIGNvbnN0IG5hdGl2ZVVybCA9IG1vYmlsZSA9PSBudWxsID8gdm9pZCAwIDogbW9iaWxlLm5hdGl2ZTtcbiAgICBjb25zdCB1bml2ZXJzYWxVcmwgPSBtb2JpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IG1vYmlsZS51bml2ZXJzYWw7XG4gICAgVWlVdGlsLnNldFJlY2VudFdhbGxldCh3YWxsZXQpO1xuICAgIGZ1bmN0aW9uIG9uUmVkaXJlY3QodXJpKSB7XG4gICAgICBpZiAobmF0aXZlVXJsKSB7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBDb3JlVXRpbC5mb3JtYXROYXRpdmVVcmwobmF0aXZlVXJsLCB1cmksIG5hbWUpO1xuICAgICAgICBDb3JlVXRpbC5vcGVuSHJlZihocmVmLCB0YXJnZXQpO1xuICAgICAgfSBlbHNlIGlmICh1bml2ZXJzYWxVcmwpIHtcbiAgICAgICAgY29uc3QgaHJlZiA9IENvcmVVdGlsLmZvcm1hdFVuaXZlcnNhbFVybCh1bml2ZXJzYWxVcmwsIHVyaSwgbmFtZSk7XG4gICAgICAgIENvcmVVdGlsLm9wZW5IcmVmKGhyZWYsIHRhcmdldCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh3YWxsZXRDb25uZWN0VXJpKSB7XG4gICAgICBvblJlZGlyZWN0KHdhbGxldENvbm5lY3RVcmkpO1xuICAgIH1cbiAgfSxcbiAgaGFuZGxlQW5kcm9pZExpbmtpbmcoKSB7XG4gICAgY29uc3QgeyB3YWxsZXRDb25uZWN0VXJpIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICBpZiAod2FsbGV0Q29ubmVjdFVyaSkge1xuICAgICAgQ29yZVV0aWwuc2V0V2FsbGV0Q29ubmVjdEFuZHJvaWREZWVwTGluayh3YWxsZXRDb25uZWN0VXJpKTtcbiAgICAgIENvcmVVdGlsLm9wZW5IcmVmKHdhbGxldENvbm5lY3RVcmksIENvcmVVdGlsLmlzVGVsZWdyYW0oKSA/IFwiX2JsYW5rXCIgOiBcIl9zZWxmXCIpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgaGFuZGxlVXJpQ29weSgpIHtcbiAgICBjb25zdCB7IHdhbGxldENvbm5lY3RVcmkgfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgIGlmICh3YWxsZXRDb25uZWN0VXJpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh3YWxsZXRDb25uZWN0VXJpKTtcbiAgICAgICAgVG9hc3RDdHJsLm9wZW5Ub2FzdChcIkxpbmsgY29waWVkXCIsIFwic3VjY2Vzc1wiKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgVG9hc3RDdHJsLm9wZW5Ub2FzdChcIkZhaWxlZCB0byBjb3B5XCIsIFwiZXJyb3JcIik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBnZXRDdXN0b21JbWFnZVVybHMoKSB7XG4gICAgY29uc3QgeyB3YWxsZXRJbWFnZXMgfSA9IENvbmZpZ0N0cmwuc3RhdGU7XG4gICAgY29uc3Qgd2FsbGV0VXJscyA9IE9iamVjdC52YWx1ZXMod2FsbGV0SW1hZ2VzICE9IG51bGwgPyB3YWxsZXRJbWFnZXMgOiB7fSk7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMod2FsbGV0VXJscyk7XG4gIH0sXG4gIHRydW5jYXRlKHZhbHVlLCBzdHJMZW4gPSA4KSB7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA8PSBzdHJMZW4pIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGAke3ZhbHVlLnN1YnN0cmluZygwLCA0KX0uLi4ke3ZhbHVlLnN1YnN0cmluZyh2YWx1ZS5sZW5ndGggLSA0KX1gO1xuICB9LFxuICBzZXRSZWNlbnRXYWxsZXQod2FsbGV0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVpVXRpbC5XQ01fUkVDRU5UX1dBTExFVF9EQVRBLCBKU09OLnN0cmluZ2lmeSh3YWxsZXQpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmluZm8oXCJVbmFibGUgdG8gc2V0IHJlY2VudCB3YWxsZXRcIik7XG4gICAgfVxuICB9LFxuICBnZXRSZWNlbnRXYWxsZXQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdhbGxldCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVpVXRpbC5XQ01fUkVDRU5UX1dBTExFVF9EQVRBKTtcbiAgICAgIGlmICh3YWxsZXQpIHtcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2Uod2FsbGV0KTtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlVuYWJsZSB0byBnZXQgcmVjZW50IHdhbGxldFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfSxcbiAgY2FzZVNhZmVJbmNsdWRlcyhzdHIxLCBzdHIyKSB7XG4gICAgcmV0dXJuIHN0cjEudG9VcHBlckNhc2UoKS5pbmNsdWRlcyhzdHIyLnRvVXBwZXJDYXNlKCkpO1xuICB9LFxuICBvcGVuV2FsbGV0RXhwbG9yZXJVcmwoKSB7XG4gICAgQ29yZVV0aWwub3BlbkhyZWYoVWlVdGlsLkVYUExPUkVSX1dBTExFVF9VUkwsIFwiX2JsYW5rXCIpO1xuICB9LFxuICBnZXRDYWNoZWRSb3V0ZXJXYWxsZXRQbGF0Zm9ybXMoKSB7XG4gICAgY29uc3QgeyBkZXNrdG9wLCBtb2JpbGUgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBjb25zdCBpc0Rlc2t0b3AgPSBCb29sZWFuKGRlc2t0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IGRlc2t0b3AubmF0aXZlKTtcbiAgICBjb25zdCBpc1dlYiA9IEJvb2xlYW4oZGVza3RvcCA9PSBudWxsID8gdm9pZCAwIDogZGVza3RvcC51bml2ZXJzYWwpO1xuICAgIGNvbnN0IGlzTW9iaWxlID0gQm9vbGVhbihtb2JpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IG1vYmlsZS5uYXRpdmUpIHx8IEJvb2xlYW4obW9iaWxlID09IG51bGwgPyB2b2lkIDAgOiBtb2JpbGUudW5pdmVyc2FsKTtcbiAgICByZXR1cm4geyBpc0Rlc2t0b3AsIGlzTW9iaWxlLCBpc1dlYiB9O1xuICB9LFxuICBnb1RvQ29ubmVjdGluZ1ZpZXcod2FsbGV0KSB7XG4gICAgUm91dGVyQ3RybC5zZXREYXRhKHsgV2FsbGV0OiB3YWxsZXQgfSk7XG4gICAgY29uc3QgaXNNb2JpbGVEZXZpY2UgPSBDb3JlVXRpbC5pc01vYmlsZSgpO1xuICAgIGNvbnN0IHsgaXNEZXNrdG9wLCBpc1dlYiwgaXNNb2JpbGUgfSA9IFVpVXRpbC5nZXRDYWNoZWRSb3V0ZXJXYWxsZXRQbGF0Zm9ybXMoKTtcbiAgICBpZiAoaXNNb2JpbGVEZXZpY2UpIHtcbiAgICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgICBSb3V0ZXJDdHJsLnB1c2goXCJNb2JpbGVDb25uZWN0aW5nXCIpO1xuICAgICAgICBpZiAoIUNvcmVVdGlsLmlzQW5kcm9pZCgpICYmIENvcmVVdGlsLmlzVGVsZWdyYW0oKSkge1xuICAgICAgICAgIHRoaXMuaGFuZGxlTW9iaWxlTGlua2luZyh3YWxsZXQsIFwiX2JsYW5rXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzV2ViKSB7XG4gICAgICAgIFJvdXRlckN0cmwucHVzaChcIldlYkNvbm5lY3RpbmdcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBSb3V0ZXJDdHJsLnB1c2goXCJJbnN0YWxsV2FsbGV0XCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBSb3V0ZXJDdHJsLnB1c2goXCJEZXNrdG9wQ29ubmVjdGluZ1wiKTtcbiAgICB9IGVsc2UgaWYgKGlzV2ViKSB7XG4gICAgICBSb3V0ZXJDdHJsLnB1c2goXCJXZWJDb25uZWN0aW5nXCIpO1xuICAgIH0gZWxzZSBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIFJvdXRlckN0cmwucHVzaChcIk1vYmlsZVFyY29kZUNvbm5lY3RpbmdcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJvdXRlckN0cmwucHVzaChcIkluc3RhbGxXYWxsZXRcIik7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBzdHlsZXMkbSA9IGNzc2Aud2NtLXJvdXRlcntvdmVyZmxvdzpoaWRkZW47d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS53Y20tY29udGVudHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufWA7XG5cbnZhciBfX2RlZlByb3AkcSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRxID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHEodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHEodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vZGFsUm91dGVyID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZpZXcgPSBSb3V0ZXJDdHJsLnN0YXRlLnZpZXc7XG4gICAgdGhpcy5wcmV2VmlldyA9IFJvdXRlckN0cmwuc3RhdGUudmlldztcbiAgICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICAgIHRoaXMudW5zdWJzY3JpYmUgPSB2b2lkIDA7XG4gICAgdGhpcy5vbGRIZWlnaHQgPSBcIjBweFwiO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSB2b2lkIDA7XG4gICAgdGhpcy51bnN1YnNjcmliZSA9IFJvdXRlckN0cmwuc3Vic2NyaWJlKChyb3V0ZXJTdGF0ZSkgPT4ge1xuICAgICAgaWYgKHRoaXMudmlldyAhPT0gcm91dGVyU3RhdGUudmlldykge1xuICAgICAgICB0aGlzLm9uQ2hhbmdlUm91dGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmaXJzdFVwZGF0ZWQoKSB7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoW2NvbmV0bnRdKSA9PiB7XG4gICAgICBjb25zdCBuZXdIZWlnaHQgPSBgJHtjb25ldG50LmNvbnRlbnRSZWN0LmhlaWdodH1weGA7XG4gICAgICBpZiAodGhpcy5vbGRIZWlnaHQgIT09IFwiMHB4XCIpIHtcbiAgICAgICAgYW5pbWF0ZSh0aGlzLnJvdXRlckVsLCB7IGhlaWdodDogW3RoaXMub2xkSGVpZ2h0LCBuZXdIZWlnaHRdIH0sIHsgZHVyYXRpb246IDAuMiB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMub2xkSGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgIH0pO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNvbnRlbnRFbCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICAoX2EgPSB0aGlzLnVuc3Vic2NyaWJlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgICAoX2IgPSB0aGlzLnJlc2l6ZU9ic2VydmVyKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICB9XG4gIGdldCByb3V0ZXJFbCgpIHtcbiAgICByZXR1cm4gVWlVdGlsLmdldFNoYWRvd1Jvb3RFbGVtZW50KHRoaXMsIFwiLndjbS1yb3V0ZXJcIik7XG4gIH1cbiAgZ2V0IGNvbnRlbnRFbCgpIHtcbiAgICByZXR1cm4gVWlVdGlsLmdldFNoYWRvd1Jvb3RFbGVtZW50KHRoaXMsIFwiLndjbS1jb250ZW50XCIpO1xuICB9XG4gIHZpZXdUZW1wbGF0ZSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMudmlldykge1xuICAgICAgY2FzZSBcIkNvbm5lY3RXYWxsZXRcIjpcbiAgICAgICAgcmV0dXJuIGh0bWxgPHdjbS1jb25uZWN0LXdhbGxldC12aWV3Pjwvd2NtLWNvbm5lY3Qtd2FsbGV0LXZpZXc+YDtcbiAgICAgIGNhc2UgXCJEZXNrdG9wQ29ubmVjdGluZ1wiOlxuICAgICAgICByZXR1cm4gaHRtbGA8d2NtLWRlc2t0b3AtY29ubmVjdGluZy12aWV3Pjwvd2NtLWRlc2t0b3AtY29ubmVjdGluZy12aWV3PmA7XG4gICAgICBjYXNlIFwiTW9iaWxlQ29ubmVjdGluZ1wiOlxuICAgICAgICByZXR1cm4gaHRtbGA8d2NtLW1vYmlsZS1jb25uZWN0aW5nLXZpZXc+PC93Y20tbW9iaWxlLWNvbm5lY3Rpbmctdmlldz5gO1xuICAgICAgY2FzZSBcIldlYkNvbm5lY3RpbmdcIjpcbiAgICAgICAgcmV0dXJuIGh0bWxgPHdjbS13ZWItY29ubmVjdGluZy12aWV3Pjwvd2NtLXdlYi1jb25uZWN0aW5nLXZpZXc+YDtcbiAgICAgIGNhc2UgXCJNb2JpbGVRcmNvZGVDb25uZWN0aW5nXCI6XG4gICAgICAgIHJldHVybiBodG1sYDx3Y20tbW9iaWxlLXFyLWNvbm5lY3Rpbmctdmlldz48L3djbS1tb2JpbGUtcXItY29ubmVjdGluZy12aWV3PmA7XG4gICAgICBjYXNlIFwiV2FsbGV0RXhwbG9yZXJcIjpcbiAgICAgICAgcmV0dXJuIGh0bWxgPHdjbS13YWxsZXQtZXhwbG9yZXItdmlldz48L3djbS13YWxsZXQtZXhwbG9yZXItdmlldz5gO1xuICAgICAgY2FzZSBcIlFyY29kZVwiOlxuICAgICAgICByZXR1cm4gaHRtbGA8d2NtLXFyY29kZS12aWV3Pjwvd2NtLXFyY29kZS12aWV3PmA7XG4gICAgICBjYXNlIFwiSW5zdGFsbFdhbGxldFwiOlxuICAgICAgICByZXR1cm4gaHRtbGA8d2NtLWluc3RhbGwtd2FsbGV0LXZpZXc+PC93Y20taW5zdGFsbC13YWxsZXQtdmlldz5gO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGh0bWxgPGRpdj5Ob3QgRm91bmQ8L2Rpdj5gO1xuICAgIH1cbiAgfVxuICBhc3luYyBvbkNoYW5nZVJvdXRlKCkge1xuICAgIGF3YWl0IGFuaW1hdGUoXG4gICAgICB0aGlzLnJvdXRlckVsLFxuICAgICAgeyBvcGFjaXR5OiBbMSwgMF0sIHNjYWxlOiBbMSwgMS4wMl0gfSxcbiAgICAgIHsgZHVyYXRpb246IDAuMTUsIGRlbGF5OiAwLjEgfVxuICAgICkuZmluaXNoZWQ7XG4gICAgdGhpcy52aWV3ID0gUm91dGVyQ3RybC5zdGF0ZS52aWV3O1xuICAgIGFuaW1hdGUodGhpcy5yb3V0ZXJFbCwgeyBvcGFjaXR5OiBbMCwgMV0sIHNjYWxlOiBbMC45OSwgMV0gfSwgeyBkdXJhdGlvbjogMC4zNywgZGVsYXk6IDAuMDUgfSk7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJ3Y20tcm91dGVyXCI+PGRpdiBjbGFzcz1cIndjbS1jb250ZW50XCI+JHt0aGlzLnZpZXdUZW1wbGF0ZSgpfTwvZGl2PjwvZGl2PmA7XG4gIH1cbn07XG5XY21Nb2RhbFJvdXRlci5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJG1dO1xuX19kZWNvcmF0ZUNsYXNzJHEoW1xuICBzdGF0ZSgpXG5dLCBXY21Nb2RhbFJvdXRlci5wcm90b3R5cGUsIFwidmlld1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRxKFtcbiAgc3RhdGUoKVxuXSwgV2NtTW9kYWxSb3V0ZXIucHJvdG90eXBlLCBcInByZXZWaWV3XCIsIDIpO1xuV2NtTW9kYWxSb3V0ZXIgPSBfX2RlY29yYXRlQ2xhc3MkcShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9kYWwtcm91dGVyXCIpXG5dLCBXY21Nb2RhbFJvdXRlcik7XG5cbmNvbnN0IHN0eWxlcyRsID0gY3NzYGRpdntoZWlnaHQ6MzZweDt3aWR0aDptYXgtY29udGVudDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo5cHggMTVweCAxMXB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMnB4O2JveC1zaGFkb3c6MCA2cHggMTRweCAtNnB4IHJnYmEoMTAsMTYsMzEsLjMpLDAgMTBweCAzMnB4IC00cHggcmdiYSgxMCwxNiwzMSwuMTUpO3otaW5kZXg6MjtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTtwb2ludGVyLWV2ZW50czpub25lO2JhY2tkcm9wLWZpbHRlcjpibHVyKDIwcHgpIHNhdHVyYXRlKDEuOCk7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6Ymx1cigyMHB4KSBzYXR1cmF0ZSgxLjgpO2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLW5vdGlmaWNhdGlvbi1ib3JkZXItcmFkaXVzKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1vdmVybGF5KTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1zdmd7bWFyZ2luLXJpZ2h0OjVweH1ALW1vei1kb2N1bWVudCB1cmwtcHJlZml4KCl7ZGl2e2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTMpfX0ud2NtLXN1Y2Nlc3MgcGF0aHtmaWxsOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfS53Y20tZXJyb3IgcGF0aHtmaWxsOnZhcigtLXdjbS1lcnJvci1jb2xvcil9YDtcblxudmFyIF9fZGVmUHJvcCRwID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHAgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkcCh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkcCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9kYWxUb2FzdCA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICB0aGlzLnVuc3Vic2NyaWJlID0gdm9pZCAwO1xuICAgIHRoaXMudGltZW91dCA9IHZvaWQgMDtcbiAgICB0aGlzLnVuc3Vic2NyaWJlID0gVG9hc3RDdHJsLnN1YnNjcmliZSgobmV3U3RhdGUpID0+IHtcbiAgICAgIGlmIChuZXdTdGF0ZS5vcGVuKSB7XG4gICAgICAgIHRoaXMub3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gVG9hc3RDdHJsLmNsb3NlVG9hc3QoKSwgMjIwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMudW5zdWJzY3JpYmUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIFRvYXN0Q3RybC5jbG9zZVRvYXN0KCk7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbWVzc2FnZSwgdmFyaWFudCB9ID0gVG9hc3RDdHJsLnN0YXRlO1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1zdWNjZXNzXCI6IHZhcmlhbnQgPT09IFwic3VjY2Vzc1wiLFxuICAgICAgXCJ3Y20tZXJyb3JcIjogdmFyaWFudCA9PT0gXCJlcnJvclwiXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5vcGVuID8gaHRtbGA8ZGl2IGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIj4ke3ZhcmlhbnQgPT09IFwic3VjY2Vzc1wiID8gU3ZnVXRpbC5DSEVDS01BUktfSUNPTiA6IG51bGx9ICR7dmFyaWFudCA9PT0gXCJlcnJvclwiID8gU3ZnVXRpbC5DUk9TU19JQ09OIDogbnVsbH08d2NtLXRleHQgdmFyaWFudD1cInNtYWxsLXJlZ3VsYXJcIj4ke21lc3NhZ2V9PC93Y20tdGV4dD48L2Rpdj5gIDogbnVsbDtcbiAgfVxufTtcbldjbU1vZGFsVG9hc3Quc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRsXTtcbl9fZGVjb3JhdGVDbGFzcyRwKFtcbiAgc3RhdGUoKVxuXSwgV2NtTW9kYWxUb2FzdC5wcm90b3R5cGUsIFwib3BlblwiLCAyKTtcbldjbU1vZGFsVG9hc3QgPSBfX2RlY29yYXRlQ2xhc3MkcChbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9kYWwtdG9hc3RcIilcbl0sIFdjbU1vZGFsVG9hc3QpO1xuXG5jb25zdCBDT05ORUNUSU5HX0VSUk9SX01BUkdJTiA9IDAuMTtcbmNvbnN0IENJUkNMRV9TSVpFX01PRElGSUVSID0gMi41O1xuY29uc3QgUVJDT0RFX01BVFJJWF9NQVJHSU4gPSA3O1xuZnVuY3Rpb24gaXNBZGplY2VudERvdHMoY3ksIG90aGVyQ3ksIGNlbGxTaXplKSB7XG4gIGlmIChjeSA9PT0gb3RoZXJDeSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBkaWZmID0gY3kgLSBvdGhlckN5IDwgMCA/IG90aGVyQ3kgLSBjeSA6IGN5IC0gb3RoZXJDeTtcbiAgcmV0dXJuIGRpZmYgPD0gY2VsbFNpemUgKyBDT05ORUNUSU5HX0VSUk9SX01BUkdJTjtcbn1cbmZ1bmN0aW9uIGdldE1hdHJpeCh2YWx1ZSwgZXJyb3JDb3JyZWN0aW9uTGV2ZWwpIHtcbiAgY29uc3QgYXJyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgUVJDb2RlVXRpbC5jcmVhdGUodmFsdWUsIHsgZXJyb3JDb3JyZWN0aW9uTGV2ZWwgfSkubW9kdWxlcy5kYXRhLFxuICAgIDBcbiAgKTtcbiAgY29uc3Qgc3FydCA9IE1hdGguc3FydChhcnIubGVuZ3RoKTtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoXG4gICAgKHJvd3MsIGtleSwgaW5kZXgpID0+IChpbmRleCAlIHNxcnQgPT09IDAgPyByb3dzLnB1c2goW2tleV0pIDogcm93c1tyb3dzLmxlbmd0aCAtIDFdLnB1c2goa2V5KSkgJiYgcm93cyxcbiAgICBbXVxuICApO1xufVxuY29uc3QgUXJDb2RlVXRpbCA9IHtcbiAgZ2VuZXJhdGUodXJpLCBzaXplLCBsb2dvU2l6ZSkge1xuICAgIGNvbnN0IGRvdENvbG9yID0gXCIjMTQxNDE0XCI7XG4gICAgY29uc3QgZWRnZUNvbG9yID0gXCIjZmZmZmZmXCI7XG4gICAgY29uc3QgZG90cyA9IFtdO1xuICAgIGNvbnN0IG1hdHJpeCA9IGdldE1hdHJpeCh1cmksIFwiUVwiKTtcbiAgICBjb25zdCBjZWxsU2l6ZSA9IHNpemUgLyBtYXRyaXgubGVuZ3RoO1xuICAgIGNvbnN0IHFyTGlzdCA9IFtcbiAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgeyB4OiAxLCB5OiAwIH0sXG4gICAgICB7IHg6IDAsIHk6IDEgfVxuICAgIF07XG4gICAgcXJMaXN0LmZvckVhY2goKHsgeCwgeSB9KSA9PiB7XG4gICAgICBjb25zdCB4MSA9IChtYXRyaXgubGVuZ3RoIC0gUVJDT0RFX01BVFJJWF9NQVJHSU4pICogY2VsbFNpemUgKiB4O1xuICAgICAgY29uc3QgeTEgPSAobWF0cml4Lmxlbmd0aCAtIFFSQ09ERV9NQVRSSVhfTUFSR0lOKSAqIGNlbGxTaXplICogeTtcbiAgICAgIGNvbnN0IGJvcmRlclJhZGl1cyA9IDAuNDU7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHFyTGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBkb3RTaXplID0gY2VsbFNpemUgKiAoUVJDT0RFX01BVFJJWF9NQVJHSU4gLSBpICogMik7XG4gICAgICAgIGRvdHMucHVzaChcbiAgICAgICAgICBzdmckMWA8cmVjdCBmaWxsPVwiJHtpICUgMiA9PT0gMCA/IGRvdENvbG9yIDogZWRnZUNvbG9yfVwiIGhlaWdodD1cIiR7ZG90U2l6ZX1cIiByeD1cIiR7ZG90U2l6ZSAqIGJvcmRlclJhZGl1c31cIiByeT1cIiR7ZG90U2l6ZSAqIGJvcmRlclJhZGl1c31cIiB3aWR0aD1cIiR7ZG90U2l6ZX1cIiB4PVwiJHt4MSArIGNlbGxTaXplICogaX1cIiB5PVwiJHt5MSArIGNlbGxTaXplICogaX1cIj5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xlYXJBcmVuYVNpemUgPSBNYXRoLmZsb29yKChsb2dvU2l6ZSArIDI1KSAvIGNlbGxTaXplKTtcbiAgICBjb25zdCBtYXRyaXhNaWRkbGVTdGFydCA9IG1hdHJpeC5sZW5ndGggLyAyIC0gY2xlYXJBcmVuYVNpemUgLyAyO1xuICAgIGNvbnN0IG1hdHJpeE1pZGRsZUVuZCA9IG1hdHJpeC5sZW5ndGggLyAyICsgY2xlYXJBcmVuYVNpemUgLyAyIC0gMTtcbiAgICBjb25zdCBjaXJjbGVzID0gW107XG4gICAgbWF0cml4LmZvckVhY2goKHJvdywgaSkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKF8sIGopID0+IHtcbiAgICAgICAgaWYgKG1hdHJpeFtpXVtqXSkge1xuICAgICAgICAgIGlmICghKGkgPCBRUkNPREVfTUFUUklYX01BUkdJTiAmJiBqIDwgUVJDT0RFX01BVFJJWF9NQVJHSU4gfHwgaSA+IG1hdHJpeC5sZW5ndGggLSAoUVJDT0RFX01BVFJJWF9NQVJHSU4gKyAxKSAmJiBqIDwgUVJDT0RFX01BVFJJWF9NQVJHSU4gfHwgaSA8IFFSQ09ERV9NQVRSSVhfTUFSR0lOICYmIGogPiBtYXRyaXgubGVuZ3RoIC0gKFFSQ09ERV9NQVRSSVhfTUFSR0lOICsgMSkpKSB7XG4gICAgICAgICAgICBpZiAoIShpID4gbWF0cml4TWlkZGxlU3RhcnQgJiYgaSA8IG1hdHJpeE1pZGRsZUVuZCAmJiBqID4gbWF0cml4TWlkZGxlU3RhcnQgJiYgaiA8IG1hdHJpeE1pZGRsZUVuZCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgY3ggPSBpICogY2VsbFNpemUgKyBjZWxsU2l6ZSAvIDI7XG4gICAgICAgICAgICAgIGNvbnN0IGN5ID0gaiAqIGNlbGxTaXplICsgY2VsbFNpemUgLyAyO1xuICAgICAgICAgICAgICBjaXJjbGVzLnB1c2goW2N4LCBjeV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgY2lyY2xlc1RvQ29ubmVjdCA9IHt9O1xuICAgIGNpcmNsZXMuZm9yRWFjaCgoW2N4LCBjeV0pID0+IHtcbiAgICAgIGlmIChjaXJjbGVzVG9Db25uZWN0W2N4XSkge1xuICAgICAgICBjaXJjbGVzVG9Db25uZWN0W2N4XS5wdXNoKGN5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNpcmNsZXNUb0Nvbm5lY3RbY3hdID0gW2N5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZW50cmllcyhjaXJjbGVzVG9Db25uZWN0KS5tYXAoKFtjeCwgY3lzXSkgPT4ge1xuICAgICAgY29uc3QgbmV3Q3lzID0gY3lzLmZpbHRlcihcbiAgICAgICAgKGN5KSA9PiBjeXMuZXZlcnkoKG90aGVyQ3kpID0+ICFpc0FkamVjZW50RG90cyhjeSwgb3RoZXJDeSwgY2VsbFNpemUpKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBbTnVtYmVyKGN4KSwgbmV3Q3lzXTtcbiAgICB9KS5mb3JFYWNoKChbY3gsIGN5c10pID0+IHtcbiAgICAgIGN5cy5mb3JFYWNoKChjeSkgPT4ge1xuICAgICAgICBkb3RzLnB1c2goXG4gICAgICAgICAgc3ZnJDFgPGNpcmNsZSBjeD1cIiR7Y3h9XCIgY3k9XCIke2N5fVwiIGZpbGw9XCIke2RvdENvbG9yfVwiIHI9XCIke2NlbGxTaXplIC8gQ0lSQ0xFX1NJWkVfTU9ESUZJRVJ9XCI+YFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgT2JqZWN0LmVudHJpZXMoY2lyY2xlc1RvQ29ubmVjdCkuZmlsdGVyKChbXywgY3lzXSkgPT4gY3lzLmxlbmd0aCA+IDEpLm1hcCgoW2N4LCBjeXNdKSA9PiB7XG4gICAgICBjb25zdCBuZXdDeXMgPSBjeXMuZmlsdGVyKChjeSkgPT4gY3lzLnNvbWUoKG90aGVyQ3kpID0+IGlzQWRqZWNlbnREb3RzKGN5LCBvdGhlckN5LCBjZWxsU2l6ZSkpKTtcbiAgICAgIHJldHVybiBbTnVtYmVyKGN4KSwgbmV3Q3lzXTtcbiAgICB9KS5tYXAoKFtjeCwgY3lzXSkgPT4ge1xuICAgICAgY3lzLnNvcnQoKGEsIGIpID0+IGEgPCBiID8gLTEgOiAxKTtcbiAgICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBjeSBvZiBjeXMpIHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHMuZmluZChcbiAgICAgICAgICAoaXRlbSkgPT4gaXRlbS5zb21lKChvdGhlckN5KSA9PiBpc0FkamVjZW50RG90cyhjeSwgb3RoZXJDeSwgY2VsbFNpemUpKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgICBncm91cC5wdXNoKGN5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBncm91cHMucHVzaChbY3ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFtjeCwgZ3JvdXBzLm1hcCgoaXRlbSkgPT4gW2l0ZW1bMF0sIGl0ZW1baXRlbS5sZW5ndGggLSAxXV0pXTtcbiAgICB9KS5mb3JFYWNoKChbY3gsIGdyb3Vwc10pID0+IHtcbiAgICAgIGdyb3Vwcy5mb3JFYWNoKChbeTEsIHkyXSkgPT4ge1xuICAgICAgICBkb3RzLnB1c2goXG4gICAgICAgICAgc3ZnJDFgPGxpbmUgeDE9XCIke2N4fVwiIHgyPVwiJHtjeH1cIiB5MT1cIiR7eTF9XCIgeTI9XCIke3kyfVwiIHN0cm9rZT1cIiR7ZG90Q29sb3J9XCIgc3Ryb2tlLXdpZHRoPVwiJHtjZWxsU2l6ZSAvIChDSVJDTEVfU0laRV9NT0RJRklFUiAvIDIpfVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIj5gXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZG90cztcbiAgfVxufTtcblxuY29uc3Qgc3R5bGVzJGsgPSBjc3NgQGtleWZyYW1lcyBmYWRlSW57MCV7b3BhY2l0eTowfTEwMCV7b3BhY2l0eToxfX1kaXZ7cG9zaXRpb246cmVsYXRpdmU7dXNlci1zZWxlY3Q6bm9uZTtkaXNwbGF5OmJsb2NrO292ZXJmbG93OmhpZGRlbjthc3BlY3QtcmF0aW86MS8xO2FuaW1hdGlvbjpmYWRlSW4gZWFzZSAuMnN9LndjbS1kYXJre2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1jb250YWluZXItYm9yZGVyLXJhZGl1cyk7cGFkZGluZzoxOHB4O2JveC1zaGFkb3c6MCAycHggNXB4ICMwMDB9c3ZnOmZpcnN0LWNoaWxkLHdjbS13YWxsZXQtaW1hZ2V7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKSB0cmFuc2xhdGVYKC01MCUpfXdjbS13YWxsZXQtaW1hZ2V7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKX13Y20td2FsbGV0LWltYWdle3dpZHRoOjI1JTtoZWlnaHQ6MjUlO2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLXdhbGxldC1pY29uLWJvcmRlci1yYWRpdXMpfXN2ZzpmaXJzdC1jaGlsZHt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKSB0cmFuc2xhdGVYKC01MCUpIHNjYWxlKC45KX1zdmc6Zmlyc3QtY2hpbGQgcGF0aDpmaXJzdC1jaGlsZHtmaWxsOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfXN2ZzpmaXJzdC1jaGlsZCBwYXRoOmxhc3QtY2hpbGR7c3Ryb2tlOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1gO1xuXG52YXIgX19kZWZQcm9wJG8gPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRvID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkbyA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRvKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRvKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21RckNvZGUgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMudXJpID0gXCJcIjtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMuaW1hZ2VJZCA9IHZvaWQgMDtcbiAgICB0aGlzLndhbGxldElkID0gdm9pZCAwO1xuICAgIHRoaXMuaW1hZ2VVcmwgPSB2b2lkIDA7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgc3ZnVGVtcGxhdGUoKSB7XG4gICAgY29uc3QgaXNMaWdodE1vZGUgPSBUaGVtZUN0cmwuc3RhdGUudGhlbWVNb2RlID09PSBcImxpZ2h0XCI7XG4gICAgY29uc3Qgc2l6ZSA9IGlzTGlnaHRNb2RlID8gdGhpcy5zaXplIDogdGhpcy5zaXplIC0gMTggKiAyO1xuICAgIHJldHVybiBzdmckMWA8c3ZnIGhlaWdodD1cIiR7c2l6ZX1cIiB3aWR0aD1cIiR7c2l6ZX1cIj4ke1FyQ29kZVV0aWwuZ2VuZXJhdGUodGhpcy51cmksIHNpemUsIHNpemUgLyA0KX08L3N2Zz5gO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20tZGFya1wiOiBUaGVtZUN0cmwuc3RhdGUudGhlbWVNb2RlID09PSBcImRhcmtcIlxuICAgIH07XG4gICAgcmV0dXJuIGh0bWxgPGRpdiBzdHlsZT1cIiR7YHdpZHRoOiAke3RoaXMuc2l6ZX1weGB9XCIgY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiPiR7dGhpcy53YWxsZXRJZCB8fCB0aGlzLmltYWdlVXJsID8gaHRtbGA8d2NtLXdhbGxldC1pbWFnZSB3YWxsZXRJZD1cIiR7aWZEZWZpbmVkKHRoaXMud2FsbGV0SWQpfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZCh0aGlzLmltYWdlSWQpfVwiIGltYWdlVXJsPVwiJHtpZkRlZmluZWQodGhpcy5pbWFnZVVybCl9XCI+PC93Y20td2FsbGV0LWltYWdlPmAgOiBTdmdVdGlsLldBTExFVF9DT05ORUNUX0lDT05fQ09MT1JFRH0gJHt0aGlzLnN2Z1RlbXBsYXRlKCl9PC9kaXY+YDtcbiAgfVxufTtcbldjbVFyQ29kZS5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGtdO1xuX19kZWNvcmF0ZUNsYXNzJG8oW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21RckNvZGUucHJvdG90eXBlLCBcInVyaVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRvKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIgfSlcbl0sIFdjbVFyQ29kZS5wcm90b3R5cGUsIFwic2l6ZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRvKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtUXJDb2RlLnByb3RvdHlwZSwgXCJpbWFnZUlkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJG8oW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21RckNvZGUucHJvdG90eXBlLCBcIndhbGxldElkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJG8oW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21RckNvZGUucHJvdG90eXBlLCBcImltYWdlVXJsXCIsIDIpO1xuV2NtUXJDb2RlID0gX19kZWNvcmF0ZUNsYXNzJG8oW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXFyY29kZVwiKVxuXSwgV2NtUXJDb2RlKTtcblxuY29uc3Qgc3R5bGVzJGogPSBjc3NgOmhvc3R7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjI4cHg7d2lkdGg6ODAlfWlucHV0e3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bGluZS1oZWlnaHQ6MjhweCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20taW5wdXQtYm9yZGVyLXJhZGl1cyk7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC1mYW1pbHk6LWFwcGxlLXN5c3RlbSxzeXN0ZW0tdWksQmxpbmtNYWNTeXN0ZW1Gb250LCdTZWdvZSBVSScsUm9ib3RvLFVidW50dSwnSGVsdmV0aWNhIE5ldWUnLHNhbnMtc2VyaWY7Zm9udC1mZWF0dXJlLXNldHRpbmdzOidjYXNlJyBvbjtmb250LXdlaWdodDo1MDA7Zm9udC1zaXplOjE2cHg7bGV0dGVyLXNwYWNpbmc6LS4wM2VtO3BhZGRpbmc6MCAxMHB4IDAgMzRweDt0cmFuc2l0aW9uOi4ycyBhbGwgZWFzZTtjb2xvcjp2YXIoLS13Y20tY29sb3ItZmctMSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMyk7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpO2NhcmV0LWNvbG9yOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfWlucHV0OjpwbGFjZWhvbGRlcntjb2xvcjp2YXIoLS13Y20tY29sb3ItZmctMil9c3Zne2xlZnQ6MTBweDt0b3A6NHB4O3BvaW50ZXItZXZlbnRzOm5vbmU7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1pbnB1dDpmb2N1cy13aXRoaW57Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggdmFyKC0td2NtLWFjY2VudC1jb2xvcil9cGF0aHtmaWxsOnZhcigtLXdjbS1jb2xvci1mZy0yKX1gO1xuXG52YXIgX19kZWZQcm9wJG4gPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRuID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkbiA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRuKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRuKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21TZWFyY2hJbnB1dCA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5vbkNoYW5nZSA9ICgpID0+IG51bGw7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxpbnB1dCB0eXBlPVwidGV4dFwiIEBpbnB1dD1cIiR7dGhpcy5vbkNoYW5nZX1cIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCB3YWxsZXRzXCI+ICR7U3ZnVXRpbC5TRUFSQ0hfSUNPTn1gO1xuICB9XG59O1xuV2NtU2VhcmNoSW5wdXQuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRqXTtcbl9fZGVjb3JhdGVDbGFzcyRuKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtU2VhcmNoSW5wdXQucHJvdG90eXBlLCBcIm9uQ2hhbmdlXCIsIDIpO1xuV2NtU2VhcmNoSW5wdXQgPSBfX2RlY29yYXRlQ2xhc3MkbihbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tc2VhcmNoLWlucHV0XCIpXG5dLCBXY21TZWFyY2hJbnB1dCk7XG5cbmNvbnN0IHN0eWxlcyRpID0gY3NzYEBrZXlmcmFtZXMgcm90YXRlezEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1Aa2V5ZnJhbWVzIGRhc2h7MCV7c3Ryb2tlLWRhc2hhcnJheToxLDE1MDtzdHJva2UtZGFzaG9mZnNldDowfTUwJXtzdHJva2UtZGFzaGFycmF5OjkwLDE1MDtzdHJva2UtZGFzaG9mZnNldDotMzV9MTAwJXtzdHJva2UtZGFzaGFycmF5OjkwLDE1MDtzdHJva2UtZGFzaG9mZnNldDotMTI0fX1zdmd7YW5pbWF0aW9uOnJvdGF0ZSAycyBsaW5lYXIgaW5maW5pdGU7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfXN2ZyBjaXJjbGV7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7YW5pbWF0aW9uOmRhc2ggMS41cyBlYXNlIGluZmluaXRlO3N0cm9rZTp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1gO1xuXG52YXIgX19kZWZQcm9wJG0gPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRtID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkbSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRtKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRtKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21TcGlubmVyID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxzdmcgdmlld0JveD1cIjAgMCA1MCA1MFwiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiPjxjaXJjbGUgY3g9XCIyNVwiIGN5PVwiMjVcIiByPVwiMjBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjRcIiBzdHJva2U9XCIjZmZmXCIvPjwvc3ZnPmA7XG4gIH1cbn07XG5XY21TcGlubmVyLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkaV07XG5XY21TcGlubmVyID0gX19kZWNvcmF0ZUNsYXNzJG0oW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXNwaW5uZXJcIilcbl0sIFdjbVNwaW5uZXIpO1xuXG5jb25zdCBzdHlsZXMkaCA9IGNzc2BzcGFue2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtZmFtaWx5OnZhcigtLXdjbS1mb250LWZhbWlseSk7Zm9udC1mZWF0dXJlLXNldHRpbmdzOnZhcigtLXdjbS1mb250LWZlYXR1cmUtc2V0dGluZ3MpfS53Y20teHNtYWxsLWJvbGR7Zm9udC1mYW1pbHk6dmFyKC0td2NtLXRleHQteHNtYWxsLWJvbGQtZm9udC1mYW1pbHkpO2ZvbnQtd2VpZ2h0OnZhcigtLXdjbS10ZXh0LXhzbWFsbC1ib2xkLXdlaWdodCk7Zm9udC1zaXplOnZhcigtLXdjbS10ZXh0LXhzbWFsbC1ib2xkLXNpemUpO2xpbmUtaGVpZ2h0OnZhcigtLXdjbS10ZXh0LXhzbWFsbC1ib2xkLWxpbmUtaGVpZ2h0KTtsZXR0ZXItc3BhY2luZzp2YXIoLS13Y20tdGV4dC14c21hbGwtYm9sZC1sZXR0ZXItc3BhY2luZyk7dGV4dC10cmFuc2Zvcm06dmFyKC0td2NtLXRleHQteHNtYWxsLWJvbGQtdGV4dC10cmFuc2Zvcm0pfS53Y20teHNtYWxsLXJlZ3VsYXJ7Zm9udC1mYW1pbHk6dmFyKC0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItZm9udC1mYW1pbHkpO2ZvbnQtd2VpZ2h0OnZhcigtLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLXdlaWdodCk7Zm9udC1zaXplOnZhcigtLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLXNpemUpO2xpbmUtaGVpZ2h0OnZhcigtLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLWxpbmUtaGVpZ2h0KTtsZXR0ZXItc3BhY2luZzp2YXIoLS13Y20tdGV4dC14c21hbGwtcmVndWxhci1sZXR0ZXItc3BhY2luZyk7dGV4dC10cmFuc2Zvcm06dmFyKC0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItdGV4dC10cmFuc2Zvcm0pfS53Y20tc21hbGwtdGhpbntmb250LWZhbWlseTp2YXIoLS13Y20tdGV4dC1zbWFsbC10aGluLWZvbnQtZmFtaWx5KTtmb250LXdlaWdodDp2YXIoLS13Y20tdGV4dC1zbWFsbC10aGluLXdlaWdodCk7Zm9udC1zaXplOnZhcigtLXdjbS10ZXh0LXNtYWxsLXRoaW4tc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0td2NtLXRleHQtc21hbGwtdGhpbi1saW5lLWhlaWdodCk7bGV0dGVyLXNwYWNpbmc6dmFyKC0td2NtLXRleHQtc21hbGwtdGhpbi1sZXR0ZXItc3BhY2luZyk7dGV4dC10cmFuc2Zvcm06dmFyKC0td2NtLXRleHQtc21hbGwtdGhpbi10ZXh0LXRyYW5zZm9ybSl9LndjbS1zbWFsbC1yZWd1bGFye2ZvbnQtZmFtaWx5OnZhcigtLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItZm9udC1mYW1pbHkpO2ZvbnQtd2VpZ2h0OnZhcigtLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItd2VpZ2h0KTtmb250LXNpemU6dmFyKC0td2NtLXRleHQtc21hbGwtcmVndWxhci1zaXplKTtsaW5lLWhlaWdodDp2YXIoLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLWxpbmUtaGVpZ2h0KTtsZXR0ZXItc3BhY2luZzp2YXIoLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLWxldHRlci1zcGFjaW5nKTt0ZXh0LXRyYW5zZm9ybTp2YXIoLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLXRleHQtdHJhbnNmb3JtKX0ud2NtLW1lZGl1bS1yZWd1bGFye2ZvbnQtZmFtaWx5OnZhcigtLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLWZvbnQtZmFtaWx5KTtmb250LXdlaWdodDp2YXIoLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci13ZWlnaHQpO2ZvbnQtc2l6ZTp2YXIoLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci1zaXplKTtsaW5lLWhlaWdodDp2YXIoLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci1saW5lLWhlaWdodCk7bGV0dGVyLXNwYWNpbmc6dmFyKC0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItbGV0dGVyLXNwYWNpbmcpO3RleHQtdHJhbnNmb3JtOnZhcigtLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLXRleHQtdHJhbnNmb3JtKX0ud2NtLWJpZy1ib2xke2ZvbnQtZmFtaWx5OnZhcigtLXdjbS10ZXh0LWJpZy1ib2xkLWZvbnQtZmFtaWx5KTtmb250LXdlaWdodDp2YXIoLS13Y20tdGV4dC1iaWctYm9sZC13ZWlnaHQpO2ZvbnQtc2l6ZTp2YXIoLS13Y20tdGV4dC1iaWctYm9sZC1zaXplKTtsaW5lLWhlaWdodDp2YXIoLS13Y20tdGV4dC1iaWctYm9sZC1saW5lLWhlaWdodCk7bGV0dGVyLXNwYWNpbmc6dmFyKC0td2NtLXRleHQtYmlnLWJvbGQtbGV0dGVyLXNwYWNpbmcpO3RleHQtdHJhbnNmb3JtOnZhcigtLXdjbS10ZXh0LWJpZy1ib2xkLXRleHQtdHJhbnNmb3JtKX06aG9zdCgqKXtjb2xvcjp2YXIoLS13Y20tY29sb3ItZmctMSl9LndjbS1jb2xvci1wcmltYXJ5e2NvbG9yOnZhcigtLXdjbS1jb2xvci1mZy0xKX0ud2NtLWNvbG9yLXNlY29uZGFyeXtjb2xvcjp2YXIoLS13Y20tY29sb3ItZmctMil9LndjbS1jb2xvci10ZXJ0aWFyeXtjb2xvcjp2YXIoLS13Y20tY29sb3ItZmctMyl9LndjbS1jb2xvci1pbnZlcnNle2NvbG9yOnZhcigtLXdjbS1hY2NlbnQtZmlsbC1jb2xvcil9LndjbS1jb2xvci1hY2NudHtjb2xvcjp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX0ud2NtLWNvbG9yLWVycm9ye2NvbG9yOnZhcigtLXdjbS1lcnJvci1jb2xvcil9YDtcblxudmFyIF9fZGVmUHJvcCRsID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkbCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGwgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkbCh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkbCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtVGV4dCA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy52YXJpYW50ID0gXCJtZWRpdW0tcmVndWxhclwiO1xuICAgIHRoaXMuY29sb3IgPSBcInByaW1hcnlcIjtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLWJpZy1ib2xkXCI6IHRoaXMudmFyaWFudCA9PT0gXCJiaWctYm9sZFwiLFxuICAgICAgXCJ3Y20tbWVkaXVtLXJlZ3VsYXJcIjogdGhpcy52YXJpYW50ID09PSBcIm1lZGl1bS1yZWd1bGFyXCIsXG4gICAgICBcIndjbS1zbWFsbC1yZWd1bGFyXCI6IHRoaXMudmFyaWFudCA9PT0gXCJzbWFsbC1yZWd1bGFyXCIsXG4gICAgICBcIndjbS1zbWFsbC10aGluXCI6IHRoaXMudmFyaWFudCA9PT0gXCJzbWFsbC10aGluXCIsXG4gICAgICBcIndjbS14c21hbGwtcmVndWxhclwiOiB0aGlzLnZhcmlhbnQgPT09IFwieHNtYWxsLXJlZ3VsYXJcIixcbiAgICAgIFwid2NtLXhzbWFsbC1ib2xkXCI6IHRoaXMudmFyaWFudCA9PT0gXCJ4c21hbGwtYm9sZFwiLFxuICAgICAgXCJ3Y20tY29sb3ItcHJpbWFyeVwiOiB0aGlzLmNvbG9yID09PSBcInByaW1hcnlcIixcbiAgICAgIFwid2NtLWNvbG9yLXNlY29uZGFyeVwiOiB0aGlzLmNvbG9yID09PSBcInNlY29uZGFyeVwiLFxuICAgICAgXCJ3Y20tY29sb3ItdGVydGlhcnlcIjogdGhpcy5jb2xvciA9PT0gXCJ0ZXJ0aWFyeVwiLFxuICAgICAgXCJ3Y20tY29sb3ItaW52ZXJzZVwiOiB0aGlzLmNvbG9yID09PSBcImludmVyc2VcIixcbiAgICAgIFwid2NtLWNvbG9yLWFjY250XCI6IHRoaXMuY29sb3IgPT09IFwiYWNjZW50XCIsXG4gICAgICBcIndjbS1jb2xvci1lcnJvclwiOiB0aGlzLmNvbG9yID09PSBcImVycm9yXCJcbiAgICB9O1xuICAgIHJldHVybiBodG1sYDxzcGFuPjxzbG90IGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIj48L3Nsb3Q+PC9zcGFuPmA7XG4gIH1cbn07XG5XY21UZXh0LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkaF07XG5fX2RlY29yYXRlQ2xhc3MkbChbXG4gIHByb3BlcnR5KClcbl0sIFdjbVRleHQucHJvdG90eXBlLCBcInZhcmlhbnRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkbChbXG4gIHByb3BlcnR5KClcbl0sIFdjbVRleHQucHJvdG90eXBlLCBcImNvbG9yXCIsIDIpO1xuV2NtVGV4dCA9IF9fZGVjb3JhdGVDbGFzcyRsKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS10ZXh0XCIpXG5dLCBXY21UZXh0KTtcblxuY29uc3Qgc3R5bGVzJGcgPSBjc3NgYnV0dG9ue3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tYnV0dG9uLWhvdmVyLWhpZ2hsaWdodC1ib3JkZXItcmFkaXVzKTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6ZmxleC1zdGFydH1idXR0b246YWN0aXZle2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfUBtZWRpYShob3Zlcjpob3Zlcil7YnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfX1idXR0b24+ZGl2e3dpZHRoOjgwcHg7cGFkZGluZzo1cHggMDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcn13Y20tdGV4dHt3aWR0aDoxMDAlO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpczt0ZXh0LWFsaWduOmNlbnRlcn13Y20td2FsbGV0LWltYWdle2hlaWdodDo2MHB4O3dpZHRoOjYwcHg7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2U7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20td2FsbGV0LWljb24tYm9yZGVyLXJhZGl1cyk7bWFyZ2luLWJvdHRvbTo1cHh9LndjbS1zdWJsYWJlbHttYXJnaW4tdG9wOjJweH1gO1xuXG52YXIgX19kZWZQcm9wJGsgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRrID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkayA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRrKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRrKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21XYWxsZXRCdXR0b24gPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMub25DbGljayA9ICgpID0+IG51bGw7XG4gICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICB0aGlzLndhbGxldElkID0gXCJcIjtcbiAgICB0aGlzLmxhYmVsID0gdm9pZCAwO1xuICAgIHRoaXMuaW1hZ2VJZCA9IHZvaWQgMDtcbiAgICB0aGlzLmluc3RhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVjZW50ID0gZmFsc2U7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgc3VibGFiZWxUZW1wbGF0ZSgpIHtcbiAgICBpZiAodGhpcy5yZWNlbnQpIHtcbiAgICAgIHJldHVybiBodG1sYDx3Y20tdGV4dCBjbGFzcz1cIndjbS1zdWJsYWJlbFwiIHZhcmlhbnQ9XCJ4c21hbGwtYm9sZFwiIGNvbG9yPVwidGVydGlhcnlcIj5SRUNFTlQ8L3djbS10ZXh0PmA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmluc3RhbGxlZCkge1xuICAgICAgcmV0dXJuIGh0bWxgPHdjbS10ZXh0IGNsYXNzPVwid2NtLXN1YmxhYmVsXCIgdmFyaWFudD1cInhzbWFsbC1ib2xkXCIgY29sb3I9XCJ0ZXJ0aWFyeVwiPklOU1RBTExFRDwvd2NtLXRleHQ+YDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgRXZlbnRzQ3RybC5jbGljayh7IG5hbWU6IFwiV0FMTEVUX0JVVFRPTlwiLCB3YWxsZXRJZDogdGhpcy53YWxsZXRJZCB9KTtcbiAgICB0aGlzLm9uQ2xpY2soKTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBodG1sYDxidXR0b24gQGNsaWNrPVwiJHt0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyl9XCI+PGRpdj48d2NtLXdhbGxldC1pbWFnZSB3YWxsZXRJZD1cIiR7dGhpcy53YWxsZXRJZH1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQodGhpcy5pbWFnZUlkKX1cIj48L3djbS13YWxsZXQtaW1hZ2U+PHdjbS10ZXh0IHZhcmlhbnQ9XCJ4c21hbGwtcmVndWxhclwiPiR7KF9hID0gdGhpcy5sYWJlbCkgIT0gbnVsbCA/IF9hIDogVWlVdGlsLmdldFdhbGxldE5hbWUodGhpcy5uYW1lLCB0cnVlKX08L3djbS10ZXh0PiR7dGhpcy5zdWJsYWJlbFRlbXBsYXRlKCl9PC9kaXY+PC9idXR0b24+YDtcbiAgfVxufTtcbldjbVdhbGxldEJ1dHRvbi5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGddO1xuX19kZWNvcmF0ZUNsYXNzJGsoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRCdXR0b24ucHJvdG90eXBlLCBcIm9uQ2xpY2tcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkayhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldEJ1dHRvbi5wcm90b3R5cGUsIFwibmFtZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRrKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0QnV0dG9uLnByb3RvdHlwZSwgXCJ3YWxsZXRJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRrKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0QnV0dG9uLnByb3RvdHlwZSwgXCJsYWJlbFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRrKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0QnV0dG9uLnByb3RvdHlwZSwgXCJpbWFnZUlkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGsoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbVdhbGxldEJ1dHRvbi5wcm90b3R5cGUsIFwiaW5zdGFsbGVkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGsoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbVdhbGxldEJ1dHRvbi5wcm90b3R5cGUsIFwicmVjZW50XCIsIDIpO1xuV2NtV2FsbGV0QnV0dG9uID0gX19kZWNvcmF0ZUNsYXNzJGsoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXdhbGxldC1idXR0b25cIilcbl0sIFdjbVdhbGxldEJ1dHRvbik7XG5cbmNvbnN0IHN0eWxlcyRmID0gY3NzYDpob3N0e2Rpc3BsYXk6YmxvY2t9ZGl2e292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItcmFkaXVzOmluaGVyaXQ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1zdmd7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX1kaXY6OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7Ym9yZGVyLXJhZGl1czppbmhlcml0O2JvcmRlcjoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWRpdiBpbWd7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvYmplY3QtZml0OmNvdmVyO29iamVjdC1wb3NpdGlvbjpjZW50ZXJ9I3dhbGxldC1wbGFjZWhvbGRlci1maWxse2ZpbGw6dmFyKC0td2NtLWNvbG9yLWJnLTMpfSN3YWxsZXQtcGxhY2Vob2xkZXItZGFzaHtzdHJva2U6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWA7XG5cbnZhciBfX2RlZlByb3AkaiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGogPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRqID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGoodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGoodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVdhbGxldEltYWdlID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLndhbGxldElkID0gXCJcIjtcbiAgICB0aGlzLmltYWdlSWQgPSB2b2lkIDA7XG4gICAgdGhpcy5pbWFnZVVybCA9IHZvaWQgMDtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHNyYyA9ICgoX2EgPSB0aGlzLmltYWdlVXJsKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGVuZ3RoKSA/IHRoaXMuaW1hZ2VVcmwgOiBVaVV0aWwuZ2V0V2FsbGV0SWNvbih7IGlkOiB0aGlzLndhbGxldElkLCBpbWFnZV9pZDogdGhpcy5pbWFnZUlkIH0pO1xuICAgIHJldHVybiBodG1sYCR7c3JjLmxlbmd0aCA/IGh0bWxgPGRpdj48aW1nIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCIgc3JjPVwiJHtzcmN9XCIgYWx0PVwiJHt0aGlzLmlkfVwiPjwvZGl2PmAgOiBTdmdVdGlsLldBTExFVF9QTEFDRUhPTERFUn1gO1xuICB9XG59O1xuV2NtV2FsbGV0SW1hZ2Uuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRmXTtcbl9fZGVjb3JhdGVDbGFzcyRqKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0SW1hZ2UucHJvdG90eXBlLCBcIndhbGxldElkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGooW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRJbWFnZS5wcm90b3R5cGUsIFwiaW1hZ2VJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRqKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0SW1hZ2UucHJvdG90eXBlLCBcImltYWdlVXJsXCIsIDIpO1xuV2NtV2FsbGV0SW1hZ2UgPSBfX2RlY29yYXRlQ2xhc3MkaihbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20td2FsbGV0LWltYWdlXCIpXG5dLCBXY21XYWxsZXRJbWFnZSk7XG5cbnZhciBfX2RlZlByb3AkaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRpID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGkodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGkodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUV4cGxvcmVyQ29udGV4dCA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5wcmVsb2FkID0gdHJ1ZTtcbiAgICB0aGlzLnByZWxvYWREYXRhKCk7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgYXN5bmMgbG9hZEltYWdlcyhpbWFnZXMpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGltYWdlcyA9PSBudWxsID8gdm9pZCAwIDogaW1hZ2VzLmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChpbWFnZXMubWFwKGFzeW5jICh1cmwpID0+IFVpVXRpbC5wcmVsb2FkSW1hZ2UodXJsKSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlVuc3VjY2Vzc2Z1bCBhdHRlbXB0IGF0IHByZWxvYWRpbmcgc29tZSBpbWFnZXNcIiwgaW1hZ2VzKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgcHJlbG9hZExpc3RpbmdzKCkge1xuICAgIGlmIChDb25maWdDdHJsLnN0YXRlLmVuYWJsZUV4cGxvcmVyKSB7XG4gICAgICBhd2FpdCBFeHBsb3JlckN0cmwuZ2V0UmVjb21lbmRlZFdhbGxldHMoKTtcbiAgICAgIE9wdGlvbnNDdHJsLnNldElzRGF0YUxvYWRlZCh0cnVlKTtcbiAgICAgIGNvbnN0IHsgcmVjb21lbmRlZFdhbGxldHMgfSA9IEV4cGxvcmVyQ3RybC5zdGF0ZTtcbiAgICAgIGNvbnN0IHdhbGxldEltZ3MgPSByZWNvbWVuZGVkV2FsbGV0cy5tYXAoKHdhbGxldCkgPT4gVWlVdGlsLmdldFdhbGxldEljb24od2FsbGV0KSk7XG4gICAgICBhd2FpdCB0aGlzLmxvYWRJbWFnZXMod2FsbGV0SW1ncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9wdGlvbnNDdHJsLnNldElzRGF0YUxvYWRlZCh0cnVlKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgcHJlbG9hZEN1c3RvbUltYWdlcygpIHtcbiAgICBjb25zdCBpbWFnZXMgPSBVaVV0aWwuZ2V0Q3VzdG9tSW1hZ2VVcmxzKCk7XG4gICAgYXdhaXQgdGhpcy5sb2FkSW1hZ2VzKGltYWdlcyk7XG4gIH1cbiAgYXN5bmMgcHJlbG9hZERhdGEoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLnByZWxvYWQpIHtcbiAgICAgICAgdGhpcy5wcmVsb2FkID0gZmFsc2U7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnByZWxvYWRMaXN0aW5ncygpLCB0aGlzLnByZWxvYWRDdXN0b21JbWFnZXMoKV0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgVG9hc3RDdHJsLm9wZW5Ub2FzdChcIkZhaWxlZCBwcmVsb2FkaW5nXCIsIFwiZXJyb3JcIik7XG4gICAgfVxuICB9XG59O1xuX19kZWNvcmF0ZUNsYXNzJGkoW1xuICBzdGF0ZSgpXG5dLCBXY21FeHBsb3JlckNvbnRleHQucHJvdG90eXBlLCBcInByZWxvYWRcIiwgMik7XG5XY21FeHBsb3JlckNvbnRleHQgPSBfX2RlY29yYXRlQ2xhc3MkaShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tZXhwbG9yZXItY29udGV4dFwiKVxuXSwgV2NtRXhwbG9yZXJDb250ZXh0KTtcblxudmFyIF9fZGVmUHJvcCRoID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkaCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGggPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkaCh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkaCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtVGhlbWVDb250ZXh0ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICAgIHRoaXMudW5zdWJzY3JpYmVUaGVtZSA9IHZvaWQgMDtcbiAgICBUaGVtZVV0aWwuc2V0VGhlbWUoKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlVGhlbWUgPSBUaGVtZUN0cmwuc3Vic2NyaWJlKFRoZW1lVXRpbC5zZXRUaGVtZSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMudW5zdWJzY3JpYmVUaGVtZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gIH1cbn07XG5XY21UaGVtZUNvbnRleHQgPSBfX2RlY29yYXRlQ2xhc3MkaChbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tdGhlbWUtY29udGV4dFwiKVxuXSwgV2NtVGhlbWVDb250ZXh0KTtcblxuY29uc3Qgc3R5bGVzJGUgPSBjc3NgQGtleWZyYW1lcyBzY3JvbGx7MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX0xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGUzZChjYWxjKC03MHB4ICogOSksMCwwKX19LndjbS1zbGlkZXJ7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3cteDpoaWRkZW47cGFkZGluZzoxMHB4IDA7bWFyZ2luOjAgLTIwcHg7d2lkdGg6Y2FsYygxMDAlICsgNDBweCl9LndjbS10cmFja3tkaXNwbGF5OmZsZXg7d2lkdGg6Y2FsYyg3MHB4ICogMTgpO2FuaW1hdGlvbjpzY3JvbGwgMjBzIGxpbmVhciBpbmZpbml0ZTtvcGFjaXR5Oi43fS53Y20tdHJhY2sgc3Zne21hcmdpbjowIDVweH13Y20td2FsbGV0LWltYWdle3dpZHRoOjYwcHg7aGVpZ2h0OjYwcHg7bWFyZ2luOjAgNXB4O2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLXdhbGxldC1pY29uLWJvcmRlci1yYWRpdXMpfS53Y20tZ3JpZHtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCg0LDgwcHgpO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS53Y20tdGl0bGV7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tYm90dG9tOjEwcHh9LndjbS10aXRsZSBzdmd7bWFyZ2luLXJpZ2h0OjZweH0ud2NtLXRpdGxlIHBhdGh7ZmlsbDp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX13Y20tbW9kYWwtZm9vdGVyIC53Y20tdGl0bGV7cGFkZGluZzowIDEwcHh9d2NtLWJ1dHRvbi1iaWd7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKSB0cmFuc2xhdGVYKC01MCUpO2ZpbHRlcjpkcm9wLXNoYWRvdygwIDAgMTdweCB2YXIoLS13Y20tY29sb3ItYmctMSkpfXdjbS1pbmZvLWZvb3RlcntmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO3BhZGRpbmc6NXB4IDB9d2NtLWluZm8tZm9vdGVyIHdjbS10ZXh0e3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi1ib3R0b206MTVweH0jd2FsbGV0LXBsYWNlaG9sZGVyLWZpbGx7ZmlsbDp2YXIoLS13Y20tY29sb3ItYmctMyl9I3dhbGxldC1wbGFjZWhvbGRlci1kYXNoe3N0cm9rZTp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YDtcblxudmFyIF9fZGVmUHJvcCRnID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkZyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGcgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkZyh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkZyh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtQW5kcm9pZFdhbGxldFNlbGVjdGlvbiA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIG9uR29Ub1FyY29kZSgpIHtcbiAgICBSb3V0ZXJDdHJsLnB1c2goXCJRcmNvZGVcIik7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcmVjb21lbmRlZFdhbGxldHMgfSA9IEV4cGxvcmVyQ3RybC5zdGF0ZTtcbiAgICBjb25zdCB3YWxsZXRzID0gWy4uLnJlY29tZW5kZWRXYWxsZXRzLCAuLi5yZWNvbWVuZGVkV2FsbGV0c107XG4gICAgY29uc3QgcmVjb21lbmRlZENvdW50ID0gQ29yZVV0aWwuUkVDT01NRU5ERURfV0FMTEVUX0FNT1VOVCAqIDI7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgdGl0bGU9XCJDb25uZWN0IHlvdXIgd2FsbGV0XCIgLm9uQWN0aW9uPVwiJHt0aGlzLm9uR29Ub1FyY29kZX1cIiAuYWN0aW9uSWNvbj1cIiR7U3ZnVXRpbC5RUkNPREVfSUNPTn1cIj48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50PjxkaXYgY2xhc3M9XCJ3Y20tdGl0bGVcIj4ke1N2Z1V0aWwuTU9CSUxFX0lDT059PHdjbS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC1yZWd1bGFyXCIgY29sb3I9XCJhY2NlbnRcIj5XYWxsZXRDb25uZWN0PC93Y20tdGV4dD48L2Rpdj48ZGl2IGNsYXNzPVwid2NtLXNsaWRlclwiPjxkaXYgY2xhc3M9XCJ3Y20tdHJhY2tcIj4ke1suLi5BcnJheShyZWNvbWVuZGVkQ291bnQpXS5tYXAoKF8sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB3YWxsZXQgPSB3YWxsZXRzW2luZGV4ICUgd2FsbGV0cy5sZW5ndGhdO1xuICAgICAgcmV0dXJuIHdhbGxldCA/IGh0bWxgPHdjbS13YWxsZXQtaW1hZ2Ugd2FsbGV0SWQ9XCIke3dhbGxldC5pZH1cIiBpbWFnZUlkPVwiJHt3YWxsZXQuaW1hZ2VfaWR9XCI+PC93Y20td2FsbGV0LWltYWdlPmAgOiBTdmdVdGlsLldBTExFVF9QTEFDRUhPTERFUjtcbiAgICB9KX08L2Rpdj48d2NtLWJ1dHRvbi1iaWcgQGNsaWNrPVwiJHtVaVV0aWwuaGFuZGxlQW5kcm9pZExpbmtpbmd9XCI+PHdjbS10ZXh0IHZhcmlhbnQ9XCJtZWRpdW0tcmVndWxhclwiIGNvbG9yPVwiaW52ZXJzZVwiPlNlbGVjdCBXYWxsZXQ8L3djbS10ZXh0Pjwvd2NtLWJ1dHRvbi1iaWc+PC9kaXY+PC93Y20tbW9kYWwtY29udGVudD48d2NtLWluZm8tZm9vdGVyPjx3Y20tdGV4dCBjb2xvcj1cInNlY29uZGFyeVwiIHZhcmlhbnQ9XCJzbWFsbC10aGluXCI+Q2hvb3NlIFdhbGxldENvbm5lY3QgdG8gc2VlIHN1cHBvcnRlZCBhcHBzIG9uIHlvdXIgZGV2aWNlPC93Y20tdGV4dD48L3djbS1pbmZvLWZvb3Rlcj5gO1xuICB9XG59O1xuV2NtQW5kcm9pZFdhbGxldFNlbGVjdGlvbi5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGVdO1xuV2NtQW5kcm9pZFdhbGxldFNlbGVjdGlvbiA9IF9fZGVjb3JhdGVDbGFzcyRnKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1hbmRyb2lkLXdhbGxldC1zZWxlY3Rpb25cIilcbl0sIFdjbUFuZHJvaWRXYWxsZXRTZWxlY3Rpb24pO1xuXG5jb25zdCBzdHlsZXMkZCA9IGNzc2BAa2V5ZnJhbWVzIGxvYWRpbmd7dG97c3Ryb2tlLWRhc2hvZmZzZXQ6MH19QGtleWZyYW1lcyBzaGFrZXsxMCUsOTAle3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMXB4LDAsMCl9MjAlLDgwJXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMXB4LDAsMCl9MzAlLDUwJSw3MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0ycHgsMCwwKX00MCUsNjAle3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgycHgsMCwwKX19Omhvc3R7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXJ9ZGl2e3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjExMHB4O2hlaWdodDoxMTBweDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luOjQwcHggMCAyMHB4IDA7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX1zdmd7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTEwcHg7aGVpZ2h0OjExMHB4O2ZpbGw6bm9uZTtzdHJva2U6dHJhbnNwYXJlbnQ7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLXdpZHRoOjJweDt0b3A6MDtsZWZ0OjB9dXNle3N0cm9rZTp2YXIoLS13Y20tYWNjZW50LWNvbG9yKTthbmltYXRpb246bG9hZGluZyAxcyBsaW5lYXIgaW5maW5pdGV9d2NtLXdhbGxldC1pbWFnZXtib3JkZXItcmFkaXVzOnZhcigtLXdjbS13YWxsZXQtaWNvbi1sYXJnZS1ib3JkZXItcmFkaXVzKTt3aWR0aDo5MHB4O2hlaWdodDo5MHB4fXdjbS10ZXh0e21hcmdpbi1ib3R0b206NDBweH0ud2NtLWVycm9yIHN2Z3tzdHJva2U6dmFyKC0td2NtLWVycm9yLWNvbG9yKX0ud2NtLWVycm9yIHVzZXtkaXNwbGF5Om5vbmV9LndjbS1lcnJvcnthbmltYXRpb246c2hha2UgLjRzIGN1YmljLWJlemllciguMzYsLjA3LC4xOSwuOTcpIGJvdGh9LndjbS1zdGFsZSBzdmcsLndjbS1zdGFsZSB1c2V7ZGlzcGxheTpub25lfWA7XG5cbnZhciBfX2RlZlByb3AkZiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRmID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGYodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGYodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUNvbm5lY3RvcldhaXRpbmcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMud2FsbGV0SWQgPSB2b2lkIDA7XG4gICAgdGhpcy5pbWFnZUlkID0gdm9pZCAwO1xuICAgIHRoaXMuaXNFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMuaXNTdGFsZSA9IGZhbHNlO1xuICAgIHRoaXMubGFiZWwgPSBcIlwiO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHN2Z0xvYWRlclRlbXBsYXRlKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgSUNPTl9TSVpFID0gODg7XG4gICAgY29uc3QgREhfQVJSQVkgPSAzMTc7XG4gICAgY29uc3QgREhfT0ZGU0VUID0gNDI1O1xuICAgIGNvbnN0IHJhZGl1cyA9IChfYiA9IChfYSA9IFRoZW1lQ3RybC5zdGF0ZS50aGVtZVZhcmlhYmxlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hW1wiLS13Y20td2FsbGV0LWljb24tbGFyZ2UtYm9yZGVyLXJhZGl1c1wiXSkgIT0gbnVsbCA/IF9iIDogVGhlbWVVdGlsLmdldFByZXNldChcIi0td2NtLXdhbGxldC1pY29uLWxhcmdlLWJvcmRlci1yYWRpdXNcIik7XG4gICAgbGV0IG51bVJhZGl1cyA9IDA7XG4gICAgaWYgKHJhZGl1cy5pbmNsdWRlcyhcIiVcIikpIHtcbiAgICAgIG51bVJhZGl1cyA9IElDT05fU0laRSAvIDEwMCAqIHBhcnNlSW50KHJhZGl1cywgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBudW1SYWRpdXMgPSBwYXJzZUludChyYWRpdXMsIDEwKTtcbiAgICB9XG4gICAgbnVtUmFkaXVzICo9IDEuMTc7XG4gICAgY29uc3QgZGFzaEFycmF5ID0gREhfQVJSQVkgLSBudW1SYWRpdXMgKiAxLjU3O1xuICAgIGNvbnN0IGRhc2hPZmZzZXQgPSBESF9PRkZTRVQgLSBudW1SYWRpdXMgKiAxLjg7XG4gICAgcmV0dXJuIGh0bWxgPHN2ZyB2aWV3Qm94PVwiMCAwIDExMCAxMTBcIiB3aWR0aD1cIjExMFwiIGhlaWdodD1cIjExMFwiPjxyZWN0IGlkPVwid2NtLWxvYWRlclwiIHg9XCIyXCIgeT1cIjJcIiB3aWR0aD1cIjEwNlwiIGhlaWdodD1cIjEwNlwiIHJ4PVwiJHtudW1SYWRpdXN9XCIvPjx1c2UgeGxpbms6aHJlZj1cIiN3Y20tbG9hZGVyXCIgc3Ryb2tlLWRhc2hhcnJheT1cIjEwNiAke2Rhc2hBcnJheX1cIiBzdHJva2UtZGFzaG9mZnNldD1cIiR7ZGFzaE9mZnNldH1cIj48L3VzZT48L3N2Zz5gO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20tZXJyb3JcIjogdGhpcy5pc0Vycm9yLFxuICAgICAgXCJ3Y20tc3RhbGVcIjogdGhpcy5pc1N0YWxlXG4gICAgfTtcbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIj4ke3RoaXMuc3ZnTG9hZGVyVGVtcGxhdGUoKX08d2NtLXdhbGxldC1pbWFnZSB3YWxsZXRJZD1cIiR7aWZEZWZpbmVkKHRoaXMud2FsbGV0SWQpfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZCh0aGlzLmltYWdlSWQpfVwiPjwvd2NtLXdhbGxldC1pbWFnZT48L2Rpdj48d2NtLXRleHQgdmFyaWFudD1cIm1lZGl1bS1yZWd1bGFyXCIgY29sb3I9XCIke3RoaXMuaXNFcnJvciA/IFwiZXJyb3JcIiA6IFwicHJpbWFyeVwifVwiPiR7dGhpcy5pc0Vycm9yID8gXCJDb25uZWN0aW9uIGRlY2xpbmVkXCIgOiB0aGlzLmxhYmVsfTwvd2NtLXRleHQ+YDtcbiAgfVxufTtcbldjbUNvbm5lY3RvcldhaXRpbmcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRkXTtcbl9fZGVjb3JhdGVDbGFzcyRmKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtQ29ubmVjdG9yV2FpdGluZy5wcm90b3R5cGUsIFwid2FsbGV0SWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkZihbXG4gIHByb3BlcnR5KClcbl0sIFdjbUNvbm5lY3RvcldhaXRpbmcucHJvdG90eXBlLCBcImltYWdlSWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkZihbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtQ29ubmVjdG9yV2FpdGluZy5wcm90b3R5cGUsIFwiaXNFcnJvclwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRmKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21Db25uZWN0b3JXYWl0aW5nLnByb3RvdHlwZSwgXCJpc1N0YWxlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGYoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21Db25uZWN0b3JXYWl0aW5nLnByb3RvdHlwZSwgXCJsYWJlbFwiLCAyKTtcbldjbUNvbm5lY3RvcldhaXRpbmcgPSBfX2RlY29yYXRlQ2xhc3MkZihbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tY29ubmVjdG9yLXdhaXRpbmdcIilcbl0sIFdjbUNvbm5lY3RvcldhaXRpbmcpO1xuXG5jb25zdCBEYXRhVXRpbCA9IHtcbiAgbWFudWFsV2FsbGV0cygpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHsgbW9iaWxlV2FsbGV0cywgZGVza3RvcFdhbGxldHMgfSA9IENvbmZpZ0N0cmwuc3RhdGU7XG4gICAgY29uc3QgcmVjZW50V2FsbGV0SWQgPSAoX2EgPSBEYXRhVXRpbC5yZWNlbnRXYWxsZXQoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlkO1xuICAgIGNvbnN0IHBsYXRmb3JtV2FsbGV0cyA9IENvcmVVdGlsLmlzTW9iaWxlKCkgPyBtb2JpbGVXYWxsZXRzIDogZGVza3RvcFdhbGxldHM7XG4gICAgY29uc3Qgd2FsbGV0cyA9IHBsYXRmb3JtV2FsbGV0cyA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm1XYWxsZXRzLmZpbHRlcigod2FsbGV0KSA9PiByZWNlbnRXYWxsZXRJZCAhPT0gd2FsbGV0LmlkKTtcbiAgICByZXR1cm4gKF9iID0gQ29yZVV0aWwuaXNNb2JpbGUoKSA/IHdhbGxldHMgPT0gbnVsbCA/IHZvaWQgMCA6IHdhbGxldHMubWFwKCh7IGlkLCBuYW1lLCBsaW5rcyB9KSA9PiAoeyBpZCwgbmFtZSwgbW9iaWxlOiBsaW5rcywgbGlua3MgfSkpIDogd2FsbGV0cyA9PSBudWxsID8gdm9pZCAwIDogd2FsbGV0cy5tYXAoKHsgaWQsIG5hbWUsIGxpbmtzIH0pID0+ICh7IGlkLCBuYW1lLCBkZXNrdG9wOiBsaW5rcywgbGlua3MgfSkpKSAhPSBudWxsID8gX2IgOiBbXTtcbiAgfSxcbiAgcmVjZW50V2FsbGV0KCkge1xuICAgIHJldHVybiBVaVV0aWwuZ2V0UmVjZW50V2FsbGV0KCk7XG4gIH0sXG4gIHJlY29tZW5kZWRXYWxsZXRzKHNraXBSZWNlbnQgPSBmYWxzZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZWNlbnRXYWxsZXRJZCA9IHNraXBSZWNlbnQgPyB2b2lkIDAgOiAoX2EgPSBEYXRhVXRpbC5yZWNlbnRXYWxsZXQoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlkO1xuICAgIGNvbnN0IHsgcmVjb21lbmRlZFdhbGxldHMgfSA9IEV4cGxvcmVyQ3RybC5zdGF0ZTtcbiAgICBjb25zdCB3YWxsZXRzID0gcmVjb21lbmRlZFdhbGxldHMuZmlsdGVyKCh3YWxsZXQpID0+IHJlY2VudFdhbGxldElkICE9PSB3YWxsZXQuaWQpO1xuICAgIHJldHVybiB3YWxsZXRzO1xuICB9XG59O1xuXG5jb25zdCBUZW1wbGF0ZVV0aWwgPSB7XG4gIG9uQ29ubmVjdGluZyhkYXRhKSB7XG4gICAgVWlVdGlsLmdvVG9Db25uZWN0aW5nVmlldyhkYXRhKTtcbiAgfSxcbiAgbWFudWFsV2FsbGV0c1RlbXBsYXRlKCkge1xuICAgIGNvbnN0IHdhbGxldHMgPSBEYXRhVXRpbC5tYW51YWxXYWxsZXRzKCk7XG4gICAgcmV0dXJuIHdhbGxldHMubWFwKFxuICAgICAgKHdhbGxldCkgPT4gaHRtbGA8d2NtLXdhbGxldC1idXR0b24gd2FsbGV0SWQ9XCIke3dhbGxldC5pZH1cIiBuYW1lPVwiJHt3YWxsZXQubmFtZX1cIiAub25DbGljaz1cIiR7KCkgPT4gdGhpcy5vbkNvbm5lY3Rpbmcod2FsbGV0KX1cIj48L3djbS13YWxsZXQtYnV0dG9uPmBcbiAgICApO1xuICB9LFxuICByZWNvbWVuZGVkV2FsbGV0c1RlbXBsYXRlKHNraXBSZWNlbnQgPSBmYWxzZSkge1xuICAgIGNvbnN0IHdhbGxldHMgPSBEYXRhVXRpbC5yZWNvbWVuZGVkV2FsbGV0cyhza2lwUmVjZW50KTtcbiAgICByZXR1cm4gd2FsbGV0cy5tYXAoXG4gICAgICAod2FsbGV0KSA9PiBodG1sYDx3Y20td2FsbGV0LWJ1dHRvbiBuYW1lPVwiJHt3YWxsZXQubmFtZX1cIiB3YWxsZXRJZD1cIiR7d2FsbGV0LmlkfVwiIGltYWdlSWQ9XCIke3dhbGxldC5pbWFnZV9pZH1cIiAub25DbGljaz1cIiR7KCkgPT4gdGhpcy5vbkNvbm5lY3Rpbmcod2FsbGV0KX1cIj48L3djbS13YWxsZXQtYnV0dG9uPmBcbiAgICApO1xuICB9LFxuICByZWNlbnRXYWxsZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCB3YWxsZXQgPSBEYXRhVXRpbC5yZWNlbnRXYWxsZXQoKTtcbiAgICBpZiAoIXdhbGxldCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgPHdjbS13YWxsZXQtYnV0dG9uIG5hbWU9XCIke3dhbGxldC5uYW1lfVwiIHdhbGxldElkPVwiJHt3YWxsZXQuaWR9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKHdhbGxldC5pbWFnZV9pZCl9XCIgLnJlY2VudD1cIiR7dHJ1ZX1cIiAub25DbGljaz1cIiR7KCkgPT4gdGhpcy5vbkNvbm5lY3Rpbmcod2FsbGV0KX1cIj48L3djbS13YWxsZXQtYnV0dG9uPmA7XG4gIH1cbn07XG5cbmNvbnN0IHN0eWxlcyRjID0gY3NzYC53Y20tZ3JpZHtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCg0LDgwcHgpO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS53Y20tZGVza3RvcC10aXRsZSwud2NtLW1vYmlsZS10aXRsZXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS53Y20tbW9iaWxlLXRpdGxle2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO21hcmdpbi1ib3R0b206MjBweDttYXJnaW4tdG9wOi0xMHB4fS53Y20tZGVza3RvcC10aXRsZXttYXJnaW4tYm90dG9tOjEwcHg7cGFkZGluZzowIDEwcHh9LndjbS1zdWJ0aXRsZXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS53Y20tc3VidGl0bGU6bGFzdC1jaGlsZCBwYXRoe2ZpbGw6dmFyKC0td2NtLWNvbG9yLWZnLTMpfS53Y20tZGVza3RvcC10aXRsZSBzdmcsLndjbS1tb2JpbGUtdGl0bGUgc3Zne21hcmdpbi1yaWdodDo2cHh9LndjbS1kZXNrdG9wLXRpdGxlIHBhdGgsLndjbS1tb2JpbGUtdGl0bGUgcGF0aHtmaWxsOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfWA7XG5cbnZhciBfX2RlZlByb3AkZSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRlID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGUodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGUodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbURlc2t0b3BXYWxsZXRTZWxlY3Rpb24gPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzLCBlbmFibGVFeHBsb3JlciB9ID0gQ29uZmlnQ3RybC5zdGF0ZTtcbiAgICBjb25zdCBpc0V4cGxvcmVyV2FsbGV0cyA9IGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMgIT09IFwiQUxMXCIgJiYgZW5hYmxlRXhwbG9yZXI7XG4gICAgY29uc3QgbWFudWFsVGVtcGxhdGUgPSBUZW1wbGF0ZVV0aWwubWFudWFsV2FsbGV0c1RlbXBsYXRlKCk7XG4gICAgY29uc3QgcmVjb21lbmRlZFRlbXBsYXRlID0gVGVtcGxhdGVVdGlsLnJlY29tZW5kZWRXYWxsZXRzVGVtcGxhdGUoKTtcbiAgICBjb25zdCByZWNlbnRUZW1wbGF0ZSA9IFRlbXBsYXRlVXRpbC5yZWNlbnRXYWxsZXRUZW1wbGF0ZSgpO1xuICAgIGxldCB0ZW1wbGF0ZXMgPSBbcmVjZW50VGVtcGxhdGUsIC4uLm1hbnVhbFRlbXBsYXRlLCAuLi5yZWNvbWVuZGVkVGVtcGxhdGVdO1xuICAgIHRlbXBsYXRlcyA9IHRlbXBsYXRlcy5maWx0ZXIoQm9vbGVhbik7XG4gICAgY29uc3QgaXNWaWV3QWxsID0gdGVtcGxhdGVzLmxlbmd0aCA+IDQgfHwgaXNFeHBsb3JlcldhbGxldHM7XG4gICAgbGV0IHdhbGxldHMgPSBbXTtcbiAgICBpZiAoaXNWaWV3QWxsKSB7XG4gICAgICB3YWxsZXRzID0gdGVtcGxhdGVzLnNsaWNlKDAsIDMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YWxsZXRzID0gdGVtcGxhdGVzO1xuICAgIH1cbiAgICBjb25zdCBpc1dhbGxldHMgPSBCb29sZWFuKHdhbGxldHMubGVuZ3RoKTtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciAuYm9yZGVyPVwiJHt0cnVlfVwiIHRpdGxlPVwiQ29ubmVjdCB5b3VyIHdhbGxldFwiIC5vbkFjdGlvbj1cIiR7VWlVdGlsLmhhbmRsZVVyaUNvcHl9XCIgLmFjdGlvbkljb249XCIke1N2Z1V0aWwuQ09QWV9JQ09OfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQ+PGRpdiBjbGFzcz1cIndjbS1tb2JpbGUtdGl0bGVcIj48ZGl2IGNsYXNzPVwid2NtLXN1YnRpdGxlXCI+JHtTdmdVdGlsLk1PQklMRV9JQ09OfTx3Y20tdGV4dCB2YXJpYW50PVwic21hbGwtcmVndWxhclwiIGNvbG9yPVwiYWNjZW50XCI+TW9iaWxlPC93Y20tdGV4dD48L2Rpdj48ZGl2IGNsYXNzPVwid2NtLXN1YnRpdGxlXCI+JHtTdmdVdGlsLlNDQU5fSUNPTn08d2NtLXRleHQgdmFyaWFudD1cInNtYWxsLXJlZ3VsYXJcIiBjb2xvcj1cInNlY29uZGFyeVwiPlNjYW4gd2l0aCB5b3VyIHdhbGxldDwvd2NtLXRleHQ+PC9kaXY+PC9kaXY+PHdjbS13YWxsZXRjb25uZWN0LXFyPjwvd2NtLXdhbGxldGNvbm5lY3QtcXI+PC93Y20tbW9kYWwtY29udGVudD4ke2lzV2FsbGV0cyA/IGh0bWxgPHdjbS1tb2RhbC1mb290ZXI+PGRpdiBjbGFzcz1cIndjbS1kZXNrdG9wLXRpdGxlXCI+JHtTdmdVdGlsLkRFU0tUT1BfSUNPTn08d2NtLXRleHQgdmFyaWFudD1cInNtYWxsLXJlZ3VsYXJcIiBjb2xvcj1cImFjY2VudFwiPkRlc2t0b3A8L3djbS10ZXh0PjwvZGl2PjxkaXYgY2xhc3M9XCJ3Y20tZ3JpZFwiPiR7d2FsbGV0c30gJHtpc1ZpZXdBbGwgPyBodG1sYDx3Y20tdmlldy1hbGwtd2FsbGV0cy1idXR0b24+PC93Y20tdmlldy1hbGwtd2FsbGV0cy1idXR0b24+YCA6IG51bGx9PC9kaXY+PC93Y20tbW9kYWwtZm9vdGVyPmAgOiBudWxsfWA7XG4gIH1cbn07XG5XY21EZXNrdG9wV2FsbGV0U2VsZWN0aW9uLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkY107XG5XY21EZXNrdG9wV2FsbGV0U2VsZWN0aW9uID0gX19kZWNvcmF0ZUNsYXNzJGUoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWRlc2t0b3Atd2FsbGV0LXNlbGVjdGlvblwiKVxuXSwgV2NtRGVza3RvcFdhbGxldFNlbGVjdGlvbik7XG5cbmNvbnN0IHN0eWxlcyRiID0gY3NzYGRpdntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0yKTtwYWRkaW5nOjEwcHggMjBweCAxNXB4IDIwcHg7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLWJnLTMpO3RleHQtYWxpZ246Y2VudGVyfWF7Y29sb3I6dmFyKC0td2NtLWFjY2VudC1jb2xvcik7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dHJhbnNpdGlvbjpvcGFjaXR5IC4ycyBlYXNlLWluLW91dDtkaXNwbGF5OmlubGluZX1hOmFjdGl2ZXtvcGFjaXR5Oi44fUBtZWRpYShob3Zlcjpob3Zlcil7YTpob3ZlcntvcGFjaXR5Oi44fX1gO1xuXG52YXIgX19kZWZQcm9wJGQgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkZCA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRkKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRkKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21MZWdhbE5vdGljZSA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRlcm1zT2ZTZXJ2aWNlVXJsLCBwcml2YWN5UG9saWN5VXJsIH0gPSBDb25maWdDdHJsLnN0YXRlO1xuICAgIGNvbnN0IGlzTGVnYWwgPSB0ZXJtc09mU2VydmljZVVybCAhPSBudWxsID8gdGVybXNPZlNlcnZpY2VVcmwgOiBwcml2YWN5UG9saWN5VXJsO1xuICAgIGlmICghaXNMZWdhbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBodG1sYDxkaXY+PHdjbS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC1yZWd1bGFyXCIgY29sb3I9XCJzZWNvbmRhcnlcIj5CeSBjb25uZWN0aW5nIHlvdXIgd2FsbGV0IHRvIHRoaXMgYXBwLCB5b3UgYWdyZWUgdG8gdGhlIGFwcCdzICR7dGVybXNPZlNlcnZpY2VVcmwgPyBodG1sYDxhIGhyZWY9XCIke3Rlcm1zT2ZTZXJ2aWNlVXJsfVwiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj5UZXJtcyBvZiBTZXJ2aWNlPC9hPmAgOiBudWxsfSAke3Rlcm1zT2ZTZXJ2aWNlVXJsICYmIHByaXZhY3lQb2xpY3lVcmwgPyBcImFuZFwiIDogbnVsbH0gJHtwcml2YWN5UG9saWN5VXJsID8gaHRtbGA8YSBocmVmPVwiJHtwcml2YWN5UG9saWN5VXJsfVwiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj5Qcml2YWN5IFBvbGljeTwvYT5gIDogbnVsbH08L3djbS10ZXh0PjwvZGl2PmA7XG4gIH1cbn07XG5XY21MZWdhbE5vdGljZS5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGJdO1xuV2NtTGVnYWxOb3RpY2UgPSBfX2RlY29yYXRlQ2xhc3MkZChbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbGVnYWwtbm90aWNlXCIpXG5dLCBXY21MZWdhbE5vdGljZSk7XG5cbmNvbnN0IHN0eWxlcyRhID0gY3NzYGRpdntkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCg0LDgwcHgpO21hcmdpbjowIC0xMHB4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO3Jvdy1nYXA6MTBweH1gO1xuXG52YXIgX19kZWZQcm9wJGMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkYyA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRjKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRjKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2JpbGVXYWxsZXRTZWxlY3Rpb24gPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBvblFyY29kZSgpIHtcbiAgICBSb3V0ZXJDdHJsLnB1c2goXCJRcmNvZGVcIik7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcywgZW5hYmxlRXhwbG9yZXIgfSA9IENvbmZpZ0N0cmwuc3RhdGU7XG4gICAgY29uc3QgaXNFeHBsb3JlcldhbGxldHMgPSBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzICE9PSBcIkFMTFwiICYmIGVuYWJsZUV4cGxvcmVyO1xuICAgIGNvbnN0IG1hbnVhbFRlbXBsYXRlID0gVGVtcGxhdGVVdGlsLm1hbnVhbFdhbGxldHNUZW1wbGF0ZSgpO1xuICAgIGNvbnN0IHJlY29tZW5kZWRUZW1wbGF0ZSA9IFRlbXBsYXRlVXRpbC5yZWNvbWVuZGVkV2FsbGV0c1RlbXBsYXRlKCk7XG4gICAgY29uc3QgcmVjZW50VGVtcGxhdGUgPSBUZW1wbGF0ZVV0aWwucmVjZW50V2FsbGV0VGVtcGxhdGUoKTtcbiAgICBsZXQgdGVtcGxhdGVzID0gW3JlY2VudFRlbXBsYXRlLCAuLi5tYW51YWxUZW1wbGF0ZSwgLi4ucmVjb21lbmRlZFRlbXBsYXRlXTtcbiAgICB0ZW1wbGF0ZXMgPSB0ZW1wbGF0ZXMuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGNvbnN0IGlzVmlld0FsbCA9IHRlbXBsYXRlcy5sZW5ndGggPiA4IHx8IGlzRXhwbG9yZXJXYWxsZXRzO1xuICAgIGxldCB3YWxsZXRzID0gW107XG4gICAgaWYgKGlzVmlld0FsbCkge1xuICAgICAgd2FsbGV0cyA9IHRlbXBsYXRlcy5zbGljZSgwLCA3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FsbGV0cyA9IHRlbXBsYXRlcztcbiAgICB9XG4gICAgY29uc3QgaXNXYWxsZXRzID0gQm9vbGVhbih3YWxsZXRzLmxlbmd0aCk7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgdGl0bGU9XCJDb25uZWN0IHlvdXIgd2FsbGV0XCIgLm9uQWN0aW9uPVwiJHt0aGlzLm9uUXJjb2RlfVwiIC5hY3Rpb25JY29uPVwiJHtTdmdVdGlsLlFSQ09ERV9JQ09OfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj4ke2lzV2FsbGV0cyA/IGh0bWxgPHdjbS1tb2RhbC1jb250ZW50PjxkaXY+JHt3YWxsZXRzfSAke2lzVmlld0FsbCA/IGh0bWxgPHdjbS12aWV3LWFsbC13YWxsZXRzLWJ1dHRvbj48L3djbS12aWV3LWFsbC13YWxsZXRzLWJ1dHRvbj5gIDogbnVsbH08L2Rpdj48L3djbS1tb2RhbC1jb250ZW50PmAgOiBudWxsfWA7XG4gIH1cbn07XG5XY21Nb2JpbGVXYWxsZXRTZWxlY3Rpb24uc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRhXTtcbldjbU1vYmlsZVdhbGxldFNlbGVjdGlvbiA9IF9fZGVjb3JhdGVDbGFzcyRjKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2JpbGUtd2FsbGV0LXNlbGVjdGlvblwiKVxuXSwgV2NtTW9iaWxlV2FsbGV0U2VsZWN0aW9uKTtcblxuY29uc3Qgc3R5bGVzJDkgPSBjc3NgOmhvc3R7YWxsOmluaXRpYWx9LndjbS1vdmVybGF5e3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6dmFyKC0td2NtLXotaW5kZXgpO292ZXJmbG93OmhpZGRlbjtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yKTtiYWNrZHJvcC1maWx0ZXI6dmFyKC0td2NtLW92ZXJsYXktYmFja2Ryb3AtZmlsdGVyKX1AbWVkaWEobWF4LWhlaWdodDo3MjBweCkgYW5kIChvcmllbnRhdGlvbjpsYW5kc2NhcGUpey53Y20tb3ZlcmxheXtvdmVyZmxvdzpzY3JvbGw7YWxpZ24taXRlbXM6ZmxleC1zdGFydDtwYWRkaW5nOjIwcHggMH19LndjbS1hY3RpdmV7cG9pbnRlci1ldmVudHM6YXV0b30ud2NtLWNvbnRhaW5lcntwb3NpdGlvbjpyZWxhdGl2ZTttYXgtd2lkdGg6MzYwcHg7d2lkdGg6MTAwJTtvdXRsaW5lOjA7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tYmFja2dyb3VuZC1ib3JkZXItcmFkaXVzKSB2YXIoLS13Y20tYmFja2dyb3VuZC1ib3JkZXItcmFkaXVzKSB2YXIoLS13Y20tY29udGFpbmVyLWJvcmRlci1yYWRpdXMpIHZhcigtLXdjbS1jb250YWluZXItYm9yZGVyLXJhZGl1cyk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSk7b3ZlcmZsb3c6aGlkZGVufS53Y20tY2FyZHt3aWR0aDoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWNvbnRhaW5lci1ib3JkZXItcmFkaXVzKTtvdmVyZmxvdzpoaWRkZW47Ym94LXNoYWRvdzowIDZweCAxNHB4IC02cHggcmdiYSgxMCwxNiwzMSwuMTIpLDAgMTBweCAzMnB4IC00cHggcmdiYSgxMCwxNiwzMSwuMSksMCAwIDAgMXB4IHZhcigtLXdjbS1jb2xvci1vdmVybGF5KTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0xKTtjb2xvcjp2YXIoLS13Y20tY29sb3ItZmctMSl9QG1lZGlhKG1heC13aWR0aDo2MDBweCl7LndjbS1jb250YWluZXJ7bWF4LXdpZHRoOjQ0MHB4O2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWJhY2tncm91bmQtYm9yZGVyLXJhZGl1cykgdmFyKC0td2NtLWJhY2tncm91bmQtYm9yZGVyLXJhZGl1cykgMCAwfS53Y20tY2FyZHtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1jb250YWluZXItYm9yZGVyLXJhZGl1cykgdmFyKC0td2NtLWNvbnRhaW5lci1ib3JkZXItcmFkaXVzKSAwIDB9LndjbS1vdmVybGF5e2FsaWduLWl0ZW1zOmZsZXgtZW5kfX1AbWVkaWEobWF4LXdpZHRoOjQ0MHB4KXsud2NtLWNvbnRhaW5lcntib3JkZXI6MH19YDtcblxudmFyIF9fZGVmUHJvcCRiID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkYiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGIgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkYih0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkYih0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9kYWwgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICB0aGlzLnVuc3Vic2NyaWJlTW9kYWwgPSB2b2lkIDA7XG4gICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSB2b2lkIDA7XG4gICAgdGhpcy51bnN1YnNjcmliZU1vZGFsID0gTW9kYWxDdHJsLnN1YnNjcmliZSgobW9kYWxTdGF0ZSkgPT4ge1xuICAgICAgaWYgKG1vZGFsU3RhdGUub3Blbikge1xuICAgICAgICB0aGlzLm9uT3Blbk1vZGFsRXZlbnQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub25DbG9zZU1vZGFsRXZlbnQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy51bnN1YnNjcmliZU1vZGFsKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgfVxuICBnZXQgb3ZlcmxheUVsKCkge1xuICAgIHJldHVybiBVaVV0aWwuZ2V0U2hhZG93Um9vdEVsZW1lbnQodGhpcywgXCIud2NtLW92ZXJsYXlcIik7XG4gIH1cbiAgZ2V0IGNvbnRhaW5lckVsKCkge1xuICAgIHJldHVybiBVaVV0aWwuZ2V0U2hhZG93Um9vdEVsZW1lbnQodGhpcywgXCIud2NtLWNvbnRhaW5lclwiKTtcbiAgfVxuICB0b2dnbGVCb2R5U2Nyb2xsKGVuYWJsZWQpIHtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG4gICAgaWYgKGJvZHkpIHtcbiAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHdjbVN0eWxlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2NtLXN0eWxlc1wiKTtcbiAgICAgICAgd2NtU3R5bGVzID09IG51bGwgPyB2b2lkIDAgOiB3Y21TdHlsZXMucmVtb3ZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5oZWFkLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICAgICBcImJlZm9yZWVuZFwiLFxuICAgICAgICAgIGA8c3R5bGUgaWQ9XCJ3Y20tc3R5bGVzXCI+aHRtbCxib2R5e3RvdWNoLWFjdGlvbjpub25lO292ZXJmbG93OmhpZGRlbjtvdmVyc2Nyb2xsLWJlaGF2aW9yOmNvbnRhaW47fTwvc3R5bGU+YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBvbkNsb3NlTW9kYWwoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICBNb2RhbEN0cmwuY2xvc2UoKTtcbiAgICB9XG4gIH1cbiAgb25PcGVuTW9kYWxFdmVudCgpIHtcbiAgICB0aGlzLnRvZ2dsZUJvZHlTY3JvbGwoZmFsc2UpO1xuICAgIHRoaXMuYWRkS2V5Ym9hcmRFdmVudHMoKTtcbiAgICB0aGlzLm9wZW4gPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYW5pbWF0aW9uID0gVWlVdGlsLmlzTW9iaWxlQW5pbWF0aW9uKCkgPyB7IHk6IFtcIjUwdmhcIiwgXCIwdmhcIl0gfSA6IHsgc2NhbGU6IFswLjk4LCAxXSB9O1xuICAgICAgY29uc3QgZGVsYXkgPSAwLjE7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IDAuMjtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgYW5pbWF0ZSh0aGlzLm92ZXJsYXlFbCwgeyBvcGFjaXR5OiBbMCwgMV0gfSwgeyBkZWxheSwgZHVyYXRpb24gfSkuZmluaXNoZWQsXG4gICAgICAgIGFuaW1hdGUodGhpcy5jb250YWluZXJFbCwgYW5pbWF0aW9uLCB7IGRlbGF5LCBkdXJhdGlvbiB9KS5maW5pc2hlZFxuICAgICAgXSk7XG4gICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgfSwgMCk7XG4gIH1cbiAgYXN5bmMgb25DbG9zZU1vZGFsRXZlbnQoKSB7XG4gICAgdGhpcy50b2dnbGVCb2R5U2Nyb2xsKHRydWUpO1xuICAgIHRoaXMucmVtb3ZlS2V5Ym9hcmRFdmVudHMoKTtcbiAgICBjb25zdCBhbmltYXRpb24gPSBVaVV0aWwuaXNNb2JpbGVBbmltYXRpb24oKSA/IHsgeTogW1wiMHZoXCIsIFwiNTB2aFwiXSB9IDogeyBzY2FsZTogWzEsIDAuOThdIH07XG4gICAgY29uc3QgZHVyYXRpb24gPSAwLjI7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgYW5pbWF0ZSh0aGlzLm92ZXJsYXlFbCwgeyBvcGFjaXR5OiBbMSwgMF0gfSwgeyBkdXJhdGlvbiB9KS5maW5pc2hlZCxcbiAgICAgIGFuaW1hdGUodGhpcy5jb250YWluZXJFbCwgYW5pbWF0aW9uLCB7IGR1cmF0aW9uIH0pLmZpbmlzaGVkXG4gICAgXSk7XG4gICAgdGhpcy5jb250YWluZXJFbC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICB9XG4gIGFkZEtleWJvYXJkRXZlbnRzKCkge1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJrZXlkb3duXCIsXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgTW9kYWxDdHJsLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIlRhYlwiKSB7XG4gICAgICAgICAgaWYgKCEoKF9hID0gZXZlbnQudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX2EudGFnTmFtZS5pbmNsdWRlcyhcIndjbS1cIikpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXJcbiAgICApO1xuICAgIHRoaXMuY29udGFpbmVyRWwuZm9jdXMoKTtcbiAgfVxuICByZW1vdmVLZXlib2FyZEV2ZW50cygpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy5hYm9ydENvbnRyb2xsZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5hYm9ydCgpO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gdm9pZCAwO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20tb3ZlcmxheVwiOiB0cnVlLFxuICAgICAgXCJ3Y20tYWN0aXZlXCI6IHRoaXMuYWN0aXZlXG4gICAgfTtcbiAgICByZXR1cm4gaHRtbGA8d2NtLWV4cGxvcmVyLWNvbnRleHQ+PC93Y20tZXhwbG9yZXItY29udGV4dD48d2NtLXRoZW1lLWNvbnRleHQ+PC93Y20tdGhlbWUtY29udGV4dD48ZGl2IGlkPVwid2NtLW1vZGFsXCIgY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiIEBjbGljaz1cIiR7dGhpcy5vbkNsb3NlTW9kYWx9XCIgcm9sZT1cImFsZXJ0ZGlhbG9nXCIgYXJpYS1tb2RhbD1cInRydWVcIj48ZGl2IGNsYXNzPVwid2NtLWNvbnRhaW5lclwiIHRhYmluZGV4PVwiMFwiPiR7dGhpcy5vcGVuID8gaHRtbGA8d2NtLW1vZGFsLWJhY2tjYXJkPjwvd2NtLW1vZGFsLWJhY2tjYXJkPjxkaXYgY2xhc3M9XCJ3Y20tY2FyZFwiPjx3Y20tbW9kYWwtcm91dGVyPjwvd2NtLW1vZGFsLXJvdXRlcj48d2NtLW1vZGFsLXRvYXN0Pjwvd2NtLW1vZGFsLXRvYXN0PjwvZGl2PmAgOiBudWxsfTwvZGl2PjwvZGl2PmA7XG4gIH1cbn07XG5XY21Nb2RhbC5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDldO1xuX19kZWNvcmF0ZUNsYXNzJGIoW1xuICBzdGF0ZSgpXG5dLCBXY21Nb2RhbC5wcm90b3R5cGUsIFwib3BlblwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRiKFtcbiAgc3RhdGUoKVxuXSwgV2NtTW9kYWwucHJvdG90eXBlLCBcImFjdGl2ZVwiLCAyKTtcbldjbU1vZGFsID0gX19kZWNvcmF0ZUNsYXNzJGIoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vZGFsXCIpXG5dLCBXY21Nb2RhbCk7XG5cbmNvbnN0IHN0eWxlcyQ4ID0gY3NzYGRpdntkaXNwbGF5OmZsZXg7bWFyZ2luLXRvcDoxNXB4fXNsb3R7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luOjAgNXB4fXdjbS1idXR0b257bWFyZ2luOjAgNXB4fWA7XG5cbnZhciBfX2RlZlByb3AkYSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRhID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGEodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGEodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVBsYXRmb3JtU2VsZWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmlzTW9iaWxlID0gZmFsc2U7XG4gICAgdGhpcy5pc0Rlc2t0b3AgPSBmYWxzZTtcbiAgICB0aGlzLmlzV2ViID0gZmFsc2U7XG4gICAgdGhpcy5pc1JldHJ5ID0gZmFsc2U7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgb25Nb2JpbGUoKSB7XG4gICAgY29uc3QgaXNNb2JpbGUgPSBDb3JlVXRpbC5pc01vYmlsZSgpO1xuICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgUm91dGVyQ3RybC5yZXBsYWNlKFwiTW9iaWxlQ29ubmVjdGluZ1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUm91dGVyQ3RybC5yZXBsYWNlKFwiTW9iaWxlUXJjb2RlQ29ubmVjdGluZ1wiKTtcbiAgICB9XG4gIH1cbiAgb25EZXNrdG9wKCkge1xuICAgIFJvdXRlckN0cmwucmVwbGFjZShcIkRlc2t0b3BDb25uZWN0aW5nXCIpO1xuICB9XG4gIG9uV2ViKCkge1xuICAgIFJvdXRlckN0cmwucmVwbGFjZShcIldlYkNvbm5lY3RpbmdcIik7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxkaXY+JHt0aGlzLmlzUmV0cnkgPyBodG1sYDxzbG90Pjwvc2xvdD5gIDogbnVsbH0gJHt0aGlzLmlzTW9iaWxlID8gaHRtbGA8d2NtLWJ1dHRvbiAub25DbGljaz1cIiR7dGhpcy5vbk1vYmlsZX1cIiAuaWNvbkxlZnQ9XCIke1N2Z1V0aWwuTU9CSUxFX0lDT059XCIgdmFyaWFudD1cIm91dGxpbmVcIj5Nb2JpbGU8L3djbS1idXR0b24+YCA6IG51bGx9ICR7dGhpcy5pc0Rlc2t0b3AgPyBodG1sYDx3Y20tYnV0dG9uIC5vbkNsaWNrPVwiJHt0aGlzLm9uRGVza3RvcH1cIiAuaWNvbkxlZnQ9XCIke1N2Z1V0aWwuREVTS1RPUF9JQ09OfVwiIHZhcmlhbnQ9XCJvdXRsaW5lXCI+RGVza3RvcDwvd2NtLWJ1dHRvbj5gIDogbnVsbH0gJHt0aGlzLmlzV2ViID8gaHRtbGA8d2NtLWJ1dHRvbiAub25DbGljaz1cIiR7dGhpcy5vbldlYn1cIiAuaWNvbkxlZnQ9XCIke1N2Z1V0aWwuR0xPQkVfSUNPTn1cIiB2YXJpYW50PVwib3V0bGluZVwiPldlYjwvd2NtLWJ1dHRvbj5gIDogbnVsbH08L2Rpdj5gO1xuICB9XG59O1xuV2NtUGxhdGZvcm1TZWxlY3Rpb24uc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQ4XTtcbl9fZGVjb3JhdGVDbGFzcyRhKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21QbGF0Zm9ybVNlbGVjdGlvbi5wcm90b3R5cGUsIFwiaXNNb2JpbGVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkYShbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtUGxhdGZvcm1TZWxlY3Rpb24ucHJvdG90eXBlLCBcImlzRGVza3RvcFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRhKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21QbGF0Zm9ybVNlbGVjdGlvbi5wcm90b3R5cGUsIFwiaXNXZWJcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkYShbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtUGxhdGZvcm1TZWxlY3Rpb24ucHJvdG90eXBlLCBcImlzUmV0cnlcIiwgMik7XG5XY21QbGF0Zm9ybVNlbGVjdGlvbiA9IF9fZGVjb3JhdGVDbGFzcyRhKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1wbGF0Zm9ybS1zZWxlY3Rpb25cIilcbl0sIFdjbVBsYXRmb3JtU2VsZWN0aW9uKTtcblxuY29uc3Qgc3R5bGVzJDcgPSBjc3NgYnV0dG9ue2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47cGFkZGluZzo1cHggMTBweDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1idXR0b24taG92ZXItaGlnaGxpZ2h0LWJvcmRlci1yYWRpdXMpO2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0fS53Y20taWNvbnN7d2lkdGg6NjBweDtoZWlnaHQ6NjBweDtkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7cGFkZGluZzo3cHg7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20td2FsbGV0LWljb24tYm9yZGVyLXJhZGl1cyk7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1ib3R0b206NXB4O2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTIpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4IHZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1idXR0b246YWN0aXZle2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfUBtZWRpYShob3Zlcjpob3Zlcil7YnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfX0ud2NtLWljb25zIGltZ3t3aWR0aDoyMXB4O2hlaWdodDoyMXB4O29iamVjdC1maXQ6Y292ZXI7b2JqZWN0LXBvc2l0aW9uOmNlbnRlcjtib3JkZXItcmFkaXVzOmNhbGModmFyKC0td2NtLXdhbGxldC1pY29uLWJvcmRlci1yYWRpdXMpLyAyKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1vdmVybGF5KX0ud2NtLWljb25zIHN2Z3t3aWR0aDoyMXB4O2hlaWdodDoyMXB4fS53Y20taWNvbnMgaW1nOm50aC1jaGlsZCgxKSwud2NtLWljb25zIGltZzpudGgtY2hpbGQoMiksLndjbS1pY29ucyBzdmc6bnRoLWNoaWxkKDEpLC53Y20taWNvbnMgc3ZnOm50aC1jaGlsZCgyKXttYXJnaW4tYm90dG9tOjRweH13Y20tdGV4dHt3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyfSN3YWxsZXQtcGxhY2Vob2xkZXItZmlsbHtmaWxsOnZhcigtLXdjbS1jb2xvci1iZy0zKX0jd2FsbGV0LXBsYWNlaG9sZGVyLWRhc2h7c3Ryb2tlOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1gO1xuXG52YXIgX19kZWZQcm9wJDkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQ5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkOSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQ5KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQ5KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21WaWV3QWxsV2FsbGV0c0J1dHRvbiA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIG9uQ2xpY2soKSB7XG4gICAgUm91dGVyQ3RybC5wdXNoKFwiV2FsbGV0RXhwbG9yZXJcIik7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcmVjb21lbmRlZFdhbGxldHMgfSA9IEV4cGxvcmVyQ3RybC5zdGF0ZTtcbiAgICBjb25zdCBtYW51YWxXYWxsZXRzID0gRGF0YVV0aWwubWFudWFsV2FsbGV0cygpO1xuICAgIGNvbnN0IHJldmVyc2VkV2FsbGV0cyA9IFsuLi5yZWNvbWVuZGVkV2FsbGV0cywgLi4ubWFudWFsV2FsbGV0c10ucmV2ZXJzZSgpLnNsaWNlKDAsIDQpO1xuICAgIHJldHVybiBodG1sYDxidXR0b24gQGNsaWNrPVwiJHt0aGlzLm9uQ2xpY2t9XCI+PGRpdiBjbGFzcz1cIndjbS1pY29uc1wiPiR7cmV2ZXJzZWRXYWxsZXRzLm1hcCgod2FsbGV0KSA9PiB7XG4gICAgICBjb25zdCBleHBsb3JlckltZyA9IFVpVXRpbC5nZXRXYWxsZXRJY29uKHdhbGxldCk7XG4gICAgICBpZiAoZXhwbG9yZXJJbWcpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxgPGltZyBjcm9zc29yaWdpbj1cImFub255bW91c1wiIHNyYz1cIiR7ZXhwbG9yZXJJbWd9XCI+YDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNyYyA9IFVpVXRpbC5nZXRXYWxsZXRJY29uKHsgaWQ6IHdhbGxldC5pZCB9KTtcbiAgICAgIHJldHVybiBzcmMgPyBodG1sYDxpbWcgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIiBzcmM9XCIke3NyY31cIj5gIDogU3ZnVXRpbC5XQUxMRVRfUExBQ0VIT0xERVI7XG4gICAgfSl9ICR7Wy4uLkFycmF5KDQgLSByZXZlcnNlZFdhbGxldHMubGVuZ3RoKV0ubWFwKCgpID0+IFN2Z1V0aWwuV0FMTEVUX1BMQUNFSE9MREVSKX08L2Rpdj48d2NtLXRleHQgdmFyaWFudD1cInhzbWFsbC1yZWd1bGFyXCI+VmlldyBBbGw8L3djbS10ZXh0PjwvYnV0dG9uPmA7XG4gIH1cbn07XG5XY21WaWV3QWxsV2FsbGV0c0J1dHRvbi5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDddO1xuV2NtVmlld0FsbFdhbGxldHNCdXR0b24gPSBfX2RlY29yYXRlQ2xhc3MkOShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tdmlldy1hbGwtd2FsbGV0cy1idXR0b25cIilcbl0sIFdjbVZpZXdBbGxXYWxsZXRzQnV0dG9uKTtcblxuY29uc3Qgc3R5bGVzJDYgPSBjc3NgLndjbS1xci1jb250YWluZXJ7d2lkdGg6MTAwJTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7YXNwZWN0LXJhdGlvOjEvMX1gO1xuXG52YXIgX19kZWZQcm9wJDggPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQ4ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkOCA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQ4KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQ4KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21XYWxsZXRDb25uZWN0UXIgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMud2FsbGV0SWQgPSBcIlwiO1xuICAgIHRoaXMuaW1hZ2VJZCA9IFwiXCI7XG4gICAgdGhpcy51cmkgPSBcIlwiO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgeyB3YWxsZXRDb25uZWN0VXJpIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICAgIHRoaXMudXJpID0gd2FsbGV0Q29ubmVjdFVyaTtcbiAgICB9LCAwKTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBnZXQgb3ZlcmxheUVsKCkge1xuICAgIHJldHVybiBVaVV0aWwuZ2V0U2hhZG93Um9vdEVsZW1lbnQodGhpcywgXCIud2NtLXFyLWNvbnRhaW5lclwiKTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIndjbS1xci1jb250YWluZXJcIj4ke3RoaXMudXJpID8gaHRtbGA8d2NtLXFyY29kZSBzaXplPVwiJHt0aGlzLm92ZXJsYXlFbC5vZmZzZXRXaWR0aH1cIiB1cmk9XCIke3RoaXMudXJpfVwiIHdhbGxldElkPVwiJHtpZkRlZmluZWQodGhpcy53YWxsZXRJZCl9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKHRoaXMuaW1hZ2VJZCl9XCI+PC93Y20tcXJjb2RlPmAgOiBodG1sYDx3Y20tc3Bpbm5lcj48L3djbS1zcGlubmVyPmB9PC9kaXY+YDtcbiAgfVxufTtcbldjbVdhbGxldENvbm5lY3RRci5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDZdO1xuX19kZWNvcmF0ZUNsYXNzJDgoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRDb25uZWN0UXIucHJvdG90eXBlLCBcIndhbGxldElkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJDgoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRDb25uZWN0UXIucHJvdG90eXBlLCBcImltYWdlSWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkOChbXG4gIHN0YXRlKClcbl0sIFdjbVdhbGxldENvbm5lY3RRci5wcm90b3R5cGUsIFwidXJpXCIsIDIpO1xuV2NtV2FsbGV0Q29ubmVjdFFyID0gX19kZWNvcmF0ZUNsYXNzJDgoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXdhbGxldGNvbm5lY3QtcXJcIilcbl0sIFdjbVdhbGxldENvbm5lY3RRcik7XG5cbnZhciBfX2RlZlByb3AkNyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDcgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQ3ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDcodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDcodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUNvbm5lY3RXYWxsZXRWaWV3ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgdmlld1RlbXBsYXRlKCkge1xuICAgIGlmIChDb3JlVXRpbC5pc0FuZHJvaWQoKSAmJiAhQ29yZVV0aWwuaXNUZWxlZ3JhbSgpKSB7XG4gICAgICByZXR1cm4gaHRtbGA8d2NtLWFuZHJvaWQtd2FsbGV0LXNlbGVjdGlvbj48L3djbS1hbmRyb2lkLXdhbGxldC1zZWxlY3Rpb24+YDtcbiAgICB9XG4gICAgaWYgKENvcmVVdGlsLmlzTW9iaWxlKCkpIHtcbiAgICAgIHJldHVybiBodG1sYDx3Y20tbW9iaWxlLXdhbGxldC1zZWxlY3Rpb24+PC93Y20tbW9iaWxlLXdhbGxldC1zZWxlY3Rpb24+YDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1kZXNrdG9wLXdhbGxldC1zZWxlY3Rpb24+PC93Y20tZGVza3RvcC13YWxsZXQtc2VsZWN0aW9uPmA7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYCR7dGhpcy52aWV3VGVtcGxhdGUoKX08d2NtLWxlZ2FsLW5vdGljZT48L3djbS1sZWdhbC1ub3RpY2U+YDtcbiAgfVxufTtcbldjbUNvbm5lY3RXYWxsZXRWaWV3LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzXTtcbldjbUNvbm5lY3RXYWxsZXRWaWV3ID0gX19kZWNvcmF0ZUNsYXNzJDcoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWNvbm5lY3Qtd2FsbGV0LXZpZXdcIilcbl0sIFdjbUNvbm5lY3RXYWxsZXRWaWV3KTtcblxuY29uc3Qgc3R5bGVzJDUgPSBjc3Ngd2NtLWluZm8tZm9vdGVye2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7cGFkZGluZzo1cHggMH13Y20tdGV4dHt0ZXh0LWFsaWduOmNlbnRlcn1gO1xuXG52YXIgX19kZWZQcm9wJDYgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQ2ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkNiA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQ2KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQ2KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21EZXNrdG9wQ29ubmVjdGluZ1ZpZXcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXNFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMub3BlbkRlc2t0b3BBcHAoKTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBvbkZvcm1hdEFuZFJlZGlyZWN0KHVyaSkge1xuICAgIGNvbnN0IHsgZGVza3RvcCwgbmFtZSB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGNvbnN0IG5hdGl2ZVVybCA9IGRlc2t0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IGRlc2t0b3AubmF0aXZlO1xuICAgIGNvbnN0IHVuaXZlcnNhbFVybCA9IGRlc2t0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IGRlc2t0b3AudW5pdmVyc2FsO1xuICAgIGlmIChuYXRpdmVVcmwpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSBDb3JlVXRpbC5mb3JtYXROYXRpdmVVcmwobmF0aXZlVXJsLCB1cmksIG5hbWUpO1xuICAgICAgQ29yZVV0aWwub3BlbkhyZWYoaHJlZiwgXCJfc2VsZlwiKTtcbiAgICB9IGVsc2UgaWYgKHVuaXZlcnNhbFVybCkge1xuICAgICAgY29uc3QgaHJlZiA9IENvcmVVdGlsLmZvcm1hdFVuaXZlcnNhbFVybCh1bml2ZXJzYWxVcmwsIHVyaSwgbmFtZSk7XG4gICAgICBDb3JlVXRpbC5vcGVuSHJlZihocmVmLCBcIl9ibGFua1wiKTtcbiAgICB9XG4gIH1cbiAgb3BlbkRlc2t0b3BBcHAoKSB7XG4gICAgY29uc3QgeyB3YWxsZXRDb25uZWN0VXJpIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICBjb25zdCByb3V0ZXJEYXRhID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIFVpVXRpbC5zZXRSZWNlbnRXYWxsZXQocm91dGVyRGF0YSk7XG4gICAgaWYgKHdhbGxldENvbm5lY3RVcmkpIHtcbiAgICAgIHRoaXMub25Gb3JtYXRBbmRSZWRpcmVjdCh3YWxsZXRDb25uZWN0VXJpKTtcbiAgICB9XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbmFtZSwgaWQsIGltYWdlX2lkIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgY29uc3QgeyBpc01vYmlsZSwgaXNXZWIgfSA9IFVpVXRpbC5nZXRDYWNoZWRSb3V0ZXJXYWxsZXRQbGF0Zm9ybXMoKTtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciB0aXRsZT1cIiR7bmFtZX1cIiAub25BY3Rpb249XCIke1VpVXRpbC5oYW5kbGVVcmlDb3B5fVwiIC5hY3Rpb25JY29uPVwiJHtTdmdVdGlsLkNPUFlfSUNPTn1cIj48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50Pjx3Y20tY29ubmVjdG9yLXdhaXRpbmcgd2FsbGV0SWQ9XCIke2lkfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZChpbWFnZV9pZCl9XCIgbGFiZWw9XCIke2BDb250aW51ZSBpbiAke25hbWV9Li4uYH1cIiAuaXNFcnJvcj1cIiR7dGhpcy5pc0Vycm9yfVwiPjwvd2NtLWNvbm5lY3Rvci13YWl0aW5nPjwvd2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1pbmZvLWZvb3Rlcj48d2NtLXRleHQgY29sb3I9XCJzZWNvbmRhcnlcIiB2YXJpYW50PVwic21hbGwtdGhpblwiPiR7YENvbm5lY3Rpb24gY2FuIGNvbnRpbnVlIGxvYWRpbmcgaWYgJHtuYW1lfSBpcyBub3QgaW5zdGFsbGVkIG9uIHlvdXIgZGV2aWNlYH08L3djbS10ZXh0Pjx3Y20tcGxhdGZvcm0tc2VsZWN0aW9uIC5pc01vYmlsZT1cIiR7aXNNb2JpbGV9XCIgLmlzV2ViPVwiJHtpc1dlYn1cIiAuaXNSZXRyeT1cIiR7dHJ1ZX1cIj48d2NtLWJ1dHRvbiAub25DbGljaz1cIiR7dGhpcy5vcGVuRGVza3RvcEFwcC5iaW5kKHRoaXMpfVwiIC5pY29uUmlnaHQ9XCIke1N2Z1V0aWwuUkVUUllfSUNPTn1cIj5SZXRyeTwvd2NtLWJ1dHRvbj48L3djbS1wbGF0Zm9ybS1zZWxlY3Rpb24+PC93Y20taW5mby1mb290ZXI+YDtcbiAgfVxufTtcbldjbURlc2t0b3BDb25uZWN0aW5nVmlldy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDVdO1xuX19kZWNvcmF0ZUNsYXNzJDYoW1xuICBzdGF0ZSgpXG5dLCBXY21EZXNrdG9wQ29ubmVjdGluZ1ZpZXcucHJvdG90eXBlLCBcImlzRXJyb3JcIiwgMik7XG5XY21EZXNrdG9wQ29ubmVjdGluZ1ZpZXcgPSBfX2RlY29yYXRlQ2xhc3MkNihbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tZGVza3RvcC1jb25uZWN0aW5nLXZpZXdcIilcbl0sIFdjbURlc2t0b3BDb25uZWN0aW5nVmlldyk7XG5cbmNvbnN0IHN0eWxlcyQ0ID0gY3NzYHdjbS1pbmZvLWZvb3RlcntmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO3BhZGRpbmc6NXB4IDB9d2NtLXRleHR7dGV4dC1hbGlnbjpjZW50ZXJ9d2NtLWJ1dHRvbnttYXJnaW4tdG9wOjE1cHh9YDtcblxudmFyIF9fZGVmUHJvcCQ1ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkNSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDUgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkNSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkNSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtSW5zdGFsbFdhbGxldFZpZXcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBvbkluc3RhbGwodXJpKSB7XG4gICAgaWYgKHVyaSkge1xuICAgICAgQ29yZVV0aWwub3BlbkhyZWYodXJpLCBcIl9ibGFua1wiKTtcbiAgICB9XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbmFtZSwgaWQsIGltYWdlX2lkLCBob21lcGFnZSB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIHRpdGxlPVwiJHtuYW1lfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1jb25uZWN0b3Itd2FpdGluZyB3YWxsZXRJZD1cIiR7aWR9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKGltYWdlX2lkKX1cIiBsYWJlbD1cIk5vdCBEZXRlY3RlZFwiIC5pc1N0YWxlPVwiJHt0cnVlfVwiPjwvd2NtLWNvbm5lY3Rvci13YWl0aW5nPjwvd2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1pbmZvLWZvb3Rlcj48d2NtLXRleHQgY29sb3I9XCJzZWNvbmRhcnlcIiB2YXJpYW50PVwic21hbGwtdGhpblwiPiR7YERvd25sb2FkICR7bmFtZX0gdG8gY29udGludWUuIElmIG11bHRpcGxlIGJyb3dzZXIgZXh0ZW5zaW9ucyBhcmUgaW5zdGFsbGVkLCBkaXNhYmxlIG5vbiAke25hbWV9IG9uZXMgYW5kIHRyeSBhZ2FpbmB9PC93Y20tdGV4dD48d2NtLWJ1dHRvbiAub25DbGljaz1cIiR7KCkgPT4gdGhpcy5vbkluc3RhbGwoaG9tZXBhZ2UpfVwiIC5pY29uTGVmdD1cIiR7U3ZnVXRpbC5BUlJPV19ET1dOX0lDT059XCI+RG93bmxvYWQ8L3djbS1idXR0b24+PC93Y20taW5mby1mb290ZXI+YDtcbiAgfVxufTtcbldjbUluc3RhbGxXYWxsZXRWaWV3LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkNF07XG5XY21JbnN0YWxsV2FsbGV0VmlldyA9IF9fZGVjb3JhdGVDbGFzcyQ1KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1pbnN0YWxsLXdhbGxldC12aWV3XCIpXG5dLCBXY21JbnN0YWxsV2FsbGV0Vmlldyk7XG5cbmNvbnN0IHN0eWxlcyQzID0gY3NzYHdjbS13YWxsZXQtaW1hZ2V7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20td2FsbGV0LWljb24tbGFyZ2UtYm9yZGVyLXJhZGl1cyk7d2lkdGg6OTZweDtoZWlnaHQ6OTZweDttYXJnaW4tYm90dG9tOjIwcHh9d2NtLWluZm8tZm9vdGVye2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlfS53Y20tYXBwLXN0b3Jle2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS53Y20tYXBwLXN0b3JlIHdjbS13YWxsZXQtaW1hZ2V7bWFyZ2luLXJpZ2h0OjEwcHg7bWFyZ2luLWJvdHRvbTowO3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20td2FsbGV0LWljb24tc21hbGwtYm9yZGVyLXJhZGl1cyl9LndjbS1hcHAtc3RvcmUgZGl2e2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9LndjbS1hcHAtc3RvcmUgd2NtLWJ1dHRvbnttYXJnaW4tcmlnaHQ6LTEwcHh9LndjbS1ub3Rle2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo1cHggMH0ud2NtLW5vdGUgd2NtLXRleHR7dGV4dC1hbGlnbjpjZW50ZXJ9d2NtLXBsYXRmb3JtLXNlbGVjdGlvbnttYXJnaW4tdG9wOi0xNXB4fS53Y20tbm90ZSB3Y20tdGV4dHttYXJnaW4tdG9wOjE1cHh9LndjbS1ub3RlIHdjbS10ZXh0IHNwYW57Y29sb3I6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9YDtcblxudmFyIF9fZGVmUHJvcCQ0ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkNCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDQgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkNCh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkNCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9iaWxlQ29ubmVjdGluZ1ZpZXcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXNFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMub3Blbk1vYmlsZUFwcCgpO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIG9uRm9ybWF0QW5kUmVkaXJlY3QodXJpLCBmb3JjZVVuaXZlcnNhbFVybCA9IGZhbHNlKSB7XG4gICAgY29uc3QgeyBtb2JpbGUsIG5hbWUgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBjb25zdCBuYXRpdmVVcmwgPSBtb2JpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IG1vYmlsZS5uYXRpdmU7XG4gICAgY29uc3QgdW5pdmVyc2FsVXJsID0gbW9iaWxlID09IG51bGwgPyB2b2lkIDAgOiBtb2JpbGUudW5pdmVyc2FsO1xuICAgIGNvbnN0IHRhcmdldCA9IENvcmVVdGlsLmlzVGVsZWdyYW0oKSA/IFwiX2JsYW5rXCIgOiBcIl9zZWxmXCI7XG4gICAgdXJpID0gQ29yZVV0aWwuaXNUZWxlZ3JhbSgpICYmIENvcmVVdGlsLmlzQW5kcm9pZCgpID8gZW5jb2RlVVJJQ29tcG9uZW50KHVyaSkgOiB1cmk7XG4gICAgaWYgKG5hdGl2ZVVybCAmJiAhZm9yY2VVbml2ZXJzYWxVcmwpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSBDb3JlVXRpbC5mb3JtYXROYXRpdmVVcmwobmF0aXZlVXJsLCB1cmksIG5hbWUpO1xuICAgICAgQ29yZVV0aWwub3BlbkhyZWYoaHJlZiwgdGFyZ2V0KTtcbiAgICB9IGVsc2UgaWYgKHVuaXZlcnNhbFVybCkge1xuICAgICAgY29uc3QgaHJlZiA9IENvcmVVdGlsLmZvcm1hdFVuaXZlcnNhbFVybCh1bml2ZXJzYWxVcmwsIHVyaSwgbmFtZSk7XG4gICAgICBDb3JlVXRpbC5vcGVuSHJlZihocmVmLCB0YXJnZXQpO1xuICAgIH1cbiAgfVxuICBvcGVuTW9iaWxlQXBwKGZvcmNlVW5pdmVyc2FsVXJsID0gZmFsc2UpIHtcbiAgICBjb25zdCB7IHdhbGxldENvbm5lY3RVcmkgfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHJvdXRlckRhdGEgPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgaWYgKHdhbGxldENvbm5lY3RVcmkpIHtcbiAgICAgIHRoaXMub25Gb3JtYXRBbmRSZWRpcmVjdCh3YWxsZXRDb25uZWN0VXJpLCBmb3JjZVVuaXZlcnNhbFVybCk7XG4gICAgfVxuICAgIFVpVXRpbC5zZXRSZWNlbnRXYWxsZXQocm91dGVyRGF0YSk7XG4gIH1cbiAgb25Hb1RvQXBwU3RvcmUoZG93bmxvYWRVcmwpIHtcbiAgICBpZiAoZG93bmxvYWRVcmwpIHtcbiAgICAgIENvcmVVdGlsLm9wZW5IcmVmKGRvd25sb2FkVXJsLCBcIl9ibGFua1wiKTtcbiAgICB9XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbmFtZSwgaWQsIGltYWdlX2lkLCBhcHAsIG1vYmlsZSB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGNvbnN0IHsgaXNXZWIgfSA9IFVpVXRpbC5nZXRDYWNoZWRSb3V0ZXJXYWxsZXRQbGF0Zm9ybXMoKTtcbiAgICBjb25zdCBkb3dubG9hZFVybCA9IGFwcCA9PSBudWxsID8gdm9pZCAwIDogYXBwLmlvcztcbiAgICBjb25zdCB1bml2ZXJzYWxVcmwgPSBtb2JpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IG1vYmlsZS51bml2ZXJzYWw7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgdGl0bGU9XCIke25hbWV9XCI+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudD48d2NtLWNvbm5lY3Rvci13YWl0aW5nIHdhbGxldElkPVwiJHtpZH1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQoaW1hZ2VfaWQpfVwiIGxhYmVsPVwiVGFwICdPcGVuJyB0byBjb250aW51ZeKAplwiIC5pc0Vycm9yPVwiJHt0aGlzLmlzRXJyb3J9XCI+PC93Y20tY29ubmVjdG9yLXdhaXRpbmc+PC93Y20tbW9kYWwtY29udGVudD48d2NtLWluZm8tZm9vdGVyIGNsYXNzPVwid2NtLW5vdGVcIj48d2NtLXBsYXRmb3JtLXNlbGVjdGlvbiAuaXNXZWI9XCIke2lzV2VifVwiIC5pc1JldHJ5PVwiJHt0cnVlfVwiPjx3Y20tYnV0dG9uIC5vbkNsaWNrPVwiJHsoKSA9PiB0aGlzLm9wZW5Nb2JpbGVBcHAoZmFsc2UpfVwiIC5pY29uUmlnaHQ9XCIke1N2Z1V0aWwuUkVUUllfSUNPTn1cIj5SZXRyeTwvd2NtLWJ1dHRvbj48L3djbS1wbGF0Zm9ybS1zZWxlY3Rpb24+JHt1bml2ZXJzYWxVcmwgPyBodG1sYDx3Y20tdGV4dCBjb2xvcj1cInNlY29uZGFyeVwiIHZhcmlhbnQ9XCJzbWFsbC10aGluXCI+U3RpbGwgZG9lc24ndCB3b3JrPyA8c3BhbiB0YWJpbmRleD1cIjBcIiBAY2xpY2s9XCIkeygpID0+IHRoaXMub3Blbk1vYmlsZUFwcCh0cnVlKX1cIj5UcnkgdGhpcyBhbHRlcm5hdGUgbGluazwvc3Bhbj48L3djbS10ZXh0PmAgOiBudWxsfTwvd2NtLWluZm8tZm9vdGVyPjx3Y20taW5mby1mb290ZXIgY2xhc3M9XCJ3Y20tYXBwLXN0b3JlXCI+PGRpdj48d2NtLXdhbGxldC1pbWFnZSB3YWxsZXRJZD1cIiR7aWR9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKGltYWdlX2lkKX1cIj48L3djbS13YWxsZXQtaW1hZ2U+PHdjbS10ZXh0PiR7YEdldCAke25hbWV9YH08L3djbS10ZXh0PjwvZGl2Pjx3Y20tYnV0dG9uIC5pY29uUmlnaHQ9XCIke1N2Z1V0aWwuQVJST1dfUklHSFRfSUNPTn1cIiAub25DbGljaz1cIiR7KCkgPT4gdGhpcy5vbkdvVG9BcHBTdG9yZShkb3dubG9hZFVybCl9XCIgdmFyaWFudD1cImdob3N0XCI+QXBwIFN0b3JlPC93Y20tYnV0dG9uPjwvd2NtLWluZm8tZm9vdGVyPmA7XG4gIH1cbn07XG5XY21Nb2JpbGVDb25uZWN0aW5nVmlldy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDNdO1xuX19kZWNvcmF0ZUNsYXNzJDQoW1xuICBzdGF0ZSgpXG5dLCBXY21Nb2JpbGVDb25uZWN0aW5nVmlldy5wcm90b3R5cGUsIFwiaXNFcnJvclwiLCAyKTtcbldjbU1vYmlsZUNvbm5lY3RpbmdWaWV3ID0gX19kZWNvcmF0ZUNsYXNzJDQoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vYmlsZS1jb25uZWN0aW5nLXZpZXdcIilcbl0sIFdjbU1vYmlsZUNvbm5lY3RpbmdWaWV3KTtcblxuY29uc3Qgc3R5bGVzJDIgPSBjc3Ngd2NtLWluZm8tZm9vdGVye2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7cGFkZGluZzo1cHggMH13Y20tdGV4dHt0ZXh0LWFsaWduOmNlbnRlcn1gO1xuXG52YXIgX19kZWZQcm9wJDMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkMyA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQzKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQzKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2JpbGVRckNvbm5lY3RpbmdWaWV3ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbmFtZSwgaWQsIGltYWdlX2lkIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgY29uc3QgeyBpc0Rlc2t0b3AsIGlzV2ViIH0gPSBVaVV0aWwuZ2V0Q2FjaGVkUm91dGVyV2FsbGV0UGxhdGZvcm1zKCk7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgdGl0bGU9XCIke25hbWV9XCIgLm9uQWN0aW9uPVwiJHtVaVV0aWwuaGFuZGxlVXJpQ29weX1cIiAuYWN0aW9uSWNvbj1cIiR7U3ZnVXRpbC5DT1BZX0lDT059XCI+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudD48d2NtLXdhbGxldGNvbm5lY3QtcXIgd2FsbGV0SWQ9XCIke2lkfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZChpbWFnZV9pZCl9XCI+PC93Y20td2FsbGV0Y29ubmVjdC1xcj48L3djbS1tb2RhbC1jb250ZW50Pjx3Y20taW5mby1mb290ZXI+PHdjbS10ZXh0IGNvbG9yPVwic2Vjb25kYXJ5XCIgdmFyaWFudD1cInNtYWxsLXRoaW5cIj4ke2BTY2FuIHRoaXMgUVIgQ29kZSB3aXRoIHlvdXIgcGhvbmUncyBjYW1lcmEgb3IgaW5zaWRlICR7bmFtZX0gYXBwYH08L3djbS10ZXh0Pjx3Y20tcGxhdGZvcm0tc2VsZWN0aW9uIC5pc0Rlc2t0b3A9XCIke2lzRGVza3RvcH1cIiAuaXNXZWI9XCIke2lzV2VifVwiPjwvd2NtLXBsYXRmb3JtLXNlbGVjdGlvbj48L3djbS1pbmZvLWZvb3Rlcj5gO1xuICB9XG59O1xuV2NtTW9iaWxlUXJDb25uZWN0aW5nVmlldy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDJdO1xuV2NtTW9iaWxlUXJDb25uZWN0aW5nVmlldyA9IF9fZGVjb3JhdGVDbGFzcyQzKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2JpbGUtcXItY29ubmVjdGluZy12aWV3XCIpXG5dLCBXY21Nb2JpbGVRckNvbm5lY3RpbmdWaWV3KTtcblxudmFyIF9fZGVmUHJvcCQyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDIgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkMih0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkMih0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtUXJjb2RlVmlldyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciB0aXRsZT1cIlNjYW4gdGhlIGNvZGVcIiAub25BY3Rpb249XCIke1VpVXRpbC5oYW5kbGVVcmlDb3B5fVwiIC5hY3Rpb25JY29uPVwiJHtTdmdVdGlsLkNPUFlfSUNPTn1cIj48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50Pjx3Y20td2FsbGV0Y29ubmVjdC1xcj48L3djbS13YWxsZXRjb25uZWN0LXFyPjwvd2NtLW1vZGFsLWNvbnRlbnQ+YDtcbiAgfVxufTtcbldjbVFyY29kZVZpZXcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3NdO1xuV2NtUXJjb2RlVmlldyA9IF9fZGVjb3JhdGVDbGFzcyQyKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1xcmNvZGUtdmlld1wiKVxuXSwgV2NtUXJjb2RlVmlldyk7XG5cbmNvbnN0IHN0eWxlcyQxID0gY3NzYHdjbS1tb2RhbC1jb250ZW50e2hlaWdodDpjbGFtcCgyMDBweCw2MHZoLDYwMHB4KTtkaXNwbGF5OmJsb2NrO292ZXJmbG93OnNjcm9sbDtzY3JvbGxiYXItd2lkdGg6bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW4tdG9wOjFweH0ud2NtLWdyaWR7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoNCw4MHB4KTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjttYXJnaW46LTE1cHggLTEwcHg7cGFkZGluZy10b3A6MjBweH13Y20tbW9kYWwtY29udGVudDo6YWZ0ZXIsd2NtLW1vZGFsLWNvbnRlbnQ6OmJlZm9yZXtjb250ZW50OicnO3Bvc2l0aW9uOmZpeGVkO3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDoxO3dpZHRoOjEwMCU7aGVpZ2h0OjIwcHg7b3BhY2l0eToxfXdjbS1tb2RhbC1jb250ZW50OjpiZWZvcmV7Ym94LXNoYWRvdzowIC0xcHggMCAwIHZhcigtLXdjbS1jb2xvci1iZy0xKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh2YXIoLS13Y20tY29sb3ItYmctMSkscmdiYSgyNTUsMjU1LDI1NSwwKSl9d2NtLW1vZGFsLWNvbnRlbnQ6OmFmdGVye2JveC1zaGFkb3c6MCAxcHggMCAwIHZhcigtLXdjbS1jb2xvci1iZy0xKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudChyZ2JhKDI1NSwyNTUsMjU1LDApLHZhcigtLXdjbS1jb2xvci1iZy0xKSk7dG9wOmNhbGMoMTAwJSAtIDIwcHgpfXdjbS1tb2RhbC1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhcntkaXNwbGF5Om5vbmV9LndjbS1wbGFjZWhvbGRlci1ibG9ja3tkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7aGVpZ2h0OjEwMHB4O292ZXJmbG93OmhpZGRlbn0ud2NtLWVtcHR5LC53Y20tbG9hZGluZ3tkaXNwbGF5OmZsZXh9LndjbS1sb2FkaW5nIC53Y20tcGxhY2Vob2xkZXItYmxvY2t7aGVpZ2h0OjEwMCV9LndjbS1lbmQtcmVhY2hlZCAud2NtLXBsYWNlaG9sZGVyLWJsb2Nre2hlaWdodDowO29wYWNpdHk6MH0ud2NtLWVtcHR5IC53Y20tcGxhY2Vob2xkZXItYmxvY2t7b3BhY2l0eToxO2hlaWdodDoxMDAlfXdjbS13YWxsZXQtYnV0dG9ue21hcmdpbjpjYWxjKCgxMDAlIC0gNjBweCkvIDMpIDB9YDtcblxudmFyIF9fZGVmUHJvcCQxID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkMSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDEgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkMSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkMSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5jb25zdCBQQUdFX0VOVFJJRVMgPSA0MDtcbmxldCBXY21XYWxsZXRFeHBsb3JlclZpZXcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMubG9hZGluZyA9ICFFeHBsb3JlckN0cmwuc3RhdGUud2FsbGV0cy5saXN0aW5ncy5sZW5ndGg7XG4gICAgdGhpcy5maXJzdEZldGNoID0gIUV4cGxvcmVyQ3RybC5zdGF0ZS53YWxsZXRzLmxpc3RpbmdzLmxlbmd0aDtcbiAgICB0aGlzLnNlYXJjaCA9IFwiXCI7XG4gICAgdGhpcy5lbmRSZWFjaGVkID0gZmFsc2U7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciA9IHZvaWQgMDtcbiAgICB0aGlzLnNlYXJjaERlYm91bmNlID0gVWlVdGlsLmRlYm91bmNlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIHRoaXMuZmlyc3RGZXRjaCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW5kUmVhY2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHZhbHVlO1xuICAgICAgICBFeHBsb3JlckN0cmwucmVzZXRTZWFyY2goKTtcbiAgICAgICAgdGhpcy5mZXRjaFdhbGxldHMoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2gpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBcIlwiO1xuICAgICAgICB0aGlzLmVuZFJlYWNoZWQgPSB0aGlzLmlzTGFzdFBhZ2UoKTtcbiAgICAgICAgRXhwbG9yZXJDdHJsLnJlc2V0U2VhcmNoKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgZmlyc3RVcGRhdGVkKCkge1xuICAgIHRoaXMuY3JlYXRlUGFnaW5hdGlvbk9ic2VydmVyKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kaXNjb25uZWN0KCk7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgZ2V0IHBsYWNlaG9sZGVyRWwoKSB7XG4gICAgcmV0dXJuIFVpVXRpbC5nZXRTaGFkb3dSb290RWxlbWVudCh0aGlzLCBcIi53Y20tcGxhY2Vob2xkZXItYmxvY2tcIik7XG4gIH1cbiAgY3JlYXRlUGFnaW5hdGlvbk9ic2VydmVyKCkge1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKFtlbGVtZW50XSkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuaXNJbnRlcnNlY3RpbmcgJiYgISh0aGlzLnNlYXJjaCAmJiB0aGlzLmZpcnN0RmV0Y2gpKSB7XG4gICAgICAgIHRoaXMuZmV0Y2hXYWxsZXRzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMucGxhY2Vob2xkZXJFbCk7XG4gIH1cbiAgaXNMYXN0UGFnZSgpIHtcbiAgICBjb25zdCB7IHdhbGxldHMsIHNlYXJjaCB9ID0gRXhwbG9yZXJDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHsgbGlzdGluZ3MsIHRvdGFsIH0gPSB0aGlzLnNlYXJjaCA/IHNlYXJjaCA6IHdhbGxldHM7XG4gICAgcmV0dXJuIHRvdGFsIDw9IFBBR0VfRU5UUklFUyB8fCBsaXN0aW5ncy5sZW5ndGggPj0gdG90YWw7XG4gIH1cbiAgYXN5bmMgZmV0Y2hXYWxsZXRzKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IHdhbGxldHMsIHNlYXJjaCB9ID0gRXhwbG9yZXJDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHsgbGlzdGluZ3MsIHRvdGFsLCBwYWdlIH0gPSB0aGlzLnNlYXJjaCA/IHNlYXJjaCA6IHdhbGxldHM7XG4gICAgaWYgKCF0aGlzLmVuZFJlYWNoZWQgJiYgKHRoaXMuZmlyc3RGZXRjaCB8fCB0b3RhbCA+IFBBR0VfRU5UUklFUyAmJiBsaXN0aW5ncy5sZW5ndGggPCB0b3RhbCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IChfYSA9IE9wdGlvbnNDdHJsLnN0YXRlLmNoYWlucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmpvaW4oXCIsXCIpO1xuICAgICAgICBjb25zdCB7IGxpc3RpbmdzOiBuZXdMaXN0aW5ncyB9ID0gYXdhaXQgRXhwbG9yZXJDdHJsLmdldFdhbGxldHMoe1xuICAgICAgICAgIHBhZ2U6IHRoaXMuZmlyc3RGZXRjaCA/IDEgOiBwYWdlICsgMSxcbiAgICAgICAgICBlbnRyaWVzOiBQQUdFX0VOVFJJRVMsXG4gICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaCxcbiAgICAgICAgICB2ZXJzaW9uOiAyLFxuICAgICAgICAgIGNoYWluc1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZXhwbG9yZXJJbWFnZXMgPSBuZXdMaXN0aW5ncy5tYXAoKHdhbGxldCkgPT4gVWlVdGlsLmdldFdhbGxldEljb24od2FsbGV0KSk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAuLi5leHBsb3JlckltYWdlcy5tYXAoYXN5bmMgKHVybCkgPT4gVWlVdGlsLnByZWxvYWRJbWFnZSh1cmwpKSxcbiAgICAgICAgICBDb3JlVXRpbC53YWl0KDMwMClcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuZW5kUmVhY2hlZCA9IHRoaXMuaXNMYXN0UGFnZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgVG9hc3RDdHJsLm9wZW5Ub2FzdChVaVV0aWwuZ2V0RXJyb3JNZXNzYWdlKGVyciksIFwiZXJyb3JcIik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5maXJzdEZldGNoID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG9uQ29ubmVjdChsaXN0aW5nKSB7XG4gICAgaWYgKENvcmVVdGlsLmlzQW5kcm9pZCgpKSB7XG4gICAgICBVaVV0aWwuaGFuZGxlTW9iaWxlTGlua2luZyhsaXN0aW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgVWlVdGlsLmdvVG9Db25uZWN0aW5nVmlldyhsaXN0aW5nKTtcbiAgICB9XG4gIH1cbiAgb25TZWFyY2hDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBldmVudC50YXJnZXQ7XG4gICAgdGhpcy5zZWFyY2hEZWJvdW5jZSh2YWx1ZSk7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgd2FsbGV0cywgc2VhcmNoIH0gPSBFeHBsb3JlckN0cmwuc3RhdGU7XG4gICAgY29uc3QgeyBsaXN0aW5ncyB9ID0gdGhpcy5zZWFyY2ggPyBzZWFyY2ggOiB3YWxsZXRzO1xuICAgIGNvbnN0IGlzTG9hZGluZyA9IHRoaXMubG9hZGluZyAmJiAhbGlzdGluZ3MubGVuZ3RoO1xuICAgIGNvbnN0IGlzU2VhcmNoID0gdGhpcy5zZWFyY2gubGVuZ3RoID49IDM7XG4gICAgbGV0IG1hbnVhbFdhbGxldHMgPSBUZW1wbGF0ZVV0aWwubWFudWFsV2FsbGV0c1RlbXBsYXRlKCk7XG4gICAgbGV0IHJlY29tZW5kZWRXYWxsZXRzID0gVGVtcGxhdGVVdGlsLnJlY29tZW5kZWRXYWxsZXRzVGVtcGxhdGUodHJ1ZSk7XG4gICAgaWYgKGlzU2VhcmNoKSB7XG4gICAgICBtYW51YWxXYWxsZXRzID0gbWFudWFsV2FsbGV0cy5maWx0ZXIoXG4gICAgICAgICh7IHZhbHVlcyB9KSA9PiBVaVV0aWwuY2FzZVNhZmVJbmNsdWRlcyh2YWx1ZXNbMF0sIHRoaXMuc2VhcmNoKVxuICAgICAgKTtcbiAgICAgIHJlY29tZW5kZWRXYWxsZXRzID0gcmVjb21lbmRlZFdhbGxldHMuZmlsdGVyKFxuICAgICAgICAoeyB2YWx1ZXMgfSkgPT4gVWlVdGlsLmNhc2VTYWZlSW5jbHVkZXModmFsdWVzWzBdLCB0aGlzLnNlYXJjaClcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGlzRW1wdHkgPSAhdGhpcy5sb2FkaW5nICYmICFsaXN0aW5ncy5sZW5ndGggJiYgIXJlY29tZW5kZWRXYWxsZXRzLmxlbmd0aDtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20tbG9hZGluZ1wiOiBpc0xvYWRpbmcsXG4gICAgICBcIndjbS1lbmQtcmVhY2hlZFwiOiB0aGlzLmVuZFJlYWNoZWQgfHwgIXRoaXMubG9hZGluZyxcbiAgICAgIFwid2NtLWVtcHR5XCI6IGlzRW1wdHlcbiAgICB9O1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyPjx3Y20tc2VhcmNoLWlucHV0IC5vbkNoYW5nZT1cIiR7dGhpcy5vblNlYXJjaENoYW5nZS5iaW5kKHRoaXMpfVwiPjwvd2NtLXNlYXJjaC1pbnB1dD48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50IGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIj48ZGl2IGNsYXNzPVwid2NtLWdyaWRcIj4ke2lzTG9hZGluZyA/IG51bGwgOiBtYW51YWxXYWxsZXRzfSAke2lzTG9hZGluZyA/IG51bGwgOiByZWNvbWVuZGVkV2FsbGV0c30gJHtpc0xvYWRpbmcgPyBudWxsIDogbGlzdGluZ3MubWFwKFxuICAgICAgKGxpc3RpbmcpID0+IGh0bWxgJHtsaXN0aW5nID8gaHRtbGA8d2NtLXdhbGxldC1idXR0b24gaW1hZ2VJZD1cIiR7bGlzdGluZy5pbWFnZV9pZH1cIiBuYW1lPVwiJHtsaXN0aW5nLm5hbWV9XCIgd2FsbGV0SWQ9XCIke2xpc3RpbmcuaWR9XCIgLm9uQ2xpY2s9XCIkeygpID0+IHRoaXMub25Db25uZWN0KGxpc3RpbmcpfVwiPjwvd2NtLXdhbGxldC1idXR0b24+YCA6IG51bGx9YFxuICAgICl9PC9kaXY+PGRpdiBjbGFzcz1cIndjbS1wbGFjZWhvbGRlci1ibG9ja1wiPiR7aXNFbXB0eSA/IGh0bWxgPHdjbS10ZXh0IHZhcmlhbnQ9XCJiaWctYm9sZFwiIGNvbG9yPVwic2Vjb25kYXJ5XCI+Tm8gcmVzdWx0cyBmb3VuZDwvd2NtLXRleHQ+YCA6IG51bGx9ICR7IWlzRW1wdHkgJiYgdGhpcy5sb2FkaW5nID8gaHRtbGA8d2NtLXNwaW5uZXI+PC93Y20tc3Bpbm5lcj5gIDogbnVsbH08L2Rpdj48L3djbS1tb2RhbC1jb250ZW50PmA7XG4gIH1cbn07XG5XY21XYWxsZXRFeHBsb3JlclZpZXcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQxXTtcbl9fZGVjb3JhdGVDbGFzcyQxKFtcbiAgc3RhdGUoKVxuXSwgV2NtV2FsbGV0RXhwbG9yZXJWaWV3LnByb3RvdHlwZSwgXCJsb2FkaW5nXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJDEoW1xuICBzdGF0ZSgpXG5dLCBXY21XYWxsZXRFeHBsb3JlclZpZXcucHJvdG90eXBlLCBcImZpcnN0RmV0Y2hcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkMShbXG4gIHN0YXRlKClcbl0sIFdjbVdhbGxldEV4cGxvcmVyVmlldy5wcm90b3R5cGUsIFwic2VhcmNoXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJDEoW1xuICBzdGF0ZSgpXG5dLCBXY21XYWxsZXRFeHBsb3JlclZpZXcucHJvdG90eXBlLCBcImVuZFJlYWNoZWRcIiwgMik7XG5XY21XYWxsZXRFeHBsb3JlclZpZXcgPSBfX2RlY29yYXRlQ2xhc3MkMShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20td2FsbGV0LWV4cGxvcmVyLXZpZXdcIilcbl0sIFdjbVdhbGxldEV4cGxvcmVyVmlldyk7XG5cbmNvbnN0IHN0eWxlcyA9IGNzc2B3Y20taW5mby1mb290ZXJ7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtwYWRkaW5nOjVweCAwfXdjbS10ZXh0e3RleHQtYWxpZ246Y2VudGVyfWA7XG5cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtV2ViQ29ubmVjdGluZ1ZpZXcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXNFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMub3BlbldlYldhbGxldCgpO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIG9uRm9ybWF0QW5kUmVkaXJlY3QodXJpKSB7XG4gICAgY29uc3QgeyBkZXNrdG9wLCBuYW1lIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgY29uc3QgdW5pdmVyc2FsVXJsID0gZGVza3RvcCA9PSBudWxsID8gdm9pZCAwIDogZGVza3RvcC51bml2ZXJzYWw7XG4gICAgaWYgKHVuaXZlcnNhbFVybCkge1xuICAgICAgY29uc3QgaHJlZiA9IENvcmVVdGlsLmZvcm1hdFVuaXZlcnNhbFVybCh1bml2ZXJzYWxVcmwsIHVyaSwgbmFtZSk7XG4gICAgICBDb3JlVXRpbC5vcGVuSHJlZihocmVmLCBcIl9ibGFua1wiKTtcbiAgICB9XG4gIH1cbiAgb3BlbldlYldhbGxldCgpIHtcbiAgICBjb25zdCB7IHdhbGxldENvbm5lY3RVcmkgfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHJvdXRlckRhdGEgPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgVWlVdGlsLnNldFJlY2VudFdhbGxldChyb3V0ZXJEYXRhKTtcbiAgICBpZiAod2FsbGV0Q29ubmVjdFVyaSkge1xuICAgICAgdGhpcy5vbkZvcm1hdEFuZFJlZGlyZWN0KHdhbGxldENvbm5lY3RVcmkpO1xuICAgIH1cbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBuYW1lLCBpZCwgaW1hZ2VfaWQgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBjb25zdCB7IGlzTW9iaWxlLCBpc0Rlc2t0b3AgfSA9IFVpVXRpbC5nZXRDYWNoZWRSb3V0ZXJXYWxsZXRQbGF0Zm9ybXMoKTtcbiAgICBjb25zdCBpc01vYmlsZVBsYXRmb3JtID0gQ29yZVV0aWwuaXNNb2JpbGUoKTtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciB0aXRsZT1cIiR7bmFtZX1cIiAub25BY3Rpb249XCIke1VpVXRpbC5oYW5kbGVVcmlDb3B5fVwiIC5hY3Rpb25JY29uPVwiJHtTdmdVdGlsLkNPUFlfSUNPTn1cIj48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50Pjx3Y20tY29ubmVjdG9yLXdhaXRpbmcgd2FsbGV0SWQ9XCIke2lkfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZChpbWFnZV9pZCl9XCIgbGFiZWw9XCIke2BDb250aW51ZSBpbiAke25hbWV9Li4uYH1cIiAuaXNFcnJvcj1cIiR7dGhpcy5pc0Vycm9yfVwiPjwvd2NtLWNvbm5lY3Rvci13YWl0aW5nPjwvd2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1pbmZvLWZvb3Rlcj48d2NtLXRleHQgY29sb3I9XCJzZWNvbmRhcnlcIiB2YXJpYW50PVwic21hbGwtdGhpblwiPiR7YCR7bmFtZX0gd2ViIGFwcCBoYXMgb3BlbmVkIGluIGEgbmV3IHRhYi4gR28gdGhlcmUsIGFjY2VwdCB0aGUgY29ubmVjdGlvbiwgYW5kIGNvbWUgYmFja2B9PC93Y20tdGV4dD48d2NtLXBsYXRmb3JtLXNlbGVjdGlvbiAuaXNNb2JpbGU9XCIke2lzTW9iaWxlfVwiIC5pc0Rlc2t0b3A9XCIke2lzTW9iaWxlUGxhdGZvcm0gPyBmYWxzZSA6IGlzRGVza3RvcH1cIiAuaXNSZXRyeT1cIiR7dHJ1ZX1cIj48d2NtLWJ1dHRvbiAub25DbGljaz1cIiR7dGhpcy5vcGVuV2ViV2FsbGV0LmJpbmQodGhpcyl9XCIgLmljb25SaWdodD1cIiR7U3ZnVXRpbC5SRVRSWV9JQ09OfVwiPlJldHJ5PC93Y20tYnV0dG9uPjwvd2NtLXBsYXRmb3JtLXNlbGVjdGlvbj48L3djbS1pbmZvLWZvb3Rlcj5gO1xuICB9XG59O1xuV2NtV2ViQ29ubmVjdGluZ1ZpZXcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlc107XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBzdGF0ZSgpXG5dLCBXY21XZWJDb25uZWN0aW5nVmlldy5wcm90b3R5cGUsIFwiaXNFcnJvclwiLCAyKTtcbldjbVdlYkNvbm5lY3RpbmdWaWV3ID0gX19kZWNvcmF0ZUNsYXNzKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS13ZWItY29ubmVjdGluZy12aWV3XCIpXG5dLCBXY21XZWJDb25uZWN0aW5nVmlldyk7XG5cbmV4cG9ydCB7IFdjbU1vZGFsLCBXY21RckNvZGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@walletconnect/modal/dist/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletConnectModal: () => (/* binding */ WalletConnectModal)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/modal-core */ \"(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\");\n\n\nclass WalletConnectModal {\n  constructor(config) {\n    this.openModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.open;\n    this.closeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.close;\n    this.subscribeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.subscribe;\n    this.setTheme = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ThemeCtrl.setThemeConfig;\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ThemeCtrl.setThemeConfig(config);\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ConfigCtrl.setConfig(config);\n    this.initUi();\n  }\n  async initUi() {\n    if (typeof window !== \"undefined\") {\n      await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@walletconnect\"), __webpack_require__.e(\"vendor-chunks/@motionone\"), __webpack_require__.e(\"vendor-chunks/qrcode\"), __webpack_require__.e(\"vendor-chunks/pngjs\"), __webpack_require__.e(\"vendor-chunks/@lit\"), __webpack_require__.e(\"vendor-chunks/lit-html\"), __webpack_require__.e(\"vendor-chunks/lit\"), __webpack_require__.e(\"vendor-chunks/@lit-labs\"), __webpack_require__.e(\"vendor-chunks/lit-element\"), __webpack_require__.e(\"vendor-chunks/motion\"), __webpack_require__.e(\"vendor-chunks/hey-listen\"), __webpack_require__.e(\"vendor-chunks/encode-utf8\"), __webpack_require__.e(\"vendor-chunks/dijkstrajs\")]).then(__webpack_require__.bind(__webpack_require__, /*! @walletconnect/modal-ui */ \"(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js\"));\n      const modal = document.createElement(\"wcm-modal\");\n      document.body.insertAdjacentElement(\"beforeend\", modal);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.OptionsCtrl.setIsUiLoaded(true);\n    }\n  }\n}\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwRjs7QUFFMUY7QUFDQTtBQUNBLHFCQUFxQixnRUFBUztBQUM5QixzQkFBc0IsZ0VBQVM7QUFDL0IsMEJBQTBCLGdFQUFTO0FBQ25DLG9CQUFvQixnRUFBUztBQUM3QixJQUFJLGdFQUFTO0FBQ2IsSUFBSSxpRUFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2eUJBQWlDO0FBQzdDO0FBQ0E7QUFDQSxNQUFNLGtFQUFXO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwvZGlzdC9pbmRleC5qcz9kZTkzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vZGFsQ3RybCwgVGhlbWVDdHJsLCBDb25maWdDdHJsLCBPcHRpb25zQ3RybCB9IGZyb20gJ0B3YWxsZXRjb25uZWN0L21vZGFsLWNvcmUnO1xuXG5jbGFzcyBXYWxsZXRDb25uZWN0TW9kYWwge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLm9wZW5Nb2RhbCA9IE1vZGFsQ3RybC5vcGVuO1xuICAgIHRoaXMuY2xvc2VNb2RhbCA9IE1vZGFsQ3RybC5jbG9zZTtcbiAgICB0aGlzLnN1YnNjcmliZU1vZGFsID0gTW9kYWxDdHJsLnN1YnNjcmliZTtcbiAgICB0aGlzLnNldFRoZW1lID0gVGhlbWVDdHJsLnNldFRoZW1lQ29uZmlnO1xuICAgIFRoZW1lQ3RybC5zZXRUaGVtZUNvbmZpZyhjb25maWcpO1xuICAgIENvbmZpZ0N0cmwuc2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgdGhpcy5pbml0VWkoKTtcbiAgfVxuICBhc3luYyBpbml0VWkoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGF3YWl0IGltcG9ydCgnQHdhbGxldGNvbm5lY3QvbW9kYWwtdWknKTtcbiAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIndjbS1tb2RhbFwiKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIG1vZGFsKTtcbiAgICAgIE9wdGlvbnNDdHJsLnNldElzVWlMb2FkZWQodHJ1ZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFdhbGxldENvbm5lY3RNb2RhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   publicKeyToAddress: () => (/* binding */ publicKeyToAddress)\n/* harmony export */ });\n/* harmony import */ var _utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/address/getAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\");\n/* harmony import */ var _utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\");\n\n\n/**\n * @description Converts an ECDSA public key to an address.\n *\n * @param publicKey The public key to convert.\n *\n * @returns The address.\n */\nfunction publicKeyToAddress(publicKey) {\n    const address = (0,_utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__.keccak256)(`0x${publicKey.substring(4)}`).substring(26);\n    return (0,_utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(`0x${address}`);\n}\n//# sourceMappingURL=publicKeyToAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9hY2NvdW50cy91dGlscy9wdWJsaWNLZXlUb0FkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFFO0FBQ1Y7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG9CQUFvQixtRUFBUyxNQUFNLHVCQUF1QjtBQUMxRCxXQUFXLDZFQUFlLE1BQU0sUUFBUTtBQUN4QztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vYWNjb3VudHMvdXRpbHMvcHVibGljS2V5VG9BZGRyZXNzLmpzPzBmNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hlY2tzdW1BZGRyZXNzLCB9IGZyb20gJy4uLy4uL3V0aWxzL2FkZHJlc3MvZ2V0QWRkcmVzcy5qcyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYsIH0gZnJvbSAnLi4vLi4vdXRpbHMvaGFzaC9rZWNjYWsyNTYuanMnO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gQ29udmVydHMgYW4gRUNEU0EgcHVibGljIGtleSB0byBhbiBhZGRyZXNzLlxuICpcbiAqIEBwYXJhbSBwdWJsaWNLZXkgVGhlIHB1YmxpYyBrZXkgdG8gY29udmVydC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgYWRkcmVzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1YmxpY0tleVRvQWRkcmVzcyhwdWJsaWNLZXkpIHtcbiAgICBjb25zdCBhZGRyZXNzID0ga2VjY2FrMjU2KGAweCR7cHVibGljS2V5LnN1YnN0cmluZyg0KX1gKS5zdWJzdHJpbmcoMjYpO1xuICAgIHJldHVybiBjaGVja3N1bUFkZHJlc3MoYDB4JHthZGRyZXNzfWApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVibGljS2V5VG9BZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidAddressError: () => (/* binding */ InvalidAddressError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass InvalidAddressError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ address }) {\n        super(`Address \"${address}\" is invalid.`, {\n            metaMessages: [\n                '- Address must be a hex value of 20 bytes (40 hex characters).',\n                '- Address must match its checksum counterpart.',\n            ],\n            name: 'InvalidAddressError',\n        });\n    }\n}\n//# sourceMappingURL=address.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYWRkcmVzcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUMvQixrQ0FBa0MsK0NBQVM7QUFDbEQsa0JBQWtCLFNBQVM7QUFDM0IsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYWRkcmVzcy5qcz81OTM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VFcnJvciB9IGZyb20gJy4vYmFzZS5qcyc7XG5leHBvcnQgY2xhc3MgSW52YWxpZEFkZHJlc3NFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBhZGRyZXNzIH0pIHtcbiAgICAgICAgc3VwZXIoYEFkZHJlc3MgXCIke2FkZHJlc3N9XCIgaXMgaW52YWxpZC5gLCB7XG4gICAgICAgICAgICBtZXRhTWVzc2FnZXM6IFtcbiAgICAgICAgICAgICAgICAnLSBBZGRyZXNzIG11c3QgYmUgYSBoZXggdmFsdWUgb2YgMjAgYnl0ZXMgKDQwIGhleCBjaGFyYWN0ZXJzKS4nLFxuICAgICAgICAgICAgICAgICctIEFkZHJlc3MgbXVzdCBtYXRjaCBpdHMgY2hlY2tzdW0gY291bnRlcnBhcnQuJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBuYW1lOiAnSW52YWxpZEFkZHJlc3NFcnJvcicsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseError: () => (/* binding */ BaseError),\n/* harmony export */   setErrorConfig: () => (/* binding */ setErrorConfig)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js\");\n\nlet errorConfig = {\n    getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath\n        ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`\n        : undefined,\n    version: `viem@${_version_js__WEBPACK_IMPORTED_MODULE_0__.version}`,\n};\nfunction setErrorConfig(config) {\n    errorConfig = config;\n}\nclass BaseError extends Error {\n    constructor(shortMessage, args = {}) {\n        const details = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.details;\n            if (args.cause?.message)\n                return args.cause.message;\n            return args.details;\n        })();\n        const docsPath = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.docsPath || args.docsPath;\n            return args.docsPath;\n        })();\n        const docsUrl = errorConfig.getDocsUrl?.({ ...args, docsPath });\n        const message = [\n            shortMessage || 'An error occurred.',\n            '',\n            ...(args.metaMessages ? [...args.metaMessages, ''] : []),\n            ...(docsUrl ? [`Docs: ${docsUrl}`] : []),\n            ...(details ? [`Details: ${details}`] : []),\n            ...(errorConfig.version ? [`Version: ${errorConfig.version}`] : []),\n        ].join('\\n');\n        super(message, args.cause ? { cause: args.cause } : undefined);\n        Object.defineProperty(this, \"details\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"docsPath\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"metaMessages\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"shortMessage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'BaseError'\n        });\n        this.details = details;\n        this.docsPath = docsPath;\n        this.metaMessages = args.metaMessages;\n        this.name = args.name ?? this.name;\n        this.shortMessage = shortMessage;\n        this.version = _version_js__WEBPACK_IMPORTED_MODULE_0__.version;\n    }\n    walk(fn) {\n        return walk(this, fn);\n    }\n}\nfunction walk(err, fn) {\n    if (fn?.(err))\n        return err;\n    if (err &&\n        typeof err === 'object' &&\n        'cause' in err &&\n        err.cause !== undefined)\n        return walk(err.cause, fn);\n    return fn ? null : err;\n}\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUM7QUFDdkM7QUFDQSxtQkFBbUIsdUNBQXVDO0FBQzFELGFBQWEsaUNBQWlDLEVBQUUsU0FBUyxFQUFFLGVBQWUsU0FBUyxPQUFPO0FBQzFGO0FBQ0EscUJBQXFCLGdEQUFPLENBQUM7QUFDN0I7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbURBQW1ELG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRO0FBQzVDLHVDQUF1QyxRQUFRO0FBQy9DLG1EQUFtRCxvQkFBb0I7QUFDdkU7QUFDQSxzQ0FBc0Msb0JBQW9CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0RBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYmFzZS5qcz9kNWM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuL3ZlcnNpb24uanMnO1xubGV0IGVycm9yQ29uZmlnID0ge1xuICAgIGdldERvY3NVcmw6ICh7IGRvY3NCYXNlVXJsLCBkb2NzUGF0aCA9ICcnLCBkb2NzU2x1ZywgfSkgPT4gZG9jc1BhdGhcbiAgICAgICAgPyBgJHtkb2NzQmFzZVVybCA/PyAnaHR0cHM6Ly92aWVtLnNoJ30ke2RvY3NQYXRofSR7ZG9jc1NsdWcgPyBgIyR7ZG9jc1NsdWd9YCA6ICcnfWBcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgdmVyc2lvbjogYHZpZW1AJHt2ZXJzaW9ufWAsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHNldEVycm9yQ29uZmlnKGNvbmZpZykge1xuICAgIGVycm9yQ29uZmlnID0gY29uZmlnO1xufVxuZXhwb3J0IGNsYXNzIEJhc2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzaG9ydE1lc3NhZ2UsIGFyZ3MgPSB7fSkge1xuICAgICAgICBjb25zdCBkZXRhaWxzID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhcmdzLmNhdXNlIGluc3RhbmNlb2YgQmFzZUVycm9yKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzLmNhdXNlLmRldGFpbHM7XG4gICAgICAgICAgICBpZiAoYXJncy5jYXVzZT8ubWVzc2FnZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncy5jYXVzZS5tZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3MuZGV0YWlscztcbiAgICAgICAgfSkoKTtcbiAgICAgICAgY29uc3QgZG9jc1BhdGggPSAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3MuY2F1c2UgaW5zdGFuY2VvZiBCYXNlRXJyb3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3MuY2F1c2UuZG9jc1BhdGggfHwgYXJncy5kb2NzUGF0aDtcbiAgICAgICAgICAgIHJldHVybiBhcmdzLmRvY3NQYXRoO1xuICAgICAgICB9KSgpO1xuICAgICAgICBjb25zdCBkb2NzVXJsID0gZXJyb3JDb25maWcuZ2V0RG9jc1VybD8uKHsgLi4uYXJncywgZG9jc1BhdGggfSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBbXG4gICAgICAgICAgICBzaG9ydE1lc3NhZ2UgfHwgJ0FuIGVycm9yIG9jY3VycmVkLicsXG4gICAgICAgICAgICAnJyxcbiAgICAgICAgICAgIC4uLihhcmdzLm1ldGFNZXNzYWdlcyA/IFsuLi5hcmdzLm1ldGFNZXNzYWdlcywgJyddIDogW10pLFxuICAgICAgICAgICAgLi4uKGRvY3NVcmwgPyBbYERvY3M6ICR7ZG9jc1VybH1gXSA6IFtdKSxcbiAgICAgICAgICAgIC4uLihkZXRhaWxzID8gW2BEZXRhaWxzOiAke2RldGFpbHN9YF0gOiBbXSksXG4gICAgICAgICAgICAuLi4oZXJyb3JDb25maWcudmVyc2lvbiA/IFtgVmVyc2lvbjogJHtlcnJvckNvbmZpZy52ZXJzaW9ufWBdIDogW10pLFxuICAgICAgICBdLmpvaW4oJ1xcbicpO1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBhcmdzLmNhdXNlID8geyBjYXVzZTogYXJncy5jYXVzZSB9IDogdW5kZWZpbmVkKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGV0YWlsc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkb2NzUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhTWVzc2FnZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvcnRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcnNpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogJ0Jhc2VFcnJvcidcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgICAgIHRoaXMuZG9jc1BhdGggPSBkb2NzUGF0aDtcbiAgICAgICAgdGhpcy5tZXRhTWVzc2FnZXMgPSBhcmdzLm1ldGFNZXNzYWdlcztcbiAgICAgICAgdGhpcy5uYW1lID0gYXJncy5uYW1lID8/IHRoaXMubmFtZTtcbiAgICAgICAgdGhpcy5zaG9ydE1lc3NhZ2UgPSBzaG9ydE1lc3NhZ2U7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgfVxuICAgIHdhbGsoZm4pIHtcbiAgICAgICAgcmV0dXJuIHdhbGsodGhpcywgZm4pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdhbGsoZXJyLCBmbikge1xuICAgIGlmIChmbj8uKGVycikpXG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgaWYgKGVyciAmJlxuICAgICAgICB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAnY2F1c2UnIGluIGVyciAmJlxuICAgICAgICBlcnIuY2F1c2UgIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHdhbGsoZXJyLmNhdXNlLCBmbik7XG4gICAgcmV0dXJuIGZuID8gbnVsbCA6IGVycjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidBytesLengthError: () => (/* binding */ InvalidBytesLengthError),\n/* harmony export */   SizeExceedsPaddingSizeError: () => (/* binding */ SizeExceedsPaddingSizeError),\n/* harmony export */   SliceOffsetOutOfBoundsError: () => (/* binding */ SliceOffsetOutOfBoundsError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass SliceOffsetOutOfBoundsError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ offset, position, size, }) {\n        super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset \"${offset}\" is out-of-bounds (size: ${size}).`, { name: 'SliceOffsetOutOfBoundsError' });\n    }\n}\nclass SizeExceedsPaddingSizeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });\n    }\n}\nclass InvalidBytesLengthError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} is expected to be ${targetSize} ${type} long, but is ${size} ${type} long.`, { name: 'InvalidBytesLengthError' });\n    }\n}\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvZGF0YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNDO0FBQy9CLDBDQUEwQywrQ0FBUztBQUMxRCxrQkFBa0IseUJBQXlCO0FBQzNDLHVCQUF1Qiw4Q0FBOEMsYUFBYSxPQUFPLDRCQUE0QixLQUFLLE9BQU8scUNBQXFDO0FBQ3RLO0FBQ0E7QUFDTywwQ0FBMEMsK0NBQVM7QUFDMUQsa0JBQWtCLHlCQUF5QjtBQUMzQyxpQkFBaUIsNkJBQTZCLEVBQUU7QUFDaEQ7QUFDQSw0QkFBNEIsUUFBUSxLQUFLLDBCQUEwQixXQUFXLE9BQU8scUNBQXFDO0FBQzFIO0FBQ0E7QUFDTyxzQ0FBc0MsK0NBQVM7QUFDdEQsa0JBQWtCLHlCQUF5QjtBQUMzQyxpQkFBaUIsNkJBQTZCLEVBQUU7QUFDaEQ7QUFDQSw0QkFBNEIsb0JBQW9CLFlBQVksRUFBRSxNQUFNLGVBQWUsTUFBTSxFQUFFLE1BQU0sVUFBVSxpQ0FBaUM7QUFDNUk7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2RhdGEuanM/OGE2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRXJyb3IgfSBmcm9tICcuL2Jhc2UuanMnO1xuZXhwb3J0IGNsYXNzIFNsaWNlT2Zmc2V0T3V0T2ZCb3VuZHNFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBvZmZzZXQsIHBvc2l0aW9uLCBzaXplLCB9KSB7XG4gICAgICAgIHN1cGVyKGBTbGljZSAke3Bvc2l0aW9uID09PSAnc3RhcnQnID8gJ3N0YXJ0aW5nJyA6ICdlbmRpbmcnfSBhdCBvZmZzZXQgXCIke29mZnNldH1cIiBpcyBvdXQtb2YtYm91bmRzIChzaXplOiAke3NpemV9KS5gLCB7IG5hbWU6ICdTbGljZU9mZnNldE91dE9mQm91bmRzRXJyb3InIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgc2l6ZSwgdGFyZ2V0U2l6ZSwgdHlwZSwgfSkge1xuICAgICAgICBzdXBlcihgJHt0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7dHlwZVxuICAgICAgICAgICAgLnNsaWNlKDEpXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKX0gc2l6ZSAoJHtzaXplfSkgZXhjZWVkcyBwYWRkaW5nIHNpemUgKCR7dGFyZ2V0U2l6ZX0pLmAsIHsgbmFtZTogJ1NpemVFeGNlZWRzUGFkZGluZ1NpemVFcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRCeXRlc0xlbmd0aEVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHNpemUsIHRhcmdldFNpemUsIHR5cGUsIH0pIHtcbiAgICAgICAgc3VwZXIoYCR7dHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke3R5cGVcbiAgICAgICAgICAgIC5zbGljZSgxKVxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCl9IGlzIGV4cGVjdGVkIHRvIGJlICR7dGFyZ2V0U2l6ZX0gJHt0eXBlfSBsb25nLCBidXQgaXMgJHtzaXplfSAke3R5cGV9IGxvbmcuYCwgeyBuYW1lOiAnSW52YWxpZEJ5dGVzTGVuZ3RoRXJyb3InIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGEuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IntegerOutOfRangeError: () => (/* binding */ IntegerOutOfRangeError),\n/* harmony export */   InvalidBytesBooleanError: () => (/* binding */ InvalidBytesBooleanError),\n/* harmony export */   InvalidHexBooleanError: () => (/* binding */ InvalidHexBooleanError),\n/* harmony export */   InvalidHexValueError: () => (/* binding */ InvalidHexValueError),\n/* harmony export */   SizeOverflowError: () => (/* binding */ SizeOverflowError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass IntegerOutOfRangeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ max, min, signed, size, value, }) {\n        super(`Number \"${value}\" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });\n    }\n}\nclass InvalidBytesBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(bytes) {\n        super(`Bytes value \"${bytes}\" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`, {\n            name: 'InvalidBytesBooleanError',\n        });\n    }\n}\nclass InvalidHexBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(hex) {\n        super(`Hex value \"${hex}\" is not a valid boolean. The hex value must be \"0x0\" (false) or \"0x1\" (true).`, { name: 'InvalidHexBooleanError' });\n    }\n}\nclass InvalidHexValueError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(value) {\n        super(`Hex value \"${value}\" is an odd length (${value.length}). It must be an even length.`, { name: 'InvalidHexValueError' });\n    }\n}\nclass SizeOverflowError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ givenSize, maxSize }) {\n        super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });\n    }\n}\n//# sourceMappingURL=encoding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvZW5jb2RpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQy9CLHFDQUFxQywrQ0FBUztBQUNyRCxrQkFBa0IsZ0NBQWdDO0FBQ2xELHlCQUF5QixNQUFNLG1CQUFtQixVQUFVLFNBQVMsT0FBTyxnQ0FBZ0MsT0FBTyxnQkFBZ0IsVUFBVSxLQUFLLEtBQUssSUFBSSxlQUFlLElBQUksR0FBRyxLQUFLLGdDQUFnQztBQUN0TjtBQUNBO0FBQ08sdUNBQXVDLCtDQUFTO0FBQ3ZEO0FBQ0EsOEJBQThCLE1BQU07QUFDcEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPLHFDQUFxQywrQ0FBUztBQUNyRDtBQUNBLDRCQUE0QixJQUFJLG1GQUFtRixnQ0FBZ0M7QUFDbko7QUFDQTtBQUNPLG1DQUFtQywrQ0FBUztBQUNuRDtBQUNBLDRCQUE0QixNQUFNLHNCQUFzQixhQUFhLGtDQUFrQyw4QkFBOEI7QUFDckk7QUFDQTtBQUNPLGdDQUFnQywrQ0FBUztBQUNoRCxrQkFBa0Isb0JBQW9CO0FBQ3RDLG9DQUFvQyxTQUFTLHFCQUFxQixXQUFXLFdBQVcsMkJBQTJCO0FBQ25IO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy9lbmNvZGluZy5qcz9jMWVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VFcnJvciB9IGZyb20gJy4vYmFzZS5qcyc7XG5leHBvcnQgY2xhc3MgSW50ZWdlck91dE9mUmFuZ2VFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBtYXgsIG1pbiwgc2lnbmVkLCBzaXplLCB2YWx1ZSwgfSkge1xuICAgICAgICBzdXBlcihgTnVtYmVyIFwiJHt2YWx1ZX1cIiBpcyBub3QgaW4gc2FmZSAke3NpemUgPyBgJHtzaXplICogOH0tYml0ICR7c2lnbmVkID8gJ3NpZ25lZCcgOiAndW5zaWduZWQnfSBgIDogJyd9aW50ZWdlciByYW5nZSAke21heCA/IGAoJHttaW59IHRvICR7bWF4fSlgIDogYChhYm92ZSAke21pbn0pYH1gLCB7IG5hbWU6ICdJbnRlZ2VyT3V0T2ZSYW5nZUVycm9yJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEJ5dGVzQm9vbGVhbkVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihieXRlcykge1xuICAgICAgICBzdXBlcihgQnl0ZXMgdmFsdWUgXCIke2J5dGVzfVwiIGlzIG5vdCBhIHZhbGlkIGJvb2xlYW4uIFRoZSBieXRlcyBhcnJheSBtdXN0IGNvbnRhaW4gYSBzaW5nbGUgYnl0ZSBvZiBlaXRoZXIgYSAwIG9yIDEgdmFsdWUuYCwge1xuICAgICAgICAgICAgbmFtZTogJ0ludmFsaWRCeXRlc0Jvb2xlYW5FcnJvcicsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkSGV4Qm9vbGVhbkVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihoZXgpIHtcbiAgICAgICAgc3VwZXIoYEhleCB2YWx1ZSBcIiR7aGV4fVwiIGlzIG5vdCBhIHZhbGlkIGJvb2xlYW4uIFRoZSBoZXggdmFsdWUgbXVzdCBiZSBcIjB4MFwiIChmYWxzZSkgb3IgXCIweDFcIiAodHJ1ZSkuYCwgeyBuYW1lOiAnSW52YWxpZEhleEJvb2xlYW5FcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRIZXhWYWx1ZUVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihgSGV4IHZhbHVlIFwiJHt2YWx1ZX1cIiBpcyBhbiBvZGQgbGVuZ3RoICgke3ZhbHVlLmxlbmd0aH0pLiBJdCBtdXN0IGJlIGFuIGV2ZW4gbGVuZ3RoLmAsIHsgbmFtZTogJ0ludmFsaWRIZXhWYWx1ZUVycm9yJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2l6ZU92ZXJmbG93RXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgZ2l2ZW5TaXplLCBtYXhTaXplIH0pIHtcbiAgICAgICAgc3VwZXIoYFNpemUgY2Fubm90IGV4Y2VlZCAke21heFNpemV9IGJ5dGVzLiBHaXZlbiBzaXplOiAke2dpdmVuU2l6ZX0gYnl0ZXMuYCwgeyBuYW1lOiAnU2l6ZU92ZXJmbG93RXJyb3InIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuY29kaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\nconst version = '2.31.0';\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy92ZXJzaW9uLmpzPzczZDMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSAnMi4zMS4wJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checksumAddress: () => (/* binding */ checksumAddress),\n/* harmony export */   getAddress: () => (/* binding */ getAddress)\n/* harmony export */ });\n/* harmony import */ var _errors_address_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../errors/address.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\");\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _isAddress_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js\");\n\n\n\n\n\nconst checksumAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction checksumAddress(address_, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (checksumAddressCache.has(`${address_}.${chainId}`))\n        return checksumAddressCache.get(`${address_}.${chainId}`);\n    const hexAddress = chainId\n        ? `${chainId}${address_.toLowerCase()}`\n        : address_.substring(2).toLowerCase();\n    const hash = (0,_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)((0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.stringToBytes)(hexAddress), 'bytes');\n    const address = (chainId ? hexAddress.substring(`${chainId}0x`.length) : hexAddress).split('');\n    for (let i = 0; i < 40; i += 2) {\n        if (hash[i >> 1] >> 4 >= 8 && address[i]) {\n            address[i] = address[i].toUpperCase();\n        }\n        if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {\n            address[i + 1] = address[i + 1].toUpperCase();\n        }\n    }\n    const result = `0x${address.join('')}`;\n    checksumAddressCache.set(`${address_}.${chainId}`, result);\n    return result;\n}\nfunction getAddress(address, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (!(0,_isAddress_js__WEBPACK_IMPORTED_MODULE_3__.isAddress)(address, { strict: false }))\n        throw new _errors_address_js__WEBPACK_IMPORTED_MODULE_4__.InvalidAddressError({ address });\n    return checksumAddress(address, chainId);\n}\n//# sourceMappingURL=getAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9hZGRyZXNzL2dldEFkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4RDtBQUNOO0FBQ1A7QUFDZDtBQUNRO0FBQzNDLCtDQUErQywyQ0FBTTtBQUM5QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsU0FBUyxHQUFHLFFBQVE7QUFDeEQsMkNBQTJDLFNBQVMsR0FBRyxRQUFRO0FBQy9EO0FBQ0EsYUFBYSxRQUFRLEVBQUUsdUJBQXVCO0FBQzlDO0FBQ0EsaUJBQWlCLDZEQUFTLENBQUMsbUVBQWE7QUFDeEMsdURBQXVELFFBQVE7QUFDL0Qsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDLGdDQUFnQyxTQUFTLEdBQUcsUUFBUTtBQUNwRDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3REFBUyxZQUFZLGVBQWU7QUFDN0Msa0JBQWtCLG1FQUFtQixHQUFHLFNBQVM7QUFDakQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvYWRkcmVzcy9nZXRBZGRyZXNzLmpzPzM1NjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW52YWxpZEFkZHJlc3NFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycy9hZGRyZXNzLmpzJztcbmltcG9ydCB7IHN0cmluZ1RvQnl0ZXMsIH0gZnJvbSAnLi4vZW5jb2RpbmcvdG9CeXRlcy5qcyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYgfSBmcm9tICcuLi9oYXNoL2tlY2NhazI1Ni5qcyc7XG5pbXBvcnQgeyBMcnVNYXAgfSBmcm9tICcuLi9scnUuanMnO1xuaW1wb3J0IHsgaXNBZGRyZXNzIH0gZnJvbSAnLi9pc0FkZHJlc3MuanMnO1xuY29uc3QgY2hlY2tzdW1BZGRyZXNzQ2FjaGUgPSAvKiNfX1BVUkVfXyovIG5ldyBMcnVNYXAoODE5Mik7XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tzdW1BZGRyZXNzKGFkZHJlc3NfLCBcbi8qKlxuICogV2FybmluZzogRUlQLTExOTEgY2hlY2tzdW0gYWRkcmVzc2VzIGFyZSBnZW5lcmFsbHkgbm90IGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGggdGhlXG4gKiB3aWRlciBFdGhlcmV1bSBlY29zeXN0ZW0sIG1lYW5pbmcgaXQgd2lsbCBicmVhayB3aGVuIHZhbGlkYXRlZCBhZ2FpbnN0IGFuIGFwcGxpY2F0aW9uL3Rvb2xcbiAqIHRoYXQgcmVsaWVzIG9uIEVJUC01NSBjaGVja3N1bSBlbmNvZGluZyAoY2hlY2tzdW0gd2l0aG91dCBjaGFpbklkKS5cbiAqXG4gKiBJdCBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gbm90IHVzZSB0aGlzIGZlYXR1cmUgdW5sZXNzIHlvdVxuICoga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gKlxuICogU2VlIG1vcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xMTIxXG4gKi9cbmNoYWluSWQpIHtcbiAgICBpZiAoY2hlY2tzdW1BZGRyZXNzQ2FjaGUuaGFzKGAke2FkZHJlc3NffS4ke2NoYWluSWR9YCkpXG4gICAgICAgIHJldHVybiBjaGVja3N1bUFkZHJlc3NDYWNoZS5nZXQoYCR7YWRkcmVzc199LiR7Y2hhaW5JZH1gKTtcbiAgICBjb25zdCBoZXhBZGRyZXNzID0gY2hhaW5JZFxuICAgICAgICA/IGAke2NoYWluSWR9JHthZGRyZXNzXy50b0xvd2VyQ2FzZSgpfWBcbiAgICAgICAgOiBhZGRyZXNzXy5zdWJzdHJpbmcoMikudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBoYXNoID0ga2VjY2FrMjU2KHN0cmluZ1RvQnl0ZXMoaGV4QWRkcmVzcyksICdieXRlcycpO1xuICAgIGNvbnN0IGFkZHJlc3MgPSAoY2hhaW5JZCA/IGhleEFkZHJlc3Muc3Vic3RyaW5nKGAke2NoYWluSWR9MHhgLmxlbmd0aCkgOiBoZXhBZGRyZXNzKS5zcGxpdCgnJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0MDsgaSArPSAyKSB7XG4gICAgICAgIGlmIChoYXNoW2kgPj4gMV0gPj4gNCA+PSA4ICYmIGFkZHJlc3NbaV0pIHtcbiAgICAgICAgICAgIGFkZHJlc3NbaV0gPSBhZGRyZXNzW2ldLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChoYXNoW2kgPj4gMV0gJiAweDBmKSA+PSA4ICYmIGFkZHJlc3NbaSArIDFdKSB7XG4gICAgICAgICAgICBhZGRyZXNzW2kgKyAxXSA9IGFkZHJlc3NbaSArIDFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gYDB4JHthZGRyZXNzLmpvaW4oJycpfWA7XG4gICAgY2hlY2tzdW1BZGRyZXNzQ2FjaGUuc2V0KGAke2FkZHJlc3NffS4ke2NoYWluSWR9YCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFkZHJlc3MoYWRkcmVzcywgXG4vKipcbiAqIFdhcm5pbmc6IEVJUC0xMTkxIGNoZWNrc3VtIGFkZHJlc3NlcyBhcmUgZ2VuZXJhbGx5IG5vdCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIHRoZVxuICogd2lkZXIgRXRoZXJldW0gZWNvc3lzdGVtLCBtZWFuaW5nIGl0IHdpbGwgYnJlYWsgd2hlbiB2YWxpZGF0ZWQgYWdhaW5zdCBhbiBhcHBsaWNhdGlvbi90b29sXG4gKiB0aGF0IHJlbGllcyBvbiBFSVAtNTUgY2hlY2tzdW0gZW5jb2RpbmcgKGNoZWNrc3VtIHdpdGhvdXQgY2hhaW5JZCkuXG4gKlxuICogSXQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIG5vdCB1c2UgdGhpcyBmZWF0dXJlIHVubGVzcyB5b3VcbiAqIGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICpcbiAqIFNlZSBtb3JlOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTEyMVxuICovXG5jaGFpbklkKSB7XG4gICAgaWYgKCFpc0FkZHJlc3MoYWRkcmVzcywgeyBzdHJpY3Q6IGZhbHNlIH0pKVxuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFkZHJlc3NFcnJvcih7IGFkZHJlc3MgfSk7XG4gICAgcmV0dXJuIGNoZWNrc3VtQWRkcmVzcyhhZGRyZXNzLCBjaGFpbklkKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEFkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAddress: () => (/* binding */ isAddress),\n/* harmony export */   isAddressCache: () => (/* binding */ isAddressCache)\n/* harmony export */ });\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\");\n\n\nconst addressRegex = /^0x[a-fA-F0-9]{40}$/;\n/** @internal */\nconst isAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction isAddress(address, options) {\n    const { strict = true } = options ?? {};\n    const cacheKey = `${address}.${strict}`;\n    if (isAddressCache.has(cacheKey))\n        return isAddressCache.get(cacheKey);\n    const result = (() => {\n        if (!addressRegex.test(address))\n            return false;\n        if (address.toLowerCase() === address)\n            return true;\n        if (strict)\n            return (0,_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(address) === address;\n        return true;\n    })();\n    isAddressCache.set(cacheKey, result);\n    return result;\n}\n//# sourceMappingURL=isAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9hZGRyZXNzL2lzQWRkcmVzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1DO0FBQ2U7QUFDbEQscUNBQXFDLEdBQUc7QUFDeEM7QUFDTyx5Q0FBeUMsMkNBQU07QUFDL0M7QUFDUCxZQUFZLGdCQUFnQjtBQUM1Qix3QkFBd0IsUUFBUSxHQUFHLE9BQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2FkZHJlc3MvaXNBZGRyZXNzLmpzP2YzOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTHJ1TWFwIH0gZnJvbSAnLi4vbHJ1LmpzJztcbmltcG9ydCB7IGNoZWNrc3VtQWRkcmVzcyB9IGZyb20gJy4vZ2V0QWRkcmVzcy5qcyc7XG5jb25zdCBhZGRyZXNzUmVnZXggPSAvXjB4W2EtZkEtRjAtOV17NDB9JC87XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNBZGRyZXNzQ2FjaGUgPSAvKiNfX1BVUkVfXyovIG5ldyBMcnVNYXAoODE5Mik7XG5leHBvcnQgZnVuY3Rpb24gaXNBZGRyZXNzKGFkZHJlc3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHN0cmljdCA9IHRydWUgfSA9IG9wdGlvbnMgPz8ge307XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgJHthZGRyZXNzfS4ke3N0cmljdH1gO1xuICAgIGlmIChpc0FkZHJlc3NDYWNoZS5oYXMoY2FjaGVLZXkpKVxuICAgICAgICByZXR1cm4gaXNBZGRyZXNzQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSAoKCkgPT4ge1xuICAgICAgICBpZiAoIWFkZHJlc3NSZWdleC50ZXN0KGFkZHJlc3MpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBhZGRyZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzdHJpY3QpXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tzdW1BZGRyZXNzKGFkZHJlc3MpID09PSBhZGRyZXNzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KSgpO1xuICAgIGlzQWRkcmVzc0NhY2hlLnNldChjYWNoZUtleSwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHex: () => (/* binding */ isHex)\n/* harmony export */ });\nfunction isHex(value, { strict = true } = {}) {\n    if (!value)\n        return false;\n    if (typeof value !== 'string')\n        return false;\n    return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');\n}\n//# sourceMappingURL=isHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL2lzSGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyx3QkFBd0IsZ0JBQWdCLElBQUk7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL2lzSGV4LmpzPzA4MWEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzSGV4KHZhbHVlLCB7IHN0cmljdCA9IHRydWUgfSA9IHt9KSB7XG4gICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHN0cmljdCA/IC9eMHhbMC05YS1mQS1GXSokLy50ZXN0KHZhbHVlKSA6IHZhbHVlLnN0YXJ0c1dpdGgoJzB4Jyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0hleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pad: () => (/* binding */ pad),\n/* harmony export */   padBytes: () => (/* binding */ padBytes),\n/* harmony export */   padHex: () => (/* binding */ padHex)\n/* harmony export */ });\n/* harmony import */ var _errors_data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors/data.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js\");\n\nfunction pad(hexOrBytes, { dir, size = 32 } = {}) {\n    if (typeof hexOrBytes === 'string')\n        return padHex(hexOrBytes, { dir, size });\n    return padBytes(hexOrBytes, { dir, size });\n}\nfunction padHex(hex_, { dir, size = 32 } = {}) {\n    if (size === null)\n        return hex_;\n    const hex = hex_.replace('0x', '');\n    if (hex.length > size * 2)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: Math.ceil(hex.length / 2),\n            targetSize: size,\n            type: 'hex',\n        });\n    return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;\n}\nfunction padBytes(bytes, { dir, size = 32 } = {}) {\n    if (size === null)\n        return bytes;\n    if (bytes.length > size)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: bytes.length,\n            targetSize: size,\n            type: 'bytes',\n        });\n    const paddedBytes = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n        const padEnd = dir === 'right';\n        paddedBytes[padEnd ? i : size - i - 1] =\n            bytes[padEnd ? i : bytes.length - i - 1];\n    }\n    return paddedBytes;\n}\n//# sourceMappingURL=pad.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3BhZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9FO0FBQzdELDJCQUEyQixpQkFBaUIsSUFBSTtBQUN2RDtBQUNBLG9DQUFvQyxXQUFXO0FBQy9DLGtDQUFrQyxXQUFXO0FBQzdDO0FBQ08sd0JBQXdCLGlCQUFpQixJQUFJO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUEyQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCLDREQUE0RDtBQUM1RTtBQUNPLDJCQUEyQixpQkFBaUIsSUFBSTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0VBQTJCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9wYWQuanM/NjgzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3IsIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2RhdGEuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIHBhZChoZXhPckJ5dGVzLCB7IGRpciwgc2l6ZSA9IDMyIH0gPSB7fSkge1xuICAgIGlmICh0eXBlb2YgaGV4T3JCeXRlcyA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBwYWRIZXgoaGV4T3JCeXRlcywgeyBkaXIsIHNpemUgfSk7XG4gICAgcmV0dXJuIHBhZEJ5dGVzKGhleE9yQnl0ZXMsIHsgZGlyLCBzaXplIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhZEhleChoZXhfLCB7IGRpciwgc2l6ZSA9IDMyIH0gPSB7fSkge1xuICAgIGlmIChzaXplID09PSBudWxsKVxuICAgICAgICByZXR1cm4gaGV4XztcbiAgICBjb25zdCBoZXggPSBoZXhfLnJlcGxhY2UoJzB4JywgJycpO1xuICAgIGlmIChoZXgubGVuZ3RoID4gc2l6ZSAqIDIpXG4gICAgICAgIHRocm93IG5ldyBTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3Ioe1xuICAgICAgICAgICAgc2l6ZTogTWF0aC5jZWlsKGhleC5sZW5ndGggLyAyKSxcbiAgICAgICAgICAgIHRhcmdldFNpemU6IHNpemUsXG4gICAgICAgICAgICB0eXBlOiAnaGV4JyxcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIGAweCR7aGV4W2RpciA9PT0gJ3JpZ2h0JyA/ICdwYWRFbmQnIDogJ3BhZFN0YXJ0J10oc2l6ZSAqIDIsICcwJyl9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYWRCeXRlcyhieXRlcywgeyBkaXIsIHNpemUgPSAzMiB9ID0ge30pIHtcbiAgICBpZiAoc2l6ZSA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIGlmIChieXRlcy5sZW5ndGggPiBzaXplKVxuICAgICAgICB0aHJvdyBuZXcgU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yKHtcbiAgICAgICAgICAgIHNpemU6IGJ5dGVzLmxlbmd0aCxcbiAgICAgICAgICAgIHRhcmdldFNpemU6IHNpemUsXG4gICAgICAgICAgICB0eXBlOiAnYnl0ZXMnLFxuICAgICAgICB9KTtcbiAgICBjb25zdCBwYWRkZWRCeXRlcyA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhZEVuZCA9IGRpciA9PT0gJ3JpZ2h0JztcbiAgICAgICAgcGFkZGVkQnl0ZXNbcGFkRW5kID8gaSA6IHNpemUgLSBpIC0gMV0gPVxuICAgICAgICAgICAgYnl0ZXNbcGFkRW5kID8gaSA6IGJ5dGVzLmxlbmd0aCAtIGkgLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhZGRlZEJ5dGVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\n/* harmony import */ var _isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n\n/**\n * @description Retrieves the size of the value (in bytes).\n *\n * @param value The value (hex or byte array) to retrieve the size of.\n * @returns The size of the value (in bytes).\n */\nfunction size(value) {\n    if ((0,_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value, { strict: false }))\n        return Math.ceil((value.length - 2) / 2);\n    return value.length;\n}\n//# sourceMappingURL=size.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3NpemUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxRQUFRLGdEQUFLLFVBQVUsZUFBZTtBQUN0QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2RhdGEvc2l6ZS5qcz8wN2NlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzSGV4IH0gZnJvbSAnLi9pc0hleC5qcyc7XG4vKipcbiAqIEBkZXNjcmlwdGlvbiBSZXRyaWV2ZXMgdGhlIHNpemUgb2YgdGhlIHZhbHVlIChpbiBieXRlcykuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSAoaGV4IG9yIGJ5dGUgYXJyYXkpIHRvIHJldHJpZXZlIHRoZSBzaXplIG9mLlxuICogQHJldHVybnMgVGhlIHNpemUgb2YgdGhlIHZhbHVlIChpbiBieXRlcykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaXplKHZhbHVlKSB7XG4gICAgaWYgKGlzSGV4KHZhbHVlLCB7IHN0cmljdDogZmFsc2UgfSkpXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHZhbHVlLmxlbmd0aCAtIDIpIC8gMik7XG4gICAgcmV0dXJuIHZhbHVlLmxlbmd0aDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpemUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trim: () => (/* binding */ trim)\n/* harmony export */ });\nfunction trim(hexOrBytes, { dir = 'left' } = {}) {\n    let data = typeof hexOrBytes === 'string' ? hexOrBytes.replace('0x', '') : hexOrBytes;\n    let sliceLength = 0;\n    for (let i = 0; i < data.length - 1; i++) {\n        if (data[dir === 'left' ? i : data.length - i - 1].toString() === '0')\n            sliceLength++;\n        else\n            break;\n    }\n    data =\n        dir === 'left'\n            ? data.slice(sliceLength)\n            : data.slice(0, data.length - sliceLength);\n    if (typeof hexOrBytes === 'string') {\n        if (data.length === 1 && dir === 'right')\n            data = `${data}0`;\n        return `0x${data.length % 2 === 1 ? `0${data}` : data}`;\n    }\n    return data;\n}\n//# sourceMappingURL=trim.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3RyaW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLDRCQUE0QixlQUFlLElBQUk7QUFDdEQ7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixLQUFLO0FBQzNCLG9CQUFvQiw0QkFBNEIsS0FBSyxTQUFTO0FBQzlEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS90cmltLmpzP2M2OWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHRyaW0oaGV4T3JCeXRlcywgeyBkaXIgPSAnbGVmdCcgfSA9IHt9KSB7XG4gICAgbGV0IGRhdGEgPSB0eXBlb2YgaGV4T3JCeXRlcyA9PT0gJ3N0cmluZycgPyBoZXhPckJ5dGVzLnJlcGxhY2UoJzB4JywgJycpIDogaGV4T3JCeXRlcztcbiAgICBsZXQgc2xpY2VMZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKGRhdGFbZGlyID09PSAnbGVmdCcgPyBpIDogZGF0YS5sZW5ndGggLSBpIC0gMV0udG9TdHJpbmcoKSA9PT0gJzAnKVxuICAgICAgICAgICAgc2xpY2VMZW5ndGgrKztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRhdGEgPVxuICAgICAgICBkaXIgPT09ICdsZWZ0J1xuICAgICAgICAgICAgPyBkYXRhLnNsaWNlKHNsaWNlTGVuZ3RoKVxuICAgICAgICAgICAgOiBkYXRhLnNsaWNlKDAsIGRhdGEubGVuZ3RoIC0gc2xpY2VMZW5ndGgpO1xuICAgIGlmICh0eXBlb2YgaGV4T3JCeXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAxICYmIGRpciA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgIGRhdGEgPSBgJHtkYXRhfTBgO1xuICAgICAgICByZXR1cm4gYDB4JHtkYXRhLmxlbmd0aCAlIDIgPT09IDEgPyBgMCR7ZGF0YX1gIDogZGF0YX1gO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyaW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertSize: () => (/* binding */ assertSize),\n/* harmony export */   fromHex: () => (/* binding */ fromHex),\n/* harmony export */   hexToBigInt: () => (/* binding */ hexToBigInt),\n/* harmony export */   hexToBool: () => (/* binding */ hexToBool),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   hexToString: () => (/* binding */ hexToString)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_size_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/size.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js\");\n/* harmony import */ var _data_trim_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/trim.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js\");\n/* harmony import */ var _toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n\n\n\n\nfunction assertSize(hexOrBytes, { size }) {\n    if ((0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes) > size)\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.SizeOverflowError({\n            givenSize: (0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes),\n            maxSize: size,\n        });\n}\n/**\n * Decodes a hex string into a string, number, bigint, boolean, or byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex\n * - Example: https://viem.sh/docs/utilities/fromHex#usage\n *\n * @param hex Hex string to decode.\n * @param toOrOpts Type to convert to or options.\n * @returns Decoded value.\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x1a4', 'number')\n * // 420\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c6421', 'string')\n * // 'Hello world'\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *   size: 32,\n *   to: 'string'\n * })\n * // 'Hello world'\n */\nfunction fromHex(hex, toOrOpts) {\n    const opts = typeof toOrOpts === 'string' ? { to: toOrOpts } : toOrOpts;\n    const to = opts.to;\n    if (to === 'number')\n        return hexToNumber(hex, opts);\n    if (to === 'bigint')\n        return hexToBigInt(hex, opts);\n    if (to === 'string')\n        return hexToString(hex, opts);\n    if (to === 'boolean')\n        return hexToBool(hex, opts);\n    return (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex, opts);\n}\n/**\n * Decodes a hex value into a bigint.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns BigInt value.\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x1a4', { signed: true })\n * // 420n\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420n\n */\nfunction hexToBigInt(hex, opts = {}) {\n    const { signed } = opts;\n    if (opts.size)\n        assertSize(hex, { size: opts.size });\n    const value = BigInt(hex);\n    if (!signed)\n        return value;\n    const size = (hex.length - 2) / 2;\n    const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n    if (value <= max)\n        return value;\n    return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;\n}\n/**\n * Decodes a hex value into a boolean.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobool\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Boolean value.\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x01')\n * // true\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x0000000000000000000000000000000000000000000000000000000000000001', { size: 32 })\n * // true\n */\nfunction hexToBool(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        assertSize(hex, { size: opts.size });\n        hex = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex);\n    }\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x00')\n        return false;\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x01')\n        return true;\n    throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.InvalidHexBooleanError(hex);\n}\n/**\n * Decodes a hex string into a number.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Number value.\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToNumber('0x1a4')\n * // 420\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420\n */\nfunction hexToNumber(hex, opts = {}) {\n    return Number(hexToBigInt(hex, opts));\n}\n/**\n * Decodes a hex value into a UTF-8 string.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextostring\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns String value.\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c6421')\n * // 'Hello world!'\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *  size: 32,\n * })\n * // 'Hello world'\n */\nfunction hexToString(hex, opts = {}) {\n    let bytes = (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex);\n    if (opts.size) {\n        assertSize(bytes, { size: opts.size });\n        bytes = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(bytes, { dir: 'right' });\n    }\n    return new TextDecoder().decode(bytes);\n}\n//# sourceMappingURL=fromHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy9mcm9tSGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBc0Y7QUFDdEM7QUFDVDtBQUNHO0FBQ25DLGtDQUFrQyxNQUFNO0FBQy9DLFFBQVEsbURBQUs7QUFDYixrQkFBa0Isa0VBQWlCO0FBQ25DLHVCQUF1QixtREFBSztBQUM1QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDTztBQUNQLGtEQUFrRCxlQUFlO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQix1Q0FBdUMsY0FBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsb0dBQW9HLFVBQVU7QUFDOUc7QUFDQTtBQUNPLG1DQUFtQztBQUMxQyxZQUFZLFNBQVM7QUFDckI7QUFDQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDRCQUE0QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLGtHQUFrRyxVQUFVO0FBQzVHO0FBQ0E7QUFDTyxrQ0FBa0M7QUFDekM7QUFDQTtBQUNBLDBCQUEwQixpQkFBaUI7QUFDM0MsY0FBYyxtREFBSTtBQUNsQjtBQUNBLFFBQVEsbURBQUk7QUFDWjtBQUNBLFFBQVEsbURBQUk7QUFDWjtBQUNBLGNBQWMsdUVBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsb0dBQW9HLFVBQVU7QUFDOUc7QUFDQTtBQUNPLG1DQUFtQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ08sbUNBQW1DO0FBQzFDLGdCQUFnQix1REFBVTtBQUMxQjtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0MsZ0JBQWdCLG1EQUFJLFVBQVUsY0FBYztBQUM1QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2VuY29kaW5nL2Zyb21IZXguanM/ZjI1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnZhbGlkSGV4Qm9vbGVhbkVycm9yLCBTaXplT3ZlcmZsb3dFcnJvciwgfSBmcm9tICcuLi8uLi9lcnJvcnMvZW5jb2RpbmcuanMnO1xuaW1wb3J0IHsgc2l6ZSBhcyBzaXplXyB9IGZyb20gJy4uL2RhdGEvc2l6ZS5qcyc7XG5pbXBvcnQgeyB0cmltIH0gZnJvbSAnLi4vZGF0YS90cmltLmpzJztcbmltcG9ydCB7IGhleFRvQnl0ZXMgfSBmcm9tICcuL3RvQnl0ZXMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFNpemUoaGV4T3JCeXRlcywgeyBzaXplIH0pIHtcbiAgICBpZiAoc2l6ZV8oaGV4T3JCeXRlcykgPiBzaXplKVxuICAgICAgICB0aHJvdyBuZXcgU2l6ZU92ZXJmbG93RXJyb3Ioe1xuICAgICAgICAgICAgZ2l2ZW5TaXplOiBzaXplXyhoZXhPckJ5dGVzKSxcbiAgICAgICAgICAgIG1heFNpemU6IHNpemUsXG4gICAgICAgIH0pO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHN0cmluZyBpbnRvIGEgc3RyaW5nLCBudW1iZXIsIGJpZ2ludCwgYm9vbGVhbiwgb3IgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4XG4gKiAtIEV4YW1wbGU6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I3VzYWdlXG4gKlxuICogQHBhcmFtIGhleCBIZXggc3RyaW5nIHRvIGRlY29kZS5cbiAqIEBwYXJhbSB0b09yT3B0cyBUeXBlIHRvIGNvbnZlcnQgdG8gb3Igb3B0aW9ucy5cbiAqIEByZXR1cm5zIERlY29kZWQgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGZyb21IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGZyb21IZXgoJzB4MWE0JywgJ251bWJlcicpXG4gKiAvLyA0MjBcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgZnJvbUhleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gZnJvbUhleCgnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEnLCAnc3RyaW5nJylcbiAqIC8vICdIZWxsbyB3b3JsZCdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgZnJvbUhleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gZnJvbUhleCgnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJywge1xuICogICBzaXplOiAzMixcbiAqICAgdG86ICdzdHJpbmcnXG4gKiB9KVxuICogLy8gJ0hlbGxvIHdvcmxkJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUhleChoZXgsIHRvT3JPcHRzKSB7XG4gICAgY29uc3Qgb3B0cyA9IHR5cGVvZiB0b09yT3B0cyA9PT0gJ3N0cmluZycgPyB7IHRvOiB0b09yT3B0cyB9IDogdG9Pck9wdHM7XG4gICAgY29uc3QgdG8gPSBvcHRzLnRvO1xuICAgIGlmICh0byA9PT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiBoZXhUb051bWJlcihoZXgsIG9wdHMpO1xuICAgIGlmICh0byA9PT0gJ2JpZ2ludCcpXG4gICAgICAgIHJldHVybiBoZXhUb0JpZ0ludChoZXgsIG9wdHMpO1xuICAgIGlmICh0byA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBoZXhUb1N0cmluZyhoZXgsIG9wdHMpO1xuICAgIGlmICh0byA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICByZXR1cm4gaGV4VG9Cb29sKGhleCwgb3B0cyk7XG4gICAgcmV0dXJuIGhleFRvQnl0ZXMoaGV4LCBvcHRzKTtcbn1cbi8qKlxuICogRGVjb2RlcyBhIGhleCB2YWx1ZSBpbnRvIGEgYmlnaW50LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXgjaGV4dG9iaWdpbnRcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCB2YWx1ZSB0byBkZWNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQmlnSW50IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0JpZ0ludCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9CaWdJbnQoJzB4MWE0JywgeyBzaWduZWQ6IHRydWUgfSlcbiAqIC8vIDQyMG5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9CaWdJbnQgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQmlnSW50KCcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxYTQnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyA0MjBuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb0JpZ0ludChoZXgsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgc2lnbmVkIH0gPSBvcHRzO1xuICAgIGlmIChvcHRzLnNpemUpXG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICBjb25zdCB2YWx1ZSA9IEJpZ0ludChoZXgpO1xuICAgIGlmICghc2lnbmVkKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3Qgc2l6ZSA9IChoZXgubGVuZ3RoIC0gMikgLyAyO1xuICAgIGNvbnN0IG1heCA9ICgxbiA8PCAoQmlnSW50KHNpemUpICogOG4gLSAxbikpIC0gMW47XG4gICAgaWYgKHZhbHVlIDw9IG1heClcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZSAtIEJpZ0ludChgMHgkeydmJy5wYWRTdGFydChzaXplICogMiwgJ2YnKX1gKSAtIDFuO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHZhbHVlIGludG8gYSBib29sZWFuLlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXgjaGV4dG9ib29sXG4gKlxuICogQHBhcmFtIGhleCBIZXggdmFsdWUgdG8gZGVjb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJvb2xlYW4gdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQm9vbCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9Cb29sKCcweDAxJylcbiAqIC8vIHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9Cb29sIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0Jvb2woJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIHRydWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvQm9vbChoZXhfLCBvcHRzID0ge30pIHtcbiAgICBsZXQgaGV4ID0gaGV4XztcbiAgICBpZiAob3B0cy5zaXplKSB7XG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgaGV4ID0gdHJpbShoZXgpO1xuICAgIH1cbiAgICBpZiAodHJpbShoZXgpID09PSAnMHgwMCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHJpbShoZXgpID09PSAnMHgwMScpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHRocm93IG5ldyBJbnZhbGlkSGV4Qm9vbGVhbkVycm9yKGhleCk7XG59XG4vKipcbiAqIERlY29kZXMgYSBoZXggc3RyaW5nIGludG8gYSBudW1iZXIuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleCNoZXh0b251bWJlclxuICpcbiAqIEBwYXJhbSBoZXggSGV4IHZhbHVlIHRvIGRlY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBOdW1iZXIgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvTnVtYmVyIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb051bWJlcignMHgxYTQnKVxuICogLy8gNDIwXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvTnVtYmVyIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0JpZ0ludCgnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMWE0JywgeyBzaXplOiAzMiB9KVxuICogLy8gNDIwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb051bWJlcihoZXgsIG9wdHMgPSB7fSkge1xuICAgIHJldHVybiBOdW1iZXIoaGV4VG9CaWdJbnQoaGV4LCBvcHRzKSk7XG59XG4vKipcbiAqIERlY29kZXMgYSBoZXggdmFsdWUgaW50byBhIFVURi04IHN0cmluZy5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I2hleHRvc3RyaW5nXG4gKlxuICogQHBhcmFtIGhleCBIZXggdmFsdWUgdG8gZGVjb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIFN0cmluZyB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9TdHJpbmcgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvU3RyaW5nKCcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMScpXG4gKiAvLyAnSGVsbG8gd29ybGQhJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb1N0cmluZyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9TdHJpbmcoJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsIHtcbiAqICBzaXplOiAzMixcbiAqIH0pXG4gKiAvLyAnSGVsbG8gd29ybGQnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1N0cmluZyhoZXgsIG9wdHMgPSB7fSkge1xuICAgIGxldCBieXRlcyA9IGhleFRvQnl0ZXMoaGV4KTtcbiAgICBpZiAob3B0cy5zaXplKSB7XG4gICAgICAgIGFzc2VydFNpemUoYnl0ZXMsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICBieXRlcyA9IHRyaW0oYnl0ZXMsIHsgZGlyOiAncmlnaHQnIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGJ5dGVzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21IZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToBytes: () => (/* binding */ boolToBytes),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   numberToBytes: () => (/* binding */ numberToBytes),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   toBytes: () => (/* binding */ toBytes)\n/* harmony export */ });\n/* harmony import */ var _errors_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../errors/base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _toHex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\n\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes\n * - Example: https://viem.sh/docs/utilities/toBytes#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes('Hello world')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction toBytes(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToBytes(value, opts);\n    if (typeof value === 'boolean')\n        return boolToBytes(value, opts);\n    if ((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value))\n        return hexToBytes(value, opts);\n    return stringToBytes(value, opts);\n}\n/**\n * Encodes a boolean into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes\n *\n * @param value Boolean value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true)\n * // Uint8Array([1])\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true, { size: 32 })\n * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])\n */\nfunction boolToBytes(value, opts = {}) {\n    const bytes = new Uint8Array(1);\n    bytes[0] = Number(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { size: opts.size });\n    }\n    return bytes;\n}\n// We use very optimized technique to convert hex string to byte array\nconst charCodeMap = {\n    zero: 48,\n    nine: 57,\n    A: 65,\n    F: 70,\n    a: 97,\n    f: 102,\n};\nfunction charCodeToBase16(char) {\n    if (char >= charCodeMap.zero && char <= charCodeMap.nine)\n        return char - charCodeMap.zero;\n    if (char >= charCodeMap.A && char <= charCodeMap.F)\n        return char - (charCodeMap.A - 10);\n    if (char >= charCodeMap.a && char <= charCodeMap.f)\n        return char - (charCodeMap.a - 10);\n    return undefined;\n}\n/**\n * Encodes a hex string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes\n *\n * @param hex Hex string to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction hexToBytes(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(hex, { size: opts.size });\n        hex = (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    let hexString = hex.slice(2);\n    if (hexString.length % 2)\n        hexString = `0${hexString}`;\n    const length = hexString.length / 2;\n    const bytes = new Uint8Array(length);\n    for (let index = 0, j = 0; index < length; index++) {\n        const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));\n        const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));\n        if (nibbleLeft === undefined || nibbleRight === undefined) {\n            throw new _errors_base_js__WEBPACK_IMPORTED_MODULE_3__.BaseError(`Invalid byte sequence (\"${hexString[j - 2]}${hexString[j - 1]}\" in \"${hexString}\").`);\n        }\n        bytes[index] = nibbleLeft * 16 + nibbleRight;\n    }\n    return bytes;\n}\n/**\n * Encodes a number into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes\n *\n * @param value Number to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction numberToBytes(value, opts) {\n    const hex = (0,_toHex_js__WEBPACK_IMPORTED_MODULE_4__.numberToHex)(value, opts);\n    return hexToBytes(hex);\n}\n/**\n * Encodes a UTF-8 string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes\n *\n * @param value String to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction stringToBytes(value, opts = {}) {\n    const bytes = encoder.encode(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { dir: 'right', size: opts.size });\n    }\n    return bytes;\n}\n//# sourceMappingURL=toBytes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0J5dGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDUjtBQUNKO0FBQ0s7QUFDQTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsK0JBQStCLFNBQVM7QUFDeEM7QUFDQTtBQUNPLGlDQUFpQztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQixvQ0FBb0MsVUFBVTtBQUM5QztBQUNBO0FBQ08scUNBQXFDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQVUsVUFBVSxpQkFBaUI7QUFDN0MsZUFBZSxpREFBRyxVQUFVLGlCQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QiwyREFBMkQsVUFBVTtBQUNyRTtBQUNBO0FBQ08sbUNBQW1DO0FBQzFDO0FBQ0E7QUFDQSxRQUFRLHVEQUFVLFFBQVEsaUJBQWlCO0FBQzNDLGNBQWMsaURBQUcsUUFBUSwrQkFBK0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBLCtCQUErQixnQkFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFTLDRCQUE0QixpQkFBaUIsRUFBRSxpQkFBaUIsUUFBUSxVQUFVO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIscUNBQXFDLFNBQVM7QUFDOUM7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLHNEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIsZ0RBQWdELFVBQVU7QUFDMUQ7QUFDQTtBQUNPLHVDQUF1QztBQUM5QztBQUNBO0FBQ0EsUUFBUSx1REFBVSxVQUFVLGlCQUFpQjtBQUM3QyxlQUFlLGlEQUFHLFVBQVUsK0JBQStCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvdG9CeXRlcy5qcz82ODAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycy9iYXNlLmpzJztcbmltcG9ydCB7IGlzSGV4IH0gZnJvbSAnLi4vZGF0YS9pc0hleC5qcyc7XG5pbXBvcnQgeyBwYWQgfSBmcm9tICcuLi9kYXRhL3BhZC5qcyc7XG5pbXBvcnQgeyBhc3NlcnRTaXplIH0gZnJvbSAnLi9mcm9tSGV4LmpzJztcbmltcG9ydCB7IG51bWJlclRvSGV4LCB9IGZyb20gJy4vdG9IZXguanMnO1xuY29uc3QgZW5jb2RlciA9IC8qI19fUFVSRV9fKi8gbmV3IFRleHRFbmNvZGVyKCk7XG4vKipcbiAqIEVuY29kZXMgYSBVVEYtOCBzdHJpbmcsIGhleCB2YWx1ZSwgYmlnaW50LCBudW1iZXIgb3IgYm9vbGVhbiB0byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlc1xuICogLSBFeGFtcGxlOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyN1c2FnZVxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQnl0ZSBhcnJheSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9CeXRlcygnSGVsbG8gd29ybGQnKVxuICogLy8gVWludDhBcnJheShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzXSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9CeXRlcyg0MjApXG4gKiAvLyBVaW50OEFycmF5KFsxLCAxNjRdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSB0b0J5dGVzKDQyMCwgeyBzaXplOiA0IH0pXG4gKiAvLyBVaW50OEFycmF5KFswLCAwLCAxLCAxNjRdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9CeXRlcyh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYmlnaW50JylcbiAgICAgICAgcmV0dXJuIG51bWJlclRvQnl0ZXModmFsdWUsIG9wdHMpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJylcbiAgICAgICAgcmV0dXJuIGJvb2xUb0J5dGVzKHZhbHVlLCBvcHRzKTtcbiAgICBpZiAoaXNIZXgodmFsdWUpKVxuICAgICAgICByZXR1cm4gaGV4VG9CeXRlcyh2YWx1ZSwgb3B0cyk7XG4gICAgcmV0dXJuIHN0cmluZ1RvQnl0ZXModmFsdWUsIG9wdHMpO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgYm9vbGVhbiBpbnRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzI2Jvb2x0b2J5dGVzXG4gKlxuICogQHBhcmFtIHZhbHVlIEJvb2xlYW4gdmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJvb2xUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9CeXRlcyh0cnVlKVxuICogLy8gVWludDhBcnJheShbMV0pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJvb2xUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9CeXRlcyh0cnVlLCB7IHNpemU6IDMyIH0pXG4gKiAvLyBVaW50OEFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxXSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb2xUb0J5dGVzKHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgIGJ5dGVzWzBdID0gTnVtYmVyKHZhbHVlKTtcbiAgICBpZiAodHlwZW9mIG9wdHMuc2l6ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShieXRlcywgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIHJldHVybiBwYWQoYnl0ZXMsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG4vLyBXZSB1c2UgdmVyeSBvcHRpbWl6ZWQgdGVjaG5pcXVlIHRvIGNvbnZlcnQgaGV4IHN0cmluZyB0byBieXRlIGFycmF5XG5jb25zdCBjaGFyQ29kZU1hcCA9IHtcbiAgICB6ZXJvOiA0OCxcbiAgICBuaW5lOiA1NyxcbiAgICBBOiA2NSxcbiAgICBGOiA3MCxcbiAgICBhOiA5NyxcbiAgICBmOiAxMDIsXG59O1xuZnVuY3Rpb24gY2hhckNvZGVUb0Jhc2UxNihjaGFyKSB7XG4gICAgaWYgKGNoYXIgPj0gY2hhckNvZGVNYXAuemVybyAmJiBjaGFyIDw9IGNoYXJDb2RlTWFwLm5pbmUpXG4gICAgICAgIHJldHVybiBjaGFyIC0gY2hhckNvZGVNYXAuemVybztcbiAgICBpZiAoY2hhciA+PSBjaGFyQ29kZU1hcC5BICYmIGNoYXIgPD0gY2hhckNvZGVNYXAuRilcbiAgICAgICAgcmV0dXJuIGNoYXIgLSAoY2hhckNvZGVNYXAuQSAtIDEwKTtcbiAgICBpZiAoY2hhciA+PSBjaGFyQ29kZU1hcC5hICYmIGNoYXIgPD0gY2hhckNvZGVNYXAuZilcbiAgICAgICAgcmV0dXJuIGNoYXIgLSAoY2hhckNvZGVNYXAuYSAtIDEwKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgaGV4IHN0cmluZyBpbnRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzI2hleHRvYnl0ZXNcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCBzdHJpbmcgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQnl0ZXMoJzB4NDg2NTZjNmM2ZjIwNzc2ZjcyNmM2NDIxJylcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzM10pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQnl0ZXMoJzB4NDg2NTZjNmM2ZjIwNzc2ZjcyNmM2NDIxJywgeyBzaXplOiAzMiB9KVxuICogLy8gVWludDhBcnJheShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvQnl0ZXMoaGV4Xywgb3B0cyA9IHt9KSB7XG4gICAgbGV0IGhleCA9IGhleF87XG4gICAgaWYgKG9wdHMuc2l6ZSkge1xuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIGhleCA9IHBhZChoZXgsIHsgZGlyOiAncmlnaHQnLCBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgfVxuICAgIGxldCBoZXhTdHJpbmcgPSBoZXguc2xpY2UoMik7XG4gICAgaWYgKGhleFN0cmluZy5sZW5ndGggJSAyKVxuICAgICAgICBoZXhTdHJpbmcgPSBgMCR7aGV4U3RyaW5nfWA7XG4gICAgY29uc3QgbGVuZ3RoID0gaGV4U3RyaW5nLmxlbmd0aCAvIDI7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgIGZvciAobGV0IGluZGV4ID0gMCwgaiA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IG5pYmJsZUxlZnQgPSBjaGFyQ29kZVRvQmFzZTE2KGhleFN0cmluZy5jaGFyQ29kZUF0KGorKykpO1xuICAgICAgICBjb25zdCBuaWJibGVSaWdodCA9IGNoYXJDb2RlVG9CYXNlMTYoaGV4U3RyaW5nLmNoYXJDb2RlQXQoaisrKSk7XG4gICAgICAgIGlmIChuaWJibGVMZWZ0ID09PSB1bmRlZmluZWQgfHwgbmliYmxlUmlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFcnJvcihgSW52YWxpZCBieXRlIHNlcXVlbmNlIChcIiR7aGV4U3RyaW5nW2ogLSAyXX0ke2hleFN0cmluZ1tqIC0gMV19XCIgaW4gXCIke2hleFN0cmluZ31cIikuYCk7XG4gICAgICAgIH1cbiAgICAgICAgYnl0ZXNbaW5kZXhdID0gbmliYmxlTGVmdCAqIDE2ICsgbmliYmxlUmlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbi8qKlxuICogRW5jb2RlcyBhIG51bWJlciBpbnRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzI251bWJlcnRvYnl0ZXNcbiAqXG4gKiBAcGFyYW0gdmFsdWUgTnVtYmVyIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCeXRlIGFycmF5IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBudW1iZXJUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBudW1iZXJUb0J5dGVzKDQyMClcbiAqIC8vIFVpbnQ4QXJyYXkoWzEsIDE2NF0pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG51bWJlclRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IG51bWJlclRvQnl0ZXMoNDIwLCB7IHNpemU6IDQgfSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzAsIDAsIDEsIDE2NF0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJUb0J5dGVzKHZhbHVlLCBvcHRzKSB7XG4gICAgY29uc3QgaGV4ID0gbnVtYmVyVG9IZXgodmFsdWUsIG9wdHMpO1xuICAgIHJldHVybiBoZXhUb0J5dGVzKGhleCk7XG59XG4vKipcbiAqIEVuY29kZXMgYSBVVEYtOCBzdHJpbmcgaW50byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyNzdHJpbmd0b2J5dGVzXG4gKlxuICogQHBhcmFtIHZhbHVlIFN0cmluZyB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQnl0ZSBhcnJheSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgc3RyaW5nVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gc3RyaW5nVG9CeXRlcygnSGVsbG8gd29ybGQhJylcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCAxMTksIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBzdHJpbmdUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBzdHJpbmdUb0J5dGVzKCdIZWxsbyB3b3JsZCEnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyBVaW50OEFycmF5KFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzMsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBlbmNvZGVyLmVuY29kZSh2YWx1ZSk7XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFzc2VydFNpemUoYnl0ZXMsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICByZXR1cm4gcGFkKGJ5dGVzLCB7IGRpcjogJ3JpZ2h0Jywgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b0J5dGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToHex: () => (/* binding */ boolToHex),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   numberToHex: () => (/* binding */ numberToHex),\n/* harmony export */   stringToHex: () => (/* binding */ stringToHex),\n/* harmony export */   toHex: () => (/* binding */ toHex)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n\n\n\nconst hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));\n/**\n * Encodes a string, number, bigint, or ByteArray into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex\n * - Example: https://viem.sh/docs/utilities/toHex#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world')\n * // '0x48656c6c6f20776f726c6421'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex(420)\n * // '0x1a4'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world', { size: 32 })\n * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'\n */\nfunction toHex(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToHex(value, opts);\n    if (typeof value === 'string') {\n        return stringToHex(value, opts);\n    }\n    if (typeof value === 'boolean')\n        return boolToHex(value, opts);\n    return bytesToHex(value, opts);\n}\n/**\n * Encodes a boolean into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#booltohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true)\n * // '0x1'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(false)\n * // '0x0'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true, { size: 32 })\n * // '0x0000000000000000000000000000000000000000000000000000000000000001'\n */\nfunction boolToHex(value, opts = {}) {\n    const hex = `0x${Number(value)}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a bytes array into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction bytesToHex(value, opts = {}) {\n    let string = '';\n    for (let i = 0; i < value.length; i++) {\n        string += hexes[value[i]];\n    }\n    const hex = `0x${string}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a number or bigint into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420)\n * // '0x1a4'\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420, { size: 32 })\n * // '0x00000000000000000000000000000000000000000000000000000000000001a4'\n */\nfunction numberToHex(value_, opts = {}) {\n    const { signed, size } = opts;\n    const value = BigInt(value_);\n    let maxValue;\n    if (size) {\n        if (signed)\n            maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n        else\n            maxValue = 2n ** (BigInt(size) * 8n) - 1n;\n    }\n    else if (typeof value_ === 'number') {\n        maxValue = BigInt(Number.MAX_SAFE_INTEGER);\n    }\n    const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;\n    if ((maxValue && value > maxValue) || value < minValue) {\n        const suffix = typeof value_ === 'bigint' ? 'n' : '';\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__.IntegerOutOfRangeError({\n            max: maxValue ? `${maxValue}${suffix}` : undefined,\n            min: `${minValue}${suffix}`,\n            signed,\n            size,\n            value: `${value_}${suffix}`,\n        });\n    }\n    const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;\n    if (size)\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size });\n    return hex;\n}\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!')\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!', { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction stringToHex(value_, opts = {}) {\n    const value = encoder.encode(value_);\n    return bytesToHex(value, opts);\n}\n//# sourceMappingURL=toHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0hleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFtRTtBQUM5QjtBQUNLO0FBQzFDLHlDQUF5QyxhQUFhO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNPLCtCQUErQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixrQ0FBa0MsVUFBVTtBQUM1QztBQUNBO0FBQ08sbUNBQW1DO0FBQzFDLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0EsUUFBUSx1REFBVSxRQUFRLGlCQUFpQjtBQUMzQyxlQUFlLGlEQUFHLFFBQVEsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCLHdHQUF3RyxVQUFVO0FBQ2xIO0FBQ0E7QUFDTyxvQ0FBb0M7QUFDM0M7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBLFFBQVEsdURBQVUsUUFBUSxpQkFBaUI7QUFDM0MsZUFBZSxpREFBRyxRQUFRLCtCQUErQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQixtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ08sc0NBQXNDO0FBQzdDLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVFQUFzQjtBQUN4QywrQkFBK0IsU0FBUyxFQUFFLE9BQU87QUFDakQsb0JBQW9CLFNBQVMsRUFBRSxPQUFPO0FBQ3RDO0FBQ0E7QUFDQSxzQkFBc0IsT0FBTyxFQUFFLE9BQU87QUFDdEMsU0FBUztBQUNUO0FBQ0EscUJBQXFCLHNGQUFzRjtBQUMzRztBQUNBLGVBQWUsaURBQUcsUUFBUSxNQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLDhDQUE4QyxVQUFVO0FBQ3hEO0FBQ0E7QUFDTyxzQ0FBc0M7QUFDN0M7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0hleC5qcz8wY2NiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVnZXJPdXRPZlJhbmdlRXJyb3IsIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2VuY29kaW5nLmpzJztcbmltcG9ydCB7IHBhZCB9IGZyb20gJy4uL2RhdGEvcGFkLmpzJztcbmltcG9ydCB7IGFzc2VydFNpemUgfSBmcm9tICcuL2Zyb21IZXguanMnO1xuY29uc3QgaGV4ZXMgPSAvKiNfX1BVUkVfXyovIEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9LCAoX3YsIGkpID0+IGkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpO1xuLyoqXG4gKiBFbmNvZGVzIGEgc3RyaW5nLCBudW1iZXIsIGJpZ2ludCwgb3IgQnl0ZUFycmF5IGludG8gYSBoZXggc3RyaW5nXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXhcbiAqIC0gRXhhbXBsZTogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I3VzYWdlXG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSB0b0hleCgnSGVsbG8gd29ybGQnKVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNzc2ZjcyNmM2NDIxJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9IZXgoNDIwKVxuICogLy8gJzB4MWE0J1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9IZXgoJ0hlbGxvIHdvcmxkJywgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNzc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSGV4KHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnKVxuICAgICAgICByZXR1cm4gbnVtYmVyVG9IZXgodmFsdWUsIG9wdHMpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdUb0hleCh2YWx1ZSwgb3B0cyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJylcbiAgICAgICAgcmV0dXJuIGJvb2xUb0hleCh2YWx1ZSwgb3B0cyk7XG4gICAgcmV0dXJuIGJ5dGVzVG9IZXgodmFsdWUsIG9wdHMpO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgYm9vbGVhbiBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I2Jvb2x0b2hleFxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgSGV4IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJvb2xUb0hleCh0cnVlKVxuICogLy8gJzB4MSdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYm9vbFRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9IZXgoZmFsc2UpXG4gKiAvLyAnMHgwJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJvb2xUb0hleCh0cnVlLCB7IHNpemU6IDMyIH0pXG4gKiAvLyAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYm9vbFRvSGV4KHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCBoZXggPSBgMHgke051bWJlcih2YWx1ZSl9YDtcbiAgICBpZiAodHlwZW9mIG9wdHMuc2l6ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICByZXR1cm4gcGFkKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEVuY29kZXMgYSBieXRlcyBhcnJheSBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I2J5dGVzdG9oZXhcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYnl0ZXNUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYnl0ZXNUb0hleChVaW50OEFycmF5LmZyb20oWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzM10pXG4gKiAvLyAnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJ5dGVzVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJ5dGVzVG9IZXgoVWludDhBcnJheS5mcm9tKFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKSwgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9IZXgodmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGxldCBzdHJpbmcgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmluZyArPSBoZXhlc1t2YWx1ZVtpXV07XG4gICAgfVxuICAgIGNvbnN0IGhleCA9IGAweCR7c3RyaW5nfWA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgcmV0dXJuIHBhZChoZXgsIHsgZGlyOiAncmlnaHQnLCBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG4vKipcbiAqIEVuY29kZXMgYSBudW1iZXIgb3IgYmlnaW50IGludG8gYSBoZXggc3RyaW5nXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXgjbnVtYmVydG9oZXhcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbnVtYmVyVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IG51bWJlclRvSGV4KDQyMClcbiAqIC8vICcweDFhNCdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbnVtYmVyVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IG51bWJlclRvSGV4KDQyMCwgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDFhNCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvSGV4KHZhbHVlXywgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgeyBzaWduZWQsIHNpemUgfSA9IG9wdHM7XG4gICAgY29uc3QgdmFsdWUgPSBCaWdJbnQodmFsdWVfKTtcbiAgICBsZXQgbWF4VmFsdWU7XG4gICAgaWYgKHNpemUpIHtcbiAgICAgICAgaWYgKHNpZ25lZClcbiAgICAgICAgICAgIG1heFZhbHVlID0gKDFuIDw8IChCaWdJbnQoc2l6ZSkgKiA4biAtIDFuKSkgLSAxbjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbWF4VmFsdWUgPSAybiAqKiAoQmlnSW50KHNpemUpICogOG4pIC0gMW47XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZV8gPT09ICdudW1iZXInKSB7XG4gICAgICAgIG1heFZhbHVlID0gQmlnSW50KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbiAgICB9XG4gICAgY29uc3QgbWluVmFsdWUgPSB0eXBlb2YgbWF4VmFsdWUgPT09ICdiaWdpbnQnICYmIHNpZ25lZCA/IC1tYXhWYWx1ZSAtIDFuIDogMDtcbiAgICBpZiAoKG1heFZhbHVlICYmIHZhbHVlID4gbWF4VmFsdWUpIHx8IHZhbHVlIDwgbWluVmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc3VmZml4ID0gdHlwZW9mIHZhbHVlXyA9PT0gJ2JpZ2ludCcgPyAnbicgOiAnJztcbiAgICAgICAgdGhyb3cgbmV3IEludGVnZXJPdXRPZlJhbmdlRXJyb3Ioe1xuICAgICAgICAgICAgbWF4OiBtYXhWYWx1ZSA/IGAke21heFZhbHVlfSR7c3VmZml4fWAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtaW46IGAke21pblZhbHVlfSR7c3VmZml4fWAsXG4gICAgICAgICAgICBzaWduZWQsXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgdmFsdWU6IGAke3ZhbHVlX30ke3N1ZmZpeH1gLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgaGV4ID0gYDB4JHsoc2lnbmVkICYmIHZhbHVlIDwgMCA/ICgxbiA8PCBCaWdJbnQoc2l6ZSAqIDgpKSArIEJpZ0ludCh2YWx1ZSkgOiB2YWx1ZSkudG9TdHJpbmcoMTYpfWA7XG4gICAgaWYgKHNpemUpXG4gICAgICAgIHJldHVybiBwYWQoaGV4LCB7IHNpemUgfSk7XG4gICAgcmV0dXJuIGhleDtcbn1cbmNvbnN0IGVuY29kZXIgPSAvKiNfX1BVUkVfXyovIG5ldyBUZXh0RW5jb2RlcigpO1xuLyoqXG4gKiBFbmNvZGVzIGEgVVRGLTggc3RyaW5nIGludG8gYSBoZXggc3RyaW5nXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXgjc3RyaW5ndG9oZXhcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgc3RyaW5nVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHN0cmluZ1RvSGV4KCdIZWxsbyBXb3JsZCEnKVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBzdHJpbmdUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gc3RyaW5nVG9IZXgoJ0hlbGxvIFdvcmxkIScsIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb0hleCh2YWx1ZV8sIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHZhbHVlID0gZW5jb2Rlci5lbmNvZGUodmFsdWVfKTtcbiAgICByZXR1cm4gYnl0ZXNUb0hleCh2YWx1ZSwgb3B0cyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b0hleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keccak256: () => (/* binding */ keccak256)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/sha3 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha3.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\nfunction keccak256(value, to_) {\n    const to = to_ || 'hex';\n    const bytes = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__.keccak_256)((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_1__.isHex)(value, { strict: false }) ? (0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.toBytes)(value) : value);\n    if (to === 'bytes')\n        return bytes;\n    return (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__.toHex)(bytes);\n}\n//# sourceMappingURL=keccak256.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9oYXNoL2tlY2NhazI1Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRDtBQUNQO0FBQ1E7QUFDSjtBQUN0QztBQUNQO0FBQ0Esa0JBQWtCLDhEQUFVLENBQUMscURBQUssVUFBVSxlQUFlLElBQUksNkRBQU87QUFDdEU7QUFDQTtBQUNBLFdBQVcseURBQUs7QUFDaEI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2hhc2gva2VjY2FrMjU2LmpzPzYzYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsga2VjY2FrXzI1NiB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvc2hhMyc7XG5pbXBvcnQgeyBpc0hleCB9IGZyb20gJy4uL2RhdGEvaXNIZXguanMnO1xuaW1wb3J0IHsgdG9CeXRlcyB9IGZyb20gJy4uL2VuY29kaW5nL3RvQnl0ZXMuanMnO1xuaW1wb3J0IHsgdG9IZXggfSBmcm9tICcuLi9lbmNvZGluZy90b0hleC5qcyc7XG5leHBvcnQgZnVuY3Rpb24ga2VjY2FrMjU2KHZhbHVlLCB0b18pIHtcbiAgICBjb25zdCB0byA9IHRvXyB8fCAnaGV4JztcbiAgICBjb25zdCBieXRlcyA9IGtlY2Nha18yNTYoaXNIZXgodmFsdWUsIHsgc3RyaWN0OiBmYWxzZSB9KSA/IHRvQnl0ZXModmFsdWUpIDogdmFsdWUpO1xuICAgIGlmICh0byA9PT0gJ2J5dGVzJylcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIHJldHVybiB0b0hleChieXRlcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZWNjYWsyNTYuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LruMap: () => (/* binding */ LruMap)\n/* harmony export */ });\n/**\n * Map with a LRU (Least recently used) policy.\n *\n * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU\n */\nclass LruMap extends Map {\n    constructor(size) {\n        super();\n        Object.defineProperty(this, \"maxSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.maxSize = size;\n    }\n    get(key) {\n        const value = super.get(key);\n        if (super.has(key) && value !== undefined) {\n            this.delete(key);\n            super.set(key, value);\n        }\n        return value;\n    }\n    set(key, value) {\n        super.set(key, value);\n        if (this.maxSize && this.size > this.maxSize) {\n            const firstKey = this.keys().next().value;\n            if (firstKey)\n                this.delete(firstKey);\n        }\n        return this;\n    }\n}\n//# sourceMappingURL=lru.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9scnUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2xydS5qcz9kN2RjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWFwIHdpdGggYSBMUlUgKExlYXN0IHJlY2VudGx5IHVzZWQpIHBvbGljeS5cbiAqXG4gKiBAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYWNoZV9yZXBsYWNlbWVudF9wb2xpY2llcyNMUlVcbiAqL1xuZXhwb3J0IGNsYXNzIExydU1hcCBleHRlbmRzIE1hcCB7XG4gICAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhTaXplXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IHNpemU7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdXBlci5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHN1cGVyLmhhcyhrZXkpICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLm1heFNpemUgJiYgdGhpcy5zaXplID4gdGhpcy5tYXhTaXplKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEtleSA9IHRoaXMua2V5cygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChmaXJzdEtleSlcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZShmaXJzdEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bHJ1LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverAddress: () => (/* binding */ recoverAddress)\n/* harmony export */ });\n/* harmony import */ var _accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../accounts/utils/publicKeyToAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\");\n/* harmony import */ var _recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recoverPublicKey.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\");\n\n\nasync function recoverAddress({ hash, signature, }) {\n    return (0,_accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__.publicKeyToAddress)(await (0,_recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__.recoverPublicKey)({ hash, signature }));\n}\n//# sourceMappingURL=recoverAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlckFkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdGO0FBQ3ZCO0FBQ2xELGdDQUFnQyxrQkFBa0I7QUFDekQsV0FBVyx5RkFBa0IsT0FBTyxzRUFBZ0IsR0FBRyxpQkFBaUI7QUFDeEU7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL3NpZ25hdHVyZS9yZWNvdmVyQWRkcmVzcy5qcz8zNWRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHB1YmxpY0tleVRvQWRkcmVzcyB9IGZyb20gJy4uLy4uL2FjY291bnRzL3V0aWxzL3B1YmxpY0tleVRvQWRkcmVzcy5qcyc7XG5pbXBvcnQgeyByZWNvdmVyUHVibGljS2V5IH0gZnJvbSAnLi9yZWNvdmVyUHVibGljS2V5LmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWNvdmVyQWRkcmVzcyh7IGhhc2gsIHNpZ25hdHVyZSwgfSkge1xuICAgIHJldHVybiBwdWJsaWNLZXlUb0FkZHJlc3MoYXdhaXQgcmVjb3ZlclB1YmxpY0tleSh7IGhhc2gsIHNpZ25hdHVyZSB9KSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvdmVyQWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverPublicKey: () => (/* binding */ recoverPublicKey)\n/* harmony export */ });\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _data_size_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/size.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js\");\n/* harmony import */ var _encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\nasync function recoverPublicKey({ hash, signature, }) {\n    const hashHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(hash) ? hash : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(hash);\n    const { secp256k1 } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@walletconnect\"), __webpack_require__.e(\"vendor-chunks/@noble\")]).then(__webpack_require__.bind(__webpack_require__, /*! @noble/curves/secp256k1 */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/secp256k1.js\"));\n    const signature_ = (() => {\n        // typeof signature: `Signature`\n        if (typeof signature === 'object' && 'r' in signature && 's' in signature) {\n            const { r, s, v, yParity } = signature;\n            const yParityOrV = Number(yParity ?? v);\n            const recoveryBit = toRecoveryBit(yParityOrV);\n            return new secp256k1.Signature((0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(r), (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(s)).addRecoveryBit(recoveryBit);\n        }\n        // typeof signature: `Hex | ByteArray`\n        const signatureHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(signature) ? signature : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(signature);\n        if ((0,_data_size_js__WEBPACK_IMPORTED_MODULE_3__.size)(signatureHex) !== 65)\n            throw new Error('invalid signature length');\n        const yParityOrV = (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToNumber)(`0x${signatureHex.slice(130)}`);\n        const recoveryBit = toRecoveryBit(yParityOrV);\n        return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);\n    })();\n    const publicKey = signature_\n        .recoverPublicKey(hashHex.substring(2))\n        .toHex(false);\n    return `0x${publicKey}`;\n}\nfunction toRecoveryBit(yParityOrV) {\n    if (yParityOrV === 0 || yParityOrV === 1)\n        return yParityOrV;\n    if (yParityOrV === 27)\n        return 0;\n    if (yParityOrV === 28)\n        return 1;\n    throw new Error('Invalid yParityOrV value');\n}\n//# sourceMappingURL=recoverPublicKey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlclB1YmxpY0tleS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF5QztBQUNGO0FBQzRCO0FBQ3RCO0FBQ3RDLGtDQUFrQyxrQkFBa0I7QUFDM0Qsb0JBQW9CLHFEQUFLLGdCQUFnQix5REFBSztBQUM5QyxZQUFZLFlBQVksUUFBUSxnVUFBaUM7QUFDakU7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0EsMkNBQTJDLGlFQUFXLEtBQUssaUVBQVc7QUFDdEU7QUFDQTtBQUNBLDZCQUE2QixxREFBSywwQkFBMEIseURBQUs7QUFDakUsWUFBWSxtREFBSTtBQUNoQjtBQUNBLDJCQUEyQixpRUFBVyxNQUFNLHdCQUF3QjtBQUNwRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlclB1YmxpY0tleS5qcz9lMGYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzSGV4IH0gZnJvbSAnLi4vZGF0YS9pc0hleC5qcyc7XG5pbXBvcnQgeyBzaXplIH0gZnJvbSAnLi4vZGF0YS9zaXplLmpzJztcbmltcG9ydCB7IGhleFRvQmlnSW50LCBoZXhUb051bWJlciwgfSBmcm9tICcuLi9lbmNvZGluZy9mcm9tSGV4LmpzJztcbmltcG9ydCB7IHRvSGV4IH0gZnJvbSAnLi4vZW5jb2RpbmcvdG9IZXguanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY292ZXJQdWJsaWNLZXkoeyBoYXNoLCBzaWduYXR1cmUsIH0pIHtcbiAgICBjb25zdCBoYXNoSGV4ID0gaXNIZXgoaGFzaCkgPyBoYXNoIDogdG9IZXgoaGFzaCk7XG4gICAgY29uc3QgeyBzZWNwMjU2azEgfSA9IGF3YWl0IGltcG9ydCgnQG5vYmxlL2N1cnZlcy9zZWNwMjU2azEnKTtcbiAgICBjb25zdCBzaWduYXR1cmVfID0gKCgpID0+IHtcbiAgICAgICAgLy8gdHlwZW9mIHNpZ25hdHVyZTogYFNpZ25hdHVyZWBcbiAgICAgICAgaWYgKHR5cGVvZiBzaWduYXR1cmUgPT09ICdvYmplY3QnICYmICdyJyBpbiBzaWduYXR1cmUgJiYgJ3MnIGluIHNpZ25hdHVyZSkge1xuICAgICAgICAgICAgY29uc3QgeyByLCBzLCB2LCB5UGFyaXR5IH0gPSBzaWduYXR1cmU7XG4gICAgICAgICAgICBjb25zdCB5UGFyaXR5T3JWID0gTnVtYmVyKHlQYXJpdHkgPz8gdik7XG4gICAgICAgICAgICBjb25zdCByZWNvdmVyeUJpdCA9IHRvUmVjb3ZlcnlCaXQoeVBhcml0eU9yVik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHNlY3AyNTZrMS5TaWduYXR1cmUoaGV4VG9CaWdJbnQociksIGhleFRvQmlnSW50KHMpKS5hZGRSZWNvdmVyeUJpdChyZWNvdmVyeUJpdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHlwZW9mIHNpZ25hdHVyZTogYEhleCB8IEJ5dGVBcnJheWBcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlSGV4ID0gaXNIZXgoc2lnbmF0dXJlKSA/IHNpZ25hdHVyZSA6IHRvSGV4KHNpZ25hdHVyZSk7XG4gICAgICAgIGlmIChzaXplKHNpZ25hdHVyZUhleCkgIT09IDY1KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNpZ25hdHVyZSBsZW5ndGgnKTtcbiAgICAgICAgY29uc3QgeVBhcml0eU9yViA9IGhleFRvTnVtYmVyKGAweCR7c2lnbmF0dXJlSGV4LnNsaWNlKDEzMCl9YCk7XG4gICAgICAgIGNvbnN0IHJlY292ZXJ5Qml0ID0gdG9SZWNvdmVyeUJpdCh5UGFyaXR5T3JWKTtcbiAgICAgICAgcmV0dXJuIHNlY3AyNTZrMS5TaWduYXR1cmUuZnJvbUNvbXBhY3Qoc2lnbmF0dXJlSGV4LnN1YnN0cmluZygyLCAxMzApKS5hZGRSZWNvdmVyeUJpdChyZWNvdmVyeUJpdCk7XG4gICAgfSkoKTtcbiAgICBjb25zdCBwdWJsaWNLZXkgPSBzaWduYXR1cmVfXG4gICAgICAgIC5yZWNvdmVyUHVibGljS2V5KGhhc2hIZXguc3Vic3RyaW5nKDIpKVxuICAgICAgICAudG9IZXgoZmFsc2UpO1xuICAgIHJldHVybiBgMHgke3B1YmxpY0tleX1gO1xufVxuZnVuY3Rpb24gdG9SZWNvdmVyeUJpdCh5UGFyaXR5T3JWKSB7XG4gICAgaWYgKHlQYXJpdHlPclYgPT09IDAgfHwgeVBhcml0eU9yViA9PT0gMSlcbiAgICAgICAgcmV0dXJuIHlQYXJpdHlPclY7XG4gICAgaWYgKHlQYXJpdHlPclYgPT09IDI3KVxuICAgICAgICByZXR1cm4gMDtcbiAgICBpZiAoeVBhcml0eU9yViA9PT0gMjgpXG4gICAgICAgIHJldHVybiAxO1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB5UGFyaXR5T3JWIHZhbHVlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvdmVyUHVibGljS2V5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/_shortw_utils.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/_shortw_utils.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCurve: () => (/* binding */ createCurve),\n/* harmony export */   getHash: () => (/* binding */ getHash)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/hmac */ \"(ssr)/./node_modules/@noble/hashes/esm/hmac.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./abstract/weierstrass.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js\");\n/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n/** connects noble-curves to noble-hashes */\nfunction getHash(hash) {\n    return {\n        hash,\n        hmac: (key, ...msgs) => (0,_noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_0__.hmac)(hash, key, (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.concatBytes)(...msgs)),\n        randomBytes: _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.randomBytes,\n    };\n}\nfunction createCurve(curveDef, defHash) {\n    const create = (hash) => (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_2__.weierstrass)({ ...curveDef, ...getHash(hash) });\n    return { ...create(defHash), create };\n}\n//# sourceMappingURL=_shortw_utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL19zaG9ydHdfdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzBDO0FBQ3FCO0FBQ1A7QUFDeEQ7QUFDTztBQUNQO0FBQ0E7QUFDQSxnQ0FBZ0Msd0RBQUksWUFBWSxnRUFBVztBQUMzRCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCLHFFQUFXLEdBQUcsK0JBQStCO0FBQzFFLGFBQWE7QUFDYjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHRoY2hhaW4tYXBwLy4vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9fc2hvcnR3X3V0aWxzLmpzP2FkNTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVdGlsaXRpZXMgZm9yIHNob3J0IHdlaWVyc3RyYXNzIGN1cnZlcywgY29tYmluZWQgd2l0aCBub2JsZS1oYXNoZXMuXG4gKiBAbW9kdWxlXG4gKi9cbi8qISBub2JsZS1jdXJ2ZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9cbmltcG9ydCB7IGhtYWMgfSBmcm9tICdAbm9ibGUvaGFzaGVzL2htYWMnO1xuaW1wb3J0IHsgY29uY2F0Qnl0ZXMsIHJhbmRvbUJ5dGVzIH0gZnJvbSAnQG5vYmxlL2hhc2hlcy91dGlscyc7XG5pbXBvcnQgeyB3ZWllcnN0cmFzcyB9IGZyb20gXCIuL2Fic3RyYWN0L3dlaWVyc3RyYXNzLmpzXCI7XG4vKiogY29ubmVjdHMgbm9ibGUtY3VydmVzIHRvIG5vYmxlLWhhc2hlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhhc2goaGFzaCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGhhc2gsXG4gICAgICAgIGhtYWM6IChrZXksIC4uLm1zZ3MpID0+IGhtYWMoaGFzaCwga2V5LCBjb25jYXRCeXRlcyguLi5tc2dzKSksXG4gICAgICAgIHJhbmRvbUJ5dGVzLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ3VydmUoY3VydmVEZWYsIGRlZkhhc2gpIHtcbiAgICBjb25zdCBjcmVhdGUgPSAoaGFzaCkgPT4gd2VpZXJzdHJhc3MoeyAuLi5jdXJ2ZURlZiwgLi4uZ2V0SGFzaChoYXNoKSB9KTtcbiAgICByZXR1cm4geyAuLi5jcmVhdGUoZGVmSGFzaCksIGNyZWF0ZSB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3Nob3J0d191dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/_shortw_utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/curve.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/curve.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pippenger: () => (/* binding */ pippenger),\n/* harmony export */   precomputeMSMUnsafe: () => (/* binding */ precomputeMSMUnsafe),\n/* harmony export */   validateBasic: () => (/* binding */ validateBasic),\n/* harmony export */   wNAF: () => (/* binding */ wNAF)\n/* harmony export */ });\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nfunction constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\nfunction validateW(W, bits) {\n    if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n        throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\nfunction calcWOpts(W, scalarBits) {\n    validateW(W, scalarBits);\n    const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n    const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n    const maxNumber = 2 ** W; // W=8 256\n    const mask = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(W); // W=8 255 == mask 0b11111111\n    const shiftBy = BigInt(W); // W=8 8\n    return { windows, windowSize, mask, maxNumber, shiftBy };\n}\nfunction calcOffsets(n, window, wOpts) {\n    const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n    let wbits = Number(n & mask); // extract W bits.\n    let nextN = n >> shiftBy; // shift number by W bits.\n    // What actually happens here:\n    // const highestBit = Number(mask ^ (mask >> 1n));\n    // let wbits2 = wbits - 1; // skip zero\n    // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n    // split if bits > max: +224 => 256-32\n    if (wbits > windowSize) {\n        // we skip zero, which means instead of `>= size-1`, we do `> size`\n        wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n        nextN += _1n; // +256 (carry)\n    }\n    const offsetStart = window * windowSize;\n    const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n    const isZero = wbits === 0; // is current window slice a 0?\n    const isNeg = wbits < 0; // is current window slice negative?\n    const isNegF = window % 2 !== 0; // fake random statement for noise\n    const offsetF = offsetStart; // fake offset for noise\n    return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\nfunction validateMSMPoints(points, c) {\n    if (!Array.isArray(points))\n        throw new Error('array expected');\n    points.forEach((p, i) => {\n        if (!(p instanceof c))\n            throw new Error('invalid point at index ' + i);\n    });\n}\nfunction validateMSMScalars(scalars, field) {\n    if (!Array.isArray(scalars))\n        throw new Error('array of scalars expected');\n    scalars.forEach((s, i) => {\n        if (!field.isValid(s))\n            throw new Error('invalid scalar at index ' + i);\n    });\n}\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap();\nconst pointWindowSizes = new WeakMap();\nfunction getW(P) {\n    return pointWindowSizes.get(P) || 1;\n}\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / ) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nfunction wNAF(c, bits) {\n    return {\n        constTimeNegate,\n        hasPrecomputes(elm) {\n            return getW(elm) !== 1;\n        },\n        // non-const time multiplication ladder\n        unsafeLadder(elm, n, p = c.ZERO) {\n            let d = elm;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        },\n        /**\n         * Creates a wNAF precomputation window. Used for caching.\n         * Default window size is set by `utils.precompute()` and is equal to 8.\n         * Number of precomputed points depends on the curve size:\n         * 2^(1) * (Math.ceil( / ) + 1), where:\n         * -  is the window size\n         * -  is the bitlength of the curve order.\n         * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n         * @param elm Point instance\n         * @param W window size\n         * @returns precomputed point tables flattened to a single array\n         */\n        precomputeWindow(elm, W) {\n            const { windows, windowSize } = calcWOpts(W, bits);\n            const points = [];\n            let p = elm;\n            let base = p;\n            for (let window = 0; window < windows; window++) {\n                base = p;\n                points.push(base);\n                // i=1, bc we skip 0\n                for (let i = 1; i < windowSize; i++) {\n                    base = base.add(p);\n                    points.push(base);\n                }\n                p = base.double();\n            }\n            return points;\n        },\n        /**\n         * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @returns real and fake (for const-time) points\n         */\n        wNAF(W, precomputes, n) {\n            // Smaller version:\n            // https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n            // TODO: check the scalar is less than group order?\n            // wNAF behavior is undefined otherwise. But have to carefully remove\n            // other checks before wNAF. ORDER == bits here.\n            // Accumulators\n            let p = c.ZERO;\n            let f = c.BASE;\n            // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n            // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n            // there is negate now: it is possible that negated element from low value\n            // would be the same as high element, which will create carry into next window.\n            // It's not obvious how this can fail, but still worth investigating later.\n            const wo = calcWOpts(W, bits);\n            for (let window = 0; window < wo.windows; window++) {\n                // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n                const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n                n = nextN;\n                if (isZero) {\n                    // bits are 0: add garbage to fake point\n                    // Important part for const-time getPublicKey: add random \"noise\" point to f.\n                    f = f.add(constTimeNegate(isNegF, precomputes[offsetF]));\n                }\n                else {\n                    // bits are 1: add to result point\n                    p = p.add(constTimeNegate(isNeg, precomputes[offset]));\n                }\n            }\n            // Return both real and fake points: JIT won't eliminate f.\n            // At this point there is a way to F be infinity-point even if p is not,\n            // which makes it less const-time: around 1 bigint multiply.\n            return { p, f };\n        },\n        /**\n         * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @param acc accumulator point to add result of multiplication\n         * @returns point\n         */\n        wNAFUnsafe(W, precomputes, n, acc = c.ZERO) {\n            const wo = calcWOpts(W, bits);\n            for (let window = 0; window < wo.windows; window++) {\n                if (n === _0n)\n                    break; // Early-exit, skip 0 value\n                const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n                n = nextN;\n                if (isZero) {\n                    // Window bits are 0: skip processing.\n                    // Move to next window.\n                    continue;\n                }\n                else {\n                    const item = precomputes[offset];\n                    acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n                }\n            }\n            return acc;\n        },\n        getPrecomputes(W, P, transform) {\n            // Calculate precomputes on a first run, reuse them after\n            let comp = pointPrecomputes.get(P);\n            if (!comp) {\n                comp = this.precomputeWindow(P, W);\n                if (W !== 1)\n                    pointPrecomputes.set(P, transform(comp));\n            }\n            return comp;\n        },\n        wNAFCached(P, n, transform) {\n            const W = getW(P);\n            return this.wNAF(W, this.getPrecomputes(W, P, transform), n);\n        },\n        wNAFCachedUnsafe(P, n, transform, prev) {\n            const W = getW(P);\n            if (W === 1)\n                return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster\n            return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);\n        },\n        // We calculate precomputes for elliptic curve point multiplication\n        // using windowed method. This specifies window size and\n        // stores precomputed values. Usually only base point would be precomputed.\n        setWindowSize(P, W) {\n            validateW(W, bits);\n            pointWindowSizes.set(P, W);\n            pointPrecomputes.delete(P);\n        },\n    };\n}\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka private keys / bigints)\n */\nfunction pippenger(c, fieldN, points, scalars) {\n    // If we split scalars by some window (let's say 8 bits), every chunk will only\n    // take 256 buckets even if there are 4096 scalars, also re-uses double.\n    // TODO:\n    // - https://eprint.iacr.org/2024/750.pdf\n    // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n    // 0 is accepted in scalars\n    validateMSMPoints(points, c);\n    validateMSMScalars(scalars, fieldN);\n    const plength = points.length;\n    const slength = scalars.length;\n    if (plength !== slength)\n        throw new Error('arrays of points and scalars must have equal length');\n    // if (plength === 0) throw new Error('array must be of length >= 2');\n    const zero = c.ZERO;\n    const wbits = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitLen)(BigInt(plength));\n    let windowSize = 1; // bits\n    if (wbits > 12)\n        windowSize = wbits - 3;\n    else if (wbits > 4)\n        windowSize = wbits - 2;\n    else if (wbits > 0)\n        windowSize = 2;\n    const MASK = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(windowSize);\n    const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n    const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n    let sum = zero;\n    for (let i = lastBits; i >= 0; i -= windowSize) {\n        buckets.fill(zero);\n        for (let j = 0; j < slength; j++) {\n            const scalar = scalars[j];\n            const wbits = Number((scalar >> BigInt(i)) & MASK);\n            buckets[wbits] = buckets[wbits].add(points[j]);\n        }\n        let resI = zero; // not using this will do small speed-up, but will lose ct\n        // Skip first bucket, because it is zero\n        for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n            sumI = sumI.add(buckets[j]);\n            resI = resI.add(sumI);\n        }\n        sum = sum.add(resI);\n        if (i !== 0)\n            for (let j = 0; j < windowSize; j++)\n                sum = sum.double();\n    }\n    return sum;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nfunction precomputeMSMUnsafe(c, fieldN, points, windowSize) {\n    /**\n     * Performance Analysis of Window-based Precomputation\n     *\n     * Base Case (256-bit scalar, 8-bit window):\n     * - Standard precomputation requires:\n     *   - 31 additions per scalar  256 scalars = 7,936 ops\n     *   - Plus 255 summary additions = 8,191 total ops\n     *   Note: Summary additions can be optimized via accumulator\n     *\n     * Chunked Precomputation Analysis:\n     * - Using 32 chunks requires:\n     *   - 255 additions per chunk\n     *   - 256 doublings\n     *   - Total: (255  32) + 256 = 8,416 ops\n     *\n     * Memory Usage Comparison:\n     * Window Size | Standard Points | Chunked Points\n     * ------------|-----------------|---------------\n     *     4-bit   |     520         |      15\n     *     8-bit   |    4,224        |     255\n     *    10-bit   |   13,824        |   1,023\n     *    16-bit   |  557,056        |  65,535\n     *\n     * Key Advantages:\n     * 1. Enables larger window sizes due to reduced memory overhead\n     * 2. More efficient for smaller scalar counts:\n     *    - 16 chunks: (16  255) + 256 = 4,336 ops\n     *    - ~2x faster than standard 8,191 ops\n     *\n     * Limitations:\n     * - Not suitable for plain precomputes (requires 256 constant doublings)\n     * - Performance degrades with larger scalar counts:\n     *   - Optimal for ~256 scalars\n     *   - Less efficient for 4096+ scalars (Pippenger preferred)\n     */\n    validateW(windowSize, fieldN.BITS);\n    validateMSMPoints(points, c);\n    const zero = c.ZERO;\n    const tableSize = 2 ** windowSize - 1; // table size (without zero)\n    const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n    const MASK = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(windowSize);\n    const tables = points.map((p) => {\n        const res = [];\n        for (let i = 0, acc = p; i < tableSize; i++) {\n            res.push(acc);\n            acc = acc.add(p);\n        }\n        return res;\n    });\n    return (scalars) => {\n        validateMSMScalars(scalars, fieldN);\n        if (scalars.length > points.length)\n            throw new Error('array of scalars must be smaller than array of points');\n        let res = zero;\n        for (let i = 0; i < chunks; i++) {\n            // No need to double if accumulator is still zero.\n            if (res !== zero)\n                for (let j = 0; j < windowSize; j++)\n                    res = res.double();\n            const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n            for (let j = 0; j < scalars.length; j++) {\n                const n = scalars[j];\n                const curr = Number((n >> shiftBy) & MASK);\n                if (!curr)\n                    continue; // skip zero scalars chunks\n                res = res.add(tables[j][curr - 1]);\n            }\n        }\n        return res;\n    };\n}\nfunction validateBasic(curve) {\n    (0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.validateField)(curve.Fp);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(curve, {\n        n: 'bigint',\n        h: 'bigint',\n        Gx: 'field',\n        Gy: 'field',\n    }, {\n        nBitLength: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n    });\n    // Set defaults\n    return Object.freeze({\n        ...(0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.nLength)(curve.n, curve.nBitLength),\n        ...curve,\n        ...{ p: curve.Fp.ORDER },\n    });\n}\n//# sourceMappingURL=curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L2N1cnZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNzRDtBQUNPO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRCxxQ0FBcUM7QUFDckMsOEJBQThCO0FBQzlCLGlCQUFpQixrREFBTyxLQUFLO0FBQzdCLCtCQUErQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVksdUNBQXVDO0FBQ25ELGtDQUFrQztBQUNsQyw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixrQ0FBa0Msd0JBQXdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCxnQ0FBZ0M7QUFDaEMsNkJBQTZCO0FBQzdCLHFDQUFxQztBQUNyQyxpQ0FBaUM7QUFDakMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vYWJzdHJhY3QvY3VydmUuanM/MzgxZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1ldGhvZHMgZm9yIGVsbGlwdGljIGN1cnZlIG11bHRpcGxpY2F0aW9uIGJ5IHNjYWxhcnMuXG4gKiBDb250YWlucyB3TkFGLCBwaXBwZW5nZXJcbiAqIEBtb2R1bGVcbiAqL1xuLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL1xuaW1wb3J0IHsgbkxlbmd0aCwgdmFsaWRhdGVGaWVsZCB9IGZyb20gXCIuL21vZHVsYXIuanNcIjtcbmltcG9ydCB7IGJpdExlbiwgYml0TWFzaywgdmFsaWRhdGVPYmplY3QgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuY29uc3QgXzBuID0gQmlnSW50KDApO1xuY29uc3QgXzFuID0gQmlnSW50KDEpO1xuZnVuY3Rpb24gY29uc3RUaW1lTmVnYXRlKGNvbmRpdGlvbiwgaXRlbSkge1xuICAgIGNvbnN0IG5lZyA9IGl0ZW0ubmVnYXRlKCk7XG4gICAgcmV0dXJuIGNvbmRpdGlvbiA/IG5lZyA6IGl0ZW07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVcoVywgYml0cykge1xuICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIoVykgfHwgVyA8PSAwIHx8IFcgPiBiaXRzKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgd2luZG93IHNpemUsIGV4cGVjdGVkIFsxLi4nICsgYml0cyArICddLCBnb3QgVz0nICsgVyk7XG59XG5mdW5jdGlvbiBjYWxjV09wdHMoVywgc2NhbGFyQml0cykge1xuICAgIHZhbGlkYXRlVyhXLCBzY2FsYXJCaXRzKTtcbiAgICBjb25zdCB3aW5kb3dzID0gTWF0aC5jZWlsKHNjYWxhckJpdHMgLyBXKSArIDE7IC8vIFc9OCAzMy4gTm90IDMyLCBiZWNhdXNlIHdlIHNraXAgemVyb1xuICAgIGNvbnN0IHdpbmRvd1NpemUgPSAyICoqIChXIC0gMSk7IC8vIFc9OCAxMjguIE5vdCAyNTYsIGJlY2F1c2Ugd2Ugc2tpcCB6ZXJvXG4gICAgY29uc3QgbWF4TnVtYmVyID0gMiAqKiBXOyAvLyBXPTggMjU2XG4gICAgY29uc3QgbWFzayA9IGJpdE1hc2soVyk7IC8vIFc9OCAyNTUgPT0gbWFzayAwYjExMTExMTExXG4gICAgY29uc3Qgc2hpZnRCeSA9IEJpZ0ludChXKTsgLy8gVz04IDhcbiAgICByZXR1cm4geyB3aW5kb3dzLCB3aW5kb3dTaXplLCBtYXNrLCBtYXhOdW1iZXIsIHNoaWZ0QnkgfTtcbn1cbmZ1bmN0aW9uIGNhbGNPZmZzZXRzKG4sIHdpbmRvdywgd09wdHMpIHtcbiAgICBjb25zdCB7IHdpbmRvd1NpemUsIG1hc2ssIG1heE51bWJlciwgc2hpZnRCeSB9ID0gd09wdHM7XG4gICAgbGV0IHdiaXRzID0gTnVtYmVyKG4gJiBtYXNrKTsgLy8gZXh0cmFjdCBXIGJpdHMuXG4gICAgbGV0IG5leHROID0gbiA+PiBzaGlmdEJ5OyAvLyBzaGlmdCBudW1iZXIgYnkgVyBiaXRzLlxuICAgIC8vIFdoYXQgYWN0dWFsbHkgaGFwcGVucyBoZXJlOlxuICAgIC8vIGNvbnN0IGhpZ2hlc3RCaXQgPSBOdW1iZXIobWFzayBeIChtYXNrID4+IDFuKSk7XG4gICAgLy8gbGV0IHdiaXRzMiA9IHdiaXRzIC0gMTsgLy8gc2tpcCB6ZXJvXG4gICAgLy8gaWYgKHdiaXRzMiAmIGhpZ2hlc3RCaXQpIHsgd2JpdHMyIF49IE51bWJlcihtYXNrKTsgLy8gKH4pO1xuICAgIC8vIHNwbGl0IGlmIGJpdHMgPiBtYXg6ICsyMjQgPT4gMjU2LTMyXG4gICAgaWYgKHdiaXRzID4gd2luZG93U2l6ZSkge1xuICAgICAgICAvLyB3ZSBza2lwIHplcm8sIHdoaWNoIG1lYW5zIGluc3RlYWQgb2YgYD49IHNpemUtMWAsIHdlIGRvIGA+IHNpemVgXG4gICAgICAgIHdiaXRzIC09IG1heE51bWJlcjsgLy8gLTMyLCBjYW4gYmUgbWF4TnVtYmVyIC0gd2JpdHMsIGJ1dCB0aGVuIHdlIG5lZWQgdG8gc2V0IGlzTmVnIGhlcmUuXG4gICAgICAgIG5leHROICs9IF8xbjsgLy8gKzI1NiAoY2FycnkpXG4gICAgfVxuICAgIGNvbnN0IG9mZnNldFN0YXJ0ID0gd2luZG93ICogd2luZG93U2l6ZTtcbiAgICBjb25zdCBvZmZzZXQgPSBvZmZzZXRTdGFydCArIE1hdGguYWJzKHdiaXRzKSAtIDE7IC8vIC0xIGJlY2F1c2Ugd2Ugc2tpcCB6ZXJvXG4gICAgY29uc3QgaXNaZXJvID0gd2JpdHMgPT09IDA7IC8vIGlzIGN1cnJlbnQgd2luZG93IHNsaWNlIGEgMD9cbiAgICBjb25zdCBpc05lZyA9IHdiaXRzIDwgMDsgLy8gaXMgY3VycmVudCB3aW5kb3cgc2xpY2UgbmVnYXRpdmU/XG4gICAgY29uc3QgaXNOZWdGID0gd2luZG93ICUgMiAhPT0gMDsgLy8gZmFrZSByYW5kb20gc3RhdGVtZW50IGZvciBub2lzZVxuICAgIGNvbnN0IG9mZnNldEYgPSBvZmZzZXRTdGFydDsgLy8gZmFrZSBvZmZzZXQgZm9yIG5vaXNlXG4gICAgcmV0dXJuIHsgbmV4dE4sIG9mZnNldCwgaXNaZXJvLCBpc05lZywgaXNOZWdGLCBvZmZzZXRGIH07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU1TTVBvaW50cyhwb2ludHMsIGMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcnJheSBleHBlY3RlZCcpO1xuICAgIHBvaW50cy5mb3JFYWNoKChwLCBpKSA9PiB7XG4gICAgICAgIGlmICghKHAgaW5zdGFuY2VvZiBjKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwb2ludCBhdCBpbmRleCAnICsgaSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU1TTVNjYWxhcnMoc2NhbGFycywgZmllbGQpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NhbGFycykpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXkgb2Ygc2NhbGFycyBleHBlY3RlZCcpO1xuICAgIHNjYWxhcnMuZm9yRWFjaCgocywgaSkgPT4ge1xuICAgICAgICBpZiAoIWZpZWxkLmlzVmFsaWQocykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc2NhbGFyIGF0IGluZGV4ICcgKyBpKTtcbiAgICB9KTtcbn1cbi8vIFNpbmNlIHBvaW50cyBpbiBkaWZmZXJlbnQgZ3JvdXBzIGNhbm5vdCBiZSBlcXVhbCAoZGlmZmVyZW50IG9iamVjdCBjb25zdHJ1Y3RvciksXG4vLyB3ZSBjYW4gaGF2ZSBzaW5nbGUgcGxhY2UgdG8gc3RvcmUgcHJlY29tcHV0ZXMuXG4vLyBBbGxvd3MgdG8gbWFrZSBwb2ludHMgZnJvemVuIC8gaW1tdXRhYmxlLlxuY29uc3QgcG9pbnRQcmVjb21wdXRlcyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBwb2ludFdpbmRvd1NpemVzID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGdldFcoUCkge1xuICAgIHJldHVybiBwb2ludFdpbmRvd1NpemVzLmdldChQKSB8fCAxO1xufVxuLyoqXG4gKiBFbGxpcHRpYyBjdXJ2ZSBtdWx0aXBsaWNhdGlvbiBvZiBQb2ludCBieSBzY2FsYXIuIEZyYWdpbGUuXG4gKiBTY2FsYXJzIHNob3VsZCBhbHdheXMgYmUgbGVzcyB0aGFuIGN1cnZlIG9yZGVyOiB0aGlzIHNob3VsZCBiZSBjaGVja2VkIGluc2lkZSBvZiBhIGN1cnZlIGl0c2VsZi5cbiAqIENyZWF0ZXMgcHJlY29tcHV0YXRpb24gdGFibGVzIGZvciBmYXN0IG11bHRpcGxpY2F0aW9uOlxuICogLSBwcml2YXRlIHNjYWxhciBpcyBzcGxpdCBieSBmaXhlZCBzaXplIHdpbmRvd3Mgb2YgVyBiaXRzXG4gKiAtIGV2ZXJ5IHdpbmRvdyBwb2ludCBpcyBjb2xsZWN0ZWQgZnJvbSB3aW5kb3cncyB0YWJsZSAmIGFkZGVkIHRvIGFjY3VtdWxhdG9yXG4gKiAtIHNpbmNlIHdpbmRvd3MgYXJlIGRpZmZlcmVudCwgc2FtZSBwb2ludCBpbnNpZGUgdGFibGVzIHdvbid0IGJlIGFjY2Vzc2VkIG1vcmUgdGhhbiBvbmNlIHBlciBjYWxjXG4gKiAtIGVhY2ggbXVsdGlwbGljYXRpb24gaXMgJ01hdGguY2VpbChDVVJWRV9PUkRFUiAvIPCdkYopICsgMScgcG9pbnQgYWRkaXRpb25zIChmaXhlZCBmb3IgYW55IHNjYWxhcilcbiAqIC0gKzEgd2luZG93IGlzIG5lY2Nlc3NhcnkgZm9yIHdOQUZcbiAqIC0gd05BRiByZWR1Y2VzIHRhYmxlIHNpemU6IDJ4IGxlc3MgbWVtb3J5ICsgMnggZmFzdGVyIGdlbmVyYXRpb24sIGJ1dCAxMCUgc2xvd2VyIG11bHRpcGxpY2F0aW9uXG4gKlxuICogQHRvZG8gUmVzZWFyY2ggcmV0dXJuaW5nIDJkIEpTIGFycmF5IG9mIHdpbmRvd3MsIGluc3RlYWQgb2YgYSBzaW5nbGUgd2luZG93LlxuICogVGhpcyB3b3VsZCBhbGxvdyB3aW5kb3dzIHRvIGJlIGluIGRpZmZlcmVudCBtZW1vcnkgbG9jYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3TkFGKGMsIGJpdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25zdFRpbWVOZWdhdGUsXG4gICAgICAgIGhhc1ByZWNvbXB1dGVzKGVsbSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFcoZWxtKSAhPT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gbm9uLWNvbnN0IHRpbWUgbXVsdGlwbGljYXRpb24gbGFkZGVyXG4gICAgICAgIHVuc2FmZUxhZGRlcihlbG0sIG4sIHAgPSBjLlpFUk8pIHtcbiAgICAgICAgICAgIGxldCBkID0gZWxtO1xuICAgICAgICAgICAgd2hpbGUgKG4gPiBfMG4pIHtcbiAgICAgICAgICAgICAgICBpZiAobiAmIF8xbilcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAuYWRkKGQpO1xuICAgICAgICAgICAgICAgIGQgPSBkLmRvdWJsZSgpO1xuICAgICAgICAgICAgICAgIG4gPj49IF8xbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIHdOQUYgcHJlY29tcHV0YXRpb24gd2luZG93LiBVc2VkIGZvciBjYWNoaW5nLlxuICAgICAgICAgKiBEZWZhdWx0IHdpbmRvdyBzaXplIGlzIHNldCBieSBgdXRpbHMucHJlY29tcHV0ZSgpYCBhbmQgaXMgZXF1YWwgdG8gOC5cbiAgICAgICAgICogTnVtYmVyIG9mIHByZWNvbXB1dGVkIHBvaW50cyBkZXBlbmRzIG9uIHRoZSBjdXJ2ZSBzaXplOlxuICAgICAgICAgKiAyXijwnZGK4oiSMSkgKiAoTWF0aC5jZWlsKPCdkZsgLyDwnZGKKSArIDEpLCB3aGVyZTpcbiAgICAgICAgICogLSDwnZGKIGlzIHRoZSB3aW5kb3cgc2l6ZVxuICAgICAgICAgKiAtIPCdkZsgaXMgdGhlIGJpdGxlbmd0aCBvZiB0aGUgY3VydmUgb3JkZXIuXG4gICAgICAgICAqIEZvciBhIDI1Ni1iaXQgY3VydmUgYW5kIHdpbmRvdyBzaXplIDgsIHRoZSBudW1iZXIgb2YgcHJlY29tcHV0ZWQgcG9pbnRzIGlzIDEyOCAqIDMzID0gNDIyNC5cbiAgICAgICAgICogQHBhcmFtIGVsbSBQb2ludCBpbnN0YW5jZVxuICAgICAgICAgKiBAcGFyYW0gVyB3aW5kb3cgc2l6ZVxuICAgICAgICAgKiBAcmV0dXJucyBwcmVjb21wdXRlZCBwb2ludCB0YWJsZXMgZmxhdHRlbmVkIHRvIGEgc2luZ2xlIGFycmF5XG4gICAgICAgICAqL1xuICAgICAgICBwcmVjb21wdXRlV2luZG93KGVsbSwgVykge1xuICAgICAgICAgICAgY29uc3QgeyB3aW5kb3dzLCB3aW5kb3dTaXplIH0gPSBjYWxjV09wdHMoVywgYml0cyk7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBwID0gZWxtO1xuICAgICAgICAgICAgbGV0IGJhc2UgPSBwO1xuICAgICAgICAgICAgZm9yIChsZXQgd2luZG93ID0gMDsgd2luZG93IDwgd2luZG93czsgd2luZG93KyspIHtcbiAgICAgICAgICAgICAgICBiYXNlID0gcDtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChiYXNlKTtcbiAgICAgICAgICAgICAgICAvLyBpPTEsIGJjIHdlIHNraXAgMFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgd2luZG93U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UgPSBiYXNlLmFkZChwKTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goYmFzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAgPSBiYXNlLmRvdWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcGxlbWVudHMgZWMgbXVsdGlwbGljYXRpb24gdXNpbmcgcHJlY29tcHV0ZWQgdGFibGVzIGFuZCB3LWFyeSBub24tYWRqYWNlbnQgZm9ybS5cbiAgICAgICAgICogQHBhcmFtIFcgd2luZG93IHNpemVcbiAgICAgICAgICogQHBhcmFtIHByZWNvbXB1dGVzIHByZWNvbXB1dGVkIHRhYmxlc1xuICAgICAgICAgKiBAcGFyYW0gbiBzY2FsYXIgKHdlIGRvbid0IGNoZWNrIGhlcmUsIGJ1dCBzaG91bGQgYmUgbGVzcyB0aGFuIGN1cnZlIG9yZGVyKVxuICAgICAgICAgKiBAcmV0dXJucyByZWFsIGFuZCBmYWtlIChmb3IgY29uc3QtdGltZSkgcG9pbnRzXG4gICAgICAgICAqL1xuICAgICAgICB3TkFGKFcsIHByZWNvbXB1dGVzLCBuKSB7XG4gICAgICAgICAgICAvLyBTbWFsbGVyIHZlcnNpb246XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGF1bG1pbGxyL25vYmxlLXNlY3AyNTZrMS9ibG9iLzQ3Y2IxNjY5YjZlNTA2YWQ2NmIzNWZlN2Q3NjEzMmFlOTc0NjVkYTIvaW5kZXgudHMjTDUwMi1MNTQxXG4gICAgICAgICAgICAvLyBUT0RPOiBjaGVjayB0aGUgc2NhbGFyIGlzIGxlc3MgdGhhbiBncm91cCBvcmRlcj9cbiAgICAgICAgICAgIC8vIHdOQUYgYmVoYXZpb3IgaXMgdW5kZWZpbmVkIG90aGVyd2lzZS4gQnV0IGhhdmUgdG8gY2FyZWZ1bGx5IHJlbW92ZVxuICAgICAgICAgICAgLy8gb3RoZXIgY2hlY2tzIGJlZm9yZSB3TkFGLiBPUkRFUiA9PSBiaXRzIGhlcmUuXG4gICAgICAgICAgICAvLyBBY2N1bXVsYXRvcnNcbiAgICAgICAgICAgIGxldCBwID0gYy5aRVJPO1xuICAgICAgICAgICAgbGV0IGYgPSBjLkJBU0U7XG4gICAgICAgICAgICAvLyBUaGlzIGNvZGUgd2FzIGZpcnN0IHdyaXR0ZW4gd2l0aCBhc3N1bXB0aW9uIHRoYXQgJ2YnIGFuZCAncCcgd2lsbCBuZXZlciBiZSBpbmZpbml0eSBwb2ludDpcbiAgICAgICAgICAgIC8vIHNpbmNlIGVhY2ggYWRkaXRpb24gaXMgbXVsdGlwbGllZCBieSAyICoqIFcsIGl0IGNhbm5vdCBjYW5jZWwgZWFjaCBvdGhlci4gSG93ZXZlcixcbiAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5lZ2F0ZSBub3c6IGl0IGlzIHBvc3NpYmxlIHRoYXQgbmVnYXRlZCBlbGVtZW50IGZyb20gbG93IHZhbHVlXG4gICAgICAgICAgICAvLyB3b3VsZCBiZSB0aGUgc2FtZSBhcyBoaWdoIGVsZW1lbnQsIHdoaWNoIHdpbGwgY3JlYXRlIGNhcnJ5IGludG8gbmV4dCB3aW5kb3cuXG4gICAgICAgICAgICAvLyBJdCdzIG5vdCBvYnZpb3VzIGhvdyB0aGlzIGNhbiBmYWlsLCBidXQgc3RpbGwgd29ydGggaW52ZXN0aWdhdGluZyBsYXRlci5cbiAgICAgICAgICAgIGNvbnN0IHdvID0gY2FsY1dPcHRzKFcsIGJpdHMpO1xuICAgICAgICAgICAgZm9yIChsZXQgd2luZG93ID0gMDsgd2luZG93IDwgd28ud2luZG93czsgd2luZG93KyspIHtcbiAgICAgICAgICAgICAgICAvLyAobiA9PT0gXzBuKSBpcyBoYW5kbGVkIGFuZCBub3QgZWFybHktZXhpdGVkLiBpc0V2ZW4gYW5kIG9mZnNldEYgYXJlIHVzZWQgZm9yIG5vaXNlXG4gICAgICAgICAgICAgICAgY29uc3QgeyBuZXh0Tiwgb2Zmc2V0LCBpc1plcm8sIGlzTmVnLCBpc05lZ0YsIG9mZnNldEYgfSA9IGNhbGNPZmZzZXRzKG4sIHdpbmRvdywgd28pO1xuICAgICAgICAgICAgICAgIG4gPSBuZXh0TjtcbiAgICAgICAgICAgICAgICBpZiAoaXNaZXJvKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJpdHMgYXJlIDA6IGFkZCBnYXJiYWdlIHRvIGZha2UgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gSW1wb3J0YW50IHBhcnQgZm9yIGNvbnN0LXRpbWUgZ2V0UHVibGljS2V5OiBhZGQgcmFuZG9tIFwibm9pc2VcIiBwb2ludCB0byBmLlxuICAgICAgICAgICAgICAgICAgICBmID0gZi5hZGQoY29uc3RUaW1lTmVnYXRlKGlzTmVnRiwgcHJlY29tcHV0ZXNbb2Zmc2V0Rl0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJpdHMgYXJlIDE6IGFkZCB0byByZXN1bHQgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAuYWRkKGNvbnN0VGltZU5lZ2F0ZShpc05lZywgcHJlY29tcHV0ZXNbb2Zmc2V0XSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJldHVybiBib3RoIHJlYWwgYW5kIGZha2UgcG9pbnRzOiBKSVQgd29uJ3QgZWxpbWluYXRlIGYuXG4gICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZXJlIGlzIGEgd2F5IHRvIEYgYmUgaW5maW5pdHktcG9pbnQgZXZlbiBpZiBwIGlzIG5vdCxcbiAgICAgICAgICAgIC8vIHdoaWNoIG1ha2VzIGl0IGxlc3MgY29uc3QtdGltZTogYXJvdW5kIDEgYmlnaW50IG11bHRpcGx5LlxuICAgICAgICAgICAgcmV0dXJuIHsgcCwgZiB9O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50cyBlYyB1bnNhZmUgKG5vbiBjb25zdC10aW1lKSBtdWx0aXBsaWNhdGlvbiB1c2luZyBwcmVjb21wdXRlZCB0YWJsZXMgYW5kIHctYXJ5IG5vbi1hZGphY2VudCBmb3JtLlxuICAgICAgICAgKiBAcGFyYW0gVyB3aW5kb3cgc2l6ZVxuICAgICAgICAgKiBAcGFyYW0gcHJlY29tcHV0ZXMgcHJlY29tcHV0ZWQgdGFibGVzXG4gICAgICAgICAqIEBwYXJhbSBuIHNjYWxhciAod2UgZG9uJ3QgY2hlY2sgaGVyZSwgYnV0IHNob3VsZCBiZSBsZXNzIHRoYW4gY3VydmUgb3JkZXIpXG4gICAgICAgICAqIEBwYXJhbSBhY2MgYWNjdW11bGF0b3IgcG9pbnQgdG8gYWRkIHJlc3VsdCBvZiBtdWx0aXBsaWNhdGlvblxuICAgICAgICAgKiBAcmV0dXJucyBwb2ludFxuICAgICAgICAgKi9cbiAgICAgICAgd05BRlVuc2FmZShXLCBwcmVjb21wdXRlcywgbiwgYWNjID0gYy5aRVJPKSB7XG4gICAgICAgICAgICBjb25zdCB3byA9IGNhbGNXT3B0cyhXLCBiaXRzKTtcbiAgICAgICAgICAgIGZvciAobGV0IHdpbmRvdyA9IDA7IHdpbmRvdyA8IHdvLndpbmRvd3M7IHdpbmRvdysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG4gPT09IF8wbilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIEVhcmx5LWV4aXQsIHNraXAgMCB2YWx1ZVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbmV4dE4sIG9mZnNldCwgaXNaZXJvLCBpc05lZyB9ID0gY2FsY09mZnNldHMobiwgd2luZG93LCB3byk7XG4gICAgICAgICAgICAgICAgbiA9IG5leHROO1xuICAgICAgICAgICAgICAgIGlmIChpc1plcm8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2luZG93IGJpdHMgYXJlIDA6IHNraXAgcHJvY2Vzc2luZy5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSB0byBuZXh0IHdpbmRvdy5cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gcHJlY29tcHV0ZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgYWNjID0gYWNjLmFkZChpc05lZyA/IGl0ZW0ubmVnYXRlKCkgOiBpdGVtKTsgLy8gUmUtdXNpbmcgYWNjIGFsbG93cyB0byBzYXZlIGFkZHMgaW4gTVNNXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UHJlY29tcHV0ZXMoVywgUCwgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcHJlY29tcHV0ZXMgb24gYSBmaXJzdCBydW4sIHJldXNlIHRoZW0gYWZ0ZXJcbiAgICAgICAgICAgIGxldCBjb21wID0gcG9pbnRQcmVjb21wdXRlcy5nZXQoUCk7XG4gICAgICAgICAgICBpZiAoIWNvbXApIHtcbiAgICAgICAgICAgICAgICBjb21wID0gdGhpcy5wcmVjb21wdXRlV2luZG93KFAsIFcpO1xuICAgICAgICAgICAgICAgIGlmIChXICE9PSAxKVxuICAgICAgICAgICAgICAgICAgICBwb2ludFByZWNvbXB1dGVzLnNldChQLCB0cmFuc2Zvcm0oY29tcCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgICAgIH0sXG4gICAgICAgIHdOQUZDYWNoZWQoUCwgbiwgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBjb25zdCBXID0gZ2V0VyhQKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndOQUYoVywgdGhpcy5nZXRQcmVjb21wdXRlcyhXLCBQLCB0cmFuc2Zvcm0pLCBuKTtcbiAgICAgICAgfSxcbiAgICAgICAgd05BRkNhY2hlZFVuc2FmZShQLCBuLCB0cmFuc2Zvcm0sIHByZXYpIHtcbiAgICAgICAgICAgIGNvbnN0IFcgPSBnZXRXKFApO1xuICAgICAgICAgICAgaWYgKFcgPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5zYWZlTGFkZGVyKFAsIG4sIHByZXYpOyAvLyBGb3IgVz0xIGxhZGRlciBpcyB+eDIgZmFzdGVyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy53TkFGVW5zYWZlKFcsIHRoaXMuZ2V0UHJlY29tcHV0ZXMoVywgUCwgdHJhbnNmb3JtKSwgbiwgcHJldik7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIGNhbGN1bGF0ZSBwcmVjb21wdXRlcyBmb3IgZWxsaXB0aWMgY3VydmUgcG9pbnQgbXVsdGlwbGljYXRpb25cbiAgICAgICAgLy8gdXNpbmcgd2luZG93ZWQgbWV0aG9kLiBUaGlzIHNwZWNpZmllcyB3aW5kb3cgc2l6ZSBhbmRcbiAgICAgICAgLy8gc3RvcmVzIHByZWNvbXB1dGVkIHZhbHVlcy4gVXN1YWxseSBvbmx5IGJhc2UgcG9pbnQgd291bGQgYmUgcHJlY29tcHV0ZWQuXG4gICAgICAgIHNldFdpbmRvd1NpemUoUCwgVykge1xuICAgICAgICAgICAgdmFsaWRhdGVXKFcsIGJpdHMpO1xuICAgICAgICAgICAgcG9pbnRXaW5kb3dTaXplcy5zZXQoUCwgVyk7XG4gICAgICAgICAgICBwb2ludFByZWNvbXB1dGVzLmRlbGV0ZShQKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBQaXBwZW5nZXIgYWxnb3JpdGhtIGZvciBtdWx0aS1zY2FsYXIgbXVsdGlwbGljYXRpb24gKE1TTSwgUGEgKyBRYiArIFJjICsgLi4uKS5cbiAqIDMweCBmYXN0ZXIgdnMgbmFpdmUgYWRkaXRpb24gb24gTD00MDk2LCAxMHggZmFzdGVyIHRoYW4gcHJlY29tcHV0ZXMuXG4gKiBGb3IgTj0yNTRiaXQsIEw9MSwgaXQgZG9lczogMTAyNCBBREQgKyAyNTQgREJMLiBGb3IgTD01OiAxNTM2IEFERCArIDI1NCBEQkwuXG4gKiBBbGdvcml0aG1pY2FsbHkgY29uc3RhbnQtdGltZSAoZm9yIHNhbWUgTCksIGV2ZW4gd2hlbiAxIHBvaW50ICsgc2NhbGFyLCBvciB3aGVuIHNjYWxhciA9IDAuXG4gKiBAcGFyYW0gYyBDdXJ2ZSBQb2ludCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIGZpZWxkTiBmaWVsZCBvdmVyIENVUlZFLk4gLSBpbXBvcnRhbnQgdGhhdCBpdCdzIG5vdCBvdmVyIENVUlZFLlBcbiAqIEBwYXJhbSBwb2ludHMgYXJyYXkgb2YgTCBjdXJ2ZSBwb2ludHNcbiAqIEBwYXJhbSBzY2FsYXJzIGFycmF5IG9mIEwgc2NhbGFycyAoYWthIHByaXZhdGUga2V5cyAvIGJpZ2ludHMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwaXBwZW5nZXIoYywgZmllbGROLCBwb2ludHMsIHNjYWxhcnMpIHtcbiAgICAvLyBJZiB3ZSBzcGxpdCBzY2FsYXJzIGJ5IHNvbWUgd2luZG93IChsZXQncyBzYXkgOCBiaXRzKSwgZXZlcnkgY2h1bmsgd2lsbCBvbmx5XG4gICAgLy8gdGFrZSAyNTYgYnVja2V0cyBldmVuIGlmIHRoZXJlIGFyZSA0MDk2IHNjYWxhcnMsIGFsc28gcmUtdXNlcyBkb3VibGUuXG4gICAgLy8gVE9ETzpcbiAgICAvLyAtIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMjQvNzUwLnBkZlxuICAgIC8vIC0gaHR0cHM6Ly90Y2hlcy5pYWNyLm9yZy9pbmRleC5waHAvVENIRVMvYXJ0aWNsZS92aWV3LzEwMjg3XG4gICAgLy8gMCBpcyBhY2NlcHRlZCBpbiBzY2FsYXJzXG4gICAgdmFsaWRhdGVNU01Qb2ludHMocG9pbnRzLCBjKTtcbiAgICB2YWxpZGF0ZU1TTVNjYWxhcnMoc2NhbGFycywgZmllbGROKTtcbiAgICBjb25zdCBwbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCBzbGVuZ3RoID0gc2NhbGFycy5sZW5ndGg7XG4gICAgaWYgKHBsZW5ndGggIT09IHNsZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXlzIG9mIHBvaW50cyBhbmQgc2NhbGFycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoJyk7XG4gICAgLy8gaWYgKHBsZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcignYXJyYXkgbXVzdCBiZSBvZiBsZW5ndGggPj0gMicpO1xuICAgIGNvbnN0IHplcm8gPSBjLlpFUk87XG4gICAgY29uc3Qgd2JpdHMgPSBiaXRMZW4oQmlnSW50KHBsZW5ndGgpKTtcbiAgICBsZXQgd2luZG93U2l6ZSA9IDE7IC8vIGJpdHNcbiAgICBpZiAod2JpdHMgPiAxMilcbiAgICAgICAgd2luZG93U2l6ZSA9IHdiaXRzIC0gMztcbiAgICBlbHNlIGlmICh3Yml0cyA+IDQpXG4gICAgICAgIHdpbmRvd1NpemUgPSB3Yml0cyAtIDI7XG4gICAgZWxzZSBpZiAod2JpdHMgPiAwKVxuICAgICAgICB3aW5kb3dTaXplID0gMjtcbiAgICBjb25zdCBNQVNLID0gYml0TWFzayh3aW5kb3dTaXplKTtcbiAgICBjb25zdCBidWNrZXRzID0gbmV3IEFycmF5KE51bWJlcihNQVNLKSArIDEpLmZpbGwoemVybyk7IC8vICsxIGZvciB6ZXJvIGFycmF5XG4gICAgY29uc3QgbGFzdEJpdHMgPSBNYXRoLmZsb29yKChmaWVsZE4uQklUUyAtIDEpIC8gd2luZG93U2l6ZSkgKiB3aW5kb3dTaXplO1xuICAgIGxldCBzdW0gPSB6ZXJvO1xuICAgIGZvciAobGV0IGkgPSBsYXN0Qml0czsgaSA+PSAwOyBpIC09IHdpbmRvd1NpemUpIHtcbiAgICAgICAgYnVja2V0cy5maWxsKHplcm8pO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNsZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGFyID0gc2NhbGFyc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IHdiaXRzID0gTnVtYmVyKChzY2FsYXIgPj4gQmlnSW50KGkpKSAmIE1BU0spO1xuICAgICAgICAgICAgYnVja2V0c1t3Yml0c10gPSBidWNrZXRzW3diaXRzXS5hZGQocG9pbnRzW2pdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzSSA9IHplcm87IC8vIG5vdCB1c2luZyB0aGlzIHdpbGwgZG8gc21hbGwgc3BlZWQtdXAsIGJ1dCB3aWxsIGxvc2UgY3RcbiAgICAgICAgLy8gU2tpcCBmaXJzdCBidWNrZXQsIGJlY2F1c2UgaXQgaXMgemVyb1xuICAgICAgICBmb3IgKGxldCBqID0gYnVja2V0cy5sZW5ndGggLSAxLCBzdW1JID0gemVybzsgaiA+IDA7IGotLSkge1xuICAgICAgICAgICAgc3VtSSA9IHN1bUkuYWRkKGJ1Y2tldHNbal0pO1xuICAgICAgICAgICAgcmVzSSA9IHJlc0kuYWRkKHN1bUkpO1xuICAgICAgICB9XG4gICAgICAgIHN1bSA9IHN1bS5hZGQocmVzSSk7XG4gICAgICAgIGlmIChpICE9PSAwKVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB3aW5kb3dTaXplOyBqKyspXG4gICAgICAgICAgICAgICAgc3VtID0gc3VtLmRvdWJsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuLyoqXG4gKiBQcmVjb21wdXRlZCBtdWx0aS1zY2FsYXIgbXVsdGlwbGljYXRpb24gKE1TTSwgUGEgKyBRYiArIFJjICsgLi4uKS5cbiAqIEBwYXJhbSBjIEN1cnZlIFBvaW50IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0gZmllbGROIGZpZWxkIG92ZXIgQ1VSVkUuTiAtIGltcG9ydGFudCB0aGF0IGl0J3Mgbm90IG92ZXIgQ1VSVkUuUFxuICogQHBhcmFtIHBvaW50cyBhcnJheSBvZiBMIGN1cnZlIHBvaW50c1xuICogQHJldHVybnMgZnVuY3Rpb24gd2hpY2ggbXVsdGlwbGllcyBwb2ludHMgd2l0aCBzY2FhcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZWNvbXB1dGVNU01VbnNhZmUoYywgZmllbGROLCBwb2ludHMsIHdpbmRvd1NpemUpIHtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtYW5jZSBBbmFseXNpcyBvZiBXaW5kb3ctYmFzZWQgUHJlY29tcHV0YXRpb25cbiAgICAgKlxuICAgICAqIEJhc2UgQ2FzZSAoMjU2LWJpdCBzY2FsYXIsIDgtYml0IHdpbmRvdyk6XG4gICAgICogLSBTdGFuZGFyZCBwcmVjb21wdXRhdGlvbiByZXF1aXJlczpcbiAgICAgKiAgIC0gMzEgYWRkaXRpb25zIHBlciBzY2FsYXIgw5cgMjU2IHNjYWxhcnMgPSA3LDkzNiBvcHNcbiAgICAgKiAgIC0gUGx1cyAyNTUgc3VtbWFyeSBhZGRpdGlvbnMgPSA4LDE5MSB0b3RhbCBvcHNcbiAgICAgKiAgIE5vdGU6IFN1bW1hcnkgYWRkaXRpb25zIGNhbiBiZSBvcHRpbWl6ZWQgdmlhIGFjY3VtdWxhdG9yXG4gICAgICpcbiAgICAgKiBDaHVua2VkIFByZWNvbXB1dGF0aW9uIEFuYWx5c2lzOlxuICAgICAqIC0gVXNpbmcgMzIgY2h1bmtzIHJlcXVpcmVzOlxuICAgICAqICAgLSAyNTUgYWRkaXRpb25zIHBlciBjaHVua1xuICAgICAqICAgLSAyNTYgZG91YmxpbmdzXG4gICAgICogICAtIFRvdGFsOiAoMjU1IMOXIDMyKSArIDI1NiA9IDgsNDE2IG9wc1xuICAgICAqXG4gICAgICogTWVtb3J5IFVzYWdlIENvbXBhcmlzb246XG4gICAgICogV2luZG93IFNpemUgfCBTdGFuZGFyZCBQb2ludHMgfCBDaHVua2VkIFBvaW50c1xuICAgICAqIC0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAgICAgNC1iaXQgICB8ICAgICA1MjAgICAgICAgICB8ICAgICAgMTVcbiAgICAgKiAgICAgOC1iaXQgICB8ICAgIDQsMjI0ICAgICAgICB8ICAgICAyNTVcbiAgICAgKiAgICAxMC1iaXQgICB8ICAgMTMsODI0ICAgICAgICB8ICAgMSwwMjNcbiAgICAgKiAgICAxNi1iaXQgICB8ICA1NTcsMDU2ICAgICAgICB8ICA2NSw1MzVcbiAgICAgKlxuICAgICAqIEtleSBBZHZhbnRhZ2VzOlxuICAgICAqIDEuIEVuYWJsZXMgbGFyZ2VyIHdpbmRvdyBzaXplcyBkdWUgdG8gcmVkdWNlZCBtZW1vcnkgb3ZlcmhlYWRcbiAgICAgKiAyLiBNb3JlIGVmZmljaWVudCBmb3Igc21hbGxlciBzY2FsYXIgY291bnRzOlxuICAgICAqICAgIC0gMTYgY2h1bmtzOiAoMTYgw5cgMjU1KSArIDI1NiA9IDQsMzM2IG9wc1xuICAgICAqICAgIC0gfjJ4IGZhc3RlciB0aGFuIHN0YW5kYXJkIDgsMTkxIG9wc1xuICAgICAqXG4gICAgICogTGltaXRhdGlvbnM6XG4gICAgICogLSBOb3Qgc3VpdGFibGUgZm9yIHBsYWluIHByZWNvbXB1dGVzIChyZXF1aXJlcyAyNTYgY29uc3RhbnQgZG91YmxpbmdzKVxuICAgICAqIC0gUGVyZm9ybWFuY2UgZGVncmFkZXMgd2l0aCBsYXJnZXIgc2NhbGFyIGNvdW50czpcbiAgICAgKiAgIC0gT3B0aW1hbCBmb3IgfjI1NiBzY2FsYXJzXG4gICAgICogICAtIExlc3MgZWZmaWNpZW50IGZvciA0MDk2KyBzY2FsYXJzIChQaXBwZW5nZXIgcHJlZmVycmVkKVxuICAgICAqL1xuICAgIHZhbGlkYXRlVyh3aW5kb3dTaXplLCBmaWVsZE4uQklUUyk7XG4gICAgdmFsaWRhdGVNU01Qb2ludHMocG9pbnRzLCBjKTtcbiAgICBjb25zdCB6ZXJvID0gYy5aRVJPO1xuICAgIGNvbnN0IHRhYmxlU2l6ZSA9IDIgKiogd2luZG93U2l6ZSAtIDE7IC8vIHRhYmxlIHNpemUgKHdpdGhvdXQgemVybylcbiAgICBjb25zdCBjaHVua3MgPSBNYXRoLmNlaWwoZmllbGROLkJJVFMgLyB3aW5kb3dTaXplKTsgLy8gY2h1bmtzIG9mIGl0ZW1cbiAgICBjb25zdCBNQVNLID0gYml0TWFzayh3aW5kb3dTaXplKTtcbiAgICBjb25zdCB0YWJsZXMgPSBwb2ludHMubWFwKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgYWNjID0gcDsgaSA8IHRhYmxlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICByZXMucHVzaChhY2MpO1xuICAgICAgICAgICAgYWNjID0gYWNjLmFkZChwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIHJldHVybiAoc2NhbGFycykgPT4ge1xuICAgICAgICB2YWxpZGF0ZU1TTVNjYWxhcnMoc2NhbGFycywgZmllbGROKTtcbiAgICAgICAgaWYgKHNjYWxhcnMubGVuZ3RoID4gcG9pbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXkgb2Ygc2NhbGFycyBtdXN0IGJlIHNtYWxsZXIgdGhhbiBhcnJheSBvZiBwb2ludHMnKTtcbiAgICAgICAgbGV0IHJlcyA9IHplcm87XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2h1bmtzOyBpKyspIHtcbiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gZG91YmxlIGlmIGFjY3VtdWxhdG9yIGlzIHN0aWxsIHplcm8uXG4gICAgICAgICAgICBpZiAocmVzICE9PSB6ZXJvKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2luZG93U2l6ZTsgaisrKVxuICAgICAgICAgICAgICAgICAgICByZXMgPSByZXMuZG91YmxlKCk7XG4gICAgICAgICAgICBjb25zdCBzaGlmdEJ5ID0gQmlnSW50KGNodW5rcyAqIHdpbmRvd1NpemUgLSAoaSArIDEpICogd2luZG93U2l6ZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNjYWxhcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gc2NhbGFyc1tqXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyID0gTnVtYmVyKChuID4+IHNoaWZ0QnkpICYgTUFTSyk7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCB6ZXJvIHNjYWxhcnMgY2h1bmtzXG4gICAgICAgICAgICAgICAgcmVzID0gcmVzLmFkZCh0YWJsZXNbal1bY3VyciAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVCYXNpYyhjdXJ2ZSkge1xuICAgIHZhbGlkYXRlRmllbGQoY3VydmUuRnApO1xuICAgIHZhbGlkYXRlT2JqZWN0KGN1cnZlLCB7XG4gICAgICAgIG46ICdiaWdpbnQnLFxuICAgICAgICBoOiAnYmlnaW50JyxcbiAgICAgICAgR3g6ICdmaWVsZCcsXG4gICAgICAgIEd5OiAnZmllbGQnLFxuICAgIH0sIHtcbiAgICAgICAgbkJpdExlbmd0aDogJ2lzU2FmZUludGVnZXInLFxuICAgICAgICBuQnl0ZUxlbmd0aDogJ2lzU2FmZUludGVnZXInLFxuICAgIH0pO1xuICAgIC8vIFNldCBkZWZhdWx0c1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgLi4ubkxlbmd0aChjdXJ2ZS5uLCBjdXJ2ZS5uQml0TGVuZ3RoKSxcbiAgICAgICAgLi4uY3VydmUsXG4gICAgICAgIC4uLnsgcDogY3VydmUuRnAuT1JERVIgfSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1cnZlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/curve.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/hash-to-curve.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/hash-to-curve.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHasher: () => (/* binding */ createHasher),\n/* harmony export */   expand_message_xmd: () => (/* binding */ expand_message_xmd),\n/* harmony export */   expand_message_xof: () => (/* binding */ expand_message_xof),\n/* harmony export */   hash_to_field: () => (/* binding */ hash_to_field),\n/* harmony export */   isogenyMap: () => (/* binding */ isogenyMap)\n/* harmony export */ });\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/utils.js\");\n\n\n// Octet Stream to Integer. \"spec\" implementation of os2ip is 2.5x slower vs bytesToNumberBE.\nconst os2ip = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE;\n// Integer to Octet Stream (numberToBytesBE)\nfunction i2osp(value, length) {\n    anum(value);\n    anum(length);\n    if (value < 0 || value >= 1 << (8 * length))\n        throw new Error('invalid I2OSP input: ' + value);\n    const res = Array.from({ length }).fill(0);\n    for (let i = length - 1; i >= 0; i--) {\n        res[i] = value & 0xff;\n        value >>>= 8;\n    }\n    return new Uint8Array(res);\n}\nfunction strxor(a, b) {\n    const arr = new Uint8Array(a.length);\n    for (let i = 0; i < a.length; i++) {\n        arr[i] = a[i] ^ b[i];\n    }\n    return arr;\n}\nfunction anum(item) {\n    if (!Number.isSafeInteger(item))\n        throw new Error('number expected');\n}\n/**\n * Produces a uniformly random byte string using a cryptographic hash function H that outputs b bits.\n * [RFC 9380 5.3.1](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.1).\n */\nfunction expand_message_xmd(msg, DST, lenInBytes, H) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(DST);\n    anum(lenInBytes);\n    // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n    if (DST.length > 255)\n        DST = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)('H2C-OVERSIZE-DST-'), DST));\n    const { outputLen: b_in_bytes, blockLen: r_in_bytes } = H;\n    const ell = Math.ceil(lenInBytes / b_in_bytes);\n    if (lenInBytes > 65535 || ell > 255)\n        throw new Error('expand_message_xmd: invalid lenInBytes');\n    const DST_prime = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(DST, i2osp(DST.length, 1));\n    const Z_pad = i2osp(0, r_in_bytes);\n    const l_i_b_str = i2osp(lenInBytes, 2); // len_in_bytes_str\n    const b = new Array(ell);\n    const b_0 = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(Z_pad, msg, l_i_b_str, i2osp(0, 1), DST_prime));\n    b[0] = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(b_0, i2osp(1, 1), DST_prime));\n    for (let i = 1; i <= ell; i++) {\n        const args = [strxor(b_0, b[i - 1]), i2osp(i + 1, 1), DST_prime];\n        b[i] = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...args));\n    }\n    const pseudo_random_bytes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...b);\n    return pseudo_random_bytes.slice(0, lenInBytes);\n}\n/**\n * Produces a uniformly random byte string using an extendable-output function (XOF) H.\n * 1. The collision resistance of H MUST be at least k bits.\n * 2. H MUST be an XOF that has been proved indifferentiable from\n *    a random oracle under a reasonable cryptographic assumption.\n * [RFC 9380 5.3.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.2).\n */\nfunction expand_message_xof(msg, DST, lenInBytes, k, H) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(DST);\n    anum(lenInBytes);\n    // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n    // DST = H('H2C-OVERSIZE-DST-' || a_very_long_DST, Math.ceil((lenInBytes * k) / 8));\n    if (DST.length > 255) {\n        const dkLen = Math.ceil((2 * k) / 8);\n        DST = H.create({ dkLen }).update((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)('H2C-OVERSIZE-DST-')).update(DST).digest();\n    }\n    if (lenInBytes > 65535 || DST.length > 255)\n        throw new Error('expand_message_xof: invalid lenInBytes');\n    return (H.create({ dkLen: lenInBytes })\n        .update(msg)\n        .update(i2osp(lenInBytes, 2))\n        // 2. DST_prime = DST || I2OSP(len(DST), 1)\n        .update(DST)\n        .update(i2osp(DST.length, 1))\n        .digest());\n}\n/**\n * Hashes arbitrary-length byte strings to a list of one or more elements of a finite field F.\n * [RFC 9380 5.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.2).\n * @param msg a byte string containing the message to hash\n * @param count the number of elements of F to output\n * @param options `{DST: string, p: bigint, m: number, k: number, expand: 'xmd' | 'xof', hash: H}`, see above\n * @returns [u_0, ..., u_(count - 1)], a list of field elements.\n */\nfunction hash_to_field(msg, count, options) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(options, {\n        DST: 'stringOrUint8Array',\n        p: 'bigint',\n        m: 'isSafeInteger',\n        k: 'isSafeInteger',\n        hash: 'hash',\n    });\n    const { p, k, m, hash, expand, DST: _DST } = options;\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(msg);\n    anum(count);\n    const DST = typeof _DST === 'string' ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(_DST) : _DST;\n    const log2p = p.toString(2).length;\n    const L = Math.ceil((log2p + k) / 8); // section 5.1 of ietf draft link above\n    const len_in_bytes = count * m * L;\n    let prb; // pseudo_random_bytes\n    if (expand === 'xmd') {\n        prb = expand_message_xmd(msg, DST, len_in_bytes, hash);\n    }\n    else if (expand === 'xof') {\n        prb = expand_message_xof(msg, DST, len_in_bytes, k, hash);\n    }\n    else if (expand === '_internal_pass') {\n        // for internal tests only\n        prb = msg;\n    }\n    else {\n        throw new Error('expand must be \"xmd\" or \"xof\"');\n    }\n    const u = new Array(count);\n    for (let i = 0; i < count; i++) {\n        const e = new Array(m);\n        for (let j = 0; j < m; j++) {\n            const elm_offset = L * (j + i * m);\n            const tv = prb.subarray(elm_offset, elm_offset + L);\n            e[j] = (0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.mod)(os2ip(tv), p);\n        }\n        u[i] = e;\n    }\n    return u;\n}\nfunction isogenyMap(field, map) {\n    // Make same order as in spec\n    const coeff = map.map((i) => Array.from(i).reverse());\n    return (x, y) => {\n        const [xn, xd, yn, yd] = coeff.map((val) => val.reduce((acc, i) => field.add(field.mul(acc, x), i)));\n        // 6.6.3\n        // Exceptional cases of iso_map are inputs that cause the denominator of\n        // either rational function to evaluate to zero; such cases MUST return\n        // the identity point on E.\n        const [xd_inv, yd_inv] = (0,_modular_js__WEBPACK_IMPORTED_MODULE_1__.FpInvertBatch)(field, [xd, yd], true);\n        x = field.mul(xn, xd_inv); // xNum / xDen\n        y = field.mul(y, field.mul(yn, yd_inv)); // y * (yNum / yDev)\n        return { x, y };\n    };\n}\n/** Creates hash-to-curve methods from EC Point and mapToCurve function. */\nfunction createHasher(Point, mapToCurve, defaults) {\n    if (typeof mapToCurve !== 'function')\n        throw new Error('mapToCurve() must be defined');\n    function map(num) {\n        return Point.fromAffine(mapToCurve(num));\n    }\n    function clear(initial) {\n        const P = initial.clearCofactor();\n        if (P.equals(Point.ZERO))\n            return Point.ZERO; // zero will throw in assert\n        P.assertValidity();\n        return P;\n    }\n    return {\n        defaults,\n        // Encodes byte string to elliptic curve.\n        // hash_to_curve from https://www.rfc-editor.org/rfc/rfc9380#section-3\n        hashToCurve(msg, options) {\n            const u = hash_to_field(msg, 2, { ...defaults, DST: defaults.DST, ...options });\n            const u0 = map(u[0]);\n            const u1 = map(u[1]);\n            return clear(u0.add(u1));\n        },\n        // Encodes byte string to elliptic curve.\n        // encode_to_curve from https://www.rfc-editor.org/rfc/rfc9380#section-3\n        encodeToCurve(msg, options) {\n            const u = hash_to_field(msg, 1, { ...defaults, DST: defaults.encodeDST, ...options });\n            return clear(map(u[0]));\n        },\n        // Same as encodeToCurve, but without hash\n        mapToCurve(scalars) {\n            if (!Array.isArray(scalars))\n                throw new Error('expected array of bigints');\n            for (const i of scalars)\n                if (typeof i !== 'bigint')\n                    throw new Error('expected array of bigints');\n            return clear(map(scalars));\n        },\n    };\n}\n//# sourceMappingURL=hash-to-curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L2hhc2gtdG8tY3VydmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrRDtBQUM2QztBQUMvRjtBQUNBLGNBQWMsc0RBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckMsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLElBQUksaURBQU07QUFDVixJQUFJLGlEQUFNO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNEQUFXLENBQUMsc0RBQVc7QUFDdkMsWUFBWSw4Q0FBOEM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFXO0FBQ2pDO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0Esa0JBQWtCLHNEQUFXO0FBQzdCLGFBQWEsc0RBQVc7QUFDeEIsb0JBQW9CLFVBQVU7QUFDOUI7QUFDQSxpQkFBaUIsc0RBQVc7QUFDNUI7QUFDQSxnQ0FBZ0Msc0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxJQUFJLGlEQUFNO0FBQ1YsSUFBSSxpREFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsT0FBTyxTQUFTLHNEQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtQkFBbUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZFQUE2RTtBQUNqRztBQUNBO0FBQ087QUFDUCxJQUFJLHlEQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxtQ0FBbUM7QUFDL0MsSUFBSSxpREFBTTtBQUNWO0FBQ0EsMkNBQTJDLHNEQUFXO0FBQ3REO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0EsaUNBQWlDLDBEQUFhO0FBQzlDLG1DQUFtQztBQUNuQyxpREFBaUQ7QUFDakQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDRDQUE0QztBQUMxRjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGtEQUFrRDtBQUNoRztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vYWJzdHJhY3QvaGFzaC10by1jdXJ2ZS5qcz8yMGFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZwSW52ZXJ0QmF0Y2gsIG1vZCB9IGZyb20gXCIuL21vZHVsYXIuanNcIjtcbmltcG9ydCB7IGFieXRlcywgYnl0ZXNUb051bWJlckJFLCBjb25jYXRCeXRlcywgdXRmOFRvQnl0ZXMsIHZhbGlkYXRlT2JqZWN0IH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbi8vIE9jdGV0IFN0cmVhbSB0byBJbnRlZ2VyLiBcInNwZWNcIiBpbXBsZW1lbnRhdGlvbiBvZiBvczJpcCBpcyAyLjV4IHNsb3dlciB2cyBieXRlc1RvTnVtYmVyQkUuXG5jb25zdCBvczJpcCA9IGJ5dGVzVG9OdW1iZXJCRTtcbi8vIEludGVnZXIgdG8gT2N0ZXQgU3RyZWFtIChudW1iZXJUb0J5dGVzQkUpXG5mdW5jdGlvbiBpMm9zcCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgYW51bSh2YWx1ZSk7XG4gICAgYW51bShsZW5ndGgpO1xuICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPj0gMSA8PCAoOCAqIGxlbmd0aCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBJMk9TUCBpbnB1dDogJyArIHZhbHVlKTtcbiAgICBjb25zdCByZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoIH0pLmZpbGwoMCk7XG4gICAgZm9yIChsZXQgaSA9IGxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHJlc1tpXSA9IHZhbHVlICYgMHhmZjtcbiAgICAgICAgdmFsdWUgPj4+PSA4O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzKTtcbn1cbmZ1bmN0aW9uIHN0cnhvcihhLCBiKSB7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBhW2ldIF4gYltpXTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cbmZ1bmN0aW9uIGFudW0oaXRlbSkge1xuICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIoaXRlbSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbnVtYmVyIGV4cGVjdGVkJyk7XG59XG4vKipcbiAqIFByb2R1Y2VzIGEgdW5pZm9ybWx5IHJhbmRvbSBieXRlIHN0cmluZyB1c2luZyBhIGNyeXB0b2dyYXBoaWMgaGFzaCBmdW5jdGlvbiBIIHRoYXQgb3V0cHV0cyBiIGJpdHMuXG4gKiBbUkZDIDkzODAgNS4zLjFdKGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNS4zLjEpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kX21lc3NhZ2VfeG1kKG1zZywgRFNULCBsZW5JbkJ5dGVzLCBIKSB7XG4gICAgYWJ5dGVzKG1zZyk7XG4gICAgYWJ5dGVzKERTVCk7XG4gICAgYW51bShsZW5JbkJ5dGVzKTtcbiAgICAvLyBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTUuMy4zXG4gICAgaWYgKERTVC5sZW5ndGggPiAyNTUpXG4gICAgICAgIERTVCA9IEgoY29uY2F0Qnl0ZXModXRmOFRvQnl0ZXMoJ0gyQy1PVkVSU0laRS1EU1QtJyksIERTVCkpO1xuICAgIGNvbnN0IHsgb3V0cHV0TGVuOiBiX2luX2J5dGVzLCBibG9ja0xlbjogcl9pbl9ieXRlcyB9ID0gSDtcbiAgICBjb25zdCBlbGwgPSBNYXRoLmNlaWwobGVuSW5CeXRlcyAvIGJfaW5fYnl0ZXMpO1xuICAgIGlmIChsZW5JbkJ5dGVzID4gNjU1MzUgfHwgZWxsID4gMjU1KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGFuZF9tZXNzYWdlX3htZDogaW52YWxpZCBsZW5JbkJ5dGVzJyk7XG4gICAgY29uc3QgRFNUX3ByaW1lID0gY29uY2F0Qnl0ZXMoRFNULCBpMm9zcChEU1QubGVuZ3RoLCAxKSk7XG4gICAgY29uc3QgWl9wYWQgPSBpMm9zcCgwLCByX2luX2J5dGVzKTtcbiAgICBjb25zdCBsX2lfYl9zdHIgPSBpMm9zcChsZW5JbkJ5dGVzLCAyKTsgLy8gbGVuX2luX2J5dGVzX3N0clxuICAgIGNvbnN0IGIgPSBuZXcgQXJyYXkoZWxsKTtcbiAgICBjb25zdCBiXzAgPSBIKGNvbmNhdEJ5dGVzKFpfcGFkLCBtc2csIGxfaV9iX3N0ciwgaTJvc3AoMCwgMSksIERTVF9wcmltZSkpO1xuICAgIGJbMF0gPSBIKGNvbmNhdEJ5dGVzKGJfMCwgaTJvc3AoMSwgMSksIERTVF9wcmltZSkpO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGVsbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBbc3RyeG9yKGJfMCwgYltpIC0gMV0pLCBpMm9zcChpICsgMSwgMSksIERTVF9wcmltZV07XG4gICAgICAgIGJbaV0gPSBIKGNvbmNhdEJ5dGVzKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgY29uc3QgcHNldWRvX3JhbmRvbV9ieXRlcyA9IGNvbmNhdEJ5dGVzKC4uLmIpO1xuICAgIHJldHVybiBwc2V1ZG9fcmFuZG9tX2J5dGVzLnNsaWNlKDAsIGxlbkluQnl0ZXMpO1xufVxuLyoqXG4gKiBQcm9kdWNlcyBhIHVuaWZvcm1seSByYW5kb20gYnl0ZSBzdHJpbmcgdXNpbmcgYW4gZXh0ZW5kYWJsZS1vdXRwdXQgZnVuY3Rpb24gKFhPRikgSC5cbiAqIDEuIFRoZSBjb2xsaXNpb24gcmVzaXN0YW5jZSBvZiBIIE1VU1QgYmUgYXQgbGVhc3QgayBiaXRzLlxuICogMi4gSCBNVVNUIGJlIGFuIFhPRiB0aGF0IGhhcyBiZWVuIHByb3ZlZCBpbmRpZmZlcmVudGlhYmxlIGZyb21cbiAqICAgIGEgcmFuZG9tIG9yYWNsZSB1bmRlciBhIHJlYXNvbmFibGUgY3J5cHRvZ3JhcGhpYyBhc3N1bXB0aW9uLlxuICogW1JGQyA5MzgwIDUuMy4yXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTUuMy4yKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZF9tZXNzYWdlX3hvZihtc2csIERTVCwgbGVuSW5CeXRlcywgaywgSCkge1xuICAgIGFieXRlcyhtc2cpO1xuICAgIGFieXRlcyhEU1QpO1xuICAgIGFudW0obGVuSW5CeXRlcyk7XG4gICAgLy8gaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODAjc2VjdGlvbi01LjMuM1xuICAgIC8vIERTVCA9IEgoJ0gyQy1PVkVSU0laRS1EU1QtJyB8fCBhX3ZlcnlfbG9uZ19EU1QsIE1hdGguY2VpbCgobGVuSW5CeXRlcyAqIGspIC8gOCkpO1xuICAgIGlmIChEU1QubGVuZ3RoID4gMjU1KSB7XG4gICAgICAgIGNvbnN0IGRrTGVuID0gTWF0aC5jZWlsKCgyICogaykgLyA4KTtcbiAgICAgICAgRFNUID0gSC5jcmVhdGUoeyBka0xlbiB9KS51cGRhdGUodXRmOFRvQnl0ZXMoJ0gyQy1PVkVSU0laRS1EU1QtJykpLnVwZGF0ZShEU1QpLmRpZ2VzdCgpO1xuICAgIH1cbiAgICBpZiAobGVuSW5CeXRlcyA+IDY1NTM1IHx8IERTVC5sZW5ndGggPiAyNTUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwYW5kX21lc3NhZ2VfeG9mOiBpbnZhbGlkIGxlbkluQnl0ZXMnKTtcbiAgICByZXR1cm4gKEguY3JlYXRlKHsgZGtMZW46IGxlbkluQnl0ZXMgfSlcbiAgICAgICAgLnVwZGF0ZShtc2cpXG4gICAgICAgIC51cGRhdGUoaTJvc3AobGVuSW5CeXRlcywgMikpXG4gICAgICAgIC8vIDIuIERTVF9wcmltZSA9IERTVCB8fCBJMk9TUChsZW4oRFNUKSwgMSlcbiAgICAgICAgLnVwZGF0ZShEU1QpXG4gICAgICAgIC51cGRhdGUoaTJvc3AoRFNULmxlbmd0aCwgMSkpXG4gICAgICAgIC5kaWdlc3QoKSk7XG59XG4vKipcbiAqIEhhc2hlcyBhcmJpdHJhcnktbGVuZ3RoIGJ5dGUgc3RyaW5ncyB0byBhIGxpc3Qgb2Ygb25lIG9yIG1vcmUgZWxlbWVudHMgb2YgYSBmaW5pdGUgZmllbGQgRi5cbiAqIFtSRkMgOTM4MCA1LjJdKGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNS4yKS5cbiAqIEBwYXJhbSBtc2cgYSBieXRlIHN0cmluZyBjb250YWluaW5nIHRoZSBtZXNzYWdlIHRvIGhhc2hcbiAqIEBwYXJhbSBjb3VudCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIG9mIEYgdG8gb3V0cHV0XG4gKiBAcGFyYW0gb3B0aW9ucyBge0RTVDogc3RyaW5nLCBwOiBiaWdpbnQsIG06IG51bWJlciwgazogbnVtYmVyLCBleHBhbmQ6ICd4bWQnIHwgJ3hvZicsIGhhc2g6IEh9YCwgc2VlIGFib3ZlXG4gKiBAcmV0dXJucyBbdV8wLCAuLi4sIHVfKGNvdW50IC0gMSldLCBhIGxpc3Qgb2YgZmllbGQgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoX3RvX2ZpZWxkKG1zZywgY291bnQsIG9wdGlvbnMpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChvcHRpb25zLCB7XG4gICAgICAgIERTVDogJ3N0cmluZ09yVWludDhBcnJheScsXG4gICAgICAgIHA6ICdiaWdpbnQnLFxuICAgICAgICBtOiAnaXNTYWZlSW50ZWdlcicsXG4gICAgICAgIGs6ICdpc1NhZmVJbnRlZ2VyJyxcbiAgICAgICAgaGFzaDogJ2hhc2gnLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgcCwgaywgbSwgaGFzaCwgZXhwYW5kLCBEU1Q6IF9EU1QgfSA9IG9wdGlvbnM7XG4gICAgYWJ5dGVzKG1zZyk7XG4gICAgYW51bShjb3VudCk7XG4gICAgY29uc3QgRFNUID0gdHlwZW9mIF9EU1QgPT09ICdzdHJpbmcnID8gdXRmOFRvQnl0ZXMoX0RTVCkgOiBfRFNUO1xuICAgIGNvbnN0IGxvZzJwID0gcC50b1N0cmluZygyKS5sZW5ndGg7XG4gICAgY29uc3QgTCA9IE1hdGguY2VpbCgobG9nMnAgKyBrKSAvIDgpOyAvLyBzZWN0aW9uIDUuMSBvZiBpZXRmIGRyYWZ0IGxpbmsgYWJvdmVcbiAgICBjb25zdCBsZW5faW5fYnl0ZXMgPSBjb3VudCAqIG0gKiBMO1xuICAgIGxldCBwcmI7IC8vIHBzZXVkb19yYW5kb21fYnl0ZXNcbiAgICBpZiAoZXhwYW5kID09PSAneG1kJykge1xuICAgICAgICBwcmIgPSBleHBhbmRfbWVzc2FnZV94bWQobXNnLCBEU1QsIGxlbl9pbl9ieXRlcywgaGFzaCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4cGFuZCA9PT0gJ3hvZicpIHtcbiAgICAgICAgcHJiID0gZXhwYW5kX21lc3NhZ2VfeG9mKG1zZywgRFNULCBsZW5faW5fYnl0ZXMsIGssIGhhc2gpO1xuICAgIH1cbiAgICBlbHNlIGlmIChleHBhbmQgPT09ICdfaW50ZXJuYWxfcGFzcycpIHtcbiAgICAgICAgLy8gZm9yIGludGVybmFsIHRlc3RzIG9ubHlcbiAgICAgICAgcHJiID0gbXNnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBhbmQgbXVzdCBiZSBcInhtZFwiIG9yIFwieG9mXCInKTtcbiAgICB9XG4gICAgY29uc3QgdSA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgQXJyYXkobSk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbTsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBlbG1fb2Zmc2V0ID0gTCAqIChqICsgaSAqIG0pO1xuICAgICAgICAgICAgY29uc3QgdHYgPSBwcmIuc3ViYXJyYXkoZWxtX29mZnNldCwgZWxtX29mZnNldCArIEwpO1xuICAgICAgICAgICAgZVtqXSA9IG1vZChvczJpcCh0diksIHApO1xuICAgICAgICB9XG4gICAgICAgIHVbaV0gPSBlO1xuICAgIH1cbiAgICByZXR1cm4gdTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc29nZW55TWFwKGZpZWxkLCBtYXApIHtcbiAgICAvLyBNYWtlIHNhbWUgb3JkZXIgYXMgaW4gc3BlY1xuICAgIGNvbnN0IGNvZWZmID0gbWFwLm1hcCgoaSkgPT4gQXJyYXkuZnJvbShpKS5yZXZlcnNlKCkpO1xuICAgIHJldHVybiAoeCwgeSkgPT4ge1xuICAgICAgICBjb25zdCBbeG4sIHhkLCB5biwgeWRdID0gY29lZmYubWFwKCh2YWwpID0+IHZhbC5yZWR1Y2UoKGFjYywgaSkgPT4gZmllbGQuYWRkKGZpZWxkLm11bChhY2MsIHgpLCBpKSkpO1xuICAgICAgICAvLyA2LjYuM1xuICAgICAgICAvLyBFeGNlcHRpb25hbCBjYXNlcyBvZiBpc29fbWFwIGFyZSBpbnB1dHMgdGhhdCBjYXVzZSB0aGUgZGVub21pbmF0b3Igb2ZcbiAgICAgICAgLy8gZWl0aGVyIHJhdGlvbmFsIGZ1bmN0aW9uIHRvIGV2YWx1YXRlIHRvIHplcm87IHN1Y2ggY2FzZXMgTVVTVCByZXR1cm5cbiAgICAgICAgLy8gdGhlIGlkZW50aXR5IHBvaW50IG9uIEUuXG4gICAgICAgIGNvbnN0IFt4ZF9pbnYsIHlkX2ludl0gPSBGcEludmVydEJhdGNoKGZpZWxkLCBbeGQsIHlkXSwgdHJ1ZSk7XG4gICAgICAgIHggPSBmaWVsZC5tdWwoeG4sIHhkX2ludik7IC8vIHhOdW0gLyB4RGVuXG4gICAgICAgIHkgPSBmaWVsZC5tdWwoeSwgZmllbGQubXVsKHluLCB5ZF9pbnYpKTsgLy8geSAqICh5TnVtIC8geURldilcbiAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgIH07XG59XG4vKiogQ3JlYXRlcyBoYXNoLXRvLWN1cnZlIG1ldGhvZHMgZnJvbSBFQyBQb2ludCBhbmQgbWFwVG9DdXJ2ZSBmdW5jdGlvbi4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIYXNoZXIoUG9pbnQsIG1hcFRvQ3VydmUsIGRlZmF1bHRzKSB7XG4gICAgaWYgKHR5cGVvZiBtYXBUb0N1cnZlICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcFRvQ3VydmUoKSBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBmdW5jdGlvbiBtYXAobnVtKSB7XG4gICAgICAgIHJldHVybiBQb2ludC5mcm9tQWZmaW5lKG1hcFRvQ3VydmUobnVtKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyKGluaXRpYWwpIHtcbiAgICAgICAgY29uc3QgUCA9IGluaXRpYWwuY2xlYXJDb2ZhY3RvcigpO1xuICAgICAgICBpZiAoUC5lcXVhbHMoUG9pbnQuWkVSTykpXG4gICAgICAgICAgICByZXR1cm4gUG9pbnQuWkVSTzsgLy8gemVybyB3aWxsIHRocm93IGluIGFzc2VydFxuICAgICAgICBQLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgIHJldHVybiBQO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBkZWZhdWx0cyxcbiAgICAgICAgLy8gRW5jb2RlcyBieXRlIHN0cmluZyB0byBlbGxpcHRpYyBjdXJ2ZS5cbiAgICAgICAgLy8gaGFzaF90b19jdXJ2ZSBmcm9tIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tM1xuICAgICAgICBoYXNoVG9DdXJ2ZShtc2csIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHUgPSBoYXNoX3RvX2ZpZWxkKG1zZywgMiwgeyAuLi5kZWZhdWx0cywgRFNUOiBkZWZhdWx0cy5EU1QsIC4uLm9wdGlvbnMgfSk7XG4gICAgICAgICAgICBjb25zdCB1MCA9IG1hcCh1WzBdKTtcbiAgICAgICAgICAgIGNvbnN0IHUxID0gbWFwKHVbMV0pO1xuICAgICAgICAgICAgcmV0dXJuIGNsZWFyKHUwLmFkZCh1MSkpO1xuICAgICAgICB9LFxuICAgICAgICAvLyBFbmNvZGVzIGJ5dGUgc3RyaW5nIHRvIGVsbGlwdGljIGN1cnZlLlxuICAgICAgICAvLyBlbmNvZGVfdG9fY3VydmUgZnJvbSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTNcbiAgICAgICAgZW5jb2RlVG9DdXJ2ZShtc2csIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHUgPSBoYXNoX3RvX2ZpZWxkKG1zZywgMSwgeyAuLi5kZWZhdWx0cywgRFNUOiBkZWZhdWx0cy5lbmNvZGVEU1QsIC4uLm9wdGlvbnMgfSk7XG4gICAgICAgICAgICByZXR1cm4gY2xlYXIobWFwKHVbMF0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gU2FtZSBhcyBlbmNvZGVUb0N1cnZlLCBidXQgd2l0aG91dCBoYXNoXG4gICAgICAgIG1hcFRvQ3VydmUoc2NhbGFycykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNjYWxhcnMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgYXJyYXkgb2YgYmlnaW50cycpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHNjYWxhcnMpXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpICE9PSAnYmlnaW50JylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBhcnJheSBvZiBiaWdpbnRzJyk7XG4gICAgICAgICAgICByZXR1cm4gY2xlYXIobWFwKHNjYWxhcnMpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFzaC10by1jdXJ2ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/hash-to-curve.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FpDiv: () => (/* binding */ FpDiv),\n/* harmony export */   FpInvertBatch: () => (/* binding */ FpInvertBatch),\n/* harmony export */   FpIsSquare: () => (/* binding */ FpIsSquare),\n/* harmony export */   FpLegendre: () => (/* binding */ FpLegendre),\n/* harmony export */   FpPow: () => (/* binding */ FpPow),\n/* harmony export */   FpSqrt: () => (/* binding */ FpSqrt),\n/* harmony export */   FpSqrtEven: () => (/* binding */ FpSqrtEven),\n/* harmony export */   FpSqrtOdd: () => (/* binding */ FpSqrtOdd),\n/* harmony export */   getFieldBytesLength: () => (/* binding */ getFieldBytesLength),\n/* harmony export */   getMinHashLength: () => (/* binding */ getMinHashLength),\n/* harmony export */   hashToPrivateScalar: () => (/* binding */ hashToPrivateScalar),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   isNegativeLE: () => (/* binding */ isNegativeLE),\n/* harmony export */   mapHashToField: () => (/* binding */ mapHashToField),\n/* harmony export */   mod: () => (/* binding */ mod),\n/* harmony export */   nLength: () => (/* binding */ nLength),\n/* harmony export */   pow: () => (/* binding */ pow),\n/* harmony export */   pow2: () => (/* binding */ pow2),\n/* harmony export */   tonelliShanks: () => (/* binding */ tonelliShanks),\n/* harmony export */   validateField: () => (/* binding */ validateField)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Utils for modular division and finite fields.\n * A finite field over 11 is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _8n = /* @__PURE__ */ BigInt(8);\n// Calculates a modulo b\nfunction mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * TODO: remove.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nfunction pow(num, power, modulo) {\n    return FpPow(Field(modulo), num, power);\n}\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nfunction pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nfunction invert(number, modulo) {\n    if (number === _0n)\n        throw new Error('invert: expected non-zero number');\n    if (modulo <= _0n)\n        throw new Error('invert: expected positive modulus, got ' + modulo);\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4(Fp, n) {\n    const p1div4 = (Fp.ORDER + _1n) / _4n;\n    const root = Fp.pow(n, p1div4);\n    // Throw if root^2 != n\n    if (!Fp.eql(Fp.sqr(root), n))\n        throw new Error('Cannot find square root');\n    return root;\n}\nfunction sqrt5mod8(Fp, n) {\n    const p5div8 = (Fp.ORDER - _5n) / _8n;\n    const n2 = Fp.mul(n, _2n);\n    const v = Fp.pow(n2, p5div8);\n    const nv = Fp.mul(n, v);\n    const i = Fp.mul(Fp.mul(nv, _2n), v);\n    const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n    if (!Fp.eql(Fp.sqr(root), n))\n        throw new Error('Cannot find square root');\n    return root;\n}\n// TODO: Commented-out for now. Provide test vectors.\n// Tonelli is too slow for extension fields Fp2.\n// That means we can't use sqrt (c1, c2...) even for initialization constants.\n// if (P % _16n === _9n) return sqrt9mod16;\n// // prettier-ignore\n// function sqrt9mod16<T>(Fp: IField<T>, n: T, p7div16?: bigint) {\n//   if (p7div16 === undefined) p7div16 = (Fp.ORDER + BigInt(7)) / _16n;\n//   const c1 = Fp.sqrt(Fp.neg(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n//   const c2 = Fp.sqrt(c1);             //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n//   const c3 = Fp.sqrt(Fp.neg(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n//   const c4 = p7div16;                 //  4. c4 = (q + 7) / 16        # Integer arithmetic\n//   let tv1 = Fp.pow(n, c4);            //  1. tv1 = x^c4\n//   let tv2 = Fp.mul(c1, tv1);          //  2. tv2 = c1 * tv1\n//   const tv3 = Fp.mul(c2, tv1);        //  3. tv3 = c2 * tv1\n//   let tv4 = Fp.mul(c3, tv1);          //  4. tv4 = c3 * tv1\n//   const e1 = Fp.eql(Fp.sqr(tv2), n);  //  5.  e1 = (tv2^2) == x\n//   const e2 = Fp.eql(Fp.sqr(tv3), n);  //  6.  e2 = (tv3^2) == x\n//   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n//   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n//   const e3 = Fp.eql(Fp.sqr(tv2), n);  //  9.  e3 = (tv2^2) == x\n//   return Fp.cmov(tv1, tv2, e3); // 10.  z = CMOV(tv1, tv2, e3) # Select the sqrt from tv1 and tv2\n// }\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nfunction tonelliShanks(P) {\n    // Initialization (precomputation).\n    if (P < BigInt(3))\n        throw new Error('sqrt is not defined for small field');\n    // Factor P - 1 = Q * 2^S, where Q is odd\n    let Q = P - _1n;\n    let S = 0;\n    while (Q % _2n === _0n) {\n        Q /= _2n;\n        S++;\n    }\n    // Find the first quadratic non-residue Z >= 2\n    let Z = _2n;\n    const _Fp = Field(P);\n    while (FpLegendre(_Fp, Z) === 1) {\n        // Basic primality test for P. After x iterations, chance of\n        // not finding quadratic non-residue is 2^x, so 2^1000.\n        if (Z++ > 1000)\n            throw new Error('Cannot find square root: probably non-prime P');\n    }\n    // Fast-path; usually done before Z, but we do \"primality test\".\n    if (S === 1)\n        return sqrt3mod4;\n    // Slow-path\n    // TODO: test on Fp2 and others\n    let cc = _Fp.pow(Z, Q); // c = z^Q\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        if (Fp.is0(n))\n            return n;\n        // Check if n is a quadratic residue using Legendre symbol\n        if (FpLegendre(Fp, n) !== 1)\n            throw new Error('Cannot find square root');\n        // Initialize variables for the main loop\n        let M = S;\n        let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n        let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n        let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n        // Main loop\n        // while t != 1\n        while (!Fp.eql(t, Fp.ONE)) {\n            if (Fp.is0(t))\n                return Fp.ZERO; // if t=0 return R=0\n            let i = 1;\n            // Find the smallest i >= 1 such that t^(2^i)  1 (mod P)\n            let t_tmp = Fp.sqr(t); // t^(2^1)\n            while (!Fp.eql(t_tmp, Fp.ONE)) {\n                i++;\n                t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n                if (i === M)\n                    throw new Error('Cannot find square root');\n            }\n            // Calculate the exponent for b: 2^(M - i - 1)\n            const exponent = _1n << BigInt(M - i - 1); // bigint is important\n            const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n            // Update variables\n            M = i;\n            c = Fp.sqr(b); // c = b^2\n            t = Fp.mul(t, c); // t = (t * b^2)\n            R = Fp.mul(R, b); // R = R*b\n        }\n        return R;\n    };\n}\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P  3 (mod 4)\n * 2. P  5 (mod 8)\n * 3. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nfunction FpSqrt(P) {\n    // P  3 (mod 4) => n = n^((P+1)/4)\n    if (P % _4n === _3n)\n        return sqrt3mod4;\n    // P  5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n    if (P % _8n === _5n)\n        return sqrt5mod8;\n    // P  9 (mod 16) not implemented, see above\n    // Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nconst isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nfunction validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        MASK: 'bigint',\n        BYTES: 'isSafeInteger',\n        BITS: 'isSafeInteger',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(field, opts);\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nfunction FpPow(Fp, num, power) {\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (power === _0n)\n        return Fp.ONE;\n    if (power === _1n)\n        return num;\n    let p = Fp.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = Fp.mul(p, d);\n        d = Fp.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nfunction FpInvertBatch(Fp, nums, passZero = false) {\n    const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n    // Walk from first to last, multiply them by each other MOD p\n    const multipliedAcc = nums.reduce((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = acc;\n        return Fp.mul(acc, num);\n    }, Fp.ONE);\n    // Invert last element\n    const invertedAcc = Fp.inv(multipliedAcc);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = Fp.mul(acc, inverted[i]);\n        return Fp.mul(acc, num);\n    }, invertedAcc);\n    return inverted;\n}\n// TODO: remove\nfunction FpDiv(Fp, lhs, rhs) {\n    return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p)  1    if a is a square (mod p), quadratic residue\n * * (a | p)  -1   if a is not a square (mod p), quadratic non residue\n * * (a | p)  0    if a  0 (mod p)\n */\nfunction FpLegendre(Fp, n) {\n    // We can use 3rd argument as optional cache of this value\n    // but seems unneeded for now. The operation is very fast.\n    const p1mod2 = (Fp.ORDER - _1n) / _2n;\n    const powered = Fp.pow(n, p1mod2);\n    const yes = Fp.eql(powered, Fp.ONE);\n    const zero = Fp.eql(powered, Fp.ZERO);\n    const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n    if (!yes && !zero && !no)\n        throw new Error('invalid Legendre symbol result');\n    return yes ? 1 : zero ? 0 : -1;\n}\n// This function returns True whenever the value x is a square in the field F.\nfunction FpIsSquare(Fp, n) {\n    const l = FpLegendre(Fp, n);\n    return l === 1;\n}\n// CURVE.n lengths\nfunction nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    if (nBitLength !== undefined)\n        (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.anumber)(nBitLength);\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\n/**\n * Initializes a finite field over prime.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nfunction Field(ORDER, bitLen, isLE = false, redef = {}) {\n    if (ORDER <= _0n)\n        throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n    const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n    if (BYTES > 2048)\n        throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n    let sqrtP; // cached sqrtP\n    const f = Object.freeze({\n        ORDER,\n        isLE,\n        BITS,\n        BYTES,\n        MASK: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(BITS),\n        ZERO: _0n,\n        ONE: _1n,\n        create: (num) => mod(num, ORDER),\n        isValid: (num) => {\n            if (typeof num !== 'bigint')\n                throw new Error('invalid field element: expected bigint, got ' + typeof num);\n            return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n        },\n        is0: (num) => num === _0n,\n        isOdd: (num) => (num & _1n) === _1n,\n        neg: (num) => mod(-num, ORDER),\n        eql: (lhs, rhs) => lhs === rhs,\n        sqr: (num) => mod(num * num, ORDER),\n        add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n        sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n        mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n        pow: (num, power) => FpPow(f, num, power),\n        div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n        // Same as above, but doesn't normalize\n        sqrN: (num) => num * num,\n        addN: (lhs, rhs) => lhs + rhs,\n        subN: (lhs, rhs) => lhs - rhs,\n        mulN: (lhs, rhs) => lhs * rhs,\n        inv: (num) => invert(num, ORDER),\n        sqrt: redef.sqrt ||\n            ((n) => {\n                if (!sqrtP)\n                    sqrtP = FpSqrt(ORDER);\n                return sqrtP(f, n);\n            }),\n        toBytes: (num) => (isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesLE)(num, BYTES) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(num, BYTES)),\n        fromBytes: (bytes) => {\n            if (bytes.length !== BYTES)\n                throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n            return isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(bytes) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(bytes);\n        },\n        // TODO: we don't need it here, move out to separate fn\n        invertBatch: (lst) => FpInvertBatch(f, lst),\n        // We can't move this out because Fp6, Fp12 implement it\n        // and it's unclear what to return in there.\n        cmov: (a, b, c) => (c ? b : a),\n    });\n    return Object.freeze(f);\n}\nfunction FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nfunction FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nfunction hashToPrivateScalar(hash, groupOrder, isLE = false) {\n    hash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('privateHash', hash);\n    const hashLen = hash.length;\n    const minLen = nLength(groupOrder).nByteLength + 8;\n    if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n        throw new Error('hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen);\n    const num = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(hash) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(hash);\n    return mod(num, groupOrder - _1n) + _1n;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nfunction getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nfunction getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nfunction mapHashToField(key, fieldOrder, isLE = false) {\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n    const num = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(key) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesLE)(reduced, fieldLen) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L21vZHVsYXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM4QztBQUN5RjtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFDbEMseUNBQXlDO0FBQ3pDLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBZSxRQUFRLDBEQUFlO0FBQzdEO0FBQ0E7QUFDQSxrQkFBa0IsMERBQWUsc0JBQXNCLDBEQUFlO0FBQ3RFO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L21vZHVsYXIuanM/NTkxNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFV0aWxzIGZvciBtb2R1bGFyIGRpdmlzaW9uIGFuZCBmaW5pdGUgZmllbGRzLlxuICogQSBmaW5pdGUgZmllbGQgb3ZlciAxMSBpcyBpbnRlZ2VyIG51bWJlciBvcGVyYXRpb25zIGBtb2QgMTFgLlxuICogVGhlcmUgaXMgbm8gZGl2aXNpb246IGl0IGlzIHJlcGxhY2VkIGJ5IG1vZHVsYXIgbXVsdGlwbGljYXRpdmUgaW52ZXJzZS5cbiAqIEBtb2R1bGVcbiAqL1xuLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL1xuaW1wb3J0IHsgYW51bWJlciB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvdXRpbHMnO1xuaW1wb3J0IHsgYml0TWFzaywgYnl0ZXNUb051bWJlckJFLCBieXRlc1RvTnVtYmVyTEUsIGVuc3VyZUJ5dGVzLCBudW1iZXJUb0J5dGVzQkUsIG51bWJlclRvQnl0ZXNMRSwgdmFsaWRhdGVPYmplY3QsIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgXzBuID0gQmlnSW50KDApLCBfMW4gPSBCaWdJbnQoMSksIF8ybiA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMiksIF8zbiA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMyk7XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IF80biA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoNCksIF81biA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoNSksIF84biA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoOCk7XG4vLyBDYWxjdWxhdGVzIGEgbW9kdWxvIGJcbmV4cG9ydCBmdW5jdGlvbiBtb2QoYSwgYikge1xuICAgIGNvbnN0IHJlc3VsdCA9IGEgJSBiO1xuICAgIHJldHVybiByZXN1bHQgPj0gXzBuID8gcmVzdWx0IDogYiArIHJlc3VsdDtcbn1cbi8qKlxuICogRWZmaWNpZW50bHkgcmFpc2UgbnVtIHRvIHBvd2VyIGFuZCBkbyBtb2R1bGFyIGRpdmlzaW9uLlxuICogVW5zYWZlIGluIHNvbWUgY29udGV4dHM6IHVzZXMgbGFkZGVyLCBzbyBjYW4gZXhwb3NlIGJpZ2ludCBiaXRzLlxuICogVE9ETzogcmVtb3ZlLlxuICogQGV4YW1wbGVcbiAqIHBvdygybiwgNm4sIDExbikgLy8gNjRuICUgMTFuID09IDluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb3cobnVtLCBwb3dlciwgbW9kdWxvKSB7XG4gICAgcmV0dXJuIEZwUG93KEZpZWxkKG1vZHVsbyksIG51bSwgcG93ZXIpO1xufVxuLyoqIERvZXMgYHheKDJecG93ZXIpYCBtb2QgcC4gYHBvdzIoMzAsIDQpYCA9PSBgMzBeKDJeNClgICovXG5leHBvcnQgZnVuY3Rpb24gcG93Mih4LCBwb3dlciwgbW9kdWxvKSB7XG4gICAgbGV0IHJlcyA9IHg7XG4gICAgd2hpbGUgKHBvd2VyLS0gPiBfMG4pIHtcbiAgICAgICAgcmVzICo9IHJlcztcbiAgICAgICAgcmVzICU9IG1vZHVsbztcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qKlxuICogSW52ZXJzZXMgbnVtYmVyIG92ZXIgbW9kdWxvLlxuICogSW1wbGVtZW50ZWQgdXNpbmcgW0V1Y2xpZGVhbiBHQ0RdKGh0dHBzOi8vYnJpbGxpYW50Lm9yZy93aWtpL2V4dGVuZGVkLWV1Y2xpZGVhbi1hbGdvcml0aG0vKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChudW1iZXIsIG1vZHVsbykge1xuICAgIGlmIChudW1iZXIgPT09IF8wbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZlcnQ6IGV4cGVjdGVkIG5vbi16ZXJvIG51bWJlcicpO1xuICAgIGlmIChtb2R1bG8gPD0gXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmVydDogZXhwZWN0ZWQgcG9zaXRpdmUgbW9kdWx1cywgZ290ICcgKyBtb2R1bG8pO1xuICAgIC8vIEZlcm1hdCdzIGxpdHRsZSB0aGVvcmVtIFwiQ1QtbGlrZVwiIHZlcnNpb24gaW52KG4pID0gbl4obS0yKSBtb2QgbSBpcyAzMHggc2xvd2VyLlxuICAgIGxldCBhID0gbW9kKG51bWJlciwgbW9kdWxvKTtcbiAgICBsZXQgYiA9IG1vZHVsbztcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBsZXQgeCA9IF8wbiwgeSA9IF8xbiwgdSA9IF8xbiwgdiA9IF8wbjtcbiAgICB3aGlsZSAoYSAhPT0gXzBuKSB7XG4gICAgICAgIC8vIEpJVCBhcHBsaWVzIG9wdGltaXphdGlvbiBpZiB0aG9zZSB0d28gbGluZXMgZm9sbG93IGVhY2ggb3RoZXJcbiAgICAgICAgY29uc3QgcSA9IGIgLyBhO1xuICAgICAgICBjb25zdCByID0gYiAlIGE7XG4gICAgICAgIGNvbnN0IG0gPSB4IC0gdSAqIHE7XG4gICAgICAgIGNvbnN0IG4gPSB5IC0gdiAqIHE7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBiID0gYSwgYSA9IHIsIHggPSB1LCB5ID0gdiwgdSA9IG0sIHYgPSBuO1xuICAgIH1cbiAgICBjb25zdCBnY2QgPSBiO1xuICAgIGlmIChnY2QgIT09IF8xbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZlcnQ6IGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgcmV0dXJuIG1vZCh4LCBtb2R1bG8pO1xufVxuLy8gTm90IGFsbCByb290cyBhcmUgcG9zc2libGUhIEV4YW1wbGUgd2hpY2ggd2lsbCB0aHJvdzpcbi8vIGNvbnN0IE5VTSA9XG4vLyBuID0gNzIwNTc1OTQwMzc5Mjc4MTZuO1xuLy8gRnAgPSBGaWVsZChCaWdJbnQoJzB4MWEwMTExZWEzOTdmZTY5YTRiMWJhN2I2NDM0YmFjZDc2NDc3NGI4NGYzODUxMmJmNjczMGQyYTBmNmIwZjYyNDFlYWJmZmZlYjE1M2ZmZmZiOWZlZmZmZmZmZmZhYWFiJykpO1xuZnVuY3Rpb24gc3FydDNtb2Q0KEZwLCBuKSB7XG4gICAgY29uc3QgcDFkaXY0ID0gKEZwLk9SREVSICsgXzFuKSAvIF80bjtcbiAgICBjb25zdCByb290ID0gRnAucG93KG4sIHAxZGl2NCk7XG4gICAgLy8gVGhyb3cgaWYgcm9vdF4yICE9IG5cbiAgICBpZiAoIUZwLmVxbChGcC5zcXIocm9vdCksIG4pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5mdW5jdGlvbiBzcXJ0NW1vZDgoRnAsIG4pIHtcbiAgICBjb25zdCBwNWRpdjggPSAoRnAuT1JERVIgLSBfNW4pIC8gXzhuO1xuICAgIGNvbnN0IG4yID0gRnAubXVsKG4sIF8ybik7XG4gICAgY29uc3QgdiA9IEZwLnBvdyhuMiwgcDVkaXY4KTtcbiAgICBjb25zdCBudiA9IEZwLm11bChuLCB2KTtcbiAgICBjb25zdCBpID0gRnAubXVsKEZwLm11bChudiwgXzJuKSwgdik7XG4gICAgY29uc3Qgcm9vdCA9IEZwLm11bChudiwgRnAuc3ViKGksIEZwLk9ORSkpO1xuICAgIGlmICghRnAuZXFsKEZwLnNxcihyb290KSwgbikpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3QnKTtcbiAgICByZXR1cm4gcm9vdDtcbn1cbi8vIFRPRE86IENvbW1lbnRlZC1vdXQgZm9yIG5vdy4gUHJvdmlkZSB0ZXN0IHZlY3RvcnMuXG4vLyBUb25lbGxpIGlzIHRvbyBzbG93IGZvciBleHRlbnNpb24gZmllbGRzIEZwMi5cbi8vIFRoYXQgbWVhbnMgd2UgY2FuJ3QgdXNlIHNxcnQgKGMxLCBjMi4uLikgZXZlbiBmb3IgaW5pdGlhbGl6YXRpb24gY29uc3RhbnRzLlxuLy8gaWYgKFAgJSBfMTZuID09PSBfOW4pIHJldHVybiBzcXJ0OW1vZDE2O1xuLy8gLy8gcHJldHRpZXItaWdub3JlXG4vLyBmdW5jdGlvbiBzcXJ0OW1vZDE2PFQ+KEZwOiBJRmllbGQ8VD4sIG46IFQsIHA3ZGl2MTY/OiBiaWdpbnQpIHtcbi8vICAgaWYgKHA3ZGl2MTYgPT09IHVuZGVmaW5lZCkgcDdkaXYxNiA9IChGcC5PUkRFUiArIEJpZ0ludCg3KSkgLyBfMTZuO1xuLy8gICBjb25zdCBjMSA9IEZwLnNxcnQoRnAubmVnKEZwLk9ORSkpOyAvLyAgMS4gYzEgPSBzcXJ0KC0xKSBpbiBGLCBpLmUuLCAoYzFeMikgPT0gLTEgaW4gRlxuLy8gICBjb25zdCBjMiA9IEZwLnNxcnQoYzEpOyAgICAgICAgICAgICAvLyAgMi4gYzIgPSBzcXJ0KGMxKSBpbiBGLCBpLmUuLCAoYzJeMikgPT0gYzEgaW4gRlxuLy8gICBjb25zdCBjMyA9IEZwLnNxcnQoRnAubmVnKGMxKSk7ICAgICAvLyAgMy4gYzMgPSBzcXJ0KC1jMSkgaW4gRiwgaS5lLiwgKGMzXjIpID09IC1jMSBpbiBGXG4vLyAgIGNvbnN0IGM0ID0gcDdkaXYxNjsgICAgICAgICAgICAgICAgIC8vICA0LiBjNCA9IChxICsgNykgLyAxNiAgICAgICAgIyBJbnRlZ2VyIGFyaXRobWV0aWNcbi8vICAgbGV0IHR2MSA9IEZwLnBvdyhuLCBjNCk7ICAgICAgICAgICAgLy8gIDEuIHR2MSA9IHheYzRcbi8vICAgbGV0IHR2MiA9IEZwLm11bChjMSwgdHYxKTsgICAgICAgICAgLy8gIDIuIHR2MiA9IGMxICogdHYxXG4vLyAgIGNvbnN0IHR2MyA9IEZwLm11bChjMiwgdHYxKTsgICAgICAgIC8vICAzLiB0djMgPSBjMiAqIHR2MVxuLy8gICBsZXQgdHY0ID0gRnAubXVsKGMzLCB0djEpOyAgICAgICAgICAvLyAgNC4gdHY0ID0gYzMgKiB0djFcbi8vICAgY29uc3QgZTEgPSBGcC5lcWwoRnAuc3FyKHR2MiksIG4pOyAgLy8gIDUuICBlMSA9ICh0djJeMikgPT0geFxuLy8gICBjb25zdCBlMiA9IEZwLmVxbChGcC5zcXIodHYzKSwgbik7ICAvLyAgNi4gIGUyID0gKHR2M14yKSA9PSB4XG4vLyAgIHR2MSA9IEZwLmNtb3YodHYxLCB0djIsIGUxKTsgLy8gIDcuIHR2MSA9IENNT1YodHYxLCB0djIsIGUxKSAgIyBTZWxlY3QgdHYyIGlmICh0djJeMikgPT0geFxuLy8gICB0djIgPSBGcC5jbW92KHR2NCwgdHYzLCBlMik7IC8vICA4LiB0djIgPSBDTU9WKHR2NCwgdHYzLCBlMikgICMgU2VsZWN0IHR2MyBpZiAodHYzXjIpID09IHhcbi8vICAgY29uc3QgZTMgPSBGcC5lcWwoRnAuc3FyKHR2MiksIG4pOyAgLy8gIDkuICBlMyA9ICh0djJeMikgPT0geFxuLy8gICByZXR1cm4gRnAuY21vdih0djEsIHR2MiwgZTMpOyAvLyAxMC4gIHogPSBDTU9WKHR2MSwgdHYyLCBlMykgIyBTZWxlY3QgdGhlIHNxcnQgZnJvbSB0djEgYW5kIHR2MlxuLy8gfVxuLyoqXG4gKiBUb25lbGxpLVNoYW5rcyBzcXVhcmUgcm9vdCBzZWFyY2ggYWxnb3JpdGhtLlxuICogMS4gaHR0cHM6Ly9lcHJpbnQuaWFjci5vcmcvMjAxMi82ODUucGRmIChwYWdlIDEyKVxuICogMi4gU3F1YXJlIFJvb3RzIGZyb20gMTsgMjQsIDUxLCAxMCB0byBEYW4gU2hhbmtzXG4gKiBAcGFyYW0gUCBmaWVsZCBvcmRlclxuICogQHJldHVybnMgZnVuY3Rpb24gdGhhdCB0YWtlcyBmaWVsZCBGcCAoY3JlYXRlZCBmcm9tIFApIGFuZCBudW1iZXIgblxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9uZWxsaVNoYW5rcyhQKSB7XG4gICAgLy8gSW5pdGlhbGl6YXRpb24gKHByZWNvbXB1dGF0aW9uKS5cbiAgICBpZiAoUCA8IEJpZ0ludCgzKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzcXJ0IGlzIG5vdCBkZWZpbmVkIGZvciBzbWFsbCBmaWVsZCcpO1xuICAgIC8vIEZhY3RvciBQIC0gMSA9IFEgKiAyXlMsIHdoZXJlIFEgaXMgb2RkXG4gICAgbGV0IFEgPSBQIC0gXzFuO1xuICAgIGxldCBTID0gMDtcbiAgICB3aGlsZSAoUSAlIF8ybiA9PT0gXzBuKSB7XG4gICAgICAgIFEgLz0gXzJuO1xuICAgICAgICBTKys7XG4gICAgfVxuICAgIC8vIEZpbmQgdGhlIGZpcnN0IHF1YWRyYXRpYyBub24tcmVzaWR1ZSBaID49IDJcbiAgICBsZXQgWiA9IF8ybjtcbiAgICBjb25zdCBfRnAgPSBGaWVsZChQKTtcbiAgICB3aGlsZSAoRnBMZWdlbmRyZShfRnAsIFopID09PSAxKSB7XG4gICAgICAgIC8vIEJhc2ljIHByaW1hbGl0eSB0ZXN0IGZvciBQLiBBZnRlciB4IGl0ZXJhdGlvbnMsIGNoYW5jZSBvZlxuICAgICAgICAvLyBub3QgZmluZGluZyBxdWFkcmF0aWMgbm9uLXJlc2lkdWUgaXMgMl54LCBzbyAyXjEwMDAuXG4gICAgICAgIGlmIChaKysgPiAxMDAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBzcXVhcmUgcm9vdDogcHJvYmFibHkgbm9uLXByaW1lIFAnKTtcbiAgICB9XG4gICAgLy8gRmFzdC1wYXRoOyB1c3VhbGx5IGRvbmUgYmVmb3JlIFosIGJ1dCB3ZSBkbyBcInByaW1hbGl0eSB0ZXN0XCIuXG4gICAgaWYgKFMgPT09IDEpXG4gICAgICAgIHJldHVybiBzcXJ0M21vZDQ7XG4gICAgLy8gU2xvdy1wYXRoXG4gICAgLy8gVE9ETzogdGVzdCBvbiBGcDIgYW5kIG90aGVyc1xuICAgIGxldCBjYyA9IF9GcC5wb3coWiwgUSk7IC8vIGMgPSB6XlFcbiAgICBjb25zdCBRMWRpdjIgPSAoUSArIF8xbikgLyBfMm47XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRvbmVsbGlTbG93KEZwLCBuKSB7XG4gICAgICAgIGlmIChGcC5pczAobikpXG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgLy8gQ2hlY2sgaWYgbiBpcyBhIHF1YWRyYXRpYyByZXNpZHVlIHVzaW5nIExlZ2VuZHJlIHN5bWJvbFxuICAgICAgICBpZiAoRnBMZWdlbmRyZShGcCwgbikgIT09IDEpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdmFyaWFibGVzIGZvciB0aGUgbWFpbiBsb29wXG4gICAgICAgIGxldCBNID0gUztcbiAgICAgICAgbGV0IGMgPSBGcC5tdWwoRnAuT05FLCBjYyk7IC8vIGMgPSB6XlEsIG1vdmUgY2MgZnJvbSBmaWVsZCBfRnAgaW50byBmaWVsZCBGcFxuICAgICAgICBsZXQgdCA9IEZwLnBvdyhuLCBRKTsgLy8gdCA9IG5eUSwgZmlyc3QgZ3Vlc3MgYXQgdGhlIGZ1ZGdlIGZhY3RvclxuICAgICAgICBsZXQgUiA9IEZwLnBvdyhuLCBRMWRpdjIpOyAvLyBSID0gbl4oKFErMSkvMiksIGZpcnN0IGd1ZXNzIGF0IHRoZSBzcXVhcmUgcm9vdFxuICAgICAgICAvLyBNYWluIGxvb3BcbiAgICAgICAgLy8gd2hpbGUgdCAhPSAxXG4gICAgICAgIHdoaWxlICghRnAuZXFsKHQsIEZwLk9ORSkpIHtcbiAgICAgICAgICAgIGlmIChGcC5pczAodCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIEZwLlpFUk87IC8vIGlmIHQ9MCByZXR1cm4gUj0wXG4gICAgICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBzbWFsbGVzdCBpID49IDEgc3VjaCB0aGF0IHReKDJeaSkg4omhIDEgKG1vZCBQKVxuICAgICAgICAgICAgbGV0IHRfdG1wID0gRnAuc3FyKHQpOyAvLyB0XigyXjEpXG4gICAgICAgICAgICB3aGlsZSAoIUZwLmVxbCh0X3RtcCwgRnAuT05FKSkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB0X3RtcCA9IEZwLnNxcih0X3RtcCk7IC8vIHReKDJeMikuLi5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gTSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBzcXVhcmUgcm9vdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBleHBvbmVudCBmb3IgYjogMl4oTSAtIGkgLSAxKVxuICAgICAgICAgICAgY29uc3QgZXhwb25lbnQgPSBfMW4gPDwgQmlnSW50KE0gLSBpIC0gMSk7IC8vIGJpZ2ludCBpcyBpbXBvcnRhbnRcbiAgICAgICAgICAgIGNvbnN0IGIgPSBGcC5wb3coYywgZXhwb25lbnQpOyAvLyBiID0gMl4oTSAtIGkgLSAxKVxuICAgICAgICAgICAgLy8gVXBkYXRlIHZhcmlhYmxlc1xuICAgICAgICAgICAgTSA9IGk7XG4gICAgICAgICAgICBjID0gRnAuc3FyKGIpOyAvLyBjID0gYl4yXG4gICAgICAgICAgICB0ID0gRnAubXVsKHQsIGMpOyAvLyB0ID0gKHQgKiBiXjIpXG4gICAgICAgICAgICBSID0gRnAubXVsKFIsIGIpOyAvLyBSID0gUipiXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFI7XG4gICAgfTtcbn1cbi8qKlxuICogU3F1YXJlIHJvb3QgZm9yIGEgZmluaXRlIGZpZWxkLiBXaWxsIHRyeSBvcHRpbWl6ZWQgdmVyc2lvbnMgZmlyc3Q6XG4gKlxuICogMS4gUCDiiaEgMyAobW9kIDQpXG4gKiAyLiBQIOKJoSA1IChtb2QgOClcbiAqIDMuIFRvbmVsbGktU2hhbmtzIGFsZ29yaXRobVxuICpcbiAqIERpZmZlcmVudCBhbGdvcml0aG1zIGNhbiBnaXZlIGRpZmZlcmVudCByb290cywgaXQgaXMgdXAgdG8gdXNlciB0byBkZWNpZGUgd2hpY2ggb25lIHRoZXkgd2FudC5cbiAqIEZvciBleGFtcGxlIHRoZXJlIGlzIEZwU3FydE9kZC9GcFNxcnRFdmVuIHRvIGNob2ljZSByb290IGJhc2VkIG9uIG9kZG5lc3MgKHVzZWQgZm9yIGhhc2gtdG8tY3VydmUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gRnBTcXJ0KFApIHtcbiAgICAvLyBQIOKJoSAzIChtb2QgNCkgPT4g4oiabiA9IG5eKChQKzEpLzQpXG4gICAgaWYgKFAgJSBfNG4gPT09IF8zbilcbiAgICAgICAgcmV0dXJuIHNxcnQzbW9kNDtcbiAgICAvLyBQIOKJoSA1IChtb2QgOCkgPT4gQXRraW4gYWxnb3JpdGhtLCBwYWdlIDEwIG9mIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMTIvNjg1LnBkZlxuICAgIGlmIChQICUgXzhuID09PSBfNW4pXG4gICAgICAgIHJldHVybiBzcXJ0NW1vZDg7XG4gICAgLy8gUCDiiaEgOSAobW9kIDE2KSBub3QgaW1wbGVtZW50ZWQsIHNlZSBhYm92ZVxuICAgIC8vIFRvbmVsbGktU2hhbmtzIGFsZ29yaXRobVxuICAgIHJldHVybiB0b25lbGxpU2hhbmtzKFApO1xufVxuLy8gTGl0dGxlLWVuZGlhbiBjaGVjayBmb3IgZmlyc3QgTEUgYml0IChsYXN0IEJFIGJpdCk7XG5leHBvcnQgY29uc3QgaXNOZWdhdGl2ZUxFID0gKG51bSwgbW9kdWxvKSA9PiAobW9kKG51bSwgbW9kdWxvKSAmIF8xbikgPT09IF8xbjtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgRklFTERfRklFTERTID0gW1xuICAgICdjcmVhdGUnLCAnaXNWYWxpZCcsICdpczAnLCAnbmVnJywgJ2ludicsICdzcXJ0JywgJ3NxcicsXG4gICAgJ2VxbCcsICdhZGQnLCAnc3ViJywgJ211bCcsICdwb3cnLCAnZGl2JyxcbiAgICAnYWRkTicsICdzdWJOJywgJ211bE4nLCAnc3FyTidcbl07XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGaWVsZChmaWVsZCkge1xuICAgIGNvbnN0IGluaXRpYWwgPSB7XG4gICAgICAgIE9SREVSOiAnYmlnaW50JyxcbiAgICAgICAgTUFTSzogJ2JpZ2ludCcsXG4gICAgICAgIEJZVEVTOiAnaXNTYWZlSW50ZWdlcicsXG4gICAgICAgIEJJVFM6ICdpc1NhZmVJbnRlZ2VyJyxcbiAgICB9O1xuICAgIGNvbnN0IG9wdHMgPSBGSUVMRF9GSUVMRFMucmVkdWNlKChtYXAsIHZhbCkgPT4ge1xuICAgICAgICBtYXBbdmFsXSA9ICdmdW5jdGlvbic7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfSwgaW5pdGlhbCk7XG4gICAgcmV0dXJuIHZhbGlkYXRlT2JqZWN0KGZpZWxkLCBvcHRzKTtcbn1cbi8vIEdlbmVyaWMgZmllbGQgZnVuY3Rpb25zXG4vKipcbiAqIFNhbWUgYXMgYHBvd2AgYnV0IGZvciBGcDogbm9uLWNvbnN0YW50LXRpbWUuXG4gKiBVbnNhZmUgaW4gc29tZSBjb250ZXh0czogdXNlcyBsYWRkZXIsIHNvIGNhbiBleHBvc2UgYmlnaW50IGJpdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGcFBvdyhGcCwgbnVtLCBwb3dlcikge1xuICAgIGlmIChwb3dlciA8IF8wbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGV4cG9uZW50LCBuZWdhdGl2ZXMgdW5zdXBwb3J0ZWQnKTtcbiAgICBpZiAocG93ZXIgPT09IF8wbilcbiAgICAgICAgcmV0dXJuIEZwLk9ORTtcbiAgICBpZiAocG93ZXIgPT09IF8xbilcbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICBsZXQgcCA9IEZwLk9ORTtcbiAgICBsZXQgZCA9IG51bTtcbiAgICB3aGlsZSAocG93ZXIgPiBfMG4pIHtcbiAgICAgICAgaWYgKHBvd2VyICYgXzFuKVxuICAgICAgICAgICAgcCA9IEZwLm11bChwLCBkKTtcbiAgICAgICAgZCA9IEZwLnNxcihkKTtcbiAgICAgICAgcG93ZXIgPj49IF8xbjtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG4vKipcbiAqIEVmZmljaWVudGx5IGludmVydCBhbiBhcnJheSBvZiBGaWVsZCBlbGVtZW50cy5cbiAqIEV4Y2VwdGlvbi1mcmVlLiBXaWxsIHJldHVybiBgdW5kZWZpbmVkYCBmb3IgMCBlbGVtZW50cy5cbiAqIEBwYXJhbSBwYXNzWmVybyBtYXAgMCB0byAwIChpbnN0ZWFkIG9mIHVuZGVmaW5lZClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZwSW52ZXJ0QmF0Y2goRnAsIG51bXMsIHBhc3NaZXJvID0gZmFsc2UpIHtcbiAgICBjb25zdCBpbnZlcnRlZCA9IG5ldyBBcnJheShudW1zLmxlbmd0aCkuZmlsbChwYXNzWmVybyA/IEZwLlpFUk8gOiB1bmRlZmluZWQpO1xuICAgIC8vIFdhbGsgZnJvbSBmaXJzdCB0byBsYXN0LCBtdWx0aXBseSB0aGVtIGJ5IGVhY2ggb3RoZXIgTU9EIHBcbiAgICBjb25zdCBtdWx0aXBsaWVkQWNjID0gbnVtcy5yZWR1Y2UoKGFjYywgbnVtLCBpKSA9PiB7XG4gICAgICAgIGlmIChGcC5pczAobnVtKSlcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIGludmVydGVkW2ldID0gYWNjO1xuICAgICAgICByZXR1cm4gRnAubXVsKGFjYywgbnVtKTtcbiAgICB9LCBGcC5PTkUpO1xuICAgIC8vIEludmVydCBsYXN0IGVsZW1lbnRcbiAgICBjb25zdCBpbnZlcnRlZEFjYyA9IEZwLmludihtdWx0aXBsaWVkQWNjKTtcbiAgICAvLyBXYWxrIGZyb20gbGFzdCB0byBmaXJzdCwgbXVsdGlwbHkgdGhlbSBieSBpbnZlcnRlZCBlYWNoIG90aGVyIE1PRCBwXG4gICAgbnVtcy5yZWR1Y2VSaWdodCgoYWNjLCBudW0sIGkpID0+IHtcbiAgICAgICAgaWYgKEZwLmlzMChudW0pKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgaW52ZXJ0ZWRbaV0gPSBGcC5tdWwoYWNjLCBpbnZlcnRlZFtpXSk7XG4gICAgICAgIHJldHVybiBGcC5tdWwoYWNjLCBudW0pO1xuICAgIH0sIGludmVydGVkQWNjKTtcbiAgICByZXR1cm4gaW52ZXJ0ZWQ7XG59XG4vLyBUT0RPOiByZW1vdmVcbmV4cG9ydCBmdW5jdGlvbiBGcERpdihGcCwgbGhzLCByaHMpIHtcbiAgICByZXR1cm4gRnAubXVsKGxocywgdHlwZW9mIHJocyA9PT0gJ2JpZ2ludCcgPyBpbnZlcnQocmhzLCBGcC5PUkRFUikgOiBGcC5pbnYocmhzKSk7XG59XG4vKipcbiAqIExlZ2VuZHJlIHN5bWJvbC5cbiAqIExlZ2VuZHJlIGNvbnN0YW50IGlzIHVzZWQgdG8gY2FsY3VsYXRlIExlZ2VuZHJlIHN5bWJvbCAoYSB8IHApXG4gKiB3aGljaCBkZW5vdGVzIHRoZSB2YWx1ZSBvZiBhXigocC0xKS8yKSAobW9kIHApLlxuICpcbiAqICogKGEgfCBwKSDiiaEgMSAgICBpZiBhIGlzIGEgc3F1YXJlIChtb2QgcCksIHF1YWRyYXRpYyByZXNpZHVlXG4gKiAqIChhIHwgcCkg4omhIC0xICAgaWYgYSBpcyBub3QgYSBzcXVhcmUgKG1vZCBwKSwgcXVhZHJhdGljIG5vbiByZXNpZHVlXG4gKiAqIChhIHwgcCkg4omhIDAgICAgaWYgYSDiiaEgMCAobW9kIHApXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGcExlZ2VuZHJlKEZwLCBuKSB7XG4gICAgLy8gV2UgY2FuIHVzZSAzcmQgYXJndW1lbnQgYXMgb3B0aW9uYWwgY2FjaGUgb2YgdGhpcyB2YWx1ZVxuICAgIC8vIGJ1dCBzZWVtcyB1bm5lZWRlZCBmb3Igbm93LiBUaGUgb3BlcmF0aW9uIGlzIHZlcnkgZmFzdC5cbiAgICBjb25zdCBwMW1vZDIgPSAoRnAuT1JERVIgLSBfMW4pIC8gXzJuO1xuICAgIGNvbnN0IHBvd2VyZWQgPSBGcC5wb3cobiwgcDFtb2QyKTtcbiAgICBjb25zdCB5ZXMgPSBGcC5lcWwocG93ZXJlZCwgRnAuT05FKTtcbiAgICBjb25zdCB6ZXJvID0gRnAuZXFsKHBvd2VyZWQsIEZwLlpFUk8pO1xuICAgIGNvbnN0IG5vID0gRnAuZXFsKHBvd2VyZWQsIEZwLm5lZyhGcC5PTkUpKTtcbiAgICBpZiAoIXllcyAmJiAhemVybyAmJiAhbm8pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBMZWdlbmRyZSBzeW1ib2wgcmVzdWx0Jyk7XG4gICAgcmV0dXJuIHllcyA/IDEgOiB6ZXJvID8gMCA6IC0xO1xufVxuLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIFRydWUgd2hlbmV2ZXIgdGhlIHZhbHVlIHggaXMgYSBzcXVhcmUgaW4gdGhlIGZpZWxkIEYuXG5leHBvcnQgZnVuY3Rpb24gRnBJc1NxdWFyZShGcCwgbikge1xuICAgIGNvbnN0IGwgPSBGcExlZ2VuZHJlKEZwLCBuKTtcbiAgICByZXR1cm4gbCA9PT0gMTtcbn1cbi8vIENVUlZFLm4gbGVuZ3Roc1xuZXhwb3J0IGZ1bmN0aW9uIG5MZW5ndGgobiwgbkJpdExlbmd0aCkge1xuICAgIC8vIEJpdCBzaXplLCBieXRlIHNpemUgb2YgQ1VSVkUublxuICAgIGlmIChuQml0TGVuZ3RoICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGFudW1iZXIobkJpdExlbmd0aCk7XG4gICAgY29uc3QgX25CaXRMZW5ndGggPSBuQml0TGVuZ3RoICE9PSB1bmRlZmluZWQgPyBuQml0TGVuZ3RoIDogbi50b1N0cmluZygyKS5sZW5ndGg7XG4gICAgY29uc3QgbkJ5dGVMZW5ndGggPSBNYXRoLmNlaWwoX25CaXRMZW5ndGggLyA4KTtcbiAgICByZXR1cm4geyBuQml0TGVuZ3RoOiBfbkJpdExlbmd0aCwgbkJ5dGVMZW5ndGggfTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZXMgYSBmaW5pdGUgZmllbGQgb3ZlciBwcmltZS5cbiAqIE1ham9yIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbnM6XG4gKiAqIGEpIGRlbm9ybWFsaXplZCBvcGVyYXRpb25zIGxpa2UgbXVsTiBpbnN0ZWFkIG9mIG11bFxuICogKiBiKSBzYW1lIG9iamVjdCBzaGFwZTogbmV2ZXIgYWRkIG9yIHJlbW92ZSBrZXlzXG4gKiAqIGMpIE9iamVjdC5mcmVlemVcbiAqIEZyYWdpbGU6IGFsd2F5cyBydW4gYSBiZW5jaG1hcmsgb24gYSBjaGFuZ2UuXG4gKiBTZWN1cml0eSBub3RlOiBvcGVyYXRpb25zIGRvbid0IGNoZWNrICdpc1ZhbGlkJyBmb3IgYWxsIGVsZW1lbnRzIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLFxuICogaXQgaXMgY2FsbGVyIHJlc3BvbnNpYmlsaXR5IHRvIGNoZWNrIHRoaXMuXG4gKiBUaGlzIGlzIGxvdy1sZXZlbCBjb2RlLCBwbGVhc2UgbWFrZSBzdXJlIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICogQHBhcmFtIE9SREVSIHByaW1lIHBvc2l0aXZlIGJpZ2ludFxuICogQHBhcmFtIGJpdExlbiBob3cgbWFueSBiaXRzIHRoZSBmaWVsZCBjb25zdW1lc1xuICogQHBhcmFtIGlzTEUgKGRlZjogZmFsc2UpIGlmIGVuY29kaW5nIC8gZGVjb2Rpbmcgc2hvdWxkIGJlIGluIGxpdHRsZS1lbmRpYW5cbiAqIEBwYXJhbSByZWRlZiBvcHRpb25hbCBmYXN0ZXIgcmVkZWZpbml0aW9ucyBvZiBzcXJ0IGFuZCBvdGhlciBtZXRob2RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGaWVsZChPUkRFUiwgYml0TGVuLCBpc0xFID0gZmFsc2UsIHJlZGVmID0ge30pIHtcbiAgICBpZiAoT1JERVIgPD0gXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSID4gMCwgZ290ICcgKyBPUkRFUik7XG4gICAgY29uc3QgeyBuQml0TGVuZ3RoOiBCSVRTLCBuQnl0ZUxlbmd0aDogQllURVMgfSA9IG5MZW5ndGgoT1JERVIsIGJpdExlbik7XG4gICAgaWYgKEJZVEVTID4gMjA0OClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpZWxkOiBleHBlY3RlZCBPUkRFUiBvZiA8PSAyMDQ4IGJ5dGVzJyk7XG4gICAgbGV0IHNxcnRQOyAvLyBjYWNoZWQgc3FydFBcbiAgICBjb25zdCBmID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIE9SREVSLFxuICAgICAgICBpc0xFLFxuICAgICAgICBCSVRTLFxuICAgICAgICBCWVRFUyxcbiAgICAgICAgTUFTSzogYml0TWFzayhCSVRTKSxcbiAgICAgICAgWkVSTzogXzBuLFxuICAgICAgICBPTkU6IF8xbixcbiAgICAgICAgY3JlYXRlOiAobnVtKSA9PiBtb2QobnVtLCBPUkRFUiksXG4gICAgICAgIGlzVmFsaWQ6IChudW0pID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbnVtICE9PSAnYmlnaW50JylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmllbGQgZWxlbWVudDogZXhwZWN0ZWQgYmlnaW50LCBnb3QgJyArIHR5cGVvZiBudW0pO1xuICAgICAgICAgICAgcmV0dXJuIF8wbiA8PSBudW0gJiYgbnVtIDwgT1JERVI7IC8vIDAgaXMgdmFsaWQgZWxlbWVudCwgYnV0IGl0J3Mgbm90IGludmVydGlibGVcbiAgICAgICAgfSxcbiAgICAgICAgaXMwOiAobnVtKSA9PiBudW0gPT09IF8wbixcbiAgICAgICAgaXNPZGQ6IChudW0pID0+IChudW0gJiBfMW4pID09PSBfMW4sXG4gICAgICAgIG5lZzogKG51bSkgPT4gbW9kKC1udW0sIE9SREVSKSxcbiAgICAgICAgZXFsOiAobGhzLCByaHMpID0+IGxocyA9PT0gcmhzLFxuICAgICAgICBzcXI6IChudW0pID0+IG1vZChudW0gKiBudW0sIE9SREVSKSxcbiAgICAgICAgYWRkOiAobGhzLCByaHMpID0+IG1vZChsaHMgKyByaHMsIE9SREVSKSxcbiAgICAgICAgc3ViOiAobGhzLCByaHMpID0+IG1vZChsaHMgLSByaHMsIE9SREVSKSxcbiAgICAgICAgbXVsOiAobGhzLCByaHMpID0+IG1vZChsaHMgKiByaHMsIE9SREVSKSxcbiAgICAgICAgcG93OiAobnVtLCBwb3dlcikgPT4gRnBQb3coZiwgbnVtLCBwb3dlciksXG4gICAgICAgIGRpdjogKGxocywgcmhzKSA9PiBtb2QobGhzICogaW52ZXJ0KHJocywgT1JERVIpLCBPUkRFUiksXG4gICAgICAgIC8vIFNhbWUgYXMgYWJvdmUsIGJ1dCBkb2Vzbid0IG5vcm1hbGl6ZVxuICAgICAgICBzcXJOOiAobnVtKSA9PiBudW0gKiBudW0sXG4gICAgICAgIGFkZE46IChsaHMsIHJocykgPT4gbGhzICsgcmhzLFxuICAgICAgICBzdWJOOiAobGhzLCByaHMpID0+IGxocyAtIHJocyxcbiAgICAgICAgbXVsTjogKGxocywgcmhzKSA9PiBsaHMgKiByaHMsXG4gICAgICAgIGludjogKG51bSkgPT4gaW52ZXJ0KG51bSwgT1JERVIpLFxuICAgICAgICBzcXJ0OiByZWRlZi5zcXJ0IHx8XG4gICAgICAgICAgICAoKG4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNxcnRQKVxuICAgICAgICAgICAgICAgICAgICBzcXJ0UCA9IEZwU3FydChPUkRFUik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNxcnRQKGYsIG4pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgIHRvQnl0ZXM6IChudW0pID0+IChpc0xFID8gbnVtYmVyVG9CeXRlc0xFKG51bSwgQllURVMpIDogbnVtYmVyVG9CeXRlc0JFKG51bSwgQllURVMpKSxcbiAgICAgICAgZnJvbUJ5dGVzOiAoYnl0ZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChieXRlcy5sZW5ndGggIT09IEJZVEVTKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmllbGQuZnJvbUJ5dGVzOiBleHBlY3RlZCAnICsgQllURVMgKyAnIGJ5dGVzLCBnb3QgJyArIGJ5dGVzLmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gaXNMRSA/IGJ5dGVzVG9OdW1iZXJMRShieXRlcykgOiBieXRlc1RvTnVtYmVyQkUoYnl0ZXMpO1xuICAgICAgICB9LFxuICAgICAgICAvLyBUT0RPOiB3ZSBkb24ndCBuZWVkIGl0IGhlcmUsIG1vdmUgb3V0IHRvIHNlcGFyYXRlIGZuXG4gICAgICAgIGludmVydEJhdGNoOiAobHN0KSA9PiBGcEludmVydEJhdGNoKGYsIGxzdCksXG4gICAgICAgIC8vIFdlIGNhbid0IG1vdmUgdGhpcyBvdXQgYmVjYXVzZSBGcDYsIEZwMTIgaW1wbGVtZW50IGl0XG4gICAgICAgIC8vIGFuZCBpdCdzIHVuY2xlYXIgd2hhdCB0byByZXR1cm4gaW4gdGhlcmUuXG4gICAgICAgIGNtb3Y6IChhLCBiLCBjKSA9PiAoYyA/IGIgOiBhKSxcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBGcFNxcnRPZGQoRnAsIGVsbSkge1xuICAgIGlmICghRnAuaXNPZGQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3QgaGF2ZSBpc09kZFwiKTtcbiAgICBjb25zdCByb290ID0gRnAuc3FydChlbG0pO1xuICAgIHJldHVybiBGcC5pc09kZChyb290KSA/IHJvb3QgOiBGcC5uZWcocm9vdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gRnBTcXJ0RXZlbihGcCwgZWxtKSB7XG4gICAgaWYgKCFGcC5pc09kZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgZG9lc24ndCBoYXZlIGlzT2RkXCIpO1xuICAgIGNvbnN0IHJvb3QgPSBGcC5zcXJ0KGVsbSk7XG4gICAgcmV0dXJuIEZwLmlzT2RkKHJvb3QpID8gRnAubmVnKHJvb3QpIDogcm9vdDtcbn1cbi8qKlxuICogXCJDb25zdGFudC10aW1lXCIgcHJpdmF0ZSBrZXkgZ2VuZXJhdGlvbiB1dGlsaXR5LlxuICogU2FtZSBhcyBtYXBLZXlUb0ZpZWxkLCBidXQgYWNjZXB0cyBsZXNzIGJ5dGVzICg0MCBpbnN0ZWFkIG9mIDQ4IGZvciAzMi1ieXRlIGZpZWxkKS5cbiAqIFdoaWNoIG1ha2VzIGl0IHNsaWdodGx5IG1vcmUgYmlhc2VkLCBsZXNzIHNlY3VyZS5cbiAqIEBkZXByZWNhdGVkIHVzZSBgbWFwS2V5VG9GaWVsZGAgaW5zdGVhZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaFRvUHJpdmF0ZVNjYWxhcihoYXNoLCBncm91cE9yZGVyLCBpc0xFID0gZmFsc2UpIHtcbiAgICBoYXNoID0gZW5zdXJlQnl0ZXMoJ3ByaXZhdGVIYXNoJywgaGFzaCk7XG4gICAgY29uc3QgaGFzaExlbiA9IGhhc2gubGVuZ3RoO1xuICAgIGNvbnN0IG1pbkxlbiA9IG5MZW5ndGgoZ3JvdXBPcmRlcikubkJ5dGVMZW5ndGggKyA4O1xuICAgIGlmIChtaW5MZW4gPCAyNCB8fCBoYXNoTGVuIDwgbWluTGVuIHx8IGhhc2hMZW4gPiAxMDI0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhc2hUb1ByaXZhdGVTY2FsYXI6IGV4cGVjdGVkICcgKyBtaW5MZW4gKyAnLTEwMjQgYnl0ZXMgb2YgaW5wdXQsIGdvdCAnICsgaGFzaExlbik7XG4gICAgY29uc3QgbnVtID0gaXNMRSA/IGJ5dGVzVG9OdW1iZXJMRShoYXNoKSA6IGJ5dGVzVG9OdW1iZXJCRShoYXNoKTtcbiAgICByZXR1cm4gbW9kKG51bSwgZ3JvdXBPcmRlciAtIF8xbikgKyBfMW47XG59XG4vKipcbiAqIFJldHVybnMgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIGNvbnN1bWVkIGJ5IHRoZSBmaWVsZCBlbGVtZW50LlxuICogRm9yIGV4YW1wbGUsIDMyIGJ5dGVzIGZvciB1c3VhbCAyNTYtYml0IHdlaWVyc3RyYXNzIGN1cnZlLlxuICogQHBhcmFtIGZpZWxkT3JkZXIgbnVtYmVyIG9mIGZpZWxkIGVsZW1lbnRzLCB1c3VhbGx5IENVUlZFLm5cbiAqIEByZXR1cm5zIGJ5dGUgbGVuZ3RoIG9mIGZpZWxkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWVsZEJ5dGVzTGVuZ3RoKGZpZWxkT3JkZXIpIHtcbiAgICBpZiAodHlwZW9mIGZpZWxkT3JkZXIgIT09ICdiaWdpbnQnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpZWxkIG9yZGVyIG11c3QgYmUgYmlnaW50Jyk7XG4gICAgY29uc3QgYml0TGVuZ3RoID0gZmllbGRPcmRlci50b1N0cmluZygyKS5sZW5ndGg7XG4gICAgcmV0dXJuIE1hdGguY2VpbChiaXRMZW5ndGggLyA4KTtcbn1cbi8qKlxuICogUmV0dXJucyBtaW5pbWFsIGFtb3VudCBvZiBieXRlcyB0aGF0IGNhbiBiZSBzYWZlbHkgcmVkdWNlZFxuICogYnkgZmllbGQgb3JkZXIuXG4gKiBTaG91bGQgYmUgMl4tMTI4IGZvciAxMjgtYml0IGN1cnZlIHN1Y2ggYXMgUDI1Ni5cbiAqIEBwYXJhbSBmaWVsZE9yZGVyIG51bWJlciBvZiBmaWVsZCBlbGVtZW50cywgdXN1YWxseSBDVVJWRS5uXG4gKiBAcmV0dXJucyBieXRlIGxlbmd0aCBvZiB0YXJnZXQgaGFzaFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWluSGFzaExlbmd0aChmaWVsZE9yZGVyKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gZ2V0RmllbGRCeXRlc0xlbmd0aChmaWVsZE9yZGVyKTtcbiAgICByZXR1cm4gbGVuZ3RoICsgTWF0aC5jZWlsKGxlbmd0aCAvIDIpO1xufVxuLyoqXG4gKiBcIkNvbnN0YW50LXRpbWVcIiBwcml2YXRlIGtleSBnZW5lcmF0aW9uIHV0aWxpdHkuXG4gKiBDYW4gdGFrZSAobiArIG4vMikgb3IgbW9yZSBieXRlcyBvZiB1bmlmb3JtIGlucHV0IGUuZy4gZnJvbSBDU1BSTkcgb3IgS0RGXG4gKiBhbmQgY29udmVydCB0aGVtIGludG8gcHJpdmF0ZSBzY2FsYXIsIHdpdGggdGhlIG1vZHVsbyBiaWFzIGJlaW5nIG5lZ2xpZ2libGUuXG4gKiBOZWVkcyBhdCBsZWFzdCA0OCBieXRlcyBvZiBpbnB1dCBmb3IgMzItYnl0ZSBwcml2YXRlIGtleS5cbiAqIGh0dHBzOi8vcmVzZWFyY2gua3VkZWxza2lzZWN1cml0eS5jb20vMjAyMC8wNy8yOC90aGUtZGVmaW5pdGl2ZS1ndWlkZS10by1tb2R1bG8tYmlhcy1hbmQtaG93LXRvLWF2b2lkLWl0L1xuICogRklQUyAxODYtNSwgQS4yIGh0dHBzOi8vY3NyYy5uaXN0Lmdvdi9wdWJsaWNhdGlvbnMvZGV0YWlsL2ZpcHMvMTg2LzUvZmluYWxcbiAqIFJGQyA5MzgwLCBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTVcbiAqIEBwYXJhbSBoYXNoIGhhc2ggb3V0cHV0IGZyb20gU0hBMyBvciBhIHNpbWlsYXIgZnVuY3Rpb25cbiAqIEBwYXJhbSBncm91cE9yZGVyIHNpemUgb2Ygc3ViZ3JvdXAgLSAoZS5nLiBzZWNwMjU2azEuQ1VSVkUubilcbiAqIEBwYXJhbSBpc0xFIGludGVycHJldCBoYXNoIGJ5dGVzIGFzIExFIG51bVxuICogQHJldHVybnMgdmFsaWQgcHJpdmF0ZSBzY2FsYXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcEhhc2hUb0ZpZWxkKGtleSwgZmllbGRPcmRlciwgaXNMRSA9IGZhbHNlKSB7XG4gICAgY29uc3QgbGVuID0ga2V5Lmxlbmd0aDtcbiAgICBjb25zdCBmaWVsZExlbiA9IGdldEZpZWxkQnl0ZXNMZW5ndGgoZmllbGRPcmRlcik7XG4gICAgY29uc3QgbWluTGVuID0gZ2V0TWluSGFzaExlbmd0aChmaWVsZE9yZGVyKTtcbiAgICAvLyBObyBzbWFsbCBudW1iZXJzOiBuZWVkIHRvIHVuZGVyc3RhbmQgYmlhcyBzdG9yeS4gTm8gaHVnZSBudW1iZXJzOiBlYXNpZXIgdG8gZGV0ZWN0IEpTIHRpbWluZ3MuXG4gICAgaWYgKGxlbiA8IDE2IHx8IGxlbiA8IG1pbkxlbiB8fCBsZW4gPiAxMDI0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkICcgKyBtaW5MZW4gKyAnLTEwMjQgYnl0ZXMgb2YgaW5wdXQsIGdvdCAnICsgbGVuKTtcbiAgICBjb25zdCBudW0gPSBpc0xFID8gYnl0ZXNUb051bWJlckxFKGtleSkgOiBieXRlc1RvTnVtYmVyQkUoa2V5KTtcbiAgICAvLyBgbW9kKHgsIDExKWAgY2FuIHNvbWV0aW1lcyBwcm9kdWNlIDAuIGBtb2QoeCwgMTApICsgMWAgaXMgdGhlIHNhbWUsIGJ1dCBubyAwXG4gICAgY29uc3QgcmVkdWNlZCA9IG1vZChudW0sIGZpZWxkT3JkZXIgLSBfMW4pICsgXzFuO1xuICAgIHJldHVybiBpc0xFID8gbnVtYmVyVG9CeXRlc0xFKHJlZHVjZWQsIGZpZWxkTGVuKSA6IG51bWJlclRvQnl0ZXNCRShyZWR1Y2VkLCBmaWVsZExlbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2R1bGFyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/utils.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/utils.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   aInRange: () => (/* binding */ aInRange),\n/* harmony export */   abool: () => (/* binding */ abool),\n/* harmony export */   abytes: () => (/* binding */ abytes),\n/* harmony export */   bitGet: () => (/* binding */ bitGet),\n/* harmony export */   bitLen: () => (/* binding */ bitLen),\n/* harmony export */   bitMask: () => (/* binding */ bitMask),\n/* harmony export */   bitSet: () => (/* binding */ bitSet),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   bytesToNumberBE: () => (/* binding */ bytesToNumberBE),\n/* harmony export */   bytesToNumberLE: () => (/* binding */ bytesToNumberLE),\n/* harmony export */   concatBytes: () => (/* binding */ concatBytes),\n/* harmony export */   createHmacDrbg: () => (/* binding */ createHmacDrbg),\n/* harmony export */   ensureBytes: () => (/* binding */ ensureBytes),\n/* harmony export */   equalBytes: () => (/* binding */ equalBytes),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   inRange: () => (/* binding */ inRange),\n/* harmony export */   isBytes: () => (/* binding */ isBytes),\n/* harmony export */   memoized: () => (/* binding */ memoized),\n/* harmony export */   notImplemented: () => (/* binding */ notImplemented),\n/* harmony export */   numberToBytesBE: () => (/* binding */ numberToBytesBE),\n/* harmony export */   numberToBytesLE: () => (/* binding */ numberToBytesLE),\n/* harmony export */   numberToHexUnpadded: () => (/* binding */ numberToHexUnpadded),\n/* harmony export */   numberToVarBytesBE: () => (/* binding */ numberToVarBytesBE),\n/* harmony export */   utf8ToBytes: () => (/* binding */ utf8ToBytes),\n/* harmony export */   validateObject: () => (/* binding */ validateObject)\n/* harmony export */ });\n/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nfunction isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\nfunction abytes(item) {\n    if (!isBytes(item))\n        throw new Error('Uint8Array expected');\n}\nfunction abool(title, value) {\n    if (typeof value !== 'boolean')\n        throw new Error(title + ' boolean expected, got ' + value);\n}\n// Used in weierstrass, der\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? '0' + hex : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin = \n// @ts-ignore\ntypeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function';\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nfunction bytesToHex(bytes) {\n    abytes(bytes);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return bytes.toHex();\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return Uint8Array.fromHex(hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n// BE: Big Endian, LE: Little Endian\nfunction bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nfunction bytesToNumberLE(bytes) {\n    abytes(bytes);\n    return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\nfunction numberToBytesBE(n, len) {\n    return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nfunction numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nfunction numberToVarBytesBE(n) {\n    return hexToBytes(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nfunction ensureBytes(title, hex, expectedLength) {\n    let res;\n    if (typeof hex === 'string') {\n        try {\n            res = hexToBytes(hex);\n        }\n        catch (e) {\n            throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n        }\n    }\n    else if (isBytes(hex)) {\n        // Uint8Array.from() instead of hash.slice() because node.js Buffer\n        // is instance of Uint8Array, and its slice() creates **mutable** copy\n        res = Uint8Array.from(hex);\n    }\n    else {\n        throw new Error(title + ' must be hex string or Uint8Array');\n    }\n    const len = res.length;\n    if (typeof expectedLength === 'number' && len !== expectedLength)\n        throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n    return res;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nfunction concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// Compares 2 u8a-s in kinda constant time\nfunction equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n// Is positive bigint\nconst isPosBig = (n) => typeof n === 'bigint' && _0n <= n;\nfunction inRange(n, min, max) {\n    return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nfunction aInRange(title, n, min, max) {\n    // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n    // consider P=256n, min=0n, max=P\n    // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n    // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n    // - our way is the cleanest:               `inRange('x', x, 0n, P)\n    if (!inRange(n, min, max))\n        throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nfunction bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nfunction bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nfunction bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nconst bitMask = (n) => (_1n << BigInt(n)) - _1n;\n// DRBG\nconst u8n = (len) => new Uint8Array(len); // creates Uint8Array\nconst u8fr = (arr) => Uint8Array.from(arr); // another shortcut\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nfunction createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    if (typeof hashLen !== 'number' || hashLen < 2)\n        throw new Error('hashLen must be a number');\n    if (typeof qByteLen !== 'number' || qByteLen < 2)\n        throw new Error('qByteLen must be a number');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n    const reseed = (seed = u8n(0)) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= 1000)\n            throw new Error('drbg: tried 1000 values');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\n// Validating curves and fields\nconst validatorFns = {\n    bigint: (val) => typeof val === 'bigint',\n    function: (val) => typeof val === 'function',\n    boolean: (val) => typeof val === 'boolean',\n    string: (val) => typeof val === 'string',\n    stringOrUint8Array: (val) => typeof val === 'string' || isBytes(val),\n    isSafeInteger: (val) => Number.isSafeInteger(val),\n    array: (val) => Array.isArray(val),\n    field: (val, object) => object.Fp.isValid(val),\n    hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nfunction validateObject(object, validators, optValidators = {}) {\n    const checkField = (fieldName, type, isOptional) => {\n        const checkVal = validatorFns[type];\n        if (typeof checkVal !== 'function')\n            throw new Error('invalid validator function');\n        const val = object[fieldName];\n        if (isOptional && val === undefined)\n            return;\n        if (!checkVal(val, object)) {\n            throw new Error('param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val);\n        }\n    };\n    for (const [fieldName, type] of Object.entries(validators))\n        checkField(fieldName, type, false);\n    for (const [fieldName, type] of Object.entries(optValidators))\n        checkField(fieldName, type, true);\n    return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n/**\n * throws not implemented error\n */\nconst notImplemented = () => {\n    throw new Error('not implemented');\n};\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nfunction memoized(fn) {\n    const map = new WeakMap();\n    return (arg, ...args) => {\n        const val = map.get(arg);\n        if (val !== undefined)\n            return val;\n        const computed = fn(arg, ...args);\n        map.set(arg, computed);\n        return computed;\n    };\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLHFDQUFxQztBQUNyQztBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw0QkFBNEI7QUFDbkQ7QUFDTztBQUNQO0FBQ0EsMENBQTBDO0FBQzFDLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiwwQkFBMEI7QUFDMUIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDbkQsOERBQThEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsV0FBVyxXQUFXLFlBQVksSUFBSTtBQUNwRCxrQ0FBa0Msb0JBQW9CLElBQUksYUFBYSxHQUFHO0FBQzFFO0FBQ0Esa0NBQWtDLFVBQVUsSUFBSSxTQUFTO0FBQ3pELGtDQUFrQyxvQkFBb0IsSUFBSSxTQUFTO0FBQ25FLGtDQUFrQywyQkFBMkI7QUFDN0Qsa0NBQWtDLHdCQUF3QjtBQUMxRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vYWJzdHJhY3QvdXRpbHMuanM/OGRhZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhleCwgYnl0ZXMgYW5kIG51bWJlciB1dGlsaXRpZXMuXG4gKiBAbW9kdWxlXG4gKi9cbi8qISBub2JsZS1jdXJ2ZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9cbi8vIDEwMCBsaW5lcyBvZiBjb2RlIGluIHRoZSBmaWxlIGFyZSBkdXBsaWNhdGVkIGZyb20gbm9ibGUtaGFzaGVzICh1dGlscykuXG4vLyBUaGlzIGlzIE9LOiBgYWJzdHJhY3RgIGRpcmVjdG9yeSBkb2VzIG5vdCB1c2Ugbm9ibGUtaGFzaGVzLlxuLy8gVXNlciBtYXkgb3B0LWluIGludG8gdXNpbmcgZGlmZmVyZW50IGhhc2hpbmcgbGlicmFyeS4gVGhpcyB3YXksIG5vYmxlLWhhc2hlc1xuLy8gd29uJ3QgYmUgaW5jbHVkZWQgaW50byB0aGVpciBidW5kbGUuXG5jb25zdCBfMG4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDApO1xuY29uc3QgXzFuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCgxKTtcbmV4cG9ydCBmdW5jdGlvbiBpc0J5dGVzKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgKEFycmF5QnVmZmVyLmlzVmlldyhhKSAmJiBhLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdVaW50OEFycmF5Jyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWJ5dGVzKGl0ZW0pIHtcbiAgICBpZiAoIWlzQnl0ZXMoaXRlbSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVWludDhBcnJheSBleHBlY3RlZCcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFib29sKHRpdGxlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBib29sZWFuIGV4cGVjdGVkLCBnb3QgJyArIHZhbHVlKTtcbn1cbi8vIFVzZWQgaW4gd2VpZXJzdHJhc3MsIGRlclxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvSGV4VW5wYWRkZWQobnVtKSB7XG4gICAgY29uc3QgaGV4ID0gbnVtLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gaGV4Lmxlbmd0aCAmIDEgPyAnMCcgKyBoZXggOiBoZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4VG9OdW1iZXIoaGV4KSB7XG4gICAgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCAnICsgdHlwZW9mIGhleCk7XG4gICAgcmV0dXJuIGhleCA9PT0gJycgPyBfMG4gOiBCaWdJbnQoJzB4JyArIGhleCk7IC8vIEJpZyBFbmRpYW5cbn1cbi8vIEJ1aWx0LWluIGhleCBjb252ZXJzaW9uIGh0dHBzOi8vY2FuaXVzZS5jb20vbWRuLWphdmFzY3JpcHRfYnVpbHRpbnNfdWludDhhcnJheV9mcm9taGV4XG5jb25zdCBoYXNIZXhCdWlsdGluID0gXG4vLyBAdHMtaWdub3JlXG50eXBlb2YgVWludDhBcnJheS5mcm9tKFtdKS50b0hleCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgVWludDhBcnJheS5mcm9tSGV4ID09PSAnZnVuY3Rpb24nO1xuLy8gQXJyYXkgd2hlcmUgaW5kZXggMHhmMCAoMjQwKSBpcyBtYXBwZWQgdG8gc3RyaW5nICdmMCdcbmNvbnN0IGhleGVzID0gLyogQF9fUFVSRV9fICovIEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9LCAoXywgaSkgPT4gaS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSk7XG4vKipcbiAqIENvbnZlcnQgYnl0ZSBhcnJheSB0byBoZXggc3RyaW5nLiBVc2VzIGJ1aWx0LWluIGZ1bmN0aW9uLCB3aGVuIGF2YWlsYWJsZS5cbiAqIEBleGFtcGxlIGJ5dGVzVG9IZXgoVWludDhBcnJheS5mcm9tKFsweGNhLCAweGZlLCAweDAxLCAweDIzXSkpIC8vICdjYWZlMDEyMydcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9IZXgoYnl0ZXMpIHtcbiAgICBhYnl0ZXMoYnl0ZXMpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoaGFzSGV4QnVpbHRpbilcbiAgICAgICAgcmV0dXJuIGJ5dGVzLnRvSGV4KCk7XG4gICAgLy8gcHJlLWNhY2hpbmcgaW1wcm92ZXMgdGhlIHNwZWVkIDZ4XG4gICAgbGV0IGhleCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaGV4ICs9IGhleGVzW2J5dGVzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbn1cbi8vIFdlIHVzZSBvcHRpbWl6ZWQgdGVjaG5pcXVlIHRvIGNvbnZlcnQgaGV4IHN0cmluZyB0byBieXRlIGFycmF5XG5jb25zdCBhc2NpaXMgPSB7IF8wOiA0OCwgXzk6IDU3LCBBOiA2NSwgRjogNzAsIGE6IDk3LCBmOiAxMDIgfTtcbmZ1bmN0aW9uIGFzY2lpVG9CYXNlMTYoY2gpIHtcbiAgICBpZiAoY2ggPj0gYXNjaWlzLl8wICYmIGNoIDw9IGFzY2lpcy5fOSlcbiAgICAgICAgcmV0dXJuIGNoIC0gYXNjaWlzLl8wOyAvLyAnMicgPT4gNTAtNDhcbiAgICBpZiAoY2ggPj0gYXNjaWlzLkEgJiYgY2ggPD0gYXNjaWlzLkYpXG4gICAgICAgIHJldHVybiBjaCAtIChhc2NpaXMuQSAtIDEwKTsgLy8gJ0InID0+IDY2LSg2NS0xMClcbiAgICBpZiAoY2ggPj0gYXNjaWlzLmEgJiYgY2ggPD0gYXNjaWlzLmYpXG4gICAgICAgIHJldHVybiBjaCAtIChhc2NpaXMuYSAtIDEwKTsgLy8gJ2InID0+IDk4LSg5Ny0xMClcbiAgICByZXR1cm47XG59XG4vKipcbiAqIENvbnZlcnQgaGV4IHN0cmluZyB0byBieXRlIGFycmF5LiBVc2VzIGJ1aWx0LWluIGZ1bmN0aW9uLCB3aGVuIGF2YWlsYWJsZS5cbiAqIEBleGFtcGxlIGhleFRvQnl0ZXMoJ2NhZmUwMTIzJykgLy8gVWludDhBcnJheS5mcm9tKFsweGNhLCAweGZlLCAweDAxLCAweDIzXSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvQnl0ZXMoaGV4KSB7XG4gICAgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCAnICsgdHlwZW9mIGhleCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChoYXNIZXhCdWlsdGluKVxuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tSGV4KGhleCk7XG4gICAgY29uc3QgaGwgPSBoZXgubGVuZ3RoO1xuICAgIGNvbnN0IGFsID0gaGwgLyAyO1xuICAgIGlmIChobCAlIDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IHVucGFkZGVkIGhleCBvZiBsZW5ndGggJyArIGhsKTtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFsKTtcbiAgICBmb3IgKGxldCBhaSA9IDAsIGhpID0gMDsgYWkgPCBhbDsgYWkrKywgaGkgKz0gMikge1xuICAgICAgICBjb25zdCBuMSA9IGFzY2lpVG9CYXNlMTYoaGV4LmNoYXJDb2RlQXQoaGkpKTtcbiAgICAgICAgY29uc3QgbjIgPSBhc2NpaVRvQmFzZTE2KGhleC5jaGFyQ29kZUF0KGhpICsgMSkpO1xuICAgICAgICBpZiAobjEgPT09IHVuZGVmaW5lZCB8fCBuMiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gaGV4W2hpXSArIGhleFtoaSArIDFdO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3Qgbm9uLWhleCBjaGFyYWN0ZXIgXCInICsgY2hhciArICdcIiBhdCBpbmRleCAnICsgaGkpO1xuICAgICAgICB9XG4gICAgICAgIGFycmF5W2FpXSA9IG4xICogMTYgKyBuMjsgLy8gbXVsdGlwbHkgZmlyc3Qgb2N0ZXQsIGUuZy4gJ2EzJyA9PiAxMCoxNiszID0+IDE2MCArIDMgPT4gMTYzXG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIEJFOiBCaWcgRW5kaWFuLCBMRTogTGl0dGxlIEVuZGlhblxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9OdW1iZXJCRShieXRlcykge1xuICAgIHJldHVybiBoZXhUb051bWJlcihieXRlc1RvSGV4KGJ5dGVzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb051bWJlckxFKGJ5dGVzKSB7XG4gICAgYWJ5dGVzKGJ5dGVzKTtcbiAgICByZXR1cm4gaGV4VG9OdW1iZXIoYnl0ZXNUb0hleChVaW50OEFycmF5LmZyb20oYnl0ZXMpLnJldmVyc2UoKSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvQnl0ZXNCRShuLCBsZW4pIHtcbiAgICByZXR1cm4gaGV4VG9CeXRlcyhuLnRvU3RyaW5nKDE2KS5wYWRTdGFydChsZW4gKiAyLCAnMCcpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJUb0J5dGVzTEUobiwgbGVuKSB7XG4gICAgcmV0dXJuIG51bWJlclRvQnl0ZXNCRShuLCBsZW4pLnJldmVyc2UoKTtcbn1cbi8vIFVucGFkZGVkLCByYXJlbHkgdXNlZFxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvVmFyQnl0ZXNCRShuKSB7XG4gICAgcmV0dXJuIGhleFRvQnl0ZXMobnVtYmVyVG9IZXhVbnBhZGRlZChuKSk7XG59XG4vKipcbiAqIFRha2VzIGhleCBzdHJpbmcgb3IgVWludDhBcnJheSwgY29udmVydHMgdG8gVWludDhBcnJheS5cbiAqIFZhbGlkYXRlcyBvdXRwdXQgbGVuZ3RoLlxuICogV2lsbCB0aHJvdyBlcnJvciBmb3Igb3RoZXIgdHlwZXMuXG4gKiBAcGFyYW0gdGl0bGUgZGVzY3JpcHRpdmUgdGl0bGUgZm9yIGFuIGVycm9yIGUuZy4gJ3ByaXZhdGUga2V5J1xuICogQHBhcmFtIGhleCBoZXggc3RyaW5nIG9yIFVpbnQ4QXJyYXlcbiAqIEBwYXJhbSBleHBlY3RlZExlbmd0aCBvcHRpb25hbCwgd2lsbCBjb21wYXJlIHRvIHJlc3VsdCBhcnJheSdzIGxlbmd0aFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUJ5dGVzKHRpdGxlLCBoZXgsIGV4cGVjdGVkTGVuZ3RoKSB7XG4gICAgbGV0IHJlcztcbiAgICBpZiAodHlwZW9mIGhleCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcyA9IGhleFRvQnl0ZXMoaGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheSwgY2F1c2U6ICcgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc0J5dGVzKGhleCkpIHtcbiAgICAgICAgLy8gVWludDhBcnJheS5mcm9tKCkgaW5zdGVhZCBvZiBoYXNoLnNsaWNlKCkgYmVjYXVzZSBub2RlLmpzIEJ1ZmZlclxuICAgICAgICAvLyBpcyBpbnN0YW5jZSBvZiBVaW50OEFycmF5LCBhbmQgaXRzIHNsaWNlKCkgY3JlYXRlcyAqKm11dGFibGUqKiBjb3B5XG4gICAgICAgIHJlcyA9IFVpbnQ4QXJyYXkuZnJvbShoZXgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheScpO1xuICAgIH1cbiAgICBjb25zdCBsZW4gPSByZXMubGVuZ3RoO1xuICAgIGlmICh0eXBlb2YgZXhwZWN0ZWRMZW5ndGggPT09ICdudW1iZXInICYmIGxlbiAhPT0gZXhwZWN0ZWRMZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0aXRsZSArICcgb2YgbGVuZ3RoICcgKyBleHBlY3RlZExlbmd0aCArICcgZXhwZWN0ZWQsIGdvdCAnICsgbGVuKTtcbiAgICByZXR1cm4gcmVzO1xufVxuLyoqXG4gKiBDb3BpZXMgc2V2ZXJhbCBVaW50OEFycmF5cyBpbnRvIG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEJ5dGVzKC4uLmFycmF5cykge1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBhcnJheXNbaV07XG4gICAgICAgIGFieXRlcyhhKTtcbiAgICAgICAgc3VtICs9IGEubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBuZXcgVWludDhBcnJheShzdW0pO1xuICAgIGZvciAobGV0IGkgPSAwLCBwYWQgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBhcnJheXNbaV07XG4gICAgICAgIHJlcy5zZXQoYSwgcGFkKTtcbiAgICAgICAgcGFkICs9IGEubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLy8gQ29tcGFyZXMgMiB1OGEtcyBpbiBraW5kYSBjb25zdGFudCB0aW1lXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxCeXRlcyhhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBkaWZmID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGRpZmYgfD0gYVtpXSBeIGJbaV07XG4gICAgcmV0dXJuIGRpZmYgPT09IDA7XG59XG4vKipcbiAqIEBleGFtcGxlIHV0ZjhUb0J5dGVzKCdhYmMnKSAvLyBuZXcgVWludDhBcnJheShbOTcsIDk4LCA5OV0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dGY4VG9CeXRlcyhzdHIpIHtcbiAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHIpKTsgLy8gaHR0cHM6Ly9idWd6aWwubGEvMTY4MTgwOVxufVxuLy8gSXMgcG9zaXRpdmUgYmlnaW50XG5jb25zdCBpc1Bvc0JpZyA9IChuKSA9PiB0eXBlb2YgbiA9PT0gJ2JpZ2ludCcgJiYgXzBuIDw9IG47XG5leHBvcnQgZnVuY3Rpb24gaW5SYW5nZShuLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBpc1Bvc0JpZyhuKSAmJiBpc1Bvc0JpZyhtaW4pICYmIGlzUG9zQmlnKG1heCkgJiYgbWluIDw9IG4gJiYgbiA8IG1heDtcbn1cbi8qKlxuICogQXNzZXJ0cyBtaW4gPD0gbiA8IG1heC4gTk9URTogSXQncyA8IG1heCBhbmQgbm90IDw9IG1heC5cbiAqIEBleGFtcGxlXG4gKiBhSW5SYW5nZSgneCcsIHgsIDFuLCAyNTZuKTsgLy8gd291bGQgYXNzdW1lIHggaXMgaW4gKDFuLi4yNTVuKVxuICovXG5leHBvcnQgZnVuY3Rpb24gYUluUmFuZ2UodGl0bGUsIG4sIG1pbiwgbWF4KSB7XG4gICAgLy8gV2h5IG1pbiA8PSBuIDwgbWF4IGFuZCBub3QgYSAobWluIDwgbiA8IG1heCkgT1IgYiAobWluIDw9IG4gPD0gbWF4KT9cbiAgICAvLyBjb25zaWRlciBQPTI1Nm4sIG1pbj0wbiwgbWF4PVBcbiAgICAvLyAtIGEgZm9yIG1pbj0wIHdvdWxkIHJlcXVpcmUgLTE6ICAgICAgICAgIGBpblJhbmdlKCd4JywgeCwgLTFuLCBQKWBcbiAgICAvLyAtIGIgd291bGQgY29tbW9ubHkgcmVxdWlyZSBzdWJ0cmFjdGlvbjogIGBpblJhbmdlKCd4JywgeCwgMG4sIFAgLSAxbilgXG4gICAgLy8gLSBvdXIgd2F5IGlzIHRoZSBjbGVhbmVzdDogICAgICAgICAgICAgICBgaW5SYW5nZSgneCcsIHgsIDBuLCBQKVxuICAgIGlmICghaW5SYW5nZShuLCBtaW4sIG1heCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgdmFsaWQgJyArIHRpdGxlICsgJzogJyArIG1pbiArICcgPD0gbiA8ICcgKyBtYXggKyAnLCBnb3QgJyArIG4pO1xufVxuLy8gQml0IG9wZXJhdGlvbnNcbi8qKlxuICogQ2FsY3VsYXRlcyBhbW91bnQgb2YgYml0cyBpbiBhIGJpZ2ludC5cbiAqIFNhbWUgYXMgYG4udG9TdHJpbmcoMikubGVuZ3RoYFxuICogVE9ETzogbWVyZ2Ugd2l0aCBuTGVuZ3RoIGluIG1vZHVsYXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpdExlbihuKSB7XG4gICAgbGV0IGxlbjtcbiAgICBmb3IgKGxlbiA9IDA7IG4gPiBfMG47IG4gPj49IF8xbiwgbGVuICs9IDEpXG4gICAgICAgIDtcbiAgICByZXR1cm4gbGVuO1xufVxuLyoqXG4gKiBHZXRzIHNpbmdsZSBiaXQgYXQgcG9zaXRpb24uXG4gKiBOT1RFOiBmaXJzdCBiaXQgcG9zaXRpb24gaXMgMCAoc2FtZSBhcyBhcnJheXMpXG4gKiBTYW1lIGFzIGAhIStBcnJheS5mcm9tKG4udG9TdHJpbmcoMikpLnJldmVyc2UoKVtwb3NdYFxuICovXG5leHBvcnQgZnVuY3Rpb24gYml0R2V0KG4sIHBvcykge1xuICAgIHJldHVybiAobiA+PiBCaWdJbnQocG9zKSkgJiBfMW47XG59XG4vKipcbiAqIFNldHMgc2luZ2xlIGJpdCBhdCBwb3NpdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpdFNldChuLCBwb3MsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG4gfCAoKHZhbHVlID8gXzFuIDogXzBuKSA8PCBCaWdJbnQocG9zKSk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSBtYXNrIGZvciBOIGJpdHMuIE5vdCB1c2luZyAqKiBvcGVyYXRvciB3aXRoIGJpZ2ludHMgYmVjYXVzZSBvZiBvbGQgZW5naW5lcy5cbiAqIFNhbWUgYXMgQmlnSW50KGAwYiR7QXJyYXkoaSkuZmlsbCgnMScpLmpvaW4oJycpfWApXG4gKi9cbmV4cG9ydCBjb25zdCBiaXRNYXNrID0gKG4pID0+IChfMW4gPDwgQmlnSW50KG4pKSAtIF8xbjtcbi8vIERSQkdcbmNvbnN0IHU4biA9IChsZW4pID0+IG5ldyBVaW50OEFycmF5KGxlbik7IC8vIGNyZWF0ZXMgVWludDhBcnJheVxuY29uc3QgdThmciA9IChhcnIpID0+IFVpbnQ4QXJyYXkuZnJvbShhcnIpOyAvLyBhbm90aGVyIHNob3J0Y3V0XG4vKipcbiAqIE1pbmltYWwgSE1BQy1EUkJHIGZyb20gTklTVCA4MDAtOTAgZm9yIFJGQzY5Nzkgc2lncy5cbiAqIEByZXR1cm5zIGZ1bmN0aW9uIHRoYXQgd2lsbCBjYWxsIERSQkcgdW50aWwgMm5kIGFyZyByZXR1cm5zIHNvbWV0aGluZyBtZWFuaW5nZnVsXG4gKiBAZXhhbXBsZVxuICogICBjb25zdCBkcmJnID0gY3JlYXRlSG1hY0RSQkc8S2V5PigzMiwgMzIsIGhtYWMpO1xuICogICBkcmJnKHNlZWQsIGJ5dGVzVG9LZXkpOyAvLyBieXRlc1RvS2V5IG11c3QgcmV0dXJuIEtleSBvciB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhtYWNEcmJnKGhhc2hMZW4sIHFCeXRlTGVuLCBobWFjRm4pIHtcbiAgICBpZiAodHlwZW9mIGhhc2hMZW4gIT09ICdudW1iZXInIHx8IGhhc2hMZW4gPCAyKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhc2hMZW4gbXVzdCBiZSBhIG51bWJlcicpO1xuICAgIGlmICh0eXBlb2YgcUJ5dGVMZW4gIT09ICdudW1iZXInIHx8IHFCeXRlTGVuIDwgMilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdxQnl0ZUxlbiBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgaWYgKHR5cGVvZiBobWFjRm4gIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaG1hY0ZuIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIC8vIFN0ZXAgQiwgU3RlcCBDOiBzZXQgaGFzaExlbiB0byA4KmNlaWwoaGxlbi84KVxuICAgIGxldCB2ID0gdThuKGhhc2hMZW4pOyAvLyBNaW5pbWFsIG5vbi1mdWxsLXNwZWMgSE1BQy1EUkJHIGZyb20gTklTVCA4MDAtOTAgZm9yIFJGQzY5Nzkgc2lncy5cbiAgICBsZXQgayA9IHU4bihoYXNoTGVuKTsgLy8gU3RlcHMgQiBhbmQgQyBvZiBSRkM2OTc5IDMuMjogc2V0IGhhc2hMZW4sIGluIG91ciBjYXNlIGFsd2F5cyBzYW1lXG4gICAgbGV0IGkgPSAwOyAvLyBJdGVyYXRpb25zIGNvdW50ZXIsIHdpbGwgdGhyb3cgd2hlbiBvdmVyIDEwMDBcbiAgICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICAgICAgdi5maWxsKDEpO1xuICAgICAgICBrLmZpbGwoMCk7XG4gICAgICAgIGkgPSAwO1xuICAgIH07XG4gICAgY29uc3QgaCA9ICguLi5iKSA9PiBobWFjRm4oaywgdiwgLi4uYik7IC8vIGhtYWMoaykodiwgLi4udmFsdWVzKVxuICAgIGNvbnN0IHJlc2VlZCA9IChzZWVkID0gdThuKDApKSA9PiB7XG4gICAgICAgIC8vIEhNQUMtRFJCRyByZXNlZWQoKSBmdW5jdGlvbi4gU3RlcHMgRC1HXG4gICAgICAgIGsgPSBoKHU4ZnIoWzB4MDBdKSwgc2VlZCk7IC8vIGsgPSBobWFjKGsgfHwgdiB8fCAweDAwIHx8IHNlZWQpXG4gICAgICAgIHYgPSBoKCk7IC8vIHYgPSBobWFjKGsgfHwgdilcbiAgICAgICAgaWYgKHNlZWQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBrID0gaCh1OGZyKFsweDAxXSksIHNlZWQpOyAvLyBrID0gaG1hYyhrIHx8IHYgfHwgMHgwMSB8fCBzZWVkKVxuICAgICAgICB2ID0gaCgpOyAvLyB2ID0gaG1hYyhrIHx8IHYpXG4gICAgfTtcbiAgICBjb25zdCBnZW4gPSAoKSA9PiB7XG4gICAgICAgIC8vIEhNQUMtRFJCRyBnZW5lcmF0ZSgpIGZ1bmN0aW9uXG4gICAgICAgIGlmIChpKysgPj0gMTAwMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZHJiZzogdHJpZWQgMTAwMCB2YWx1ZXMnKTtcbiAgICAgICAgbGV0IGxlbiA9IDA7XG4gICAgICAgIGNvbnN0IG91dCA9IFtdO1xuICAgICAgICB3aGlsZSAobGVuIDwgcUJ5dGVMZW4pIHtcbiAgICAgICAgICAgIHYgPSBoKCk7XG4gICAgICAgICAgICBjb25zdCBzbCA9IHYuc2xpY2UoKTtcbiAgICAgICAgICAgIG91dC5wdXNoKHNsKTtcbiAgICAgICAgICAgIGxlbiArPSB2Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29uY2F0Qnl0ZXMoLi4ub3V0KTtcbiAgICB9O1xuICAgIGNvbnN0IGdlblVudGlsID0gKHNlZWQsIHByZWQpID0+IHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgcmVzZWVkKHNlZWQpOyAvLyBTdGVwcyBELUdcbiAgICAgICAgbGV0IHJlcyA9IHVuZGVmaW5lZDsgLy8gU3RlcCBIOiBncmluZCB1bnRpbCBrIGlzIGluIFsxLi5uLTFdXG4gICAgICAgIHdoaWxlICghKHJlcyA9IHByZWQoZ2VuKCkpKSlcbiAgICAgICAgICAgIHJlc2VlZCgpO1xuICAgICAgICByZXNldCgpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgcmV0dXJuIGdlblVudGlsO1xufVxuLy8gVmFsaWRhdGluZyBjdXJ2ZXMgYW5kIGZpZWxkc1xuY29uc3QgdmFsaWRhdG9yRm5zID0ge1xuICAgIGJpZ2ludDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2JpZ2ludCcsXG4gICAgZnVuY3Rpb246ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicsXG4gICAgYm9vbGVhbjogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nLFxuICAgIHN0cmluZzogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycsXG4gICAgc3RyaW5nT3JVaW50OEFycmF5OiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyB8fCBpc0J5dGVzKHZhbCksXG4gICAgaXNTYWZlSW50ZWdlcjogKHZhbCkgPT4gTnVtYmVyLmlzU2FmZUludGVnZXIodmFsKSxcbiAgICBhcnJheTogKHZhbCkgPT4gQXJyYXkuaXNBcnJheSh2YWwpLFxuICAgIGZpZWxkOiAodmFsLCBvYmplY3QpID0+IG9iamVjdC5GcC5pc1ZhbGlkKHZhbCksXG4gICAgaGFzaDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyAmJiBOdW1iZXIuaXNTYWZlSW50ZWdlcih2YWwub3V0cHV0TGVuKSxcbn07XG4vLyB0eXBlIFJlY29yZDxLIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBUPiA9IHsgW1AgaW4gS106IFQ7IH1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdChvYmplY3QsIHZhbGlkYXRvcnMsIG9wdFZhbGlkYXRvcnMgPSB7fSkge1xuICAgIGNvbnN0IGNoZWNrRmllbGQgPSAoZmllbGROYW1lLCB0eXBlLCBpc09wdGlvbmFsKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrVmFsID0gdmFsaWRhdG9yRm5zW3R5cGVdO1xuICAgICAgICBpZiAodHlwZW9mIGNoZWNrVmFsICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHZhbGlkYXRvciBmdW5jdGlvbicpO1xuICAgICAgICBjb25zdCB2YWwgPSBvYmplY3RbZmllbGROYW1lXTtcbiAgICAgICAgaWYgKGlzT3B0aW9uYWwgJiYgdmFsID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghY2hlY2tWYWwodmFsLCBvYmplY3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmFtICcgKyBTdHJpbmcoZmllbGROYW1lKSArICcgaXMgaW52YWxpZC4gRXhwZWN0ZWQgJyArIHR5cGUgKyAnLCBnb3QgJyArIHZhbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZvciAoY29uc3QgW2ZpZWxkTmFtZSwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXModmFsaWRhdG9ycykpXG4gICAgICAgIGNoZWNrRmllbGQoZmllbGROYW1lLCB0eXBlLCBmYWxzZSk7XG4gICAgZm9yIChjb25zdCBbZmllbGROYW1lLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhvcHRWYWxpZGF0b3JzKSlcbiAgICAgICAgY2hlY2tGaWVsZChmaWVsZE5hbWUsIHR5cGUsIHRydWUpO1xuICAgIHJldHVybiBvYmplY3Q7XG59XG4vLyB2YWxpZGF0ZSB0eXBlIHRlc3RzXG4vLyBjb25zdCBvOiB7IGE6IG51bWJlcjsgYjogbnVtYmVyOyBjOiBudW1iZXIgfSA9IHsgYTogMSwgYjogNSwgYzogNiB9O1xuLy8gY29uc3QgejAgPSB2YWxpZGF0ZU9iamVjdChvLCB7IGE6ICdpc1NhZmVJbnRlZ2VyJyB9LCB7IGM6ICdiaWdpbnQnIH0pOyAvLyBPayFcbi8vIC8vIFNob3VsZCBmYWlsIHR5cGUtY2hlY2tcbi8vIGNvbnN0IHoxID0gdmFsaWRhdGVPYmplY3QobywgeyBhOiAndG1wJyB9LCB7IGM6ICd6eicgfSk7XG4vLyBjb25zdCB6MiA9IHZhbGlkYXRlT2JqZWN0KG8sIHsgYTogJ2lzU2FmZUludGVnZXInIH0sIHsgYzogJ3p6JyB9KTtcbi8vIGNvbnN0IHozID0gdmFsaWRhdGVPYmplY3QobywgeyB0ZXN0OiAnYm9vbGVhbicsIHo6ICdidWcnIH0pO1xuLy8gY29uc3QgejQgPSB2YWxpZGF0ZU9iamVjdChvLCB7IGE6ICdib29sZWFuJywgejogJ2J1ZycgfSk7XG4vKipcbiAqIHRocm93cyBub3QgaW1wbGVtZW50ZWQgZXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IG5vdEltcGxlbWVudGVkID0gKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG59O1xuLyoqXG4gKiBNZW1vaXplcyAoY2FjaGVzKSBjb21wdXRhdGlvbiByZXN1bHQuXG4gKiBVc2VzIFdlYWtNYXA6IHRoZSB2YWx1ZSBpcyBnb2luZyBhdXRvLWNsZWFuZWQgYnkgR0MgYWZ0ZXIgbGFzdCByZWZlcmVuY2UgaXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemVkKGZuKSB7XG4gICAgY29uc3QgbWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4gKGFyZywgLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBtYXAuZ2V0KGFyZyk7XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gZm4oYXJnLCAuLi5hcmdzKTtcbiAgICAgICAgbWFwLnNldChhcmcsIGNvbXB1dGVkKTtcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DER: () => (/* binding */ DER),\n/* harmony export */   DERErr: () => (/* binding */ DERErr),\n/* harmony export */   SWUFpSqrtRatio: () => (/* binding */ SWUFpSqrtRatio),\n/* harmony export */   mapToCurveSimpleSWU: () => (/* binding */ mapToCurveSimpleSWU),\n/* harmony export */   weierstrass: () => (/* binding */ weierstrass),\n/* harmony export */   weierstrassPoints: () => (/* binding */ weierstrassPoints)\n/* harmony export */ });\n/* harmony import */ var _curve_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./curve.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/curve.js\");\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/utils.js\");\n/**\n * Short Weierstrass curve methods. The formula is: y = x + ax + b.\n *\n * ### Parameters\n *\n * To initialize a weierstrass curve, one needs to pass following params:\n *\n * * a: formula param\n * * b: formula param\n * * Fp: finite field of prime characteristic P; may be complex (Fp2). Arithmetics is done in field\n * * n: order of prime subgroup a.k.a total amount of valid curve points\n * * Gx: Base point (x, y) aka generator point. Gx = x coordinate\n * * Gy: ...y coordinate\n * * h: cofactor, usually 1. h*n = curve group order (n is only subgroup order)\n * * lowS: whether to enable (default) or disable \"low-s\" non-malleable signatures\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// prettier-ignore\n\n// prettier-ignore\n\n// prettier-ignore\n\nfunction validateSigVerOpts(opts) {\n    if (opts.lowS !== undefined)\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('lowS', opts.lowS);\n    if (opts.prehash !== undefined)\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('prehash', opts.prehash);\n}\nfunction validatePointOpts(curve) {\n    const opts = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.validateBasic)(curve);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(opts, {\n        a: 'field',\n        b: 'field',\n    }, {\n        allowInfinityPoint: 'boolean',\n        allowedPrivateKeyLengths: 'array',\n        clearCofactor: 'function',\n        fromBytes: 'function',\n        isTorsionFree: 'function',\n        toBytes: 'function',\n        wrapPrivateKey: 'boolean',\n    });\n    const { endo, Fp, a } = opts;\n    if (endo) {\n        if (!Fp.eql(a, Fp.ZERO)) {\n            throw new Error('invalid endo: CURVE.a must be 0');\n        }\n        if (typeof endo !== 'object' ||\n            typeof endo.beta !== 'bigint' ||\n            typeof endo.splitScalar !== 'function') {\n            throw new Error('invalid endo: expected \"beta\": bigint and \"splitScalar\": function');\n        }\n    }\n    return Object.freeze({ ...opts });\n}\nclass DERErr extends Error {\n    constructor(m = '') {\n        super(m);\n    }\n}\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nconst DER = {\n    // asn.1 DER encoding utils\n    Err: DERErr,\n    // Basic building block is TLV (Tag-Length-Value)\n    _tlv: {\n        encode: (tag, data) => {\n            const { Err: E } = DER;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length & 1)\n                throw new E('tlv.encode: unpadded data');\n            const dataLen = data.length / 2;\n            const len = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded)(dataLen);\n            if ((len.length / 2) & 128)\n                throw new E('tlv.encode: long form length too big');\n            // length of length with long form flag\n            const lenLen = dataLen > 127 ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded)((len.length / 2) | 128) : '';\n            const t = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded)(tag);\n            return t + lenLen + len + data;\n        },\n        // v - value, l - left bytes (unparsed)\n        decode(tag, data) {\n            const { Err: E } = DER;\n            let pos = 0;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length < 2 || data[pos++] !== tag)\n                throw new E('tlv.decode: wrong tlv');\n            const first = data[pos++];\n            const isLong = !!(first & 128); // First bit of first length byte is flag for short/long form\n            let length = 0;\n            if (!isLong)\n                length = first;\n            else {\n                // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n                const lenLen = first & 127;\n                if (!lenLen)\n                    throw new E('tlv.decode(long): indefinite length not supported');\n                if (lenLen > 4)\n                    throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n                const lengthBytes = data.subarray(pos, pos + lenLen);\n                if (lengthBytes.length !== lenLen)\n                    throw new E('tlv.decode: length bytes not complete');\n                if (lengthBytes[0] === 0)\n                    throw new E('tlv.decode(long): zero leftmost byte');\n                for (const b of lengthBytes)\n                    length = (length << 8) | b;\n                pos += lenLen;\n                if (length < 128)\n                    throw new E('tlv.decode(long): not minimal encoding');\n            }\n            const v = data.subarray(pos, pos + length);\n            if (v.length !== length)\n                throw new E('tlv.decode: wrong value length');\n            return { v, l: data.subarray(pos + length) };\n        },\n    },\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    _int: {\n        encode(num) {\n            const { Err: E } = DER;\n            if (num < _0n)\n                throw new E('integer: negative integers are not allowed');\n            let hex = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded)(num);\n            // Pad with zero byte if negative flag is present\n            if (Number.parseInt(hex[0], 16) & 0b1000)\n                hex = '00' + hex;\n            if (hex.length & 1)\n                throw new E('unexpected DER parsing assertion: unpadded hex');\n            return hex;\n        },\n        decode(data) {\n            const { Err: E } = DER;\n            if (data[0] & 128)\n                throw new E('invalid signature integer: negative');\n            if (data[0] === 0x00 && !(data[1] & 128))\n                throw new E('invalid signature integer: unnecessary leading zero');\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(data);\n        },\n    },\n    toSig(hex) {\n        // parse DER signature\n        const { Err: E, _int: int, _tlv: tlv } = DER;\n        const data = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('signature', hex);\n        const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n        if (seqLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n        const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n        if (sLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        return { r: int.decode(rBytes), s: int.decode(sBytes) };\n    },\n    hexFromSig(sig) {\n        const { _tlv: tlv, _int: int } = DER;\n        const rs = tlv.encode(0x02, int.encode(sig.r));\n        const ss = tlv.encode(0x02, int.encode(sig.s));\n        const seq = rs + ss;\n        return tlv.encode(0x30, seq);\n    },\n};\nfunction numToSizedHex(num, size) {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(num, size));\n}\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\nfunction weierstrassPoints(opts) {\n    const CURVE = validatePointOpts(opts);\n    const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ\n    const Fn = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.Field)(CURVE.n, CURVE.nBitLength);\n    const toBytes = CURVE.toBytes ||\n        ((_c, point, _isCompressed) => {\n            const a = point.toAffine();\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n        });\n    const fromBytes = CURVE.fromBytes ||\n        ((bytes) => {\n            // const head = bytes[0];\n            const tail = bytes.subarray(1);\n            // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n            const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n            const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n            return { x, y };\n        });\n    /**\n     * y = x + ax + b: Short weierstrass curve formula. Takes x, returns y.\n     * @returns y\n     */\n    function weierstrassEquation(x) {\n        const { a, b } = CURVE;\n        const x2 = Fp.sqr(x); // x * x\n        const x3 = Fp.mul(x2, x); // x * x\n        return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x + a * x + b\n    }\n    function isValidXY(x, y) {\n        const left = Fp.sqr(y); // y\n        const right = weierstrassEquation(x); // x + ax + b\n        return Fp.eql(left, right);\n    }\n    // Validate whether the passed curve params are valid.\n    // Test 1: equation y = x + ax + b should work for generator point.\n    if (!isValidXY(CURVE.Gx, CURVE.Gy))\n        throw new Error('bad curve params: generator point');\n    // Test 2: discriminant  part should be non-zero: 4a + 27b != 0.\n    // Guarantees curve is genus-1, smooth (non-singular).\n    const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n    const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n    if (Fp.is0(Fp.add(_4a3, _27b2)))\n        throw new Error('bad curve params: a or b');\n    // Valid group elements reside in range 1..n-1\n    function isWithinCurveOrder(num) {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.inRange)(num, _1n, CURVE.n);\n    }\n    // Validates if priv key is valid and converts it to bigint.\n    // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n    function normPrivateKeyToScalar(key) {\n        const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n: N } = CURVE;\n        if (lengths && typeof key !== 'bigint') {\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes)(key))\n                key = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(key);\n            // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n            if (typeof key !== 'string' || !lengths.includes(key.length))\n                throw new Error('invalid private key');\n            key = key.padStart(nByteLength * 2, '0');\n        }\n        let num;\n        try {\n            num =\n                typeof key === 'bigint'\n                    ? key\n                    : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('private key', key, nByteLength));\n        }\n        catch (error) {\n            throw new Error('invalid private key, expected hex or ' + nByteLength + ' bytes, got ' + typeof key);\n        }\n        if (wrapPrivateKey)\n            num = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mod)(num, N); // disabled by default, enabled for BLS\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange)('private key', num, _1n, N); // num in range [1..N-1]\n        return num;\n    }\n    function aprjpoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('ProjectivePoint expected');\n    }\n    // Memoized toAffine / validity check. They are heavy. Points are immutable.\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (X, Y, Z)  (x=X/Z, y=Y/Z)\n    const toAffineMemo = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.memoized)((p, iz) => {\n        const { px: x, py: y, pz: z } = p;\n        // Fast-path for normalized points\n        if (Fp.eql(z, Fp.ONE))\n            return { x, y };\n        const is0 = p.is0();\n        // If invZ was 0, we return zero point. However we still want to execute\n        // all operations, so we replace invZ with a random number, 1.\n        if (iz == null)\n            iz = is0 ? Fp.ONE : Fp.inv(z);\n        const ax = Fp.mul(x, iz);\n        const ay = Fp.mul(y, iz);\n        const zz = Fp.mul(z, iz);\n        if (is0)\n            return { x: Fp.ZERO, y: Fp.ZERO };\n        if (!Fp.eql(zz, Fp.ONE))\n            throw new Error('invZ was invalid');\n        return { x: ax, y: ay };\n    });\n    // NOTE: on exception this will crash 'cached' and no value will be set.\n    // Otherwise true will be return\n    const assertValidMemo = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.memoized)((p) => {\n        if (p.is0()) {\n            // (0, 1, 0) aka ZERO is invalid in most contexts.\n            // In BLS, ZERO can be serialized, so we allow it.\n            // (0, 0, 0) is invalid representation of ZERO.\n            if (CURVE.allowInfinityPoint && !Fp.is0(p.py))\n                return;\n            throw new Error('bad point: ZERO');\n        }\n        // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n        const { x, y } = p.toAffine();\n        // Check if x, y are valid field elements\n        if (!Fp.isValid(x) || !Fp.isValid(y))\n            throw new Error('bad point: x or y not FE');\n        if (!isValidXY(x, y))\n            throw new Error('bad point: equation left != right');\n        if (!p.isTorsionFree())\n            throw new Error('bad point: not in prime-order subgroup');\n        return true;\n    });\n    /**\n     * Projective Point works in 3d / projective (homogeneous) coordinates: (X, Y, Z)  (x=X/Z, y=Y/Z)\n     * Default Point works in 2d / affine coordinates: (x, y)\n     * We're doing calculations in projective, because its operations don't require costly inversion.\n     */\n    class Point {\n        constructor(px, py, pz) {\n            if (px == null || !Fp.isValid(px))\n                throw new Error('x required');\n            if (py == null || !Fp.isValid(py) || Fp.is0(py))\n                throw new Error('y required');\n            if (pz == null || !Fp.isValid(pz))\n                throw new Error('z required');\n            this.px = px;\n            this.py = py;\n            this.pz = pz;\n            Object.freeze(this);\n        }\n        // Does not validate if the point is on-curve.\n        // Use fromHex instead, or call assertValidity() later.\n        static fromAffine(p) {\n            const { x, y } = p || {};\n            if (!p || !Fp.isValid(x) || !Fp.isValid(y))\n                throw new Error('invalid affine point');\n            if (p instanceof Point)\n                throw new Error('projective point not allowed');\n            const is0 = (i) => Fp.eql(i, Fp.ZERO);\n            // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n            if (is0(x) && is0(y))\n                return Point.ZERO;\n            return new Point(x, y, Fp.ONE);\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        /**\n         * Takes a bunch of Projective Points but executes only one\n         * inversion on all of them. Inversion is very slow operation,\n         * so this improves performance massively.\n         * Optimization: converts a list of projective points to a list of identical points with Z=1.\n         */\n        static normalizeZ(points) {\n            const toInv = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.FpInvertBatch)(Fp, points.map((p) => p.pz));\n            return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n        }\n        /**\n         * Converts hash string or Uint8Array to Point.\n         * @param hex short/long ECDSA hex\n         */\n        static fromHex(hex) {\n            const P = Point.fromAffine(fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('pointHex', hex)));\n            P.assertValidity();\n            return P;\n        }\n        // Multiplies generator point by privateKey.\n        static fromPrivateKey(privateKey) {\n            return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n        }\n        // Multiscalar Multiplication\n        static msm(points, scalars) {\n            return (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.pippenger)(Point, Fn, points, scalars);\n        }\n        // \"Private method\", don't use it directly\n        _setWindowSize(windowSize) {\n            wnaf.setWindowSize(this, windowSize);\n        }\n        // A point on curve is valid if it conforms to equation.\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        hasEvenY() {\n            const { y } = this.toAffine();\n            if (Fp.isOdd)\n                return !Fp.isOdd(y);\n            throw new Error(\"Field doesn't support isOdd\");\n        }\n        /**\n         * Compare one point to another.\n         */\n        equals(other) {\n            aprjpoint(other);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            const { px: X2, py: Y2, pz: Z2 } = other;\n            const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n            const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n            return U1 && U2;\n        }\n        /**\n         * Flips point to one corresponding to (x, -y) in Affine coordinates.\n         */\n        negate() {\n            return new Point(this.px, Fp.neg(this.py), this.pz);\n        }\n        // Renes-Costello-Batina exception-free doubling formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 3\n        // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n        double() {\n            const { a, b } = CURVE;\n            const b3 = Fp.mul(b, _3n);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            let t0 = Fp.mul(X1, X1); // step 1\n            let t1 = Fp.mul(Y1, Y1);\n            let t2 = Fp.mul(Z1, Z1);\n            let t3 = Fp.mul(X1, Y1);\n            t3 = Fp.add(t3, t3); // step 5\n            Z3 = Fp.mul(X1, Z1);\n            Z3 = Fp.add(Z3, Z3);\n            X3 = Fp.mul(a, Z3);\n            Y3 = Fp.mul(b3, t2);\n            Y3 = Fp.add(X3, Y3); // step 10\n            X3 = Fp.sub(t1, Y3);\n            Y3 = Fp.add(t1, Y3);\n            Y3 = Fp.mul(X3, Y3);\n            X3 = Fp.mul(t3, X3);\n            Z3 = Fp.mul(b3, Z3); // step 15\n            t2 = Fp.mul(a, t2);\n            t3 = Fp.sub(t0, t2);\n            t3 = Fp.mul(a, t3);\n            t3 = Fp.add(t3, Z3);\n            Z3 = Fp.add(t0, t0); // step 20\n            t0 = Fp.add(Z3, t0);\n            t0 = Fp.add(t0, t2);\n            t0 = Fp.mul(t0, t3);\n            Y3 = Fp.add(Y3, t0);\n            t2 = Fp.mul(Y1, Z1); // step 25\n            t2 = Fp.add(t2, t2);\n            t0 = Fp.mul(t2, t3);\n            X3 = Fp.sub(X3, t0);\n            Z3 = Fp.mul(t2, t1);\n            Z3 = Fp.add(Z3, Z3); // step 30\n            Z3 = Fp.add(Z3, Z3);\n            return new Point(X3, Y3, Z3);\n        }\n        // Renes-Costello-Batina exception-free addition formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 1\n        // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n        add(other) {\n            aprjpoint(other);\n            const { px: X1, py: Y1, pz: Z1 } = this;\n            const { px: X2, py: Y2, pz: Z2 } = other;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            const a = CURVE.a;\n            const b3 = Fp.mul(CURVE.b, _3n);\n            let t0 = Fp.mul(X1, X2); // step 1\n            let t1 = Fp.mul(Y1, Y2);\n            let t2 = Fp.mul(Z1, Z2);\n            let t3 = Fp.add(X1, Y1);\n            let t4 = Fp.add(X2, Y2); // step 5\n            t3 = Fp.mul(t3, t4);\n            t4 = Fp.add(t0, t1);\n            t3 = Fp.sub(t3, t4);\n            t4 = Fp.add(X1, Z1);\n            let t5 = Fp.add(X2, Z2); // step 10\n            t4 = Fp.mul(t4, t5);\n            t5 = Fp.add(t0, t2);\n            t4 = Fp.sub(t4, t5);\n            t5 = Fp.add(Y1, Z1);\n            X3 = Fp.add(Y2, Z2); // step 15\n            t5 = Fp.mul(t5, X3);\n            X3 = Fp.add(t1, t2);\n            t5 = Fp.sub(t5, X3);\n            Z3 = Fp.mul(a, t4);\n            X3 = Fp.mul(b3, t2); // step 20\n            Z3 = Fp.add(X3, Z3);\n            X3 = Fp.sub(t1, Z3);\n            Z3 = Fp.add(t1, Z3);\n            Y3 = Fp.mul(X3, Z3);\n            t1 = Fp.add(t0, t0); // step 25\n            t1 = Fp.add(t1, t0);\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.mul(b3, t4);\n            t1 = Fp.add(t1, t2);\n            t2 = Fp.sub(t0, t2); // step 30\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.add(t4, t2);\n            t0 = Fp.mul(t1, t4);\n            Y3 = Fp.add(Y3, t0);\n            t0 = Fp.mul(t5, t4); // step 35\n            X3 = Fp.mul(t3, X3);\n            X3 = Fp.sub(X3, t0);\n            t0 = Fp.mul(t3, t1);\n            Z3 = Fp.mul(t5, Z3);\n            Z3 = Fp.add(Z3, t0); // step 40\n            return new Point(X3, Y3, Z3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        wNAF(n) {\n            return wnaf.wNAFCached(this, n, Point.normalizeZ);\n        }\n        /**\n         * Non-constant-time multiplication. Uses double-and-add algorithm.\n         * It's faster, but should only be used when you don't care about\n         * an exposed private key e.g. sig verification, which works over *public* keys.\n         */\n        multiplyUnsafe(sc) {\n            const { endo, n: N } = CURVE;\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange)('scalar', sc, _0n, N);\n            const I = Point.ZERO;\n            if (sc === _0n)\n                return I;\n            if (this.is0() || sc === _1n)\n                return this;\n            // Case a: no endomorphism. Case b: has precomputes.\n            if (!endo || wnaf.hasPrecomputes(this))\n                return wnaf.wNAFCachedUnsafe(this, sc, Point.normalizeZ);\n            // Case c: endomorphism\n            /** See docs for {@link EndomorphismOpts} */\n            let { k1neg, k1, k2neg, k2 } = endo.splitScalar(sc);\n            let k1p = I;\n            let k2p = I;\n            let d = this;\n            while (k1 > _0n || k2 > _0n) {\n                if (k1 & _1n)\n                    k1p = k1p.add(d);\n                if (k2 & _1n)\n                    k2p = k2p.add(d);\n                d = d.double();\n                k1 >>= _1n;\n                k2 >>= _1n;\n            }\n            if (k1neg)\n                k1p = k1p.negate();\n            if (k2neg)\n                k2p = k2p.negate();\n            k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n            return k1p.add(k2p);\n        }\n        /**\n         * Constant time multiplication.\n         * Uses wNAF method. Windowed method may be 10% faster,\n         * but takes 2x longer to generate and consumes 2x memory.\n         * Uses precomputes when available.\n         * Uses endomorphism for Koblitz curves.\n         * @param scalar by which the point would be multiplied\n         * @returns New point\n         */\n        multiply(scalar) {\n            const { endo, n: N } = CURVE;\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange)('scalar', scalar, _1n, N);\n            let point, fake; // Fake point is used to const-time mult\n            /** See docs for {@link EndomorphismOpts} */\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = endo.splitScalar(scalar);\n                let { p: k1p, f: f1p } = this.wNAF(k1);\n                let { p: k2p, f: f2p } = this.wNAF(k2);\n                k1p = wnaf.constTimeNegate(k1neg, k1p);\n                k2p = wnaf.constTimeNegate(k2neg, k2p);\n                k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n                point = k1p.add(k2p);\n                fake = f1p.add(f2p);\n            }\n            else {\n                const { p, f } = this.wNAF(scalar);\n                point = p;\n                fake = f;\n            }\n            // Normalize `z` for both points, but return only real one\n            return Point.normalizeZ([point, fake])[0];\n        }\n        /**\n         * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n         * Not using Strauss-Shamir trick: precomputation tables are faster.\n         * The trick could be useful if both P and Q are not G (not in our case).\n         * @returns non-zero affine point\n         */\n        multiplyAndAddUnsafe(Q, a, b) {\n            const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n            const mul = (P, a // Select faster multiply() method\n            ) => (a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));\n            const sum = mul(this, a).add(mul(Q, b));\n            return sum.is0() ? undefined : sum;\n        }\n        // Converts Projective point to affine (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        // (x, y, z)  (x=x/z, y=y/z)\n        toAffine(iz) {\n            return toAffineMemo(this, iz);\n        }\n        isTorsionFree() {\n            const { h: cofactor, isTorsionFree } = CURVE;\n            if (cofactor === _1n)\n                return true; // No subgroups, always torsion-free\n            if (isTorsionFree)\n                return isTorsionFree(Point, this);\n            throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n        }\n        clearCofactor() {\n            const { h: cofactor, clearCofactor } = CURVE;\n            if (cofactor === _1n)\n                return this; // Fast-path\n            if (clearCofactor)\n                return clearCofactor(Point, this);\n            return this.multiplyUnsafe(CURVE.h);\n        }\n        toRawBytes(isCompressed = true) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            this.assertValidity();\n            return toBytes(Point, this, isCompressed);\n        }\n        toHex(isCompressed = true) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(this.toRawBytes(isCompressed));\n        }\n    }\n    // base / generator point\n    Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    // zero / infinity / identity point\n    Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n    const { endo, nBitLength } = CURVE;\n    const wnaf = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.wNAF)(Point, endo ? Math.ceil(nBitLength / 2) : nBitLength);\n    return {\n        CURVE,\n        ProjectivePoint: Point,\n        normPrivateKeyToScalar,\n        weierstrassEquation,\n        isWithinCurveOrder,\n    };\n}\nfunction validateOpts(curve) {\n    const opts = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.validateBasic)(curve);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateObject)(opts, {\n        hash: 'hash',\n        hmac: 'function',\n        randomBytes: 'function',\n    }, {\n        bits2int: 'function',\n        bits2int_modN: 'function',\n        lowS: 'boolean',\n    });\n    return Object.freeze({ lowS: true, ...opts });\n}\n/**\n * Creates short weierstrass curve and ECDSA signature methods for it.\n * @example\n * import { Field } from '@noble/curves/abstract/modular';\n * // Before that, define BigInt-s: a, b, p, n, Gx, Gy\n * const curve = weierstrass({ a, b, Fp: Field(p), n, Gx, Gy, h: 1n })\n */\nfunction weierstrass(curveDef) {\n    const CURVE = validateOpts(curveDef);\n    const { Fp, n: CURVE_ORDER, nByteLength, nBitLength } = CURVE;\n    const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n    const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n    function modN(a) {\n        return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mod)(a, CURVE_ORDER);\n    }\n    function invN(a) {\n        return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.invert)(a, CURVE_ORDER);\n    }\n    const { ProjectivePoint: Point, normPrivateKeyToScalar, weierstrassEquation, isWithinCurveOrder, } = weierstrassPoints({\n        ...CURVE,\n        toBytes(_c, point, isCompressed) {\n            const a = point.toAffine();\n            const x = Fp.toBytes(a.x);\n            const cat = _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes;\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abool)('isCompressed', isCompressed);\n            if (isCompressed) {\n                return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n            }\n            else {\n                return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n            }\n        },\n        fromBytes(bytes) {\n            const len = bytes.length;\n            const head = bytes[0];\n            const tail = bytes.subarray(1);\n            // this.assertValidity() is done inside of fromHex\n            if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n                const x = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(tail);\n                if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.inRange)(x, _1n, Fp.ORDER))\n                    throw new Error('Point is not on curve');\n                const y2 = weierstrassEquation(x); // y = x + ax + b\n                let y;\n                try {\n                    y = Fp.sqrt(y2); // y = y ^ (p+1)/4\n                }\n                catch (sqrtError) {\n                    const suffix = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n                    throw new Error('Point is not on curve' + suffix);\n                }\n                const isYOdd = (y & _1n) === _1n;\n                // ECDSA\n                const isHeadOdd = (head & 1) === 1;\n                if (isHeadOdd !== isYOdd)\n                    y = Fp.neg(y);\n                return { x, y };\n            }\n            else if (len === uncompressedLen && head === 0x04) {\n                const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n                const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n                return { x, y };\n            }\n            else {\n                const cl = compressedLen;\n                const ul = uncompressedLen;\n                throw new Error('invalid Point, expected length of ' + cl + ', or uncompressed ' + ul + ', got ' + len);\n            }\n        },\n    });\n    function isBiggerThanHalfOrder(number) {\n        const HALF = CURVE_ORDER >> _1n;\n        return number > HALF;\n    }\n    function normalizeS(s) {\n        return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n    }\n    // slice bytes num\n    const slcNum = (b, from, to) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(b.slice(from, to));\n    /**\n     * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n     */\n    class Signature {\n        constructor(r, s, recovery) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange)('r', r, _1n, CURVE_ORDER); // r in [1..N]\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange)('s', s, _1n, CURVE_ORDER); // s in [1..N]\n            this.r = r;\n            this.s = s;\n            if (recovery != null)\n                this.recovery = recovery;\n            Object.freeze(this);\n        }\n        // pair (bytes of r, bytes of s)\n        static fromCompact(hex) {\n            const l = nByteLength;\n            hex = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('compactSignature', hex, l * 2);\n            return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n        }\n        // DER encoded ECDSA signature\n        // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n        static fromDER(hex) {\n            const { r, s } = DER.toSig((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('DER', hex));\n            return new Signature(r, s);\n        }\n        /**\n         * @todo remove\n         * @deprecated\n         */\n        assertValidity() { }\n        addRecoveryBit(recovery) {\n            return new Signature(this.r, this.s, recovery);\n        }\n        recoverPublicKey(msgHash) {\n            const { r, s, recovery: rec } = this;\n            const h = bits2int_modN((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash)); // Truncate hash\n            if (rec == null || ![0, 1, 2, 3].includes(rec))\n                throw new Error('recovery id invalid');\n            const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n            if (radj >= Fp.ORDER)\n                throw new Error('recovery id 2 or 3 invalid');\n            const prefix = (rec & 1) === 0 ? '02' : '03';\n            const R = Point.fromHex(prefix + numToSizedHex(radj, Fp.BYTES));\n            const ir = invN(radj); // r^-1\n            const u1 = modN(-h * ir); // -hr^-1\n            const u2 = modN(s * ir); // sr^-1\n            const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n            if (!Q)\n                throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n            Q.assertValidity();\n            return Q;\n        }\n        // Signatures should be low-s, to prevent malleability.\n        hasHighS() {\n            return isBiggerThanHalfOrder(this.s);\n        }\n        normalizeS() {\n            return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n        }\n        // DER-encoded\n        toDERRawBytes() {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(this.toDERHex());\n        }\n        toDERHex() {\n            return DER.hexFromSig(this);\n        }\n        // padded bytes of r, then padded bytes of s\n        toCompactRawBytes() {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(this.toCompactHex());\n        }\n        toCompactHex() {\n            const l = nByteLength;\n            return numToSizedHex(this.r, l) + numToSizedHex(this.s, l);\n        }\n    }\n    const utils = {\n        isValidPrivateKey(privateKey) {\n            try {\n                normPrivateKeyToScalar(privateKey);\n                return true;\n            }\n            catch (error) {\n                return false;\n            }\n        },\n        normPrivateKeyToScalar: normPrivateKeyToScalar,\n        /**\n         * Produces cryptographically secure private key from random of size\n         * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n         */\n        randomPrivateKey: () => {\n            const length = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.getMinHashLength)(CURVE.n);\n            return (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mapHashToField)(CURVE.randomBytes(length), CURVE.n);\n        },\n        /**\n         * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n         * Allows to massively speed-up `point.multiply(scalar)`.\n         * @returns cached point\n         * @example\n         * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n         * fast.multiply(privKey); // much faster ECDH now\n         */\n        precompute(windowSize = 8, point = Point.BASE) {\n            point._setWindowSize(windowSize);\n            point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n            return point;\n        },\n    };\n    /**\n     * Computes public key for a private key. Checks for validity of the private key.\n     * @param privateKey private key\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns Public key, full when isCompressed=false; short when isCompressed=true\n     */\n    function getPublicKey(privateKey, isCompressed = true) {\n        return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n    }\n    /**\n     * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n     */\n    function isProbPub(item) {\n        if (typeof item === 'bigint')\n            return false;\n        if (item instanceof Point)\n            return true;\n        const arr = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('key', item);\n        const len = arr.length;\n        const fpl = Fp.BYTES;\n        const compLen = fpl + 1; // e.g. 33 for 32\n        const uncompLen = 2 * fpl + 1; // e.g. 65 for 32\n        if (CURVE.allowedPrivateKeyLengths || nByteLength === compLen) {\n            return undefined;\n        }\n        else {\n            return len === compLen || len === uncompLen;\n        }\n    }\n    /**\n     * ECDH (Elliptic Curve Diffie Hellman).\n     * Computes shared public key from private key and public key.\n     * Checks: 1) private key validity 2) shared key is on-curve.\n     * Does NOT hash the result.\n     * @param privateA private key\n     * @param publicB different public key\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns shared public key\n     */\n    function getSharedSecret(privateA, publicB, isCompressed = true) {\n        if (isProbPub(privateA) === true)\n            throw new Error('first arg must be private key');\n        if (isProbPub(publicB) === false)\n            throw new Error('second arg must be public key');\n        const b = Point.fromHex(publicB); // check for being on-curve\n        return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n    }\n    // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n    // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n    // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n    // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n    const bits2int = CURVE.bits2int ||\n        function (bytes) {\n            // Our custom check \"just in case\", for protection against DoS\n            if (bytes.length > 8192)\n                throw new Error('input is too large');\n            // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n            // for some cases, since bytes.length * 8 is not actual bitLength.\n            const num = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(bytes); // check for == u8 done here\n            const delta = bytes.length * 8 - nBitLength; // truncate to nBitLength leftmost bits\n            return delta > 0 ? num >> BigInt(delta) : num;\n        };\n    const bits2int_modN = CURVE.bits2int_modN ||\n        function (bytes) {\n            return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n        };\n    // NOTE: pads output with zero as per spec\n    const ORDER_MASK = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(nBitLength);\n    /**\n     * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n     */\n    function int2octets(num) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange)('num < 2^' + nBitLength, num, _0n, ORDER_MASK);\n        // works with order, can have different size than numToField!\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(num, nByteLength);\n    }\n    // Steps A, D of RFC6979 3.2\n    // Creates RFC6979 seed; converts msg/privKey to numbers.\n    // Used only in sign, not in verify.\n    // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order,\n    // this will be invalid at least for P521. Also it can be bigger for P224 + SHA256\n    function prepSig(msgHash, privateKey, opts = defaultSigOpts) {\n        if (['recovered', 'canonical'].some((k) => k in opts))\n            throw new Error('sign() legacy options not supported');\n        const { hash, randomBytes } = CURVE;\n        let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n        if (lowS == null)\n            lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n        msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash);\n        validateSigVerOpts(opts);\n        if (prehash)\n            msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('prehashed msgHash', hash(msgHash));\n        // We can't later call bits2octets, since nested bits2int is broken for curves\n        // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n        // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n        const h1int = bits2int_modN(msgHash);\n        const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n        const seedArgs = [int2octets(d), int2octets(h1int)];\n        // extraEntropy. RFC6979 3.6: additional k' (optional).\n        if (ent != null && ent !== false) {\n            // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n            const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n            seedArgs.push((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('extraEntropy', e)); // check for being bytes\n        }\n        const seed = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...seedArgs); // Step D of RFC6979 3.2\n        const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n        // Converts signature params into point w r/s, checks result for validity.\n        function k2sig(kBytes) {\n            // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n            const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n            if (!isWithinCurveOrder(k))\n                return; // Important: all mod() calls here must be done over N\n            const ik = invN(k); // k^-1 mod n\n            const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n            const r = modN(q.x); // r = q.x mod n\n            if (r === _0n)\n                return;\n            // Can use scalar blinding b^-1(bm + bdr) where b  [1,q1] according to\n            // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n            // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n            const s = modN(ik * modN(m + r * d)); // Not using blinding here\n            if (s === _0n)\n                return;\n            let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n            let normS = s;\n            if (lowS && isBiggerThanHalfOrder(s)) {\n                normS = normalizeS(s); // if lowS was passed, ensure s is always\n                recovery ^= 1; // // in the bottom half of N\n            }\n            return new Signature(r, normS, recovery); // use normS, not s\n        }\n        return { seed, k2sig };\n    }\n    const defaultSigOpts = { lowS: CURVE.lowS, prehash: false };\n    const defaultVerOpts = { lowS: CURVE.lowS, prehash: false };\n    /**\n     * Signs message hash with a private key.\n     * ```\n     * sign(m, d, k) where\n     *   (x, y) = G  k\n     *   r = x mod n\n     *   s = (m + dr)/k mod n\n     * ```\n     * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n     * @param privKey private key\n     * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n     * @returns signature with recovery param\n     */\n    function sign(msgHash, privKey, opts = defaultSigOpts) {\n        const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n        const C = CURVE;\n        const drbg = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createHmacDrbg)(C.hash.outputLen, C.nByteLength, C.hmac);\n        return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n    }\n    // Enable precomputes. Slows down first publicKey computation by 20ms.\n    Point.BASE._setWindowSize(8);\n    // utils.precompute(8, ProjectivePoint.BASE)\n    /**\n     * Verifies a signature against message hash and public key.\n     * Rejects lowS signatures by default: to override,\n     * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n     *\n     * ```\n     * verify(r, s, h, P) where\n     *   U1 = hs^-1 mod n\n     *   U2 = rs^-1 mod n\n     *   R = U1G - U2P\n     *   mod(R.x, n) == r\n     * ```\n     */\n    function verify(signature, msgHash, publicKey, opts = defaultVerOpts) {\n        const sg = signature;\n        msgHash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', msgHash);\n        publicKey = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('publicKey', publicKey);\n        const { lowS, prehash, format } = opts;\n        // Verify opts, deduce signature format\n        validateSigVerOpts(opts);\n        if ('strict' in opts)\n            throw new Error('options.strict was renamed to lowS');\n        if (format !== undefined && format !== 'compact' && format !== 'der')\n            throw new Error('format must be compact or der');\n        const isHex = typeof sg === 'string' || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes)(sg);\n        const isObj = !isHex &&\n            !format &&\n            typeof sg === 'object' &&\n            sg !== null &&\n            typeof sg.r === 'bigint' &&\n            typeof sg.s === 'bigint';\n        if (!isHex && !isObj)\n            throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n        let _sig = undefined;\n        let P;\n        try {\n            if (isObj)\n                _sig = new Signature(sg.r, sg.s);\n            if (isHex) {\n                // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n                // Since DER can also be 2*nByteLength bytes, we check for it first.\n                try {\n                    if (format !== 'compact')\n                        _sig = Signature.fromDER(sg);\n                }\n                catch (derError) {\n                    if (!(derError instanceof DER.Err))\n                        throw derError;\n                }\n                if (!_sig && format !== 'der')\n                    _sig = Signature.fromCompact(sg);\n            }\n            P = Point.fromHex(publicKey);\n        }\n        catch (error) {\n            return false;\n        }\n        if (!_sig)\n            return false;\n        if (lowS && _sig.hasHighS())\n            return false;\n        if (prehash)\n            msgHash = CURVE.hash(msgHash);\n        const { r, s } = _sig;\n        const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n        const is = invN(s); // s^-1\n        const u1 = modN(h * is); // u1 = hs^-1 mod n\n        const u2 = modN(r * is); // u2 = rs^-1 mod n\n        const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1G + u2P\n        if (!R)\n            return false;\n        const v = modN(R.x);\n        return v === r;\n    }\n    return {\n        CURVE,\n        getPublicKey,\n        getSharedSecret,\n        sign,\n        verify,\n        ProjectivePoint: Point,\n        Signature,\n        utils,\n    };\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nfunction SWUFpSqrtRatio(Fp, Z) {\n    // Generic implementation\n    const q = Fp.ORDER;\n    let l = _0n;\n    for (let o = q - _1n; o % _2n === _0n; o /= _2n)\n        l += _1n;\n    const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n    // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n    // 2n ** c1 == 2n << (c1-1)\n    const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n    const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n    const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n    const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n    const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n    const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n    const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n    const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n    let sqrtRatio = (u, v) => {\n        let tv1 = c6; // 1. tv1 = c6\n        let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n        let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n        tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n        let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n        tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n        tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n        tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n        tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n        let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n        tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n        let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n        tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n        tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n        tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n        tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n        // 17. for i in (c1, c1 - 1, ..., 2):\n        for (let i = c1; i > _1n; i--) {\n            let tv5 = i - _2n; // 18.    tv5 = i - 2\n            tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n            let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n            const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n            tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n            tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n            tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n            tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n            tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n        }\n        return { isValid: isQR, value: tv3 };\n    };\n    if (Fp.ORDER % _4n === _3n) {\n        // sqrt_ratio_3mod4(u, v)\n        const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n        const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n        sqrtRatio = (u, v) => {\n            let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n            const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n            tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n            let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n            y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n            const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n            const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n            const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n            let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n            return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n        };\n    }\n    // No curves uses that\n    // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n    return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nfunction mapToCurveSimpleSWU(Fp, opts) {\n    (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.validateField)(Fp);\n    if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z))\n        throw new Error('mapToCurveSimpleSWU: invalid opts');\n    const sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n    if (!Fp.isOdd)\n        throw new Error('Fp.isOdd is not implemented!');\n    // Input: u, an element of F.\n    // Output: (x, y), a point on E.\n    return (u) => {\n        // prettier-ignore\n        let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n        tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n        tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n        tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n        tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n        tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n        tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n        tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n        tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n        tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n        tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n        tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n        tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n        tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n        tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n        tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n        tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n        x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n        const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n        y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n        y = Fp.mul(y, value); // 20.   y = y * y1\n        x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n        y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n        const e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n        y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n        const tv4_inv = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.FpInvertBatch)(Fp, [tv4], true)[0];\n        x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n        return { x, y };\n    };\n}\n//# sourceMappingURL=weierstrass.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L3dlaWVyc3RyYXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM0RDtBQUM1RDtBQUNrSDtBQUNsSDtBQUMyTjtBQUMzTjtBQUNBO0FBQ0EsUUFBUSxnREFBSztBQUNiO0FBQ0EsUUFBUSxnREFBSztBQUNiO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQWE7QUFDOUIsSUFBSSx5REFBYztBQUNsQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4REFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDhEQUFtQjtBQUM5RCxzQkFBc0IsOERBQW1CO0FBQ3pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0IsU0FB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M0IsMkJBQTJCO0FBQzNCLG1DQUFtQztBQUNuQyxnQ0FBZ0M7QUFDaEMsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQyxtQ0FBbUM7QUFDbkMsZ0NBQWdDO0FBQ2hDLDhCQUE4QjtBQUM5QixnQkFBZ0IsaUJBQWlCLHVCQUF1QjtBQUN4RCw0QkFBNEI7QUFDNUIsOEJBQThCO0FBQzlCLHNDQUFzQztBQUN0Qyx3Q0FBd0M7QUFDeEMsZ0RBQWdEO0FBQ2hELHVDQUF1QztBQUN2Qyx3QkFBd0IsMERBQWE7QUFDckMsZ0NBQWdDO0FBQ2hDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGFpbi1hcHAvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L3dlaWVyc3RyYXNzLmpzPzAyYmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaG9ydCBXZWllcnN0cmFzcyBjdXJ2ZSBtZXRob2RzLiBUaGUgZm9ybXVsYSBpczogecKyID0geMKzICsgYXggKyBiLlxuICpcbiAqICMjIyBQYXJhbWV0ZXJzXG4gKlxuICogVG8gaW5pdGlhbGl6ZSBhIHdlaWVyc3RyYXNzIGN1cnZlLCBvbmUgbmVlZHMgdG8gcGFzcyBmb2xsb3dpbmcgcGFyYW1zOlxuICpcbiAqICogYTogZm9ybXVsYSBwYXJhbVxuICogKiBiOiBmb3JtdWxhIHBhcmFtXG4gKiAqIEZwOiBmaW5pdGUgZmllbGQgb2YgcHJpbWUgY2hhcmFjdGVyaXN0aWMgUDsgbWF5IGJlIGNvbXBsZXggKEZwMikuIEFyaXRobWV0aWNzIGlzIGRvbmUgaW4gZmllbGRcbiAqICogbjogb3JkZXIgb2YgcHJpbWUgc3ViZ3JvdXAgYS5rLmEgdG90YWwgYW1vdW50IG9mIHZhbGlkIGN1cnZlIHBvaW50c1xuICogKiBHeDogQmFzZSBwb2ludCAoeCwgeSkgYWthIGdlbmVyYXRvciBwb2ludC4gR3ggPSB4IGNvb3JkaW5hdGVcbiAqICogR3k6IC4uLnkgY29vcmRpbmF0ZVxuICogKiBoOiBjb2ZhY3RvciwgdXN1YWxseSAxLiBoKm4gPSBjdXJ2ZSBncm91cCBvcmRlciAobiBpcyBvbmx5IHN1Ymdyb3VwIG9yZGVyKVxuICogKiBsb3dTOiB3aGV0aGVyIHRvIGVuYWJsZSAoZGVmYXVsdCkgb3IgZGlzYWJsZSBcImxvdy1zXCIgbm9uLW1hbGxlYWJsZSBzaWduYXR1cmVzXG4gKlxuICogIyMjIERlc2lnbiByYXRpb25hbGUgZm9yIHR5cGVzXG4gKlxuICogKiBJbnRlcmFjdGlvbiBiZXR3ZWVuIGNsYXNzZXMgZnJvbSBkaWZmZXJlbnQgY3VydmVzIHNob3VsZCBmYWlsOlxuICogICBgazI1Ni5Qb2ludC5CQVNFLmFkZChwMjU2LlBvaW50LkJBU0UpYFxuICogKiBGb3IgdGhpcyBwdXJwb3NlIHdlIHdhbnQgdG8gdXNlIGBpbnN0YW5jZW9mYCBvcGVyYXRvciwgd2hpY2ggaXMgZmFzdCBhbmQgd29ya3MgZHVyaW5nIHJ1bnRpbWVcbiAqICogRGlmZmVyZW50IGNhbGxzIG9mIGBjdXJ2ZSgpYCB3b3VsZCByZXR1cm4gZGlmZmVyZW50IGNsYXNzZXMgLVxuICogICBgY3VydmUocGFyYW1zKSAhPT0gY3VydmUocGFyYW1zKWA6IGlmIHNvbWVib2R5IGRlY2lkZWQgdG8gbW9ua2V5LXBhdGNoIHRoZWlyIGN1cnZlLFxuICogICBpdCB3b24ndCBhZmZlY3Qgb3RoZXJzXG4gKlxuICogVHlwZVNjcmlwdCBjYW4ndCBpbmZlciB0eXBlcyBmb3IgY2xhc3NlcyBjcmVhdGVkIGluc2lkZSBhIGZ1bmN0aW9uLiBDbGFzc2VzIGlzIG9uZSBpbnN0YW5jZVxuICogb2Ygbm9taW5hdGl2ZSB0eXBlcyBpbiBUeXBlU2NyaXB0IGFuZCBpbnRlcmZhY2VzIG9ubHkgY2hlY2sgZm9yIHNoYXBlLCBzbyBpdCdzIGhhcmQgdG8gY3JlYXRlXG4gKiB1bmlxdWUgdHlwZSBmb3IgZXZlcnkgZnVuY3Rpb24gY2FsbC5cbiAqXG4gKiBXZSBjYW4gdXNlIGdlbmVyaWMgdHlwZXMgdmlhIHNvbWUgcGFyYW0sIGxpa2UgY3VydmUgb3B0cywgYnV0IHRoYXQgd291bGQ6XG4gKiAgICAgMS4gRW5hYmxlIGludGVyYWN0aW9uIGJldHdlZW4gYGN1cnZlKHBhcmFtcylgIGFuZCBgY3VydmUocGFyYW1zKWAgKGN1cnZlcyBvZiBzYW1lIHBhcmFtcylcbiAqICAgICB3aGljaCBpcyBoYXJkIHRvIGRlYnVnLlxuICogICAgIDIuIFBhcmFtcyBjYW4gYmUgZ2VuZXJpYyBhbmQgd2UgY2FuJ3QgZW5mb3JjZSB0aGVtIHRvIGJlIGNvbnN0YW50IHZhbHVlOlxuICogICAgIGlmIHNvbWVib2R5IGNyZWF0ZXMgY3VydmUgZnJvbSBub24tY29uc3RhbnQgcGFyYW1zLFxuICogICAgIGl0IHdvdWxkIGJlIGFsbG93ZWQgdG8gaW50ZXJhY3Qgd2l0aCBvdGhlciBjdXJ2ZXMgd2l0aCBub24tY29uc3RhbnQgcGFyYW1zXG4gKlxuICogQHRvZG8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svcmVsZWFzZS1ub3Rlcy90eXBlc2NyaXB0LTItNy5odG1sI3VuaXF1ZS1zeW1ib2xcbiAqIEBtb2R1bGVcbiAqL1xuLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5pbXBvcnQgeyBwaXBwZW5nZXIsIHZhbGlkYXRlQmFzaWMsIHdOQUYgfSBmcm9tIFwiLi9jdXJ2ZS5qc1wiO1xuLy8gcHJldHRpZXItaWdub3JlXG5pbXBvcnQgeyBGaWVsZCwgRnBJbnZlcnRCYXRjaCwgZ2V0TWluSGFzaExlbmd0aCwgaW52ZXJ0LCBtYXBIYXNoVG9GaWVsZCwgbW9kLCB2YWxpZGF0ZUZpZWxkIH0gZnJvbSBcIi4vbW9kdWxhci5qc1wiO1xuLy8gcHJldHRpZXItaWdub3JlXG5pbXBvcnQgeyBhSW5SYW5nZSwgYWJvb2wsIGJpdE1hc2ssIGJ5dGVzVG9IZXgsIGJ5dGVzVG9OdW1iZXJCRSwgY29uY2F0Qnl0ZXMsIGNyZWF0ZUhtYWNEcmJnLCBlbnN1cmVCeXRlcywgaGV4VG9CeXRlcywgaW5SYW5nZSwgaXNCeXRlcywgbWVtb2l6ZWQsIG51bWJlclRvQnl0ZXNCRSwgbnVtYmVyVG9IZXhVbnBhZGRlZCwgdmFsaWRhdGVPYmplY3QgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuZnVuY3Rpb24gdmFsaWRhdGVTaWdWZXJPcHRzKG9wdHMpIHtcbiAgICBpZiAob3B0cy5sb3dTICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGFib29sKCdsb3dTJywgb3B0cy5sb3dTKTtcbiAgICBpZiAob3B0cy5wcmVoYXNoICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGFib29sKCdwcmVoYXNoJywgb3B0cy5wcmVoYXNoKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUG9pbnRPcHRzKGN1cnZlKSB7XG4gICAgY29uc3Qgb3B0cyA9IHZhbGlkYXRlQmFzaWMoY3VydmUpO1xuICAgIHZhbGlkYXRlT2JqZWN0KG9wdHMsIHtcbiAgICAgICAgYTogJ2ZpZWxkJyxcbiAgICAgICAgYjogJ2ZpZWxkJyxcbiAgICB9LCB7XG4gICAgICAgIGFsbG93SW5maW5pdHlQb2ludDogJ2Jvb2xlYW4nLFxuICAgICAgICBhbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHM6ICdhcnJheScsXG4gICAgICAgIGNsZWFyQ29mYWN0b3I6ICdmdW5jdGlvbicsXG4gICAgICAgIGZyb21CeXRlczogJ2Z1bmN0aW9uJyxcbiAgICAgICAgaXNUb3JzaW9uRnJlZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgdG9CeXRlczogJ2Z1bmN0aW9uJyxcbiAgICAgICAgd3JhcFByaXZhdGVLZXk6ICdib29sZWFuJyxcbiAgICB9KTtcbiAgICBjb25zdCB7IGVuZG8sIEZwLCBhIH0gPSBvcHRzO1xuICAgIGlmIChlbmRvKSB7XG4gICAgICAgIGlmICghRnAuZXFsKGEsIEZwLlpFUk8pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZW5kbzogQ1VSVkUuYSBtdXN0IGJlIDAnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGVuZG8gIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICB0eXBlb2YgZW5kby5iZXRhICE9PSAnYmlnaW50JyB8fFxuICAgICAgICAgICAgdHlwZW9mIGVuZG8uc3BsaXRTY2FsYXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBlbmRvOiBleHBlY3RlZCBcImJldGFcIjogYmlnaW50IGFuZCBcInNwbGl0U2NhbGFyXCI6IGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyAuLi5vcHRzIH0pO1xufVxuZXhwb3J0IGNsYXNzIERFUkVyciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtID0gJycpIHtcbiAgICAgICAgc3VwZXIobSk7XG4gICAgfVxufVxuLyoqXG4gKiBBU04uMSBERVIgZW5jb2RpbmcgdXRpbGl0aWVzLiBBU04gaXMgdmVyeSBjb21wbGV4ICYgZnJhZ2lsZS4gRm9ybWF0OlxuICpcbiAqICAgICBbMHgzMCAoU0VRVUVOQ0UpLCBieXRlbGVuZ3RoLCAweDAyIChJTlRFR0VSKSwgaW50TGVuZ3RoLCBSLCAweDAyIChJTlRFR0VSKSwgaW50TGVuZ3RoLCBTXVxuICpcbiAqIERvY3M6IGh0dHBzOi8vbGV0c2VuY3J5cHQub3JnL2RvY3MvYS13YXJtLXdlbGNvbWUtdG8tYXNuMS1hbmQtZGVyLywgaHR0cHM6Ly9sdWNhLm50b3Aub3JnL1RlYWNoaW5nL0FwcHVudGkvYXNuMS5odG1sXG4gKi9cbmV4cG9ydCBjb25zdCBERVIgPSB7XG4gICAgLy8gYXNuLjEgREVSIGVuY29kaW5nIHV0aWxzXG4gICAgRXJyOiBERVJFcnIsXG4gICAgLy8gQmFzaWMgYnVpbGRpbmcgYmxvY2sgaXMgVExWIChUYWctTGVuZ3RoLVZhbHVlKVxuICAgIF90bHY6IHtcbiAgICAgICAgZW5jb2RlOiAodGFnLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IEVycjogRSB9ID0gREVSO1xuICAgICAgICAgICAgaWYgKHRhZyA8IDAgfHwgdGFnID4gMjU2KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZW5jb2RlOiB3cm9uZyB0YWcnKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCAmIDEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5lbmNvZGU6IHVucGFkZGVkIGRhdGEnKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFMZW4gPSBkYXRhLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBudW1iZXJUb0hleFVucGFkZGVkKGRhdGFMZW4pO1xuICAgICAgICAgICAgaWYgKChsZW4ubGVuZ3RoIC8gMikgJiAxMjgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5lbmNvZGU6IGxvbmcgZm9ybSBsZW5ndGggdG9vIGJpZycpO1xuICAgICAgICAgICAgLy8gbGVuZ3RoIG9mIGxlbmd0aCB3aXRoIGxvbmcgZm9ybSBmbGFnXG4gICAgICAgICAgICBjb25zdCBsZW5MZW4gPSBkYXRhTGVuID4gMTI3ID8gbnVtYmVyVG9IZXhVbnBhZGRlZCgobGVuLmxlbmd0aCAvIDIpIHwgMTI4KSA6ICcnO1xuICAgICAgICAgICAgY29uc3QgdCA9IG51bWJlclRvSGV4VW5wYWRkZWQodGFnKTtcbiAgICAgICAgICAgIHJldHVybiB0ICsgbGVuTGVuICsgbGVuICsgZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdiAtIHZhbHVlLCBsIC0gbGVmdCBieXRlcyAodW5wYXJzZWQpXG4gICAgICAgIGRlY29kZSh0YWcsIGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgRXJyOiBFIH0gPSBERVI7XG4gICAgICAgICAgICBsZXQgcG9zID0gMDtcbiAgICAgICAgICAgIGlmICh0YWcgPCAwIHx8IHRhZyA+IDI1NilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmVuY29kZTogd3JvbmcgdGFnJyk7XG4gICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPCAyIHx8IGRhdGFbcG9zKytdICE9PSB0YWcpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGU6IHdyb25nIHRsdicpO1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBkYXRhW3BvcysrXTtcbiAgICAgICAgICAgIGNvbnN0IGlzTG9uZyA9ICEhKGZpcnN0ICYgMTI4KTsgLy8gRmlyc3QgYml0IG9mIGZpcnN0IGxlbmd0aCBieXRlIGlzIGZsYWcgZm9yIHNob3J0L2xvbmcgZm9ybVxuICAgICAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgICAgICBpZiAoIWlzTG9uZylcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBmaXJzdDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIExvbmcgZm9ybTogW2xvbmdGbGFnKDFiaXQpLCBsZW5ndGhMZW5ndGgoN2JpdCksIGxlbmd0aCAoQkUpXVxuICAgICAgICAgICAgICAgIGNvbnN0IGxlbkxlbiA9IGZpcnN0ICYgMTI3O1xuICAgICAgICAgICAgICAgIGlmICghbGVuTGVuKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZShsb25nKTogaW5kZWZpbml0ZSBsZW5ndGggbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICAgICAgICAgIGlmIChsZW5MZW4gPiA0KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZShsb25nKTogYnl0ZSBsZW5ndGggaXMgdG9vIGJpZycpOyAvLyB0aGlzIHdpbGwgb3ZlcmZsb3cgdTMyIGluIGpzXG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoQnl0ZXMgPSBkYXRhLnN1YmFycmF5KHBvcywgcG9zICsgbGVuTGVuKTtcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoQnl0ZXMubGVuZ3RoICE9PSBsZW5MZW4pXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlOiBsZW5ndGggYnl0ZXMgbm90IGNvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aEJ5dGVzWzBdID09PSAwKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZShsb25nKTogemVybyBsZWZ0bW9zdCBieXRlJyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBiIG9mIGxlbmd0aEJ5dGVzKVxuICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSAobGVuZ3RoIDw8IDgpIHwgYjtcbiAgICAgICAgICAgICAgICBwb3MgKz0gbGVuTGVuO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGggPCAxMjgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlKGxvbmcpOiBub3QgbWluaW1hbCBlbmNvZGluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdiA9IGRhdGEuc3ViYXJyYXkocG9zLCBwb3MgKyBsZW5ndGgpO1xuICAgICAgICAgICAgaWYgKHYubGVuZ3RoICE9PSBsZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGU6IHdyb25nIHZhbHVlIGxlbmd0aCcpO1xuICAgICAgICAgICAgcmV0dXJuIHsgdiwgbDogZGF0YS5zdWJhcnJheShwb3MgKyBsZW5ndGgpIH07XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBodHRwczovL2NyeXB0by5zdGFja2V4Y2hhbmdlLmNvbS9hLzU3NzM0IExlZnRtb3N0IGJpdCBvZiBmaXJzdCBieXRlIGlzICduZWdhdGl2ZScgZmxhZyxcbiAgICAvLyBzaW5jZSB3ZSBhbHdheXMgdXNlIHBvc2l0aXZlIGludGVnZXJzIGhlcmUuIEl0IG11c3QgYWx3YXlzIGJlIGVtcHR5OlxuICAgIC8vIC0gYWRkIHplcm8gYnl0ZSBpZiBleGlzdHNcbiAgICAvLyAtIGlmIG5leHQgYnl0ZSBkb2Vzbid0IGhhdmUgYSBmbGFnLCBsZWFkaW5nIHplcm8gaXMgbm90IGFsbG93ZWQgKG1pbmltYWwgZW5jb2RpbmcpXG4gICAgX2ludDoge1xuICAgICAgICBlbmNvZGUobnVtKSB7XG4gICAgICAgICAgICBjb25zdCB7IEVycjogRSB9ID0gREVSO1xuICAgICAgICAgICAgaWYgKG51bSA8IF8wbilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgnaW50ZWdlcjogbmVnYXRpdmUgaW50ZWdlcnMgYXJlIG5vdCBhbGxvd2VkJyk7XG4gICAgICAgICAgICBsZXQgaGV4ID0gbnVtYmVyVG9IZXhVbnBhZGRlZChudW0pO1xuICAgICAgICAgICAgLy8gUGFkIHdpdGggemVybyBieXRlIGlmIG5lZ2F0aXZlIGZsYWcgaXMgcHJlc2VudFxuICAgICAgICAgICAgaWYgKE51bWJlci5wYXJzZUludChoZXhbMF0sIDE2KSAmIDBiMTAwMClcbiAgICAgICAgICAgICAgICBoZXggPSAnMDAnICsgaGV4O1xuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggJiAxKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd1bmV4cGVjdGVkIERFUiBwYXJzaW5nIGFzc2VydGlvbjogdW5wYWRkZWQgaGV4Jyk7XG4gICAgICAgICAgICByZXR1cm4gaGV4O1xuICAgICAgICB9LFxuICAgICAgICBkZWNvZGUoZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgeyBFcnI6IEUgfSA9IERFUjtcbiAgICAgICAgICAgIGlmIChkYXRhWzBdICYgMTI4KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnZhbGlkIHNpZ25hdHVyZSBpbnRlZ2VyOiBuZWdhdGl2ZScpO1xuICAgICAgICAgICAgaWYgKGRhdGFbMF0gPT09IDB4MDAgJiYgIShkYXRhWzFdICYgMTI4KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgnaW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogdW5uZWNlc3NhcnkgbGVhZGluZyB6ZXJvJyk7XG4gICAgICAgICAgICByZXR1cm4gYnl0ZXNUb051bWJlckJFKGRhdGEpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgdG9TaWcoaGV4KSB7XG4gICAgICAgIC8vIHBhcnNlIERFUiBzaWduYXR1cmVcbiAgICAgICAgY29uc3QgeyBFcnI6IEUsIF9pbnQ6IGludCwgX3RsdjogdGx2IH0gPSBERVI7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBlbnN1cmVCeXRlcygnc2lnbmF0dXJlJywgaGV4KTtcbiAgICAgICAgY29uc3QgeyB2OiBzZXFCeXRlcywgbDogc2VxTGVmdEJ5dGVzIH0gPSB0bHYuZGVjb2RlKDB4MzAsIGRhdGEpO1xuICAgICAgICBpZiAoc2VxTGVmdEJ5dGVzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nJyk7XG4gICAgICAgIGNvbnN0IHsgdjogckJ5dGVzLCBsOiByTGVmdEJ5dGVzIH0gPSB0bHYuZGVjb2RlKDB4MDIsIHNlcUJ5dGVzKTtcbiAgICAgICAgY29uc3QgeyB2OiBzQnl0ZXMsIGw6IHNMZWZ0Qnl0ZXMgfSA9IHRsdi5kZWNvZGUoMHgwMiwgckxlZnRCeXRlcyk7XG4gICAgICAgIGlmIChzTGVmdEJ5dGVzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nJyk7XG4gICAgICAgIHJldHVybiB7IHI6IGludC5kZWNvZGUockJ5dGVzKSwgczogaW50LmRlY29kZShzQnl0ZXMpIH07XG4gICAgfSxcbiAgICBoZXhGcm9tU2lnKHNpZykge1xuICAgICAgICBjb25zdCB7IF90bHY6IHRsdiwgX2ludDogaW50IH0gPSBERVI7XG4gICAgICAgIGNvbnN0IHJzID0gdGx2LmVuY29kZSgweDAyLCBpbnQuZW5jb2RlKHNpZy5yKSk7XG4gICAgICAgIGNvbnN0IHNzID0gdGx2LmVuY29kZSgweDAyLCBpbnQuZW5jb2RlKHNpZy5zKSk7XG4gICAgICAgIGNvbnN0IHNlcSA9IHJzICsgc3M7XG4gICAgICAgIHJldHVybiB0bHYuZW5jb2RlKDB4MzAsIHNlcSk7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBudW1Ub1NpemVkSGV4KG51bSwgc2l6ZSkge1xuICAgIHJldHVybiBieXRlc1RvSGV4KG51bWJlclRvQnl0ZXNCRShudW0sIHNpemUpKTtcbn1cbi8vIEJlIGZyaWVuZGx5IHRvIGJhZCBFQ01BU2NyaXB0IHBhcnNlcnMgYnkgbm90IHVzaW5nIGJpZ2ludCBsaXRlcmFsc1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBfMG4gPSBCaWdJbnQoMCksIF8xbiA9IEJpZ0ludCgxKSwgXzJuID0gQmlnSW50KDIpLCBfM24gPSBCaWdJbnQoMyksIF80biA9IEJpZ0ludCg0KTtcbmV4cG9ydCBmdW5jdGlvbiB3ZWllcnN0cmFzc1BvaW50cyhvcHRzKSB7XG4gICAgY29uc3QgQ1VSVkUgPSB2YWxpZGF0ZVBvaW50T3B0cyhvcHRzKTtcbiAgICBjb25zdCB7IEZwIH0gPSBDVVJWRTsgLy8gQWxsIGN1cnZlcyBoYXMgc2FtZSBmaWVsZCAvIGdyb3VwIGxlbmd0aCBhcyBmb3Igbm93LCBidXQgdGhleSBjYW4gZGlmZmVyXG4gICAgY29uc3QgRm4gPSBGaWVsZChDVVJWRS5uLCBDVVJWRS5uQml0TGVuZ3RoKTtcbiAgICBjb25zdCB0b0J5dGVzID0gQ1VSVkUudG9CeXRlcyB8fFxuICAgICAgICAoKF9jLCBwb2ludCwgX2lzQ29tcHJlc3NlZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYSA9IHBvaW50LnRvQWZmaW5lKCk7XG4gICAgICAgICAgICByZXR1cm4gY29uY2F0Qnl0ZXMoVWludDhBcnJheS5mcm9tKFsweDA0XSksIEZwLnRvQnl0ZXMoYS54KSwgRnAudG9CeXRlcyhhLnkpKTtcbiAgICAgICAgfSk7XG4gICAgY29uc3QgZnJvbUJ5dGVzID0gQ1VSVkUuZnJvbUJ5dGVzIHx8XG4gICAgICAgICgoYnl0ZXMpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnN0IGhlYWQgPSBieXRlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBieXRlcy5zdWJhcnJheSgxKTtcbiAgICAgICAgICAgIC8vIGlmIChoZWFkICE9PSAweDA0KSB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgbm9uLWNvbXByZXNzZWQgZW5jb2RpbmcgaXMgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICBjb25zdCB4ID0gRnAuZnJvbUJ5dGVzKHRhaWwuc3ViYXJyYXkoMCwgRnAuQllURVMpKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBGcC5mcm9tQnl0ZXModGFpbC5zdWJhcnJheShGcC5CWVRFUywgMiAqIEZwLkJZVEVTKSk7XG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgICAgIH0pO1xuICAgIC8qKlxuICAgICAqIHnCsiA9IHjCsyArIGF4ICsgYjogU2hvcnQgd2VpZXJzdHJhc3MgY3VydmUgZm9ybXVsYS4gVGFrZXMgeCwgcmV0dXJucyB5wrIuXG4gICAgICogQHJldHVybnMgecKyXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2VpZXJzdHJhc3NFcXVhdGlvbih4KSB7XG4gICAgICAgIGNvbnN0IHsgYSwgYiB9ID0gQ1VSVkU7XG4gICAgICAgIGNvbnN0IHgyID0gRnAuc3FyKHgpOyAvLyB4ICogeFxuICAgICAgICBjb25zdCB4MyA9IEZwLm11bCh4MiwgeCk7IC8vIHjCsiAqIHhcbiAgICAgICAgcmV0dXJuIEZwLmFkZChGcC5hZGQoeDMsIEZwLm11bCh4LCBhKSksIGIpOyAvLyB4wrMgKyBhICogeCArIGJcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZFhZKHgsIHkpIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IEZwLnNxcih5KTsgLy8gecKyXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gd2VpZXJzdHJhc3NFcXVhdGlvbih4KTsgLy8geMKzICsgYXggKyBiXG4gICAgICAgIHJldHVybiBGcC5lcWwobGVmdCwgcmlnaHQpO1xuICAgIH1cbiAgICAvLyBWYWxpZGF0ZSB3aGV0aGVyIHRoZSBwYXNzZWQgY3VydmUgcGFyYW1zIGFyZSB2YWxpZC5cbiAgICAvLyBUZXN0IDE6IGVxdWF0aW9uIHnCsiA9IHjCsyArIGF4ICsgYiBzaG91bGQgd29yayBmb3IgZ2VuZXJhdG9yIHBvaW50LlxuICAgIGlmICghaXNWYWxpZFhZKENVUlZFLkd4LCBDVVJWRS5HeSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGN1cnZlIHBhcmFtczogZ2VuZXJhdG9yIHBvaW50Jyk7XG4gICAgLy8gVGVzdCAyOiBkaXNjcmltaW5hbnQgzpQgcGFydCBzaG91bGQgYmUgbm9uLXplcm86IDRhwrMgKyAyN2LCsiAhPSAwLlxuICAgIC8vIEd1YXJhbnRlZXMgY3VydmUgaXMgZ2VudXMtMSwgc21vb3RoIChub24tc2luZ3VsYXIpLlxuICAgIGNvbnN0IF80YTMgPSBGcC5tdWwoRnAucG93KENVUlZFLmEsIF8zbiksIF80bik7XG4gICAgY29uc3QgXzI3YjIgPSBGcC5tdWwoRnAuc3FyKENVUlZFLmIpLCBCaWdJbnQoMjcpKTtcbiAgICBpZiAoRnAuaXMwKEZwLmFkZChfNGEzLCBfMjdiMikpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjdXJ2ZSBwYXJhbXM6IGEgb3IgYicpO1xuICAgIC8vIFZhbGlkIGdyb3VwIGVsZW1lbnRzIHJlc2lkZSBpbiByYW5nZSAxLi5uLTFcbiAgICBmdW5jdGlvbiBpc1dpdGhpbkN1cnZlT3JkZXIobnVtKSB7XG4gICAgICAgIHJldHVybiBpblJhbmdlKG51bSwgXzFuLCBDVVJWRS5uKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGVzIGlmIHByaXYga2V5IGlzIHZhbGlkIGFuZCBjb252ZXJ0cyBpdCB0byBiaWdpbnQuXG4gICAgLy8gU3VwcG9ydHMgb3B0aW9ucyBhbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHMgYW5kIHdyYXBQcml2YXRlS2V5LlxuICAgIGZ1bmN0aW9uIG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIoa2V5KSB7XG4gICAgICAgIGNvbnN0IHsgYWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzOiBsZW5ndGhzLCBuQnl0ZUxlbmd0aCwgd3JhcFByaXZhdGVLZXksIG46IE4gfSA9IENVUlZFO1xuICAgICAgICBpZiAobGVuZ3RocyAmJiB0eXBlb2Yga2V5ICE9PSAnYmlnaW50Jykge1xuICAgICAgICAgICAgaWYgKGlzQnl0ZXMoa2V5KSlcbiAgICAgICAgICAgICAgICBrZXkgPSBieXRlc1RvSGV4KGtleSk7XG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgdG8gaGV4IHN0cmluZywgcGFkLiBFLmcuIFA1MjEgd291bGQgbm9ybSAxMzAtMTMyIGNoYXIgaGV4IHRvIDEzMi1jaGFyIGJ5dGVzXG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycgfHwgIWxlbmd0aHMuaW5jbHVkZXMoa2V5Lmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHByaXZhdGUga2V5Jyk7XG4gICAgICAgICAgICBrZXkgPSBrZXkucGFkU3RhcnQobkJ5dGVMZW5ndGggKiAyLCAnMCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBudW07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBudW0gPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBrZXkgPT09ICdiaWdpbnQnXG4gICAgICAgICAgICAgICAgICAgID8ga2V5XG4gICAgICAgICAgICAgICAgICAgIDogYnl0ZXNUb051bWJlckJFKGVuc3VyZUJ5dGVzKCdwcml2YXRlIGtleScsIGtleSwgbkJ5dGVMZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwcml2YXRlIGtleSwgZXhwZWN0ZWQgaGV4IG9yICcgKyBuQnl0ZUxlbmd0aCArICcgYnl0ZXMsIGdvdCAnICsgdHlwZW9mIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdyYXBQcml2YXRlS2V5KVxuICAgICAgICAgICAgbnVtID0gbW9kKG51bSwgTik7IC8vIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGVuYWJsZWQgZm9yIEJMU1xuICAgICAgICBhSW5SYW5nZSgncHJpdmF0ZSBrZXknLCBudW0sIF8xbiwgTik7IC8vIG51bSBpbiByYW5nZSBbMS4uTi0xXVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcHJqcG9pbnQob3RoZXIpIHtcbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBQb2ludCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2plY3RpdmVQb2ludCBleHBlY3RlZCcpO1xuICAgIH1cbiAgICAvLyBNZW1vaXplZCB0b0FmZmluZSAvIHZhbGlkaXR5IGNoZWNrLiBUaGV5IGFyZSBoZWF2eS4gUG9pbnRzIGFyZSBpbW11dGFibGUuXG4gICAgLy8gQ29udmVydHMgUHJvamVjdGl2ZSBwb2ludCB0byBhZmZpbmUgKHgsIHkpIGNvb3JkaW5hdGVzLlxuICAgIC8vIENhbiBhY2NlcHQgcHJlY29tcHV0ZWQgWl4tMSAtIGZvciBleGFtcGxlLCBmcm9tIGludmVydEJhdGNoLlxuICAgIC8vIChYLCBZLCBaKSDiiIsgKHg9WC9aLCB5PVkvWilcbiAgICBjb25zdCB0b0FmZmluZU1lbW8gPSBtZW1vaXplZCgocCwgaXopID0+IHtcbiAgICAgICAgY29uc3QgeyBweDogeCwgcHk6IHksIHB6OiB6IH0gPSBwO1xuICAgICAgICAvLyBGYXN0LXBhdGggZm9yIG5vcm1hbGl6ZWQgcG9pbnRzXG4gICAgICAgIGlmIChGcC5lcWwoeiwgRnAuT05FKSlcbiAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICAgICAgY29uc3QgaXMwID0gcC5pczAoKTtcbiAgICAgICAgLy8gSWYgaW52WiB3YXMgMCwgd2UgcmV0dXJuIHplcm8gcG9pbnQuIEhvd2V2ZXIgd2Ugc3RpbGwgd2FudCB0byBleGVjdXRlXG4gICAgICAgIC8vIGFsbCBvcGVyYXRpb25zLCBzbyB3ZSByZXBsYWNlIGludlogd2l0aCBhIHJhbmRvbSBudW1iZXIsIDEuXG4gICAgICAgIGlmIChpeiA9PSBudWxsKVxuICAgICAgICAgICAgaXogPSBpczAgPyBGcC5PTkUgOiBGcC5pbnYoeik7XG4gICAgICAgIGNvbnN0IGF4ID0gRnAubXVsKHgsIGl6KTtcbiAgICAgICAgY29uc3QgYXkgPSBGcC5tdWwoeSwgaXopO1xuICAgICAgICBjb25zdCB6eiA9IEZwLm11bCh6LCBpeik7XG4gICAgICAgIGlmIChpczApXG4gICAgICAgICAgICByZXR1cm4geyB4OiBGcC5aRVJPLCB5OiBGcC5aRVJPIH07XG4gICAgICAgIGlmICghRnAuZXFsKHp6LCBGcC5PTkUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZaIHdhcyBpbnZhbGlkJyk7XG4gICAgICAgIHJldHVybiB7IHg6IGF4LCB5OiBheSB9O1xuICAgIH0pO1xuICAgIC8vIE5PVEU6IG9uIGV4Y2VwdGlvbiB0aGlzIHdpbGwgY3Jhc2ggJ2NhY2hlZCcgYW5kIG5vIHZhbHVlIHdpbGwgYmUgc2V0LlxuICAgIC8vIE90aGVyd2lzZSB0cnVlIHdpbGwgYmUgcmV0dXJuXG4gICAgY29uc3QgYXNzZXJ0VmFsaWRNZW1vID0gbWVtb2l6ZWQoKHApID0+IHtcbiAgICAgICAgaWYgKHAuaXMwKCkpIHtcbiAgICAgICAgICAgIC8vICgwLCAxLCAwKSBha2EgWkVSTyBpcyBpbnZhbGlkIGluIG1vc3QgY29udGV4dHMuXG4gICAgICAgICAgICAvLyBJbiBCTFMsIFpFUk8gY2FuIGJlIHNlcmlhbGl6ZWQsIHNvIHdlIGFsbG93IGl0LlxuICAgICAgICAgICAgLy8gKDAsIDAsIDApIGlzIGludmFsaWQgcmVwcmVzZW50YXRpb24gb2YgWkVSTy5cbiAgICAgICAgICAgIGlmIChDVVJWRS5hbGxvd0luZmluaXR5UG9pbnQgJiYgIUZwLmlzMChwLnB5KSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb2ludDogWkVSTycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvbWUgM3JkLXBhcnR5IHRlc3QgdmVjdG9ycyByZXF1aXJlIGRpZmZlcmVudCB3b3JkaW5nIGJldHdlZW4gaGVyZSAmIGBmcm9tQ29tcHJlc3NlZEhleGBcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBwLnRvQWZmaW5lKCk7XG4gICAgICAgIC8vIENoZWNrIGlmIHgsIHkgYXJlIHZhbGlkIGZpZWxkIGVsZW1lbnRzXG4gICAgICAgIGlmICghRnAuaXNWYWxpZCh4KSB8fCAhRnAuaXNWYWxpZCh5KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIHBvaW50OiB4IG9yIHkgbm90IEZFJyk7XG4gICAgICAgIGlmICghaXNWYWxpZFhZKHgsIHkpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHQnKTtcbiAgICAgICAgaWYgKCFwLmlzVG9yc2lvbkZyZWUoKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIHBvaW50OiBub3QgaW4gcHJpbWUtb3JkZXIgc3ViZ3JvdXAnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUHJvamVjdGl2ZSBQb2ludCB3b3JrcyBpbiAzZCAvIHByb2plY3RpdmUgKGhvbW9nZW5lb3VzKSBjb29yZGluYXRlczogKFgsIFksIFopIOKIiyAoeD1YL1osIHk9WS9aKVxuICAgICAqIERlZmF1bHQgUG9pbnQgd29ya3MgaW4gMmQgLyBhZmZpbmUgY29vcmRpbmF0ZXM6ICh4LCB5KVxuICAgICAqIFdlJ3JlIGRvaW5nIGNhbGN1bGF0aW9ucyBpbiBwcm9qZWN0aXZlLCBiZWNhdXNlIGl0cyBvcGVyYXRpb25zIGRvbid0IHJlcXVpcmUgY29zdGx5IGludmVyc2lvbi5cbiAgICAgKi9cbiAgICBjbGFzcyBQb2ludCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHB4LCBweSwgcHopIHtcbiAgICAgICAgICAgIGlmIChweCA9PSBudWxsIHx8ICFGcC5pc1ZhbGlkKHB4KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ggcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIGlmIChweSA9PSBudWxsIHx8ICFGcC5pc1ZhbGlkKHB5KSB8fCBGcC5pczAocHkpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigneSByZXF1aXJlZCcpO1xuICAgICAgICAgICAgaWYgKHB6ID09IG51bGwgfHwgIUZwLmlzVmFsaWQocHopKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigneiByZXF1aXJlZCcpO1xuICAgICAgICAgICAgdGhpcy5weCA9IHB4O1xuICAgICAgICAgICAgdGhpcy5weSA9IHB5O1xuICAgICAgICAgICAgdGhpcy5weiA9IHB6O1xuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEb2VzIG5vdCB2YWxpZGF0ZSBpZiB0aGUgcG9pbnQgaXMgb24tY3VydmUuXG4gICAgICAgIC8vIFVzZSBmcm9tSGV4IGluc3RlYWQsIG9yIGNhbGwgYXNzZXJ0VmFsaWRpdHkoKSBsYXRlci5cbiAgICAgICAgc3RhdGljIGZyb21BZmZpbmUocCkge1xuICAgICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBwIHx8IHt9O1xuICAgICAgICAgICAgaWYgKCFwIHx8ICFGcC5pc1ZhbGlkKHgpIHx8ICFGcC5pc1ZhbGlkKHkpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBhZmZpbmUgcG9pbnQnKTtcbiAgICAgICAgICAgIGlmIChwIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9qZWN0aXZlIHBvaW50IG5vdCBhbGxvd2VkJyk7XG4gICAgICAgICAgICBjb25zdCBpczAgPSAoaSkgPT4gRnAuZXFsKGksIEZwLlpFUk8pO1xuICAgICAgICAgICAgLy8gZnJvbUFmZmluZSh4OjAsIHk6MCkgd291bGQgcHJvZHVjZSAoeDowLCB5OjAsIHo6MSksIGJ1dCB3ZSBuZWVkICh4OjAsIHk6MSwgejowKVxuICAgICAgICAgICAgaWYgKGlzMCh4KSAmJiBpczAoeSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBvaW50LlpFUk87XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHksIEZwLk9ORSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0FmZmluZSgpLng7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0FmZmluZSgpLnk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRha2VzIGEgYnVuY2ggb2YgUHJvamVjdGl2ZSBQb2ludHMgYnV0IGV4ZWN1dGVzIG9ubHkgb25lXG4gICAgICAgICAqIGludmVyc2lvbiBvbiBhbGwgb2YgdGhlbS4gSW52ZXJzaW9uIGlzIHZlcnkgc2xvdyBvcGVyYXRpb24sXG4gICAgICAgICAqIHNvIHRoaXMgaW1wcm92ZXMgcGVyZm9ybWFuY2UgbWFzc2l2ZWx5LlxuICAgICAgICAgKiBPcHRpbWl6YXRpb246IGNvbnZlcnRzIGEgbGlzdCBvZiBwcm9qZWN0aXZlIHBvaW50cyB0byBhIGxpc3Qgb2YgaWRlbnRpY2FsIHBvaW50cyB3aXRoIFo9MS5cbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBub3JtYWxpemVaKHBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgdG9JbnYgPSBGcEludmVydEJhdGNoKEZwLCBwb2ludHMubWFwKChwKSA9PiBwLnB6KSk7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnRzLm1hcCgocCwgaSkgPT4gcC50b0FmZmluZSh0b0ludltpXSkpLm1hcChQb2ludC5mcm9tQWZmaW5lKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgaGFzaCBzdHJpbmcgb3IgVWludDhBcnJheSB0byBQb2ludC5cbiAgICAgICAgICogQHBhcmFtIGhleCBzaG9ydC9sb25nIEVDRFNBIGhleFxuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIGZyb21IZXgoaGV4KSB7XG4gICAgICAgICAgICBjb25zdCBQID0gUG9pbnQuZnJvbUFmZmluZShmcm9tQnl0ZXMoZW5zdXJlQnl0ZXMoJ3BvaW50SGV4JywgaGV4KSkpO1xuICAgICAgICAgICAgUC5hc3NlcnRWYWxpZGl0eSgpO1xuICAgICAgICAgICAgcmV0dXJuIFA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTXVsdGlwbGllcyBnZW5lcmF0b3IgcG9pbnQgYnkgcHJpdmF0ZUtleS5cbiAgICAgICAgc3RhdGljIGZyb21Qcml2YXRlS2V5KHByaXZhdGVLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBQb2ludC5CQVNFLm11bHRpcGx5KG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIocHJpdmF0ZUtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE11bHRpc2NhbGFyIE11bHRpcGxpY2F0aW9uXG4gICAgICAgIHN0YXRpYyBtc20ocG9pbnRzLCBzY2FsYXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gcGlwcGVuZ2VyKFBvaW50LCBGbiwgcG9pbnRzLCBzY2FsYXJzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBcIlByaXZhdGUgbWV0aG9kXCIsIGRvbid0IHVzZSBpdCBkaXJlY3RseVxuICAgICAgICBfc2V0V2luZG93U2l6ZSh3aW5kb3dTaXplKSB7XG4gICAgICAgICAgICB3bmFmLnNldFdpbmRvd1NpemUodGhpcywgd2luZG93U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBwb2ludCBvbiBjdXJ2ZSBpcyB2YWxpZCBpZiBpdCBjb25mb3JtcyB0byBlcXVhdGlvbi5cbiAgICAgICAgYXNzZXJ0VmFsaWRpdHkoKSB7XG4gICAgICAgICAgICBhc3NlcnRWYWxpZE1lbW8odGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzRXZlblkoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHkgfSA9IHRoaXMudG9BZmZpbmUoKTtcbiAgICAgICAgICAgIGlmIChGcC5pc09kZClcbiAgICAgICAgICAgICAgICByZXR1cm4gIUZwLmlzT2RkKHkpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgZG9lc24ndCBzdXBwb3J0IGlzT2RkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXJlIG9uZSBwb2ludCB0byBhbm90aGVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgICAgICBhcHJqcG9pbnQob3RoZXIpO1xuICAgICAgICAgICAgY29uc3QgeyBweDogWDEsIHB5OiBZMSwgcHo6IFoxIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBweDogWDIsIHB5OiBZMiwgcHo6IFoyIH0gPSBvdGhlcjtcbiAgICAgICAgICAgIGNvbnN0IFUxID0gRnAuZXFsKEZwLm11bChYMSwgWjIpLCBGcC5tdWwoWDIsIFoxKSk7XG4gICAgICAgICAgICBjb25zdCBVMiA9IEZwLmVxbChGcC5tdWwoWTEsIFoyKSwgRnAubXVsKFkyLCBaMSkpO1xuICAgICAgICAgICAgcmV0dXJuIFUxICYmIFUyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGlwcyBwb2ludCB0byBvbmUgY29ycmVzcG9uZGluZyB0byAoeCwgLXkpIGluIEFmZmluZSBjb29yZGluYXRlcy5cbiAgICAgICAgICovXG4gICAgICAgIG5lZ2F0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5weCwgRnAubmVnKHRoaXMucHkpLCB0aGlzLnB6KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW5lcy1Db3N0ZWxsby1CYXRpbmEgZXhjZXB0aW9uLWZyZWUgZG91YmxpbmcgZm9ybXVsYS5cbiAgICAgICAgLy8gVGhlcmUgaXMgMzAlIGZhc3RlciBKYWNvYmlhbiBmb3JtdWxhLCBidXQgaXQgaXMgbm90IGNvbXBsZXRlLlxuICAgICAgICAvLyBodHRwczovL2VwcmludC5pYWNyLm9yZy8yMDE1LzEwNjAsIGFsZ29yaXRobSAzXG4gICAgICAgIC8vIENvc3Q6IDhNICsgM1MgKyAzKmEgKyAyKmIzICsgMTVhZGQuXG4gICAgICAgIGRvdWJsZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYSwgYiB9ID0gQ1VSVkU7XG4gICAgICAgICAgICBjb25zdCBiMyA9IEZwLm11bChiLCBfM24pO1xuICAgICAgICAgICAgY29uc3QgeyBweDogWDEsIHB5OiBZMSwgcHo6IFoxIH0gPSB0aGlzO1xuICAgICAgICAgICAgbGV0IFgzID0gRnAuWkVSTywgWTMgPSBGcC5aRVJPLCBaMyA9IEZwLlpFUk87IC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgbGV0IHQwID0gRnAubXVsKFgxLCBYMSk7IC8vIHN0ZXAgMVxuICAgICAgICAgICAgbGV0IHQxID0gRnAubXVsKFkxLCBZMSk7XG4gICAgICAgICAgICBsZXQgdDIgPSBGcC5tdWwoWjEsIFoxKTtcbiAgICAgICAgICAgIGxldCB0MyA9IEZwLm11bChYMSwgWTEpO1xuICAgICAgICAgICAgdDMgPSBGcC5hZGQodDMsIHQzKTsgLy8gc3RlcCA1XG4gICAgICAgICAgICBaMyA9IEZwLm11bChYMSwgWjEpO1xuICAgICAgICAgICAgWjMgPSBGcC5hZGQoWjMsIFozKTtcbiAgICAgICAgICAgIFgzID0gRnAubXVsKGEsIFozKTtcbiAgICAgICAgICAgIFkzID0gRnAubXVsKGIzLCB0Mik7XG4gICAgICAgICAgICBZMyA9IEZwLmFkZChYMywgWTMpOyAvLyBzdGVwIDEwXG4gICAgICAgICAgICBYMyA9IEZwLnN1Yih0MSwgWTMpO1xuICAgICAgICAgICAgWTMgPSBGcC5hZGQodDEsIFkzKTtcbiAgICAgICAgICAgIFkzID0gRnAubXVsKFgzLCBZMyk7XG4gICAgICAgICAgICBYMyA9IEZwLm11bCh0MywgWDMpO1xuICAgICAgICAgICAgWjMgPSBGcC5tdWwoYjMsIFozKTsgLy8gc3RlcCAxNVxuICAgICAgICAgICAgdDIgPSBGcC5tdWwoYSwgdDIpO1xuICAgICAgICAgICAgdDMgPSBGcC5zdWIodDAsIHQyKTtcbiAgICAgICAgICAgIHQzID0gRnAubXVsKGEsIHQzKTtcbiAgICAgICAgICAgIHQzID0gRnAuYWRkKHQzLCBaMyk7XG4gICAgICAgICAgICBaMyA9IEZwLmFkZCh0MCwgdDApOyAvLyBzdGVwIDIwXG4gICAgICAgICAgICB0MCA9IEZwLmFkZChaMywgdDApO1xuICAgICAgICAgICAgdDAgPSBGcC5hZGQodDAsIHQyKTtcbiAgICAgICAgICAgIHQwID0gRnAubXVsKHQwLCB0Myk7XG4gICAgICAgICAgICBZMyA9IEZwLmFkZChZMywgdDApO1xuICAgICAgICAgICAgdDIgPSBGcC5tdWwoWTEsIFoxKTsgLy8gc3RlcCAyNVxuICAgICAgICAgICAgdDIgPSBGcC5hZGQodDIsIHQyKTtcbiAgICAgICAgICAgIHQwID0gRnAubXVsKHQyLCB0Myk7XG4gICAgICAgICAgICBYMyA9IEZwLnN1YihYMywgdDApO1xuICAgICAgICAgICAgWjMgPSBGcC5tdWwodDIsIHQxKTtcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFozLCBaMyk7IC8vIHN0ZXAgMzBcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFozLCBaMyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KFgzLCBZMywgWjMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmVzLUNvc3RlbGxvLUJhdGluYSBleGNlcHRpb24tZnJlZSBhZGRpdGlvbiBmb3JtdWxhLlxuICAgICAgICAvLyBUaGVyZSBpcyAzMCUgZmFzdGVyIEphY29iaWFuIGZvcm11bGEsIGJ1dCBpdCBpcyBub3QgY29tcGxldGUuXG4gICAgICAgIC8vIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMTUvMTA2MCwgYWxnb3JpdGhtIDFcbiAgICAgICAgLy8gQ29zdDogMTJNICsgMFMgKyAzKmEgKyAzKmIzICsgMjNhZGQuXG4gICAgICAgIGFkZChvdGhlcikge1xuICAgICAgICAgICAgYXByanBvaW50KG90aGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHg6IFgxLCBweTogWTEsIHB6OiBaMSB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgcHg6IFgyLCBweTogWTIsIHB6OiBaMiB9ID0gb3RoZXI7XG4gICAgICAgICAgICBsZXQgWDMgPSBGcC5aRVJPLCBZMyA9IEZwLlpFUk8sIFozID0gRnAuWkVSTzsgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICBjb25zdCBhID0gQ1VSVkUuYTtcbiAgICAgICAgICAgIGNvbnN0IGIzID0gRnAubXVsKENVUlZFLmIsIF8zbik7XG4gICAgICAgICAgICBsZXQgdDAgPSBGcC5tdWwoWDEsIFgyKTsgLy8gc3RlcCAxXG4gICAgICAgICAgICBsZXQgdDEgPSBGcC5tdWwoWTEsIFkyKTtcbiAgICAgICAgICAgIGxldCB0MiA9IEZwLm11bChaMSwgWjIpO1xuICAgICAgICAgICAgbGV0IHQzID0gRnAuYWRkKFgxLCBZMSk7XG4gICAgICAgICAgICBsZXQgdDQgPSBGcC5hZGQoWDIsIFkyKTsgLy8gc3RlcCA1XG4gICAgICAgICAgICB0MyA9IEZwLm11bCh0MywgdDQpO1xuICAgICAgICAgICAgdDQgPSBGcC5hZGQodDAsIHQxKTtcbiAgICAgICAgICAgIHQzID0gRnAuc3ViKHQzLCB0NCk7XG4gICAgICAgICAgICB0NCA9IEZwLmFkZChYMSwgWjEpO1xuICAgICAgICAgICAgbGV0IHQ1ID0gRnAuYWRkKFgyLCBaMik7IC8vIHN0ZXAgMTBcbiAgICAgICAgICAgIHQ0ID0gRnAubXVsKHQ0LCB0NSk7XG4gICAgICAgICAgICB0NSA9IEZwLmFkZCh0MCwgdDIpO1xuICAgICAgICAgICAgdDQgPSBGcC5zdWIodDQsIHQ1KTtcbiAgICAgICAgICAgIHQ1ID0gRnAuYWRkKFkxLCBaMSk7XG4gICAgICAgICAgICBYMyA9IEZwLmFkZChZMiwgWjIpOyAvLyBzdGVwIDE1XG4gICAgICAgICAgICB0NSA9IEZwLm11bCh0NSwgWDMpO1xuICAgICAgICAgICAgWDMgPSBGcC5hZGQodDEsIHQyKTtcbiAgICAgICAgICAgIHQ1ID0gRnAuc3ViKHQ1LCBYMyk7XG4gICAgICAgICAgICBaMyA9IEZwLm11bChhLCB0NCk7XG4gICAgICAgICAgICBYMyA9IEZwLm11bChiMywgdDIpOyAvLyBzdGVwIDIwXG4gICAgICAgICAgICBaMyA9IEZwLmFkZChYMywgWjMpO1xuICAgICAgICAgICAgWDMgPSBGcC5zdWIodDEsIFozKTtcbiAgICAgICAgICAgIFozID0gRnAuYWRkKHQxLCBaMyk7XG4gICAgICAgICAgICBZMyA9IEZwLm11bChYMywgWjMpO1xuICAgICAgICAgICAgdDEgPSBGcC5hZGQodDAsIHQwKTsgLy8gc3RlcCAyNVxuICAgICAgICAgICAgdDEgPSBGcC5hZGQodDEsIHQwKTtcbiAgICAgICAgICAgIHQyID0gRnAubXVsKGEsIHQyKTtcbiAgICAgICAgICAgIHQ0ID0gRnAubXVsKGIzLCB0NCk7XG4gICAgICAgICAgICB0MSA9IEZwLmFkZCh0MSwgdDIpO1xuICAgICAgICAgICAgdDIgPSBGcC5zdWIodDAsIHQyKTsgLy8gc3RlcCAzMFxuICAgICAgICAgICAgdDIgPSBGcC5tdWwoYSwgdDIpO1xuICAgICAgICAgICAgdDQgPSBGcC5hZGQodDQsIHQyKTtcbiAgICAgICAgICAgIHQwID0gRnAubXVsKHQxLCB0NCk7XG4gICAgICAgICAgICBZMyA9IEZwLmFkZChZMywgdDApO1xuICAgICAgICAgICAgdDAgPSBGcC5tdWwodDUsIHQ0KTsgLy8gc3RlcCAzNVxuICAgICAgICAgICAgWDMgPSBGcC5tdWwodDMsIFgzKTtcbiAgICAgICAgICAgIFgzID0gRnAuc3ViKFgzLCB0MCk7XG4gICAgICAgICAgICB0MCA9IEZwLm11bCh0MywgdDEpO1xuICAgICAgICAgICAgWjMgPSBGcC5tdWwodDUsIFozKTtcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFozLCB0MCk7IC8vIHN0ZXAgNDBcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoWDMsIFkzLCBaMyk7XG4gICAgICAgIH1cbiAgICAgICAgc3VidHJhY3Qob3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChvdGhlci5uZWdhdGUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaXMwKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXF1YWxzKFBvaW50LlpFUk8pO1xuICAgICAgICB9XG4gICAgICAgIHdOQUYobikge1xuICAgICAgICAgICAgcmV0dXJuIHduYWYud05BRkNhY2hlZCh0aGlzLCBuLCBQb2ludC5ub3JtYWxpemVaKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTm9uLWNvbnN0YW50LXRpbWUgbXVsdGlwbGljYXRpb24uIFVzZXMgZG91YmxlLWFuZC1hZGQgYWxnb3JpdGhtLlxuICAgICAgICAgKiBJdCdzIGZhc3RlciwgYnV0IHNob3VsZCBvbmx5IGJlIHVzZWQgd2hlbiB5b3UgZG9uJ3QgY2FyZSBhYm91dFxuICAgICAgICAgKiBhbiBleHBvc2VkIHByaXZhdGUga2V5IGUuZy4gc2lnIHZlcmlmaWNhdGlvbiwgd2hpY2ggd29ya3Mgb3ZlciAqcHVibGljKiBrZXlzLlxuICAgICAgICAgKi9cbiAgICAgICAgbXVsdGlwbHlVbnNhZmUoc2MpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZW5kbywgbjogTiB9ID0gQ1VSVkU7XG4gICAgICAgICAgICBhSW5SYW5nZSgnc2NhbGFyJywgc2MsIF8wbiwgTik7XG4gICAgICAgICAgICBjb25zdCBJID0gUG9pbnQuWkVSTztcbiAgICAgICAgICAgIGlmIChzYyA9PT0gXzBuKVxuICAgICAgICAgICAgICAgIHJldHVybiBJO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXMwKCkgfHwgc2MgPT09IF8xbilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIC8vIENhc2UgYTogbm8gZW5kb21vcnBoaXNtLiBDYXNlIGI6IGhhcyBwcmVjb21wdXRlcy5cbiAgICAgICAgICAgIGlmICghZW5kbyB8fCB3bmFmLmhhc1ByZWNvbXB1dGVzKHRoaXMpKVxuICAgICAgICAgICAgICAgIHJldHVybiB3bmFmLndOQUZDYWNoZWRVbnNhZmUodGhpcywgc2MsIFBvaW50Lm5vcm1hbGl6ZVopO1xuICAgICAgICAgICAgLy8gQ2FzZSBjOiBlbmRvbW9ycGhpc21cbiAgICAgICAgICAgIC8qKiBTZWUgZG9jcyBmb3Ige0BsaW5rIEVuZG9tb3JwaGlzbU9wdHN9ICovXG4gICAgICAgICAgICBsZXQgeyBrMW5lZywgazEsIGsybmVnLCBrMiB9ID0gZW5kby5zcGxpdFNjYWxhcihzYyk7XG4gICAgICAgICAgICBsZXQgazFwID0gSTtcbiAgICAgICAgICAgIGxldCBrMnAgPSBJO1xuICAgICAgICAgICAgbGV0IGQgPSB0aGlzO1xuICAgICAgICAgICAgd2hpbGUgKGsxID4gXzBuIHx8IGsyID4gXzBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGsxICYgXzFuKVxuICAgICAgICAgICAgICAgICAgICBrMXAgPSBrMXAuYWRkKGQpO1xuICAgICAgICAgICAgICAgIGlmIChrMiAmIF8xbilcbiAgICAgICAgICAgICAgICAgICAgazJwID0gazJwLmFkZChkKTtcbiAgICAgICAgICAgICAgICBkID0gZC5kb3VibGUoKTtcbiAgICAgICAgICAgICAgICBrMSA+Pj0gXzFuO1xuICAgICAgICAgICAgICAgIGsyID4+PSBfMW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoazFuZWcpXG4gICAgICAgICAgICAgICAgazFwID0gazFwLm5lZ2F0ZSgpO1xuICAgICAgICAgICAgaWYgKGsybmVnKVxuICAgICAgICAgICAgICAgIGsycCA9IGsycC5uZWdhdGUoKTtcbiAgICAgICAgICAgIGsycCA9IG5ldyBQb2ludChGcC5tdWwoazJwLnB4LCBlbmRvLmJldGEpLCBrMnAucHksIGsycC5weik7XG4gICAgICAgICAgICByZXR1cm4gazFwLmFkZChrMnApO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudCB0aW1lIG11bHRpcGxpY2F0aW9uLlxuICAgICAgICAgKiBVc2VzIHdOQUYgbWV0aG9kLiBXaW5kb3dlZCBtZXRob2QgbWF5IGJlIDEwJSBmYXN0ZXIsXG4gICAgICAgICAqIGJ1dCB0YWtlcyAyeCBsb25nZXIgdG8gZ2VuZXJhdGUgYW5kIGNvbnN1bWVzIDJ4IG1lbW9yeS5cbiAgICAgICAgICogVXNlcyBwcmVjb21wdXRlcyB3aGVuIGF2YWlsYWJsZS5cbiAgICAgICAgICogVXNlcyBlbmRvbW9ycGhpc20gZm9yIEtvYmxpdHogY3VydmVzLlxuICAgICAgICAgKiBAcGFyYW0gc2NhbGFyIGJ5IHdoaWNoIHRoZSBwb2ludCB3b3VsZCBiZSBtdWx0aXBsaWVkXG4gICAgICAgICAqIEByZXR1cm5zIE5ldyBwb2ludFxuICAgICAgICAgKi9cbiAgICAgICAgbXVsdGlwbHkoc2NhbGFyKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVuZG8sIG46IE4gfSA9IENVUlZFO1xuICAgICAgICAgICAgYUluUmFuZ2UoJ3NjYWxhcicsIHNjYWxhciwgXzFuLCBOKTtcbiAgICAgICAgICAgIGxldCBwb2ludCwgZmFrZTsgLy8gRmFrZSBwb2ludCBpcyB1c2VkIHRvIGNvbnN0LXRpbWUgbXVsdFxuICAgICAgICAgICAgLyoqIFNlZSBkb2NzIGZvciB7QGxpbmsgRW5kb21vcnBoaXNtT3B0c30gKi9cbiAgICAgICAgICAgIGlmIChlbmRvKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBrMW5lZywgazEsIGsybmVnLCBrMiB9ID0gZW5kby5zcGxpdFNjYWxhcihzY2FsYXIpO1xuICAgICAgICAgICAgICAgIGxldCB7IHA6IGsxcCwgZjogZjFwIH0gPSB0aGlzLndOQUYoazEpO1xuICAgICAgICAgICAgICAgIGxldCB7IHA6IGsycCwgZjogZjJwIH0gPSB0aGlzLndOQUYoazIpO1xuICAgICAgICAgICAgICAgIGsxcCA9IHduYWYuY29uc3RUaW1lTmVnYXRlKGsxbmVnLCBrMXApO1xuICAgICAgICAgICAgICAgIGsycCA9IHduYWYuY29uc3RUaW1lTmVnYXRlKGsybmVnLCBrMnApO1xuICAgICAgICAgICAgICAgIGsycCA9IG5ldyBQb2ludChGcC5tdWwoazJwLnB4LCBlbmRvLmJldGEpLCBrMnAucHksIGsycC5weik7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBrMXAuYWRkKGsycCk7XG4gICAgICAgICAgICAgICAgZmFrZSA9IGYxcC5hZGQoZjJwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcCwgZiB9ID0gdGhpcy53TkFGKHNjYWxhcik7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBwO1xuICAgICAgICAgICAgICAgIGZha2UgPSBmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIGB6YCBmb3IgYm90aCBwb2ludHMsIGJ1dCByZXR1cm4gb25seSByZWFsIG9uZVxuICAgICAgICAgICAgcmV0dXJuIFBvaW50Lm5vcm1hbGl6ZVooW3BvaW50LCBmYWtlXSlbMF07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVmZmljaWVudGx5IGNhbGN1bGF0ZSBgYVAgKyBiUWAuIFVuc2FmZSwgY2FuIGV4cG9zZSBwcml2YXRlIGtleSwgaWYgdXNlZCBpbmNvcnJlY3RseS5cbiAgICAgICAgICogTm90IHVzaW5nIFN0cmF1c3MtU2hhbWlyIHRyaWNrOiBwcmVjb21wdXRhdGlvbiB0YWJsZXMgYXJlIGZhc3Rlci5cbiAgICAgICAgICogVGhlIHRyaWNrIGNvdWxkIGJlIHVzZWZ1bCBpZiBib3RoIFAgYW5kIFEgYXJlIG5vdCBHIChub3QgaW4gb3VyIGNhc2UpLlxuICAgICAgICAgKiBAcmV0dXJucyBub24temVybyBhZmZpbmUgcG9pbnRcbiAgICAgICAgICovXG4gICAgICAgIG11bHRpcGx5QW5kQWRkVW5zYWZlKFEsIGEsIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IEcgPSBQb2ludC5CQVNFOyAvLyBObyBTdHJhdXNzLVNoYW1pciB0cmljazogd2UgaGF2ZSAxMCUgZmFzdGVyIEcgcHJlY29tcHV0ZXNcbiAgICAgICAgICAgIGNvbnN0IG11bCA9IChQLCBhIC8vIFNlbGVjdCBmYXN0ZXIgbXVsdGlwbHkoKSBtZXRob2RcbiAgICAgICAgICAgICkgPT4gKGEgPT09IF8wbiB8fCBhID09PSBfMW4gfHwgIVAuZXF1YWxzKEcpID8gUC5tdWx0aXBseVVuc2FmZShhKSA6IFAubXVsdGlwbHkoYSkpO1xuICAgICAgICAgICAgY29uc3Qgc3VtID0gbXVsKHRoaXMsIGEpLmFkZChtdWwoUSwgYikpO1xuICAgICAgICAgICAgcmV0dXJuIHN1bS5pczAoKSA/IHVuZGVmaW5lZCA6IHN1bTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb252ZXJ0cyBQcm9qZWN0aXZlIHBvaW50IHRvIGFmZmluZSAoeCwgeSkgY29vcmRpbmF0ZXMuXG4gICAgICAgIC8vIENhbiBhY2NlcHQgcHJlY29tcHV0ZWQgWl4tMSAtIGZvciBleGFtcGxlLCBmcm9tIGludmVydEJhdGNoLlxuICAgICAgICAvLyAoeCwgeSwgeikg4oiLICh4PXgveiwgeT15L3opXG4gICAgICAgIHRvQWZmaW5lKGl6KSB7XG4gICAgICAgICAgICByZXR1cm4gdG9BZmZpbmVNZW1vKHRoaXMsIGl6KTtcbiAgICAgICAgfVxuICAgICAgICBpc1RvcnNpb25GcmVlKCkge1xuICAgICAgICAgICAgY29uc3QgeyBoOiBjb2ZhY3RvciwgaXNUb3JzaW9uRnJlZSB9ID0gQ1VSVkU7XG4gICAgICAgICAgICBpZiAoY29mYWN0b3IgPT09IF8xbilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gTm8gc3ViZ3JvdXBzLCBhbHdheXMgdG9yc2lvbi1mcmVlXG4gICAgICAgICAgICBpZiAoaXNUb3JzaW9uRnJlZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNUb3JzaW9uRnJlZShQb2ludCwgdGhpcyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lzVG9yc2lvbkZyZWUoKSBoYXMgbm90IGJlZW4gZGVjbGFyZWQgZm9yIHRoZSBlbGxpcHRpYyBjdXJ2ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyQ29mYWN0b3IoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGg6IGNvZmFjdG9yLCBjbGVhckNvZmFjdG9yIH0gPSBDVVJWRTtcbiAgICAgICAgICAgIGlmIChjb2ZhY3RvciA9PT0gXzFuKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOyAvLyBGYXN0LXBhdGhcbiAgICAgICAgICAgIGlmIChjbGVhckNvZmFjdG9yKVxuICAgICAgICAgICAgICAgIHJldHVybiBjbGVhckNvZmFjdG9yKFBvaW50LCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5VW5zYWZlKENVUlZFLmgpO1xuICAgICAgICB9XG4gICAgICAgIHRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkID0gdHJ1ZSkge1xuICAgICAgICAgICAgYWJvb2woJ2lzQ29tcHJlc3NlZCcsIGlzQ29tcHJlc3NlZCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gdG9CeXRlcyhQb2ludCwgdGhpcywgaXNDb21wcmVzc2VkKTtcbiAgICAgICAgfVxuICAgICAgICB0b0hleChpc0NvbXByZXNzZWQgPSB0cnVlKSB7XG4gICAgICAgICAgICBhYm9vbCgnaXNDb21wcmVzc2VkJywgaXNDb21wcmVzc2VkKTtcbiAgICAgICAgICAgIHJldHVybiBieXRlc1RvSGV4KHRoaXMudG9SYXdCeXRlcyhpc0NvbXByZXNzZWQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBiYXNlIC8gZ2VuZXJhdG9yIHBvaW50XG4gICAgUG9pbnQuQkFTRSA9IG5ldyBQb2ludChDVVJWRS5HeCwgQ1VSVkUuR3ksIEZwLk9ORSk7XG4gICAgLy8gemVybyAvIGluZmluaXR5IC8gaWRlbnRpdHkgcG9pbnRcbiAgICBQb2ludC5aRVJPID0gbmV3IFBvaW50KEZwLlpFUk8sIEZwLk9ORSwgRnAuWkVSTyk7IC8vIDAsIDEsIDBcbiAgICBjb25zdCB7IGVuZG8sIG5CaXRMZW5ndGggfSA9IENVUlZFO1xuICAgIGNvbnN0IHduYWYgPSB3TkFGKFBvaW50LCBlbmRvID8gTWF0aC5jZWlsKG5CaXRMZW5ndGggLyAyKSA6IG5CaXRMZW5ndGgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIENVUlZFLFxuICAgICAgICBQcm9qZWN0aXZlUG9pbnQ6IFBvaW50LFxuICAgICAgICBub3JtUHJpdmF0ZUtleVRvU2NhbGFyLFxuICAgICAgICB3ZWllcnN0cmFzc0VxdWF0aW9uLFxuICAgICAgICBpc1dpdGhpbkN1cnZlT3JkZXIsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlT3B0cyhjdXJ2ZSkge1xuICAgIGNvbnN0IG9wdHMgPSB2YWxpZGF0ZUJhc2ljKGN1cnZlKTtcbiAgICB2YWxpZGF0ZU9iamVjdChvcHRzLCB7XG4gICAgICAgIGhhc2g6ICdoYXNoJyxcbiAgICAgICAgaG1hYzogJ2Z1bmN0aW9uJyxcbiAgICAgICAgcmFuZG9tQnl0ZXM6ICdmdW5jdGlvbicsXG4gICAgfSwge1xuICAgICAgICBiaXRzMmludDogJ2Z1bmN0aW9uJyxcbiAgICAgICAgYml0czJpbnRfbW9kTjogJ2Z1bmN0aW9uJyxcbiAgICAgICAgbG93UzogJ2Jvb2xlYW4nLFxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHsgbG93UzogdHJ1ZSwgLi4ub3B0cyB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBzaG9ydCB3ZWllcnN0cmFzcyBjdXJ2ZSBhbmQgRUNEU0Egc2lnbmF0dXJlIG1ldGhvZHMgZm9yIGl0LlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IEZpZWxkIH0gZnJvbSAnQG5vYmxlL2N1cnZlcy9hYnN0cmFjdC9tb2R1bGFyJztcbiAqIC8vIEJlZm9yZSB0aGF0LCBkZWZpbmUgQmlnSW50LXM6IGEsIGIsIHAsIG4sIEd4LCBHeVxuICogY29uc3QgY3VydmUgPSB3ZWllcnN0cmFzcyh7IGEsIGIsIEZwOiBGaWVsZChwKSwgbiwgR3gsIEd5LCBoOiAxbiB9KVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2VpZXJzdHJhc3MoY3VydmVEZWYpIHtcbiAgICBjb25zdCBDVVJWRSA9IHZhbGlkYXRlT3B0cyhjdXJ2ZURlZik7XG4gICAgY29uc3QgeyBGcCwgbjogQ1VSVkVfT1JERVIsIG5CeXRlTGVuZ3RoLCBuQml0TGVuZ3RoIH0gPSBDVVJWRTtcbiAgICBjb25zdCBjb21wcmVzc2VkTGVuID0gRnAuQllURVMgKyAxOyAvLyBlLmcuIDMzIGZvciAzMlxuICAgIGNvbnN0IHVuY29tcHJlc3NlZExlbiA9IDIgKiBGcC5CWVRFUyArIDE7IC8vIGUuZy4gNjUgZm9yIDMyXG4gICAgZnVuY3Rpb24gbW9kTihhKSB7XG4gICAgICAgIHJldHVybiBtb2QoYSwgQ1VSVkVfT1JERVIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnZOKGEpIHtcbiAgICAgICAgcmV0dXJuIGludmVydChhLCBDVVJWRV9PUkRFUik7XG4gICAgfVxuICAgIGNvbnN0IHsgUHJvamVjdGl2ZVBvaW50OiBQb2ludCwgbm9ybVByaXZhdGVLZXlUb1NjYWxhciwgd2VpZXJzdHJhc3NFcXVhdGlvbiwgaXNXaXRoaW5DdXJ2ZU9yZGVyLCB9ID0gd2VpZXJzdHJhc3NQb2ludHMoe1xuICAgICAgICAuLi5DVVJWRSxcbiAgICAgICAgdG9CeXRlcyhfYywgcG9pbnQsIGlzQ29tcHJlc3NlZCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IHBvaW50LnRvQWZmaW5lKCk7XG4gICAgICAgICAgICBjb25zdCB4ID0gRnAudG9CeXRlcyhhLngpO1xuICAgICAgICAgICAgY29uc3QgY2F0ID0gY29uY2F0Qnl0ZXM7XG4gICAgICAgICAgICBhYm9vbCgnaXNDb21wcmVzc2VkJywgaXNDb21wcmVzc2VkKTtcbiAgICAgICAgICAgIGlmIChpc0NvbXByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2F0KFVpbnQ4QXJyYXkuZnJvbShbcG9pbnQuaGFzRXZlblkoKSA/IDB4MDIgOiAweDAzXSksIHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhdChVaW50OEFycmF5LmZyb20oWzB4MDRdKSwgeCwgRnAudG9CeXRlcyhhLnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnJvbUJ5dGVzKGJ5dGVzKSB7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBieXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBoZWFkID0gYnl0ZXNbMF07XG4gICAgICAgICAgICBjb25zdCB0YWlsID0gYnl0ZXMuc3ViYXJyYXkoMSk7XG4gICAgICAgICAgICAvLyB0aGlzLmFzc2VydFZhbGlkaXR5KCkgaXMgZG9uZSBpbnNpZGUgb2YgZnJvbUhleFxuICAgICAgICAgICAgaWYgKGxlbiA9PT0gY29tcHJlc3NlZExlbiAmJiAoaGVhZCA9PT0gMHgwMiB8fCBoZWFkID09PSAweDAzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBieXRlc1RvTnVtYmVyQkUodGFpbCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpblJhbmdlKHgsIF8xbiwgRnAuT1JERVIpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BvaW50IGlzIG5vdCBvbiBjdXJ2ZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkyID0gd2VpZXJzdHJhc3NFcXVhdGlvbih4KTsgLy8gecKyID0geMKzICsgYXggKyBiXG4gICAgICAgICAgICAgICAgbGV0IHk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgeSA9IEZwLnNxcnQoeTIpOyAvLyB5ID0gecKyIF4gKHArMSkvNFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoc3FydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1ZmZpeCA9IHNxcnRFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gJzogJyArIHNxcnRFcnJvci5tZXNzYWdlIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9pbnQgaXMgbm90IG9uIGN1cnZlJyArIHN1ZmZpeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzWU9kZCA9ICh5ICYgXzFuKSA9PT0gXzFuO1xuICAgICAgICAgICAgICAgIC8vIEVDRFNBXG4gICAgICAgICAgICAgICAgY29uc3QgaXNIZWFkT2RkID0gKGhlYWQgJiAxKSA9PT0gMTtcbiAgICAgICAgICAgICAgICBpZiAoaXNIZWFkT2RkICE9PSBpc1lPZGQpXG4gICAgICAgICAgICAgICAgICAgIHkgPSBGcC5uZWcoeSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGVuID09PSB1bmNvbXByZXNzZWRMZW4gJiYgaGVhZCA9PT0gMHgwNCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBGcC5mcm9tQnl0ZXModGFpbC5zdWJhcnJheSgwLCBGcC5CWVRFUykpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBGcC5mcm9tQnl0ZXModGFpbC5zdWJhcnJheShGcC5CWVRFUywgMiAqIEZwLkJZVEVTKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2wgPSBjb21wcmVzc2VkTGVuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVsID0gdW5jb21wcmVzc2VkTGVuO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBQb2ludCwgZXhwZWN0ZWQgbGVuZ3RoIG9mICcgKyBjbCArICcsIG9yIHVuY29tcHJlc3NlZCAnICsgdWwgKyAnLCBnb3QgJyArIGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgZnVuY3Rpb24gaXNCaWdnZXJUaGFuSGFsZk9yZGVyKG51bWJlcikge1xuICAgICAgICBjb25zdCBIQUxGID0gQ1VSVkVfT1JERVIgPj4gXzFuO1xuICAgICAgICByZXR1cm4gbnVtYmVyID4gSEFMRjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplUyhzKSB7XG4gICAgICAgIHJldHVybiBpc0JpZ2dlclRoYW5IYWxmT3JkZXIocykgPyBtb2ROKC1zKSA6IHM7XG4gICAgfVxuICAgIC8vIHNsaWNlIGJ5dGVzIG51bVxuICAgIGNvbnN0IHNsY051bSA9IChiLCBmcm9tLCB0bykgPT4gYnl0ZXNUb051bWJlckJFKGIuc2xpY2UoZnJvbSwgdG8pKTtcbiAgICAvKipcbiAgICAgKiBFQ0RTQSBzaWduYXR1cmUgd2l0aCBpdHMgKHIsIHMpIHByb3BlcnRpZXMuIFN1cHBvcnRzIERFUiAmIGNvbXBhY3QgcmVwcmVzZW50YXRpb25zLlxuICAgICAqL1xuICAgIGNsYXNzIFNpZ25hdHVyZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHIsIHMsIHJlY292ZXJ5KSB7XG4gICAgICAgICAgICBhSW5SYW5nZSgncicsIHIsIF8xbiwgQ1VSVkVfT1JERVIpOyAvLyByIGluIFsxLi5OXVxuICAgICAgICAgICAgYUluUmFuZ2UoJ3MnLCBzLCBfMW4sIENVUlZFX09SREVSKTsgLy8gcyBpbiBbMS4uTl1cbiAgICAgICAgICAgIHRoaXMuciA9IHI7XG4gICAgICAgICAgICB0aGlzLnMgPSBzO1xuICAgICAgICAgICAgaWYgKHJlY292ZXJ5ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvdmVyeSA9IHJlY292ZXJ5O1xuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYWlyIChieXRlcyBvZiByLCBieXRlcyBvZiBzKVxuICAgICAgICBzdGF0aWMgZnJvbUNvbXBhY3QoaGV4KSB7XG4gICAgICAgICAgICBjb25zdCBsID0gbkJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBoZXggPSBlbnN1cmVCeXRlcygnY29tcGFjdFNpZ25hdHVyZScsIGhleCwgbCAqIDIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUoc2xjTnVtKGhleCwgMCwgbCksIHNsY051bShoZXgsIGwsIDIgKiBsKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gREVSIGVuY29kZWQgRUNEU0Egc2lnbmF0dXJlXG4gICAgICAgIC8vIGh0dHBzOi8vYml0Y29pbi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNTc2NDQvd2hhdC1hcmUtdGhlLXBhcnRzLW9mLWEtYml0Y29pbi10cmFuc2FjdGlvbi1pbnB1dC1zY3JpcHRcbiAgICAgICAgc3RhdGljIGZyb21ERVIoaGV4KSB7XG4gICAgICAgICAgICBjb25zdCB7IHIsIHMgfSA9IERFUi50b1NpZyhlbnN1cmVCeXRlcygnREVSJywgaGV4KSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpZ25hdHVyZShyLCBzKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHRvZG8gcmVtb3ZlXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqL1xuICAgICAgICBhc3NlcnRWYWxpZGl0eSgpIHsgfVxuICAgICAgICBhZGRSZWNvdmVyeUJpdChyZWNvdmVyeSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUodGhpcy5yLCB0aGlzLnMsIHJlY292ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZWNvdmVyUHVibGljS2V5KG1zZ0hhc2gpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgciwgcywgcmVjb3Zlcnk6IHJlYyB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IGggPSBiaXRzMmludF9tb2ROKGVuc3VyZUJ5dGVzKCdtc2dIYXNoJywgbXNnSGFzaCkpOyAvLyBUcnVuY2F0ZSBoYXNoXG4gICAgICAgICAgICBpZiAocmVjID09IG51bGwgfHwgIVswLCAxLCAyLCAzXS5pbmNsdWRlcyhyZWMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVjb3ZlcnkgaWQgaW52YWxpZCcpO1xuICAgICAgICAgICAgY29uc3QgcmFkaiA9IHJlYyA9PT0gMiB8fCByZWMgPT09IDMgPyByICsgQ1VSVkUubiA6IHI7XG4gICAgICAgICAgICBpZiAocmFkaiA+PSBGcC5PUkRFUilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlY292ZXJ5IGlkIDIgb3IgMyBpbnZhbGlkJyk7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXggPSAocmVjICYgMSkgPT09IDAgPyAnMDInIDogJzAzJztcbiAgICAgICAgICAgIGNvbnN0IFIgPSBQb2ludC5mcm9tSGV4KHByZWZpeCArIG51bVRvU2l6ZWRIZXgocmFkaiwgRnAuQllURVMpKTtcbiAgICAgICAgICAgIGNvbnN0IGlyID0gaW52TihyYWRqKTsgLy8gcl4tMVxuICAgICAgICAgICAgY29uc3QgdTEgPSBtb2ROKC1oICogaXIpOyAvLyAtaHJeLTFcbiAgICAgICAgICAgIGNvbnN0IHUyID0gbW9kTihzICogaXIpOyAvLyBzcl4tMVxuICAgICAgICAgICAgY29uc3QgUSA9IFBvaW50LkJBU0UubXVsdGlwbHlBbmRBZGRVbnNhZmUoUiwgdTEsIHUyKTsgLy8gKHNyXi0xKVItKGhyXi0xKUcgPSAtKGhyXi0xKUcgKyAoc3JeLTEpXG4gICAgICAgICAgICBpZiAoIVEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2ludCBhdCBpbmZpbmlmeScpOyAvLyB1bnNhZmUgaXMgZmluZTogbm8gcHJpdiBkYXRhIGxlYWtlZFxuICAgICAgICAgICAgUS5hc3NlcnRWYWxpZGl0eSgpO1xuICAgICAgICAgICAgcmV0dXJuIFE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2lnbmF0dXJlcyBzaG91bGQgYmUgbG93LXMsIHRvIHByZXZlbnQgbWFsbGVhYmlsaXR5LlxuICAgICAgICBoYXNIaWdoUygpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0JpZ2dlclRoYW5IYWxmT3JkZXIodGhpcy5zKTtcbiAgICAgICAgfVxuICAgICAgICBub3JtYWxpemVTKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFzSGlnaFMoKSA/IG5ldyBTaWduYXR1cmUodGhpcy5yLCBtb2ROKC10aGlzLnMpLCB0aGlzLnJlY292ZXJ5KSA6IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gREVSLWVuY29kZWRcbiAgICAgICAgdG9ERVJSYXdCeXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBoZXhUb0J5dGVzKHRoaXMudG9ERVJIZXgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9ERVJIZXgoKSB7XG4gICAgICAgICAgICByZXR1cm4gREVSLmhleEZyb21TaWcodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFkZGVkIGJ5dGVzIG9mIHIsIHRoZW4gcGFkZGVkIGJ5dGVzIG9mIHNcbiAgICAgICAgdG9Db21wYWN0UmF3Qnl0ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gaGV4VG9CeXRlcyh0aGlzLnRvQ29tcGFjdEhleCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0b0NvbXBhY3RIZXgoKSB7XG4gICAgICAgICAgICBjb25zdCBsID0gbkJ5dGVMZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gbnVtVG9TaXplZEhleCh0aGlzLnIsIGwpICsgbnVtVG9TaXplZEhleCh0aGlzLnMsIGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHV0aWxzID0ge1xuICAgICAgICBpc1ZhbGlkUHJpdmF0ZUtleShwcml2YXRlS2V5KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIocHJpdmF0ZUtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG5vcm1Qcml2YXRlS2V5VG9TY2FsYXI6IG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9kdWNlcyBjcnlwdG9ncmFwaGljYWxseSBzZWN1cmUgcHJpdmF0ZSBrZXkgZnJvbSByYW5kb20gb2Ygc2l6ZVxuICAgICAgICAgKiAoZ3JvdXBMZW4gKyBjZWlsKGdyb3VwTGVuIC8gMikpIHdpdGggbW9kdWxvIGJpYXMgYmVpbmcgbmVnbGlnaWJsZS5cbiAgICAgICAgICovXG4gICAgICAgIHJhbmRvbVByaXZhdGVLZXk6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGdldE1pbkhhc2hMZW5ndGgoQ1VSVkUubik7XG4gICAgICAgICAgICByZXR1cm4gbWFwSGFzaFRvRmllbGQoQ1VSVkUucmFuZG9tQnl0ZXMobGVuZ3RoKSwgQ1VSVkUubik7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIHByZWNvbXB1dGUgdGFibGUgZm9yIGFuIGFyYml0cmFyeSBFQyBwb2ludC4gTWFrZXMgcG9pbnQgXCJjYWNoZWRcIi5cbiAgICAgICAgICogQWxsb3dzIHRvIG1hc3NpdmVseSBzcGVlZC11cCBgcG9pbnQubXVsdGlwbHkoc2NhbGFyKWAuXG4gICAgICAgICAqIEByZXR1cm5zIGNhY2hlZCBwb2ludFxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBmYXN0ID0gdXRpbHMucHJlY29tcHV0ZSg4LCBQcm9qZWN0aXZlUG9pbnQuZnJvbUhleChzb21lb25lc1B1YktleSkpO1xuICAgICAgICAgKiBmYXN0Lm11bHRpcGx5KHByaXZLZXkpOyAvLyBtdWNoIGZhc3RlciBFQ0RIIG5vd1xuICAgICAgICAgKi9cbiAgICAgICAgcHJlY29tcHV0ZSh3aW5kb3dTaXplID0gOCwgcG9pbnQgPSBQb2ludC5CQVNFKSB7XG4gICAgICAgICAgICBwb2ludC5fc2V0V2luZG93U2l6ZSh3aW5kb3dTaXplKTtcbiAgICAgICAgICAgIHBvaW50Lm11bHRpcGx5KEJpZ0ludCgzKSk7IC8vIDMgaXMgYXJiaXRyYXJ5LCBqdXN0IG5lZWQgYW55IG51bWJlciBoZXJlXG4gICAgICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBwdWJsaWMga2V5IGZvciBhIHByaXZhdGUga2V5LiBDaGVja3MgZm9yIHZhbGlkaXR5IG9mIHRoZSBwcml2YXRlIGtleS5cbiAgICAgKiBAcGFyYW0gcHJpdmF0ZUtleSBwcml2YXRlIGtleVxuICAgICAqIEBwYXJhbSBpc0NvbXByZXNzZWQgd2hldGhlciB0byByZXR1cm4gY29tcGFjdCAoZGVmYXVsdCksIG9yIGZ1bGwga2V5XG4gICAgICogQHJldHVybnMgUHVibGljIGtleSwgZnVsbCB3aGVuIGlzQ29tcHJlc3NlZD1mYWxzZTsgc2hvcnQgd2hlbiBpc0NvbXByZXNzZWQ9dHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFB1YmxpY0tleShwcml2YXRlS2V5LCBpc0NvbXByZXNzZWQgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBQb2ludC5mcm9tUHJpdmF0ZUtleShwcml2YXRlS2V5KS50b1Jhd0J5dGVzKGlzQ29tcHJlc3NlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1aWNrIGFuZCBkaXJ0eSBjaGVjayBmb3IgaXRlbSBiZWluZyBwdWJsaWMga2V5LiBEb2VzIG5vdCB2YWxpZGF0ZSBoZXgsIG9yIGJlaW5nIG9uLWN1cnZlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvYlB1YihpdGVtKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2JpZ2ludCcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgYXJyID0gZW5zdXJlQnl0ZXMoJ2tleScsIGl0ZW0pO1xuICAgICAgICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICAgICAgICBjb25zdCBmcGwgPSBGcC5CWVRFUztcbiAgICAgICAgY29uc3QgY29tcExlbiA9IGZwbCArIDE7IC8vIGUuZy4gMzMgZm9yIDMyXG4gICAgICAgIGNvbnN0IHVuY29tcExlbiA9IDIgKiBmcGwgKyAxOyAvLyBlLmcuIDY1IGZvciAzMlxuICAgICAgICBpZiAoQ1VSVkUuYWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzIHx8IG5CeXRlTGVuZ3RoID09PSBjb21wTGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxlbiA9PT0gY29tcExlbiB8fCBsZW4gPT09IHVuY29tcExlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFQ0RIIChFbGxpcHRpYyBDdXJ2ZSBEaWZmaWUgSGVsbG1hbikuXG4gICAgICogQ29tcHV0ZXMgc2hhcmVkIHB1YmxpYyBrZXkgZnJvbSBwcml2YXRlIGtleSBhbmQgcHVibGljIGtleS5cbiAgICAgKiBDaGVja3M6IDEpIHByaXZhdGUga2V5IHZhbGlkaXR5IDIpIHNoYXJlZCBrZXkgaXMgb24tY3VydmUuXG4gICAgICogRG9lcyBOT1QgaGFzaCB0aGUgcmVzdWx0LlxuICAgICAqIEBwYXJhbSBwcml2YXRlQSBwcml2YXRlIGtleVxuICAgICAqIEBwYXJhbSBwdWJsaWNCIGRpZmZlcmVudCBwdWJsaWMga2V5XG4gICAgICogQHBhcmFtIGlzQ29tcHJlc3NlZCB3aGV0aGVyIHRvIHJldHVybiBjb21wYWN0IChkZWZhdWx0KSwgb3IgZnVsbCBrZXlcbiAgICAgKiBAcmV0dXJucyBzaGFyZWQgcHVibGljIGtleVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFNoYXJlZFNlY3JldChwcml2YXRlQSwgcHVibGljQiwgaXNDb21wcmVzc2VkID0gdHJ1ZSkge1xuICAgICAgICBpZiAoaXNQcm9iUHViKHByaXZhdGVBKSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZmlyc3QgYXJnIG11c3QgYmUgcHJpdmF0ZSBrZXknKTtcbiAgICAgICAgaWYgKGlzUHJvYlB1YihwdWJsaWNCKSA9PT0gZmFsc2UpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlY29uZCBhcmcgbXVzdCBiZSBwdWJsaWMga2V5Jyk7XG4gICAgICAgIGNvbnN0IGIgPSBQb2ludC5mcm9tSGV4KHB1YmxpY0IpOyAvLyBjaGVjayBmb3IgYmVpbmcgb24tY3VydmVcbiAgICAgICAgcmV0dXJuIGIubXVsdGlwbHkobm9ybVByaXZhdGVLZXlUb1NjYWxhcihwcml2YXRlQSkpLnRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkKTtcbiAgICB9XG4gICAgLy8gUkZDNjk3OTogZW5zdXJlIEVDRFNBIG1zZyBpcyBYIGJ5dGVzIGFuZCA8IE4uIFJGQyBzdWdnZXN0cyBvcHRpb25hbCB0cnVuY2F0aW5nIHZpYSBiaXRzMm9jdGV0cy5cbiAgICAvLyBGSVBTIDE4Ni00IDQuNiBzdWdnZXN0cyB0aGUgbGVmdG1vc3QgbWluKG5CaXRMZW4sIG91dExlbikgYml0cywgd2hpY2ggbWF0Y2hlcyBiaXRzMmludC5cbiAgICAvLyBiaXRzMmludCBjYW4gcHJvZHVjZSByZXM+Tiwgd2UgY2FuIGRvIG1vZChyZXMsIE4pIHNpbmNlIHRoZSBiaXRMZW4gaXMgdGhlIHNhbWUuXG4gICAgLy8gaW50Mm9jdGV0cyBjYW4ndCBiZSB1c2VkOyBwYWRzIHNtYWxsIG1zZ3Mgd2l0aCAwOiB1bmFjY2VwdGF0YmxlIGZvciB0cnVuYyBhcyBwZXIgUkZDIHZlY3RvcnNcbiAgICBjb25zdCBiaXRzMmludCA9IENVUlZFLmJpdHMyaW50IHx8XG4gICAgICAgIGZ1bmN0aW9uIChieXRlcykge1xuICAgICAgICAgICAgLy8gT3VyIGN1c3RvbSBjaGVjayBcImp1c3QgaW4gY2FzZVwiLCBmb3IgcHJvdGVjdGlvbiBhZ2FpbnN0IERvU1xuICAgICAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCA+IDgxOTIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnB1dCBpcyB0b28gbGFyZ2UnKTtcbiAgICAgICAgICAgIC8vIEZvciBjdXJ2ZXMgd2l0aCBuQml0TGVuZ3RoICUgOCAhPT0gMDogYml0czJvY3RldHMoYml0czJvY3RldHMobSkpICE9PSBiaXRzMm9jdGV0cyhtKVxuICAgICAgICAgICAgLy8gZm9yIHNvbWUgY2FzZXMsIHNpbmNlIGJ5dGVzLmxlbmd0aCAqIDggaXMgbm90IGFjdHVhbCBiaXRMZW5ndGguXG4gICAgICAgICAgICBjb25zdCBudW0gPSBieXRlc1RvTnVtYmVyQkUoYnl0ZXMpOyAvLyBjaGVjayBmb3IgPT0gdTggZG9uZSBoZXJlXG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGJ5dGVzLmxlbmd0aCAqIDggLSBuQml0TGVuZ3RoOyAvLyB0cnVuY2F0ZSB0byBuQml0TGVuZ3RoIGxlZnRtb3N0IGJpdHNcbiAgICAgICAgICAgIHJldHVybiBkZWx0YSA+IDAgPyBudW0gPj4gQmlnSW50KGRlbHRhKSA6IG51bTtcbiAgICAgICAgfTtcbiAgICBjb25zdCBiaXRzMmludF9tb2ROID0gQ1VSVkUuYml0czJpbnRfbW9kTiB8fFxuICAgICAgICBmdW5jdGlvbiAoYnl0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2ROKGJpdHMyaW50KGJ5dGVzKSk7IC8vIGNhbid0IHVzZSBieXRlc1RvTnVtYmVyQkUgaGVyZVxuICAgICAgICB9O1xuICAgIC8vIE5PVEU6IHBhZHMgb3V0cHV0IHdpdGggemVybyBhcyBwZXIgc3BlY1xuICAgIGNvbnN0IE9SREVSX01BU0sgPSBiaXRNYXNrKG5CaXRMZW5ndGgpO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRvIGJ5dGVzLiBDaGVja3MgaWYgbnVtIGluIGBbMC4uT1JERVJfTUFTSy0xXWAgZS5nLjogYFswLi4yXjI1Ni0xXWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW50Mm9jdGV0cyhudW0pIHtcbiAgICAgICAgYUluUmFuZ2UoJ251bSA8IDJeJyArIG5CaXRMZW5ndGgsIG51bSwgXzBuLCBPUkRFUl9NQVNLKTtcbiAgICAgICAgLy8gd29ya3Mgd2l0aCBvcmRlciwgY2FuIGhhdmUgZGlmZmVyZW50IHNpemUgdGhhbiBudW1Ub0ZpZWxkIVxuICAgICAgICByZXR1cm4gbnVtYmVyVG9CeXRlc0JFKG51bSwgbkJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICAvLyBTdGVwcyBBLCBEIG9mIFJGQzY5NzkgMy4yXG4gICAgLy8gQ3JlYXRlcyBSRkM2OTc5IHNlZWQ7IGNvbnZlcnRzIG1zZy9wcml2S2V5IHRvIG51bWJlcnMuXG4gICAgLy8gVXNlZCBvbmx5IGluIHNpZ24sIG5vdCBpbiB2ZXJpZnkuXG4gICAgLy8gTk9URTogd2UgY2Fubm90IGFzc3VtZSBoZXJlIHRoYXQgbXNnSGFzaCBoYXMgc2FtZSBhbW91bnQgb2YgYnl0ZXMgYXMgY3VydmUgb3JkZXIsXG4gICAgLy8gdGhpcyB3aWxsIGJlIGludmFsaWQgYXQgbGVhc3QgZm9yIFA1MjEuIEFsc28gaXQgY2FuIGJlIGJpZ2dlciBmb3IgUDIyNCArIFNIQTI1NlxuICAgIGZ1bmN0aW9uIHByZXBTaWcobXNnSGFzaCwgcHJpdmF0ZUtleSwgb3B0cyA9IGRlZmF1bHRTaWdPcHRzKSB7XG4gICAgICAgIGlmIChbJ3JlY292ZXJlZCcsICdjYW5vbmljYWwnXS5zb21lKChrKSA9PiBrIGluIG9wdHMpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduKCkgbGVnYWN5IG9wdGlvbnMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICBjb25zdCB7IGhhc2gsIHJhbmRvbUJ5dGVzIH0gPSBDVVJWRTtcbiAgICAgICAgbGV0IHsgbG93UywgcHJlaGFzaCwgZXh0cmFFbnRyb3B5OiBlbnQgfSA9IG9wdHM7IC8vIGdlbmVyYXRlcyBsb3ctcyBzaWdzIGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKGxvd1MgPT0gbnVsbClcbiAgICAgICAgICAgIGxvd1MgPSB0cnVlOyAvLyBSRkM2OTc5IDMuMjogd2Ugc2tpcCBzdGVwIEEsIGJlY2F1c2Ugd2UgYWxyZWFkeSBwcm92aWRlIGhhc2hcbiAgICAgICAgbXNnSGFzaCA9IGVuc3VyZUJ5dGVzKCdtc2dIYXNoJywgbXNnSGFzaCk7XG4gICAgICAgIHZhbGlkYXRlU2lnVmVyT3B0cyhvcHRzKTtcbiAgICAgICAgaWYgKHByZWhhc2gpXG4gICAgICAgICAgICBtc2dIYXNoID0gZW5zdXJlQnl0ZXMoJ3ByZWhhc2hlZCBtc2dIYXNoJywgaGFzaChtc2dIYXNoKSk7XG4gICAgICAgIC8vIFdlIGNhbid0IGxhdGVyIGNhbGwgYml0czJvY3RldHMsIHNpbmNlIG5lc3RlZCBiaXRzMmludCBpcyBicm9rZW4gZm9yIGN1cnZlc1xuICAgICAgICAvLyB3aXRoIG5CaXRMZW5ndGggJSA4ICE9PSAwLiBCZWNhdXNlIG9mIHRoYXQsIHdlIHVud3JhcCBpdCBoZXJlIGFzIGludDJvY3RldHMgY2FsbC5cbiAgICAgICAgLy8gY29uc3QgYml0czJvY3RldHMgPSAoYml0cykgPT4gaW50Mm9jdGV0cyhiaXRzMmludF9tb2ROKGJpdHMpKVxuICAgICAgICBjb25zdCBoMWludCA9IGJpdHMyaW50X21vZE4obXNnSGFzaCk7XG4gICAgICAgIGNvbnN0IGQgPSBub3JtUHJpdmF0ZUtleVRvU2NhbGFyKHByaXZhdGVLZXkpOyAvLyB2YWxpZGF0ZSBwcml2YXRlIGtleSwgY29udmVydCB0byBiaWdpbnRcbiAgICAgICAgY29uc3Qgc2VlZEFyZ3MgPSBbaW50Mm9jdGV0cyhkKSwgaW50Mm9jdGV0cyhoMWludCldO1xuICAgICAgICAvLyBleHRyYUVudHJvcHkuIFJGQzY5NzkgMy42OiBhZGRpdGlvbmFsIGsnIChvcHRpb25hbCkuXG4gICAgICAgIGlmIChlbnQgIT0gbnVsbCAmJiBlbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBLID0gSE1BQ19LKFYgfHwgMHgwMCB8fCBpbnQyb2N0ZXRzKHgpIHx8IGJpdHMyb2N0ZXRzKGgxKSB8fCBrJylcbiAgICAgICAgICAgIGNvbnN0IGUgPSBlbnQgPT09IHRydWUgPyByYW5kb21CeXRlcyhGcC5CWVRFUykgOiBlbnQ7IC8vIGdlbmVyYXRlIHJhbmRvbSBieXRlcyBPUiBwYXNzIGFzLWlzXG4gICAgICAgICAgICBzZWVkQXJncy5wdXNoKGVuc3VyZUJ5dGVzKCdleHRyYUVudHJvcHknLCBlKSk7IC8vIGNoZWNrIGZvciBiZWluZyBieXRlc1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlZWQgPSBjb25jYXRCeXRlcyguLi5zZWVkQXJncyk7IC8vIFN0ZXAgRCBvZiBSRkM2OTc5IDMuMlxuICAgICAgICBjb25zdCBtID0gaDFpbnQ7IC8vIE5PVEU6IG5vIG5lZWQgdG8gY2FsbCBiaXRzMmludCBzZWNvbmQgdGltZSBoZXJlLCBpdCBpcyBpbnNpZGUgdHJ1bmNhdGVIYXNoIVxuICAgICAgICAvLyBDb252ZXJ0cyBzaWduYXR1cmUgcGFyYW1zIGludG8gcG9pbnQgdyByL3MsIGNoZWNrcyByZXN1bHQgZm9yIHZhbGlkaXR5LlxuICAgICAgICBmdW5jdGlvbiBrMnNpZyhrQnl0ZXMpIHtcbiAgICAgICAgICAgIC8vIFJGQyA2OTc5IFNlY3Rpb24gMy4yLCBzdGVwIDM6IGsgPSBiaXRzMmludChUKVxuICAgICAgICAgICAgY29uc3QgayA9IGJpdHMyaW50KGtCeXRlcyk7IC8vIENhbm5vdCB1c2UgZmllbGRzIG1ldGhvZHMsIHNpbmNlIGl0IGlzIGdyb3VwIGVsZW1lbnRcbiAgICAgICAgICAgIGlmICghaXNXaXRoaW5DdXJ2ZU9yZGVyKGspKVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gSW1wb3J0YW50OiBhbGwgbW9kKCkgY2FsbHMgaGVyZSBtdXN0IGJlIGRvbmUgb3ZlciBOXG4gICAgICAgICAgICBjb25zdCBpayA9IGludk4oayk7IC8vIGteLTEgbW9kIG5cbiAgICAgICAgICAgIGNvbnN0IHEgPSBQb2ludC5CQVNFLm11bHRpcGx5KGspLnRvQWZmaW5lKCk7IC8vIHEgPSBHa1xuICAgICAgICAgICAgY29uc3QgciA9IG1vZE4ocS54KTsgLy8gciA9IHEueCBtb2QgblxuICAgICAgICAgICAgaWYgKHIgPT09IF8wbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBDYW4gdXNlIHNjYWxhciBibGluZGluZyBiXi0xKGJtICsgYmRyKSB3aGVyZSBiIOKIiCBbMSxx4oiSMV0gYWNjb3JkaW5nIHRvXG4gICAgICAgICAgICAvLyBodHRwczovL3RjaGVzLmlhY3Iub3JnL2luZGV4LnBocC9UQ0hFUy9hcnRpY2xlL3ZpZXcvNzMzNy82NTA5LiBXZSd2ZSBkZWNpZGVkIGFnYWluc3QgaXQ6XG4gICAgICAgICAgICAvLyBhKSBkZXBlbmRlbmN5IG9uIENTUFJORyBiKSAxNSUgc2xvd2Rvd24gYykgZG9lc24ndCByZWFsbHkgaGVscCBzaW5jZSBiaWdpbnRzIGFyZSBub3QgQ1RcbiAgICAgICAgICAgIGNvbnN0IHMgPSBtb2ROKGlrICogbW9kTihtICsgciAqIGQpKTsgLy8gTm90IHVzaW5nIGJsaW5kaW5nIGhlcmVcbiAgICAgICAgICAgIGlmIChzID09PSBfMG4pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHJlY292ZXJ5ID0gKHEueCA9PT0gciA/IDAgOiAyKSB8IE51bWJlcihxLnkgJiBfMW4pOyAvLyByZWNvdmVyeSBiaXQgKDIgb3IgMywgd2hlbiBxLnggPiBuKVxuICAgICAgICAgICAgbGV0IG5vcm1TID0gcztcbiAgICAgICAgICAgIGlmIChsb3dTICYmIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcihzKSkge1xuICAgICAgICAgICAgICAgIG5vcm1TID0gbm9ybWFsaXplUyhzKTsgLy8gaWYgbG93UyB3YXMgcGFzc2VkLCBlbnN1cmUgcyBpcyBhbHdheXNcbiAgICAgICAgICAgICAgICByZWNvdmVyeSBePSAxOyAvLyAvLyBpbiB0aGUgYm90dG9tIGhhbGYgb2YgTlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUociwgbm9ybVMsIHJlY292ZXJ5KTsgLy8gdXNlIG5vcm1TLCBub3Qgc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHNlZWQsIGsyc2lnIH07XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRTaWdPcHRzID0geyBsb3dTOiBDVVJWRS5sb3dTLCBwcmVoYXNoOiBmYWxzZSB9O1xuICAgIGNvbnN0IGRlZmF1bHRWZXJPcHRzID0geyBsb3dTOiBDVVJWRS5sb3dTLCBwcmVoYXNoOiBmYWxzZSB9O1xuICAgIC8qKlxuICAgICAqIFNpZ25zIG1lc3NhZ2UgaGFzaCB3aXRoIGEgcHJpdmF0ZSBrZXkuXG4gICAgICogYGBgXG4gICAgICogc2lnbihtLCBkLCBrKSB3aGVyZVxuICAgICAqICAgKHgsIHkpID0gRyDDlyBrXG4gICAgICogICByID0geCBtb2QgblxuICAgICAqICAgcyA9IChtICsgZHIpL2sgbW9kIG5cbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gbXNnSGFzaCBOT1QgbWVzc2FnZS4gbXNnIG5lZWRzIHRvIGJlIGhhc2hlZCB0byBgbXNnSGFzaGAsIG9yIHVzZSBgcHJlaGFzaGAuXG4gICAgICogQHBhcmFtIHByaXZLZXkgcHJpdmF0ZSBrZXlcbiAgICAgKiBAcGFyYW0gb3B0cyBsb3dTIGZvciBub24tbWFsbGVhYmxlIHNpZ3MuIGV4dHJhRW50cm9weSBmb3IgbWl4aW5nIHJhbmRvbW5lc3MgaW50byBrLiBwcmVoYXNoIHdpbGwgaGFzaCBmaXJzdCBhcmcuXG4gICAgICogQHJldHVybnMgc2lnbmF0dXJlIHdpdGggcmVjb3ZlcnkgcGFyYW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduKG1zZ0hhc2gsIHByaXZLZXksIG9wdHMgPSBkZWZhdWx0U2lnT3B0cykge1xuICAgICAgICBjb25zdCB7IHNlZWQsIGsyc2lnIH0gPSBwcmVwU2lnKG1zZ0hhc2gsIHByaXZLZXksIG9wdHMpOyAvLyBTdGVwcyBBLCBEIG9mIFJGQzY5NzkgMy4yLlxuICAgICAgICBjb25zdCBDID0gQ1VSVkU7XG4gICAgICAgIGNvbnN0IGRyYmcgPSBjcmVhdGVIbWFjRHJiZyhDLmhhc2gub3V0cHV0TGVuLCBDLm5CeXRlTGVuZ3RoLCBDLmhtYWMpO1xuICAgICAgICByZXR1cm4gZHJiZyhzZWVkLCBrMnNpZyk7IC8vIFN0ZXBzIEIsIEMsIEQsIEUsIEYsIEdcbiAgICB9XG4gICAgLy8gRW5hYmxlIHByZWNvbXB1dGVzLiBTbG93cyBkb3duIGZpcnN0IHB1YmxpY0tleSBjb21wdXRhdGlvbiBieSAyMG1zLlxuICAgIFBvaW50LkJBU0UuX3NldFdpbmRvd1NpemUoOCk7XG4gICAgLy8gdXRpbHMucHJlY29tcHV0ZSg4LCBQcm9qZWN0aXZlUG9pbnQuQkFTRSlcbiAgICAvKipcbiAgICAgKiBWZXJpZmllcyBhIHNpZ25hdHVyZSBhZ2FpbnN0IG1lc3NhZ2UgaGFzaCBhbmQgcHVibGljIGtleS5cbiAgICAgKiBSZWplY3RzIGxvd1Mgc2lnbmF0dXJlcyBieSBkZWZhdWx0OiB0byBvdmVycmlkZSxcbiAgICAgKiBzcGVjaWZ5IG9wdGlvbiBge2xvd1M6IGZhbHNlfWAuIEltcGxlbWVudHMgc2VjdGlvbiA0LjEuNCBmcm9tIGh0dHBzOi8vd3d3LnNlY2cub3JnL3NlYzEtdjIucGRmOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogdmVyaWZ5KHIsIHMsIGgsIFApIHdoZXJlXG4gICAgICogICBVMSA9IGhzXi0xIG1vZCBuXG4gICAgICogICBVMiA9IHJzXi0xIG1vZCBuXG4gICAgICogICBSID0gVTHii4VHIC0gVTLii4VQXG4gICAgICogICBtb2QoUi54LCBuKSA9PSByXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmVyaWZ5KHNpZ25hdHVyZSwgbXNnSGFzaCwgcHVibGljS2V5LCBvcHRzID0gZGVmYXVsdFZlck9wdHMpIHtcbiAgICAgICAgY29uc3Qgc2cgPSBzaWduYXR1cmU7XG4gICAgICAgIG1zZ0hhc2ggPSBlbnN1cmVCeXRlcygnbXNnSGFzaCcsIG1zZ0hhc2gpO1xuICAgICAgICBwdWJsaWNLZXkgPSBlbnN1cmVCeXRlcygncHVibGljS2V5JywgcHVibGljS2V5KTtcbiAgICAgICAgY29uc3QgeyBsb3dTLCBwcmVoYXNoLCBmb3JtYXQgfSA9IG9wdHM7XG4gICAgICAgIC8vIFZlcmlmeSBvcHRzLCBkZWR1Y2Ugc2lnbmF0dXJlIGZvcm1hdFxuICAgICAgICB2YWxpZGF0ZVNpZ1Zlck9wdHMob3B0cyk7XG4gICAgICAgIGlmICgnc3RyaWN0JyBpbiBvcHRzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvcHRpb25zLnN0cmljdCB3YXMgcmVuYW1lZCB0byBsb3dTJyk7XG4gICAgICAgIGlmIChmb3JtYXQgIT09IHVuZGVmaW5lZCAmJiBmb3JtYXQgIT09ICdjb21wYWN0JyAmJiBmb3JtYXQgIT09ICdkZXInKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmb3JtYXQgbXVzdCBiZSBjb21wYWN0IG9yIGRlcicpO1xuICAgICAgICBjb25zdCBpc0hleCA9IHR5cGVvZiBzZyA9PT0gJ3N0cmluZycgfHwgaXNCeXRlcyhzZyk7XG4gICAgICAgIGNvbnN0IGlzT2JqID0gIWlzSGV4ICYmXG4gICAgICAgICAgICAhZm9ybWF0ICYmXG4gICAgICAgICAgICB0eXBlb2Ygc2cgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBzZyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIHNnLnIgPT09ICdiaWdpbnQnICYmXG4gICAgICAgICAgICB0eXBlb2Ygc2cucyA9PT0gJ2JpZ2ludCc7XG4gICAgICAgIGlmICghaXNIZXggJiYgIWlzT2JqKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNpZ25hdHVyZSwgZXhwZWN0ZWQgVWludDhBcnJheSwgaGV4IHN0cmluZyBvciBTaWduYXR1cmUgaW5zdGFuY2UnKTtcbiAgICAgICAgbGV0IF9zaWcgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBQO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGlzT2JqKVxuICAgICAgICAgICAgICAgIF9zaWcgPSBuZXcgU2lnbmF0dXJlKHNnLnIsIHNnLnMpO1xuICAgICAgICAgICAgaWYgKGlzSGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gU2lnbmF0dXJlIGNhbiBiZSByZXByZXNlbnRlZCBpbiAyIHdheXM6IGNvbXBhY3QgKDIqbkJ5dGVMZW5ndGgpICYgREVSICh2YXJpYWJsZS1sZW5ndGgpLlxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIERFUiBjYW4gYWxzbyBiZSAyKm5CeXRlTGVuZ3RoIGJ5dGVzLCB3ZSBjaGVjayBmb3IgaXQgZmlyc3QuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdCAhPT0gJ2NvbXBhY3QnKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpZyA9IFNpZ25hdHVyZS5mcm9tREVSKHNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGRlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGRlckVycm9yIGluc3RhbmNlb2YgREVSLkVycikpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBkZXJFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFfc2lnICYmIGZvcm1hdCAhPT0gJ2RlcicpXG4gICAgICAgICAgICAgICAgICAgIF9zaWcgPSBTaWduYXR1cmUuZnJvbUNvbXBhY3Qoc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUCA9IFBvaW50LmZyb21IZXgocHVibGljS2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIV9zaWcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChsb3dTICYmIF9zaWcuaGFzSGlnaFMoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHByZWhhc2gpXG4gICAgICAgICAgICBtc2dIYXNoID0gQ1VSVkUuaGFzaChtc2dIYXNoKTtcbiAgICAgICAgY29uc3QgeyByLCBzIH0gPSBfc2lnO1xuICAgICAgICBjb25zdCBoID0gYml0czJpbnRfbW9kTihtc2dIYXNoKTsgLy8gQ2Fubm90IHVzZSBmaWVsZHMgbWV0aG9kcywgc2luY2UgaXQgaXMgZ3JvdXAgZWxlbWVudFxuICAgICAgICBjb25zdCBpcyA9IGludk4ocyk7IC8vIHNeLTFcbiAgICAgICAgY29uc3QgdTEgPSBtb2ROKGggKiBpcyk7IC8vIHUxID0gaHNeLTEgbW9kIG5cbiAgICAgICAgY29uc3QgdTIgPSBtb2ROKHIgKiBpcyk7IC8vIHUyID0gcnNeLTEgbW9kIG5cbiAgICAgICAgY29uc3QgUiA9IFBvaW50LkJBU0UubXVsdGlwbHlBbmRBZGRVbnNhZmUoUCwgdTEsIHUyKT8udG9BZmZpbmUoKTsgLy8gUiA9IHUx4ouFRyArIHUy4ouFUFxuICAgICAgICBpZiAoIVIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHYgPSBtb2ROKFIueCk7XG4gICAgICAgIHJldHVybiB2ID09PSByO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBDVVJWRSxcbiAgICAgICAgZ2V0UHVibGljS2V5LFxuICAgICAgICBnZXRTaGFyZWRTZWNyZXQsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHZlcmlmeSxcbiAgICAgICAgUHJvamVjdGl2ZVBvaW50OiBQb2ludCxcbiAgICAgICAgU2lnbmF0dXJlLFxuICAgICAgICB1dGlscyxcbiAgICB9O1xufVxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2hhbGx1ZSBhbmQgdmFuIGRlIFdvZXN0aWpuZSBtZXRob2QgZm9yIGFueSB3ZWllcnN0cmFzcyBjdXJ2ZS5cbiAqIFRPRE86IGNoZWNrIGlmIHRoZXJlIGlzIGEgd2F5IHRvIG1lcmdlIHRoaXMgd2l0aCB1dlJhdGlvIGluIEVkd2FyZHM7IG1vdmUgdG8gbW9kdWxhci5cbiAqIGIgPSBUcnVlIGFuZCB5ID0gc3FydCh1IC8gdikgaWYgKHUgLyB2KSBpcyBzcXVhcmUgaW4gRiwgYW5kXG4gKiBiID0gRmFsc2UgYW5kIHkgPSBzcXJ0KFogKiAodSAvIHYpKSBvdGhlcndpc2UuXG4gKiBAcGFyYW0gRnBcbiAqIEBwYXJhbSBaXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gU1dVRnBTcXJ0UmF0aW8oRnAsIFopIHtcbiAgICAvLyBHZW5lcmljIGltcGxlbWVudGF0aW9uXG4gICAgY29uc3QgcSA9IEZwLk9SREVSO1xuICAgIGxldCBsID0gXzBuO1xuICAgIGZvciAobGV0IG8gPSBxIC0gXzFuOyBvICUgXzJuID09PSBfMG47IG8gLz0gXzJuKVxuICAgICAgICBsICs9IF8xbjtcbiAgICBjb25zdCBjMSA9IGw7IC8vIDEuIGMxLCB0aGUgbGFyZ2VzdCBpbnRlZ2VyIHN1Y2ggdGhhdCAyXmMxIGRpdmlkZXMgcSAtIDEuXG4gICAgLy8gV2UgbmVlZCAybiAqKiBjMSBhbmQgMm4gKiogKGMxLTEpLiBXZSBjYW4ndCB1c2UgKio7IGJ1dCB3ZSBjYW4gdXNlIDw8LlxuICAgIC8vIDJuICoqIGMxID09IDJuIDw8IChjMS0xKVxuICAgIGNvbnN0IF8ybl9wb3dfYzFfMSA9IF8ybiA8PCAoYzEgLSBfMW4gLSBfMW4pO1xuICAgIGNvbnN0IF8ybl9wb3dfYzEgPSBfMm5fcG93X2MxXzEgKiBfMm47XG4gICAgY29uc3QgYzIgPSAocSAtIF8xbikgLyBfMm5fcG93X2MxOyAvLyAyLiBjMiA9IChxIC0gMSkgLyAoMl5jMSkgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzMgPSAoYzIgLSBfMW4pIC8gXzJuOyAvLyAzLiBjMyA9IChjMiAtIDEpIC8gMiAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzQgPSBfMm5fcG93X2MxIC0gXzFuOyAvLyA0LiBjNCA9IDJeYzEgLSAxICAgICAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzUgPSBfMm5fcG93X2MxXzE7IC8vIDUuIGM1ID0gMl4oYzEgLSAxKSAgICAgICAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzYgPSBGcC5wb3coWiwgYzIpOyAvLyA2LiBjNiA9IFpeYzJcbiAgICBjb25zdCBjNyA9IEZwLnBvdyhaLCAoYzIgKyBfMW4pIC8gXzJuKTsgLy8gNy4gYzcgPSBaXigoYzIgKyAxKSAvIDIpXG4gICAgbGV0IHNxcnRSYXRpbyA9ICh1LCB2KSA9PiB7XG4gICAgICAgIGxldCB0djEgPSBjNjsgLy8gMS4gdHYxID0gYzZcbiAgICAgICAgbGV0IHR2MiA9IEZwLnBvdyh2LCBjNCk7IC8vIDIuIHR2MiA9IHZeYzRcbiAgICAgICAgbGV0IHR2MyA9IEZwLnNxcih0djIpOyAvLyAzLiB0djMgPSB0djJeMlxuICAgICAgICB0djMgPSBGcC5tdWwodHYzLCB2KTsgLy8gNC4gdHYzID0gdHYzICogdlxuICAgICAgICBsZXQgdHY1ID0gRnAubXVsKHUsIHR2Myk7IC8vIDUuIHR2NSA9IHUgKiB0djNcbiAgICAgICAgdHY1ID0gRnAucG93KHR2NSwgYzMpOyAvLyA2LiB0djUgPSB0djVeYzNcbiAgICAgICAgdHY1ID0gRnAubXVsKHR2NSwgdHYyKTsgLy8gNy4gdHY1ID0gdHY1ICogdHYyXG4gICAgICAgIHR2MiA9IEZwLm11bCh0djUsIHYpOyAvLyA4LiB0djIgPSB0djUgKiB2XG4gICAgICAgIHR2MyA9IEZwLm11bCh0djUsIHUpOyAvLyA5LiB0djMgPSB0djUgKiB1XG4gICAgICAgIGxldCB0djQgPSBGcC5tdWwodHYzLCB0djIpOyAvLyAxMC4gdHY0ID0gdHYzICogdHYyXG4gICAgICAgIHR2NSA9IEZwLnBvdyh0djQsIGM1KTsgLy8gMTEuIHR2NSA9IHR2NF5jNVxuICAgICAgICBsZXQgaXNRUiA9IEZwLmVxbCh0djUsIEZwLk9ORSk7IC8vIDEyLiBpc1FSID0gdHY1ID09IDFcbiAgICAgICAgdHYyID0gRnAubXVsKHR2MywgYzcpOyAvLyAxMy4gdHYyID0gdHYzICogYzdcbiAgICAgICAgdHY1ID0gRnAubXVsKHR2NCwgdHYxKTsgLy8gMTQuIHR2NSA9IHR2NCAqIHR2MVxuICAgICAgICB0djMgPSBGcC5jbW92KHR2MiwgdHYzLCBpc1FSKTsgLy8gMTUuIHR2MyA9IENNT1YodHYyLCB0djMsIGlzUVIpXG4gICAgICAgIHR2NCA9IEZwLmNtb3YodHY1LCB0djQsIGlzUVIpOyAvLyAxNi4gdHY0ID0gQ01PVih0djUsIHR2NCwgaXNRUilcbiAgICAgICAgLy8gMTcuIGZvciBpIGluIChjMSwgYzEgLSAxLCAuLi4sIDIpOlxuICAgICAgICBmb3IgKGxldCBpID0gYzE7IGkgPiBfMW47IGktLSkge1xuICAgICAgICAgICAgbGV0IHR2NSA9IGkgLSBfMm47IC8vIDE4LiAgICB0djUgPSBpIC0gMlxuICAgICAgICAgICAgdHY1ID0gXzJuIDw8ICh0djUgLSBfMW4pOyAvLyAxOS4gICAgdHY1ID0gMl50djVcbiAgICAgICAgICAgIGxldCB0dnY1ID0gRnAucG93KHR2NCwgdHY1KTsgLy8gMjAuICAgIHR2NSA9IHR2NF50djVcbiAgICAgICAgICAgIGNvbnN0IGUxID0gRnAuZXFsKHR2djUsIEZwLk9ORSk7IC8vIDIxLiAgICBlMSA9IHR2NSA9PSAxXG4gICAgICAgICAgICB0djIgPSBGcC5tdWwodHYzLCB0djEpOyAvLyAyMi4gICAgdHYyID0gdHYzICogdHYxXG4gICAgICAgICAgICB0djEgPSBGcC5tdWwodHYxLCB0djEpOyAvLyAyMy4gICAgdHYxID0gdHYxICogdHYxXG4gICAgICAgICAgICB0dnY1ID0gRnAubXVsKHR2NCwgdHYxKTsgLy8gMjQuICAgIHR2NSA9IHR2NCAqIHR2MVxuICAgICAgICAgICAgdHYzID0gRnAuY21vdih0djIsIHR2MywgZTEpOyAvLyAyNS4gICAgdHYzID0gQ01PVih0djIsIHR2MywgZTEpXG4gICAgICAgICAgICB0djQgPSBGcC5jbW92KHR2djUsIHR2NCwgZTEpOyAvLyAyNi4gICAgdHY0ID0gQ01PVih0djUsIHR2NCwgZTEpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogaXNRUiwgdmFsdWU6IHR2MyB9O1xuICAgIH07XG4gICAgaWYgKEZwLk9SREVSICUgXzRuID09PSBfM24pIHtcbiAgICAgICAgLy8gc3FydF9yYXRpb18zbW9kNCh1LCB2KVxuICAgICAgICBjb25zdCBjMSA9IChGcC5PUkRFUiAtIF8zbikgLyBfNG47IC8vIDEuIGMxID0gKHEgLSAzKSAvIDQgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgICAgIGNvbnN0IGMyID0gRnAuc3FydChGcC5uZWcoWikpOyAvLyAyLiBjMiA9IHNxcnQoLVopXG4gICAgICAgIHNxcnRSYXRpbyA9ICh1LCB2KSA9PiB7XG4gICAgICAgICAgICBsZXQgdHYxID0gRnAuc3FyKHYpOyAvLyAxLiB0djEgPSB2XjJcbiAgICAgICAgICAgIGNvbnN0IHR2MiA9IEZwLm11bCh1LCB2KTsgLy8gMi4gdHYyID0gdSAqIHZcbiAgICAgICAgICAgIHR2MSA9IEZwLm11bCh0djEsIHR2Mik7IC8vIDMuIHR2MSA9IHR2MSAqIHR2MlxuICAgICAgICAgICAgbGV0IHkxID0gRnAucG93KHR2MSwgYzEpOyAvLyA0LiB5MSA9IHR2MV5jMVxuICAgICAgICAgICAgeTEgPSBGcC5tdWwoeTEsIHR2Mik7IC8vIDUuIHkxID0geTEgKiB0djJcbiAgICAgICAgICAgIGNvbnN0IHkyID0gRnAubXVsKHkxLCBjMik7IC8vIDYuIHkyID0geTEgKiBjMlxuICAgICAgICAgICAgY29uc3QgdHYzID0gRnAubXVsKEZwLnNxcih5MSksIHYpOyAvLyA3LiB0djMgPSB5MV4yOyA4LiB0djMgPSB0djMgKiB2XG4gICAgICAgICAgICBjb25zdCBpc1FSID0gRnAuZXFsKHR2MywgdSk7IC8vIDkuIGlzUVIgPSB0djMgPT0gdVxuICAgICAgICAgICAgbGV0IHkgPSBGcC5jbW92KHkyLCB5MSwgaXNRUik7IC8vIDEwLiB5ID0gQ01PVih5MiwgeTEsIGlzUVIpXG4gICAgICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBpc1FSLCB2YWx1ZTogeSB9OyAvLyAxMS4gcmV0dXJuIChpc1FSLCB5KSBpc1FSID8geSA6IHkqYzJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gTm8gY3VydmVzIHVzZXMgdGhhdFxuICAgIC8vIGlmIChGcC5PUkRFUiAlIF84biA9PT0gXzVuKSAvLyBzcXJ0X3JhdGlvXzVtb2Q4XG4gICAgcmV0dXJuIHNxcnRSYXRpbztcbn1cbi8qKlxuICogU2ltcGxpZmllZCBTaGFsbHVlLXZhbiBkZSBXb2VzdGlqbmUtVWxhcyBNZXRob2RcbiAqIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNi42LjJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvQ3VydmVTaW1wbGVTV1UoRnAsIG9wdHMpIHtcbiAgICB2YWxpZGF0ZUZpZWxkKEZwKTtcbiAgICBpZiAoIUZwLmlzVmFsaWQob3B0cy5BKSB8fCAhRnAuaXNWYWxpZChvcHRzLkIpIHx8ICFGcC5pc1ZhbGlkKG9wdHMuWikpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbWFwVG9DdXJ2ZVNpbXBsZVNXVTogaW52YWxpZCBvcHRzJyk7XG4gICAgY29uc3Qgc3FydFJhdGlvID0gU1dVRnBTcXJ0UmF0aW8oRnAsIG9wdHMuWik7XG4gICAgaWYgKCFGcC5pc09kZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcC5pc09kZCBpcyBub3QgaW1wbGVtZW50ZWQhJyk7XG4gICAgLy8gSW5wdXQ6IHUsIGFuIGVsZW1lbnQgb2YgRi5cbiAgICAvLyBPdXRwdXQ6ICh4LCB5KSwgYSBwb2ludCBvbiBFLlxuICAgIHJldHVybiAodSkgPT4ge1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgbGV0IHR2MSwgdHYyLCB0djMsIHR2NCwgdHY1LCB0djYsIHgsIHk7XG4gICAgICAgIHR2MSA9IEZwLnNxcih1KTsgLy8gMS4gIHR2MSA9IHVeMlxuICAgICAgICB0djEgPSBGcC5tdWwodHYxLCBvcHRzLlopOyAvLyAyLiAgdHYxID0gWiAqIHR2MVxuICAgICAgICB0djIgPSBGcC5zcXIodHYxKTsgLy8gMy4gIHR2MiA9IHR2MV4yXG4gICAgICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2MSk7IC8vIDQuICB0djIgPSB0djIgKyB0djFcbiAgICAgICAgdHYzID0gRnAuYWRkKHR2MiwgRnAuT05FKTsgLy8gNS4gIHR2MyA9IHR2MiArIDFcbiAgICAgICAgdHYzID0gRnAubXVsKHR2Mywgb3B0cy5CKTsgLy8gNi4gIHR2MyA9IEIgKiB0djNcbiAgICAgICAgdHY0ID0gRnAuY21vdihvcHRzLlosIEZwLm5lZyh0djIpLCAhRnAuZXFsKHR2MiwgRnAuWkVSTykpOyAvLyA3LiAgdHY0ID0gQ01PVihaLCAtdHYyLCB0djIgIT0gMClcbiAgICAgICAgdHY0ID0gRnAubXVsKHR2NCwgb3B0cy5BKTsgLy8gOC4gIHR2NCA9IEEgKiB0djRcbiAgICAgICAgdHYyID0gRnAuc3FyKHR2Myk7IC8vIDkuICB0djIgPSB0djNeMlxuICAgICAgICB0djYgPSBGcC5zcXIodHY0KTsgLy8gMTAuIHR2NiA9IHR2NF4yXG4gICAgICAgIHR2NSA9IEZwLm11bCh0djYsIG9wdHMuQSk7IC8vIDExLiB0djUgPSBBICogdHY2XG4gICAgICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2NSk7IC8vIDEyLiB0djIgPSB0djIgKyB0djVcbiAgICAgICAgdHYyID0gRnAubXVsKHR2MiwgdHYzKTsgLy8gMTMuIHR2MiA9IHR2MiAqIHR2M1xuICAgICAgICB0djYgPSBGcC5tdWwodHY2LCB0djQpOyAvLyAxNC4gdHY2ID0gdHY2ICogdHY0XG4gICAgICAgIHR2NSA9IEZwLm11bCh0djYsIG9wdHMuQik7IC8vIDE1LiB0djUgPSBCICogdHY2XG4gICAgICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2NSk7IC8vIDE2LiB0djIgPSB0djIgKyB0djVcbiAgICAgICAgeCA9IEZwLm11bCh0djEsIHR2Myk7IC8vIDE3LiAgIHggPSB0djEgKiB0djNcbiAgICAgICAgY29uc3QgeyBpc1ZhbGlkLCB2YWx1ZSB9ID0gc3FydFJhdGlvKHR2MiwgdHY2KTsgLy8gMTguIChpc19neDFfc3F1YXJlLCB5MSkgPSBzcXJ0X3JhdGlvKHR2MiwgdHY2KVxuICAgICAgICB5ID0gRnAubXVsKHR2MSwgdSk7IC8vIDE5LiAgIHkgPSB0djEgKiB1ICAtPiBaICogdV4zICogeTFcbiAgICAgICAgeSA9IEZwLm11bCh5LCB2YWx1ZSk7IC8vIDIwLiAgIHkgPSB5ICogeTFcbiAgICAgICAgeCA9IEZwLmNtb3YoeCwgdHYzLCBpc1ZhbGlkKTsgLy8gMjEuICAgeCA9IENNT1YoeCwgdHYzLCBpc19neDFfc3F1YXJlKVxuICAgICAgICB5ID0gRnAuY21vdih5LCB2YWx1ZSwgaXNWYWxpZCk7IC8vIDIyLiAgIHkgPSBDTU9WKHksIHkxLCBpc19neDFfc3F1YXJlKVxuICAgICAgICBjb25zdCBlMSA9IEZwLmlzT2RkKHUpID09PSBGcC5pc09kZCh5KTsgLy8gMjMuICBlMSA9IHNnbjAodSkgPT0gc2duMCh5KVxuICAgICAgICB5ID0gRnAuY21vdihGcC5uZWcoeSksIHksIGUxKTsgLy8gMjQuICAgeSA9IENNT1YoLXksIHksIGUxKVxuICAgICAgICBjb25zdCB0djRfaW52ID0gRnBJbnZlcnRCYXRjaChGcCwgW3R2NF0sIHRydWUpWzBdO1xuICAgICAgICB4ID0gRnAubXVsKHgsIHR2NF9pbnYpOyAvLyAyNS4gICB4ID0geCAvIHR2NFxuICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlaWVyc3RyYXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/secp256k1.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/secp256k1.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeToCurve: () => (/* binding */ encodeToCurve),\n/* harmony export */   hashToCurve: () => (/* binding */ hashToCurve),\n/* harmony export */   schnorr: () => (/* binding */ schnorr),\n/* harmony export */   secp256k1: () => (/* binding */ secp256k1),\n/* harmony export */   secp256k1_hasher: () => (/* binding */ secp256k1_hasher)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @noble/hashes/sha2 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha2.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _shortw_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_shortw_utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/_shortw_utils.js\");\n/* harmony import */ var _abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./abstract/hash-to-curve.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/hash-to-curve.js\");\n/* harmony import */ var _abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/modular.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/utils.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/utils.js\");\n/* harmony import */ var _abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./abstract/weierstrass.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js\");\n/**\n * NIST secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Seems to be rigid (not backdoored)\n * [as per discussion](https://bitcointalk.org/index.php?topic=289795.msg3183975#msg3183975).\n *\n * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n * [See explanation](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n\n\n\n\nconst secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nconst secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a, b) => (a + b / _2n) / b;\n/**\n * n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n    const P = secp256k1P;\n    // prettier-ignore\n    const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n    // prettier-ignore\n    const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n    const b2 = (y * y * y) % P; // x^3, 11\n    const b3 = (b2 * b2 * y) % P; // x^7\n    const b6 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b3, _3n, P) * b3) % P;\n    const b9 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b6, _3n, P) * b3) % P;\n    const b11 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b9, _2n, P) * b2) % P;\n    const b22 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b11, _11n, P) * b11) % P;\n    const b44 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b22, _22n, P) * b22) % P;\n    const b88 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b44, _44n, P) * b44) % P;\n    const b176 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b88, _88n, P) * b88) % P;\n    const b220 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b176, _44n, P) * b44) % P;\n    const b223 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b220, _3n, P) * b3) % P;\n    const t1 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b223, _23n, P) * b22) % P;\n    const t2 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(t1, _6n, P) * b2) % P;\n    const root = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(t2, _2n, P);\n    if (!Fpk1.eql(Fpk1.sqr(root), y))\n        throw new Error('Cannot find square root');\n    return root;\n}\nconst Fpk1 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.Field)(secp256k1P, undefined, undefined, { sqrt: sqrtMod });\n/**\n * secp256k1 curve, ECDSA and ECDH methods.\n *\n * Field: `2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n`\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1';\n * const priv = secp256k1.utils.randomPrivateKey();\n * const pub = secp256k1.getPublicKey(priv);\n * const msg = new Uint8Array(32).fill(1); // message hash (not message) in ecdsa\n * const sig = secp256k1.sign(msg, priv); // `{prehash: true}` option is available\n * const isValid = secp256k1.verify(sig, msg, pub) === true;\n * ```\n */\nconst secp256k1 = (0,_shortw_utils_js__WEBPACK_IMPORTED_MODULE_1__.createCurve)({\n    a: _0n,\n    b: BigInt(7),\n    Fp: Fpk1,\n    n: secp256k1N,\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    h: BigInt(1),\n    lowS: true, // Allow only low-S signatures by default in sign() and verify()\n    endo: {\n        // Endomorphism, see above\n        beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n        splitScalar: (k) => {\n            const n = secp256k1N;\n            const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n            const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n            const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n            const b2 = a1;\n            const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n            const c1 = divNearest(b2 * k, n);\n            const c2 = divNearest(-b1 * k, n);\n            let k1 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(k - c1 * a1 - c2 * a2, n);\n            let k2 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(-c1 * b1 - c2 * b2, n);\n            const k1neg = k1 > POW_2_128;\n            const k2neg = k2 > POW_2_128;\n            if (k1neg)\n                k1 = n - k1;\n            if (k2neg)\n                k2 = n - k2;\n            if (k1 > POW_2_128 || k2 > POW_2_128) {\n                throw new Error('splitScalar: Endomorphism failed, k=' + k);\n            }\n            return { k1neg, k1, k2neg, k2 };\n        },\n    },\n}, _noble_hashes_sha2__WEBPACK_IMPORTED_MODULE_2__.sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag, ...messages) {\n    let tagP = TAGGED_HASH_PREFIXES[tag];\n    if (tagP === undefined) {\n        const tagH = (0,_noble_hashes_sha2__WEBPACK_IMPORTED_MODULE_2__.sha256)(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n        tagP = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(tagH, tagH);\n        TAGGED_HASH_PREFIXES[tag] = tagP;\n    }\n    return (0,_noble_hashes_sha2__WEBPACK_IMPORTED_MODULE_2__.sha256)((0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(tagP, ...messages));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point) => point.toRawBytes(true).slice(1);\nconst numTo32b = (n) => (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.numberToBytesBE)(n, 32);\nconst modP = (x) => (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(x, secp256k1P);\nconst modN = (x) => (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod)(x, secp256k1N);\nconst Point = /* @__PURE__ */ (() => secp256k1.ProjectivePoint)();\nconst GmulAdd = (Q, a, b) => Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n    let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n    let p = Point.fromPrivateKey(d_); // P = d'G; 0 < d' < n check is done inside\n    const scalar = p.hasEvenY() ? d_ : modN(-d_);\n    return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n    (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.aInRange)('x', x, _1n, secp256k1P); // Fail if x  p.\n    const xx = modP(x * x);\n    const c = modP(xx * x + BigInt(7)); // Let c = x + 7 mod p.\n    let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n    if (y % _2n !== _0n)\n        y = modP(-y); // Return the unique point P such that x(P) = x and\n    const p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n    p.assertValidity();\n    return p;\n}\nconst num = _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args) {\n    return modN(num(taggedHash('BIP0340/challenge', ...args)));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey) {\n    return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'n. Ret bytes(d'G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, privateKey, auxRand = (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_4__.randomBytes)(32)) {\n    const m = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('message', message);\n    const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n    const a = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n    const t = numTo32b(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n    const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n    const k_ = modN(num(rand)); // Let k' = int(rand) mod n\n    if (k_ === _0n)\n        throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n    const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'G.\n    const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n    const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n    sig.set(rx, 0);\n    sig.set(numTo32b(modN(k + e * d)), 32);\n    // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n    if (!schnorrVerify(sig, m, px))\n        throw new Error('sign: Invalid signature produced');\n    return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n    const sig = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('signature', signature, 64);\n    const m = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('message', message);\n    const pub = (0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.ensureBytes)('publicKey', publicKey, 32);\n    try {\n        const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n        const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r  p.\n        if (!(0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.inRange)(r, _1n, secp256k1P))\n            return false;\n        const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s  n.\n        if (!(0,_abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.inRange)(s, _1n, secp256k1N))\n            return false;\n        const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n        const R = GmulAdd(P, s, modN(-e)); // R = sG - eP\n        if (!R || !R.hasEvenY() || R.toAffine().x !== r)\n            return false; // -eP == (n-e)P\n        return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R)  r.\n    }\n    catch (error) {\n        return false;\n    }\n}\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1';\n * const priv = schnorr.utils.randomPrivateKey();\n * const pub = schnorr.getPublicKey(priv);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, priv);\n * const isValid = schnorr.verify(sig, msg, pub);\n * ```\n */\nconst schnorr = /* @__PURE__ */ (() => ({\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    utils: {\n        randomPrivateKey: secp256k1.utils.randomPrivateKey,\n        lift_x,\n        pointToBytes,\n        numberToBytesBE: _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.numberToBytesBE,\n        bytesToNumberBE: _abstract_utils_js__WEBPACK_IMPORTED_MODULE_3__.bytesToNumberBE,\n        taggedHash,\n        mod: _abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod,\n    },\n}))();\nconst isoMap = /* @__PURE__ */ (() => (0,_abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__.isogenyMap)(Fpk1, [\n    // xNum\n    [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n    ],\n    // xDen\n    [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n    // yNum\n    [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n    ],\n    // yDen\n    [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n].map((i) => i.map((j) => BigInt(j)))))();\nconst mapSWU = /* @__PURE__ */ (() => (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_6__.mapToCurveSimpleSWU)(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n}))();\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nconst secp256k1_hasher = /* @__PURE__ */ (() => (0,_abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_5__.createHasher)(secp256k1.ProjectivePoint, (scalars) => {\n    const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n    return isoMap(x, y);\n}, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fpk1.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: _noble_hashes_sha2__WEBPACK_IMPORTED_MODULE_2__.sha256,\n}))();\nconst hashToCurve = /* @__PURE__ */ (() => secp256k1_hasher.hashToCurve)();\nconst encodeToCurve = /* @__PURE__ */ (() => secp256k1_hasher.encodeToCurve)();\n//# sourceMappingURL=secp256k1.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL3NlY3AyNTZrMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM0QztBQUNNO0FBQ0Q7QUFDc0I7QUFDZDtBQUM0RDtBQUNyRDtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyxrQ0FBa0M7QUFDbEMsZ0JBQWdCLDBEQUFJO0FBQ3BCLGdCQUFnQiwwREFBSTtBQUNwQixpQkFBaUIsMERBQUk7QUFDckIsaUJBQWlCLDBEQUFJO0FBQ3JCLGlCQUFpQiwwREFBSTtBQUNyQixpQkFBaUIsMERBQUk7QUFDckIsa0JBQWtCLDBEQUFJO0FBQ3RCLGtCQUFrQiwwREFBSTtBQUN0QixrQkFBa0IsMERBQUk7QUFDdEIsZ0JBQWdCLDBEQUFJO0FBQ3BCLGdCQUFnQiwwREFBSTtBQUNwQixpQkFBaUIsMERBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUFLLHFDQUFxQyxlQUFlO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0MsMENBQTBDLEtBQUssY0FBYztBQUM3RDtBQUNBO0FBQ0E7QUFDTyxrQkFBa0IsNkRBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RTtBQUM3RTtBQUNBO0FBQ0EscUJBQXFCLHlEQUFHO0FBQ3hCLHFCQUFxQix5REFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDLEVBQUUsc0RBQU07QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwREFBTTtBQUMzQixlQUFlLCtEQUFXO0FBQzFCO0FBQ0E7QUFDQSxXQUFXLDBEQUFNLENBQUMsK0RBQVc7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1FQUFlO0FBQ3ZDLG9CQUFvQix5REFBRztBQUN2QixvQkFBb0IseURBQUc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Qsc0NBQXNDLGFBQWE7QUFDbkQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw0REFBUSwyQkFBMkI7QUFDdkM7QUFDQSx3Q0FBd0M7QUFDeEMsd0JBQXdCO0FBQ3hCO0FBQ0Esc0JBQXNCO0FBQ3RCLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsZ0VBQVc7QUFDL0QsY0FBYywrREFBVztBQUN6QixZQUFZLHVCQUF1QixtQ0FBbUM7QUFDdEUsY0FBYywrREFBVywwQkFBMEI7QUFDbkQsK0RBQStEO0FBQy9ELHdEQUF3RDtBQUN4RCxnQ0FBZ0M7QUFDaEM7QUFDQSxtREFBbUQ7QUFDbkQsWUFBWSx1QkFBdUIsMkJBQTJCO0FBQzlELG9DQUFvQztBQUNwQyxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtEQUFXO0FBQzNCLGNBQWMsK0RBQVc7QUFDekIsZ0JBQWdCLCtEQUFXO0FBQzNCO0FBQ0Esb0NBQW9DLHdCQUF3QjtBQUM1RCw0Q0FBNEMsMkJBQTJCO0FBQ3ZFLGFBQWEsMkRBQU87QUFDcEI7QUFDQSw2Q0FBNkMsNEJBQTRCO0FBQ3pFLGFBQWEsMkRBQU87QUFDcEI7QUFDQSw4REFBOEQ7QUFDOUQsMkNBQTJDO0FBQzNDO0FBQ0EsMEJBQTBCO0FBQzFCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCO0FBQ0EsV0FBVztBQUNYLEtBQUs7QUFDTCxDQUFDO0FBQ0Qsc0NBQXNDLHNFQUFVO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDZFQUFtQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTyxnREFBZ0Qsd0VBQVk7QUFDbkUsWUFBWSxPQUFPO0FBQ25CO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsc0RBQU07QUFDaEIsQ0FBQztBQUNNO0FBQ0E7QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWx0aGNoYWluLWFwcC8uL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vc2VjcDI1NmsxLmpzPzkzOTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOSVNUIHNlY3AyNTZrMS4gU2VlIFtwZGZdKGh0dHBzOi8vd3d3LnNlY2cub3JnL3NlYzItdjIucGRmKS5cbiAqXG4gKiBTZWVtcyB0byBiZSByaWdpZCAobm90IGJhY2tkb29yZWQpXG4gKiBbYXMgcGVyIGRpc2N1c3Npb25dKGh0dHBzOi8vYml0Y29pbnRhbGsub3JnL2luZGV4LnBocD90b3BpYz0yODk3OTUubXNnMzE4Mzk3NSNtc2czMTgzOTc1KS5cbiAqXG4gKiBzZWNwMjU2azEgYmVsb25ncyB0byBLb2JsaXR6IGN1cnZlczogaXQgaGFzIGVmZmljaWVudGx5IGNvbXB1dGFibGUgZW5kb21vcnBoaXNtLlxuICogRW5kb21vcnBoaXNtIHVzZXMgMnggbGVzcyBSQU0sIHNwZWVkcyB1cCBwcmVjb21wdXRhdGlvbiBieSAyeCBhbmQgRUNESCAvIGtleSByZWNvdmVyeSBieSAyMCUuXG4gKiBGb3IgcHJlY29tcHV0ZWQgd05BRiBpdCB0cmFkZXMgb2ZmIDEvMiBpbml0IHRpbWUgJiAxLzMgcmFtIGZvciAyMCUgcGVyZiBoaXQuXG4gKiBbU2VlIGV4cGxhbmF0aW9uXShodHRwczovL2dpc3QuZ2l0aHViLmNvbS9wYXVsbWlsbHIvZWI2NzA4MDY3OTNlODRkZjYyOGE3YzQzNGE4NzMwNjYpLlxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG5pbXBvcnQgeyBzaGEyNTYgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3NoYTInO1xuaW1wb3J0IHsgcmFuZG9tQnl0ZXMgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3V0aWxzJztcbmltcG9ydCB7IGNyZWF0ZUN1cnZlIH0gZnJvbSBcIi4vX3Nob3J0d191dGlscy5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlSGFzaGVyLCBpc29nZW55TWFwIH0gZnJvbSBcIi4vYWJzdHJhY3QvaGFzaC10by1jdXJ2ZS5qc1wiO1xuaW1wb3J0IHsgRmllbGQsIG1vZCwgcG93MiB9IGZyb20gXCIuL2Fic3RyYWN0L21vZHVsYXIuanNcIjtcbmltcG9ydCB7IGFJblJhbmdlLCBieXRlc1RvTnVtYmVyQkUsIGNvbmNhdEJ5dGVzLCBlbnN1cmVCeXRlcywgaW5SYW5nZSwgbnVtYmVyVG9CeXRlc0JFLCB9IGZyb20gXCIuL2Fic3RyYWN0L3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBtYXBUb0N1cnZlU2ltcGxlU1dVIH0gZnJvbSBcIi4vYWJzdHJhY3Qvd2VpZXJzdHJhc3MuanNcIjtcbmNvbnN0IHNlY3AyNTZrMVAgPSBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmZmMyZicpO1xuY29uc3Qgc2VjcDI1NmsxTiA9IEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWJhYWVkY2U2YWY0OGEwM2JiZmQyNWU4Y2QwMzY0MTQxJyk7XG5jb25zdCBfMG4gPSBCaWdJbnQoMCk7XG5jb25zdCBfMW4gPSBCaWdJbnQoMSk7XG5jb25zdCBfMm4gPSBCaWdJbnQoMik7XG5jb25zdCBkaXZOZWFyZXN0ID0gKGEsIGIpID0+IChhICsgYiAvIF8ybikgLyBiO1xuLyoqXG4gKiDiiJpuID0gbl4oKHArMSkvNCkgZm9yIGZpZWxkcyBwID0gMyBtb2QgNC4gV2UgdW53cmFwIHRoZSBsb29wIGFuZCBtdWx0aXBseSBiaXQtYnktYml0LlxuICogKFArMW4vNG4pLnRvU3RyaW5nKDIpIHdvdWxkIHByb2R1Y2UgYml0cyBbMjIzeCAxLCAwLCAyMnggMSwgNHggMCwgMTEsIDAwXVxuICovXG5mdW5jdGlvbiBzcXJ0TW9kKHkpIHtcbiAgICBjb25zdCBQID0gc2VjcDI1NmsxUDtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfM24gPSBCaWdJbnQoMyksIF82biA9IEJpZ0ludCg2KSwgXzExbiA9IEJpZ0ludCgxMSksIF8yMm4gPSBCaWdJbnQoMjIpO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF8yM24gPSBCaWdJbnQoMjMpLCBfNDRuID0gQmlnSW50KDQ0KSwgXzg4biA9IEJpZ0ludCg4OCk7XG4gICAgY29uc3QgYjIgPSAoeSAqIHkgKiB5KSAlIFA7IC8vIHheMywgMTFcbiAgICBjb25zdCBiMyA9IChiMiAqIGIyICogeSkgJSBQOyAvLyB4XjdcbiAgICBjb25zdCBiNiA9IChwb3cyKGIzLCBfM24sIFApICogYjMpICUgUDtcbiAgICBjb25zdCBiOSA9IChwb3cyKGI2LCBfM24sIFApICogYjMpICUgUDtcbiAgICBjb25zdCBiMTEgPSAocG93MihiOSwgXzJuLCBQKSAqIGIyKSAlIFA7XG4gICAgY29uc3QgYjIyID0gKHBvdzIoYjExLCBfMTFuLCBQKSAqIGIxMSkgJSBQO1xuICAgIGNvbnN0IGI0NCA9IChwb3cyKGIyMiwgXzIybiwgUCkgKiBiMjIpICUgUDtcbiAgICBjb25zdCBiODggPSAocG93MihiNDQsIF80NG4sIFApICogYjQ0KSAlIFA7XG4gICAgY29uc3QgYjE3NiA9IChwb3cyKGI4OCwgXzg4biwgUCkgKiBiODgpICUgUDtcbiAgICBjb25zdCBiMjIwID0gKHBvdzIoYjE3NiwgXzQ0biwgUCkgKiBiNDQpICUgUDtcbiAgICBjb25zdCBiMjIzID0gKHBvdzIoYjIyMCwgXzNuLCBQKSAqIGIzKSAlIFA7XG4gICAgY29uc3QgdDEgPSAocG93MihiMjIzLCBfMjNuLCBQKSAqIGIyMikgJSBQO1xuICAgIGNvbnN0IHQyID0gKHBvdzIodDEsIF82biwgUCkgKiBiMikgJSBQO1xuICAgIGNvbnN0IHJvb3QgPSBwb3cyKHQyLCBfMm4sIFApO1xuICAgIGlmICghRnBrMS5lcWwoRnBrMS5zcXIocm9vdCksIHkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5jb25zdCBGcGsxID0gRmllbGQoc2VjcDI1NmsxUCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHsgc3FydDogc3FydE1vZCB9KTtcbi8qKlxuICogc2VjcDI1NmsxIGN1cnZlLCBFQ0RTQSBhbmQgRUNESCBtZXRob2RzLlxuICpcbiAqIEZpZWxkOiBgMm4qKjI1Nm4gLSAybioqMzJuIC0gMm4qKjluIC0gMm4qKjhuIC0gMm4qKjduIC0gMm4qKjZuIC0gMm4qKjRuIC0gMW5gXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBzZWNwMjU2azEgfSBmcm9tICdAbm9ibGUvY3VydmVzL3NlY3AyNTZrMSc7XG4gKiBjb25zdCBwcml2ID0gc2VjcDI1NmsxLnV0aWxzLnJhbmRvbVByaXZhdGVLZXkoKTtcbiAqIGNvbnN0IHB1YiA9IHNlY3AyNTZrMS5nZXRQdWJsaWNLZXkocHJpdik7XG4gKiBjb25zdCBtc2cgPSBuZXcgVWludDhBcnJheSgzMikuZmlsbCgxKTsgLy8gbWVzc2FnZSBoYXNoIChub3QgbWVzc2FnZSkgaW4gZWNkc2FcbiAqIGNvbnN0IHNpZyA9IHNlY3AyNTZrMS5zaWduKG1zZywgcHJpdik7IC8vIGB7cHJlaGFzaDogdHJ1ZX1gIG9wdGlvbiBpcyBhdmFpbGFibGVcbiAqIGNvbnN0IGlzVmFsaWQgPSBzZWNwMjU2azEudmVyaWZ5KHNpZywgbXNnLCBwdWIpID09PSB0cnVlO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNwMjU2azEgPSBjcmVhdGVDdXJ2ZSh7XG4gICAgYTogXzBuLFxuICAgIGI6IEJpZ0ludCg3KSxcbiAgICBGcDogRnBrMSxcbiAgICBuOiBzZWNwMjU2azFOLFxuICAgIEd4OiBCaWdJbnQoJzU1MDY2MjYzMDIyMjc3MzQzNjY5NTc4NzE4ODk1MTY4NTM0MzI2MjUwNjAzNDUzNzc3NTk0MTc1NTAwMTg3MzYwMzg5MTE2NzI5MjQwJyksXG4gICAgR3k6IEJpZ0ludCgnMzI2NzA1MTAwMjA3NTg4MTY5NzgwODMwODUxMzA1MDcwNDMxODQ0NzEyNzMzODA2NTkyNDMyNzU5Mzg5MDQzMzU3NTczMzc0ODI0MjQnKSxcbiAgICBoOiBCaWdJbnQoMSksXG4gICAgbG93UzogdHJ1ZSwgLy8gQWxsb3cgb25seSBsb3ctUyBzaWduYXR1cmVzIGJ5IGRlZmF1bHQgaW4gc2lnbigpIGFuZCB2ZXJpZnkoKVxuICAgIGVuZG86IHtcbiAgICAgICAgLy8gRW5kb21vcnBoaXNtLCBzZWUgYWJvdmVcbiAgICAgICAgYmV0YTogQmlnSW50KCcweDdhZTk2YTJiNjU3YzA3MTA2ZTY0NDc5ZWFjMzQzNGU5OWNmMDQ5NzUxMmY1ODk5NWMxMzk2YzI4NzE5NTAxZWUnKSxcbiAgICAgICAgc3BsaXRTY2FsYXI6IChrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gc2VjcDI1NmsxTjtcbiAgICAgICAgICAgIGNvbnN0IGExID0gQmlnSW50KCcweDMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1Jyk7XG4gICAgICAgICAgICBjb25zdCBiMSA9IC1fMW4gKiBCaWdJbnQoJzB4ZTQ0MzdlZDYwMTBlODgyODZmNTQ3ZmE5MGFiZmU0YzMnKTtcbiAgICAgICAgICAgIGNvbnN0IGEyID0gQmlnSW50KCcweDExNGNhNTBmN2E4ZTJmM2Y2NTdjMTEwOGQ5ZDQ0Y2ZkOCcpO1xuICAgICAgICAgICAgY29uc3QgYjIgPSBhMTtcbiAgICAgICAgICAgIGNvbnN0IFBPV18yXzEyOCA9IEJpZ0ludCgnMHgxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKTsgLy8gKDJuKioxMjhuKS50b1N0cmluZygxNilcbiAgICAgICAgICAgIGNvbnN0IGMxID0gZGl2TmVhcmVzdChiMiAqIGssIG4pO1xuICAgICAgICAgICAgY29uc3QgYzIgPSBkaXZOZWFyZXN0KC1iMSAqIGssIG4pO1xuICAgICAgICAgICAgbGV0IGsxID0gbW9kKGsgLSBjMSAqIGExIC0gYzIgKiBhMiwgbik7XG4gICAgICAgICAgICBsZXQgazIgPSBtb2QoLWMxICogYjEgLSBjMiAqIGIyLCBuKTtcbiAgICAgICAgICAgIGNvbnN0IGsxbmVnID0gazEgPiBQT1dfMl8xMjg7XG4gICAgICAgICAgICBjb25zdCBrMm5lZyA9IGsyID4gUE9XXzJfMTI4O1xuICAgICAgICAgICAgaWYgKGsxbmVnKVxuICAgICAgICAgICAgICAgIGsxID0gbiAtIGsxO1xuICAgICAgICAgICAgaWYgKGsybmVnKVxuICAgICAgICAgICAgICAgIGsyID0gbiAtIGsyO1xuICAgICAgICAgICAgaWYgKGsxID4gUE9XXzJfMTI4IHx8IGsyID4gUE9XXzJfMTI4KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzcGxpdFNjYWxhcjogRW5kb21vcnBoaXNtIGZhaWxlZCwgaz0nICsgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBrMW5lZywgazEsIGsybmVnLCBrMiB9O1xuICAgICAgICB9LFxuICAgIH0sXG59LCBzaGEyNTYpO1xuLy8gU2Nobm9yciBzaWduYXR1cmVzIGFyZSBzdXBlcmlvciB0byBFQ0RTQSBmcm9tIGFib3ZlLiBCZWxvdyBpcyBTY2hub3JyLXNwZWNpZmljIEJJUDAzNDAgY29kZS5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAzNDAubWVkaWF3aWtpXG4vKiogQW4gb2JqZWN0IG1hcHBpbmcgdGFncyB0byB0aGVpciB0YWdnZWQgaGFzaCBwcmVmaXggb2YgW1NIQTI1Nih0YWcpIHwgU0hBMjU2KHRhZyldICovXG5jb25zdCBUQUdHRURfSEFTSF9QUkVGSVhFUyA9IHt9O1xuZnVuY3Rpb24gdGFnZ2VkSGFzaCh0YWcsIC4uLm1lc3NhZ2VzKSB7XG4gICAgbGV0IHRhZ1AgPSBUQUdHRURfSEFTSF9QUkVGSVhFU1t0YWddO1xuICAgIGlmICh0YWdQID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgdGFnSCA9IHNoYTI1NihVaW50OEFycmF5LmZyb20odGFnLCAoYykgPT4gYy5jaGFyQ29kZUF0KDApKSk7XG4gICAgICAgIHRhZ1AgPSBjb25jYXRCeXRlcyh0YWdILCB0YWdIKTtcbiAgICAgICAgVEFHR0VEX0hBU0hfUFJFRklYRVNbdGFnXSA9IHRhZ1A7XG4gICAgfVxuICAgIHJldHVybiBzaGEyNTYoY29uY2F0Qnl0ZXModGFnUCwgLi4ubWVzc2FnZXMpKTtcbn1cbi8vIEVDRFNBIGNvbXBhY3QgcG9pbnRzIGFyZSAzMy1ieXRlLiBTY2hub3JyIGlzIDMyOiB3ZSBzdHJpcCBmaXJzdCBieXRlIDB4MDIgb3IgMHgwM1xuY29uc3QgcG9pbnRUb0J5dGVzID0gKHBvaW50KSA9PiBwb2ludC50b1Jhd0J5dGVzKHRydWUpLnNsaWNlKDEpO1xuY29uc3QgbnVtVG8zMmIgPSAobikgPT4gbnVtYmVyVG9CeXRlc0JFKG4sIDMyKTtcbmNvbnN0IG1vZFAgPSAoeCkgPT4gbW9kKHgsIHNlY3AyNTZrMVApO1xuY29uc3QgbW9kTiA9ICh4KSA9PiBtb2QoeCwgc2VjcDI1NmsxTik7XG5jb25zdCBQb2ludCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gc2VjcDI1NmsxLlByb2plY3RpdmVQb2ludCkoKTtcbmNvbnN0IEdtdWxBZGQgPSAoUSwgYSwgYikgPT4gUG9pbnQuQkFTRS5tdWx0aXBseUFuZEFkZFVuc2FmZShRLCBhLCBiKTtcbi8vIENhbGN1bGF0ZSBwb2ludCwgc2NhbGFyIGFuZCBieXRlc1xuZnVuY3Rpb24gc2Nobm9yckdldEV4dFB1YktleShwcml2KSB7XG4gICAgbGV0IGRfID0gc2VjcDI1NmsxLnV0aWxzLm5vcm1Qcml2YXRlS2V5VG9TY2FsYXIocHJpdik7IC8vIHNhbWUgbWV0aG9kIGV4ZWN1dGVkIGluIGZyb21Qcml2YXRlS2V5XG4gICAgbGV0IHAgPSBQb2ludC5mcm9tUHJpdmF0ZUtleShkXyk7IC8vIFAgPSBkJ+KLhUc7IDAgPCBkJyA8IG4gY2hlY2sgaXMgZG9uZSBpbnNpZGVcbiAgICBjb25zdCBzY2FsYXIgPSBwLmhhc0V2ZW5ZKCkgPyBkXyA6IG1vZE4oLWRfKTtcbiAgICByZXR1cm4geyBzY2FsYXI6IHNjYWxhciwgYnl0ZXM6IHBvaW50VG9CeXRlcyhwKSB9O1xufVxuLyoqXG4gKiBsaWZ0X3ggZnJvbSBCSVAzNDAuIENvbnZlcnQgMzItYnl0ZSB4IGNvb3JkaW5hdGUgdG8gZWxsaXB0aWMgY3VydmUgcG9pbnQuXG4gKiBAcmV0dXJucyB2YWxpZCBwb2ludCBjaGVja2VkIGZvciBiZWluZyBvbi1jdXJ2ZVxuICovXG5mdW5jdGlvbiBsaWZ0X3goeCkge1xuICAgIGFJblJhbmdlKCd4JywgeCwgXzFuLCBzZWNwMjU2azFQKTsgLy8gRmFpbCBpZiB4IOKJpSBwLlxuICAgIGNvbnN0IHh4ID0gbW9kUCh4ICogeCk7XG4gICAgY29uc3QgYyA9IG1vZFAoeHggKiB4ICsgQmlnSW50KDcpKTsgLy8gTGV0IGMgPSB4wrMgKyA3IG1vZCBwLlxuICAgIGxldCB5ID0gc3FydE1vZChjKTsgLy8gTGV0IHkgPSBjXihwKzEpLzQgbW9kIHAuXG4gICAgaWYgKHkgJSBfMm4gIT09IF8wbilcbiAgICAgICAgeSA9IG1vZFAoLXkpOyAvLyBSZXR1cm4gdGhlIHVuaXF1ZSBwb2ludCBQIHN1Y2ggdGhhdCB4KFApID0geCBhbmRcbiAgICBjb25zdCBwID0gbmV3IFBvaW50KHgsIHksIF8xbik7IC8vIHkoUCkgPSB5IGlmIHkgbW9kIDIgPSAwIG9yIHkoUCkgPSBwLXkgb3RoZXJ3aXNlLlxuICAgIHAuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICByZXR1cm4gcDtcbn1cbmNvbnN0IG51bSA9IGJ5dGVzVG9OdW1iZXJCRTtcbi8qKlxuICogQ3JlYXRlIHRhZ2dlZCBoYXNoLCBjb252ZXJ0IGl0IHRvIGJpZ2ludCwgcmVkdWNlIG1vZHVsby1uLlxuICovXG5mdW5jdGlvbiBjaGFsbGVuZ2UoLi4uYXJncykge1xuICAgIHJldHVybiBtb2ROKG51bSh0YWdnZWRIYXNoKCdCSVAwMzQwL2NoYWxsZW5nZScsIC4uLmFyZ3MpKSk7XG59XG4vKipcbiAqIFNjaG5vcnIgcHVibGljIGtleSBpcyBqdXN0IGB4YCBjb29yZGluYXRlIG9mIFBvaW50IGFzIHBlciBCSVAzNDAuXG4gKi9cbmZ1bmN0aW9uIHNjaG5vcnJHZXRQdWJsaWNLZXkocHJpdmF0ZUtleSkge1xuICAgIHJldHVybiBzY2hub3JyR2V0RXh0UHViS2V5KHByaXZhdGVLZXkpLmJ5dGVzOyAvLyBkJz1pbnQoc2spLiBGYWlsIGlmIGQnPTAgb3IgZCfiiaVuLiBSZXQgYnl0ZXMoZCfii4VHKVxufVxuLyoqXG4gKiBDcmVhdGVzIFNjaG5vcnIgc2lnbmF0dXJlIGFzIHBlciBCSVAzNDAuIFZlcmlmaWVzIGl0c2VsZiBiZWZvcmUgcmV0dXJuaW5nIGFueXRoaW5nLlxuICogYXV4UmFuZCBpcyBvcHRpb25hbCBhbmQgaXMgbm90IHRoZSBzb2xlIHNvdXJjZSBvZiBrIGdlbmVyYXRpb246IGJhZCBDU1BSTkcgd29uJ3QgYmUgZGFuZ2Vyb3VzLlxuICovXG5mdW5jdGlvbiBzY2hub3JyU2lnbihtZXNzYWdlLCBwcml2YXRlS2V5LCBhdXhSYW5kID0gcmFuZG9tQnl0ZXMoMzIpKSB7XG4gICAgY29uc3QgbSA9IGVuc3VyZUJ5dGVzKCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgY29uc3QgeyBieXRlczogcHgsIHNjYWxhcjogZCB9ID0gc2Nobm9yckdldEV4dFB1YktleShwcml2YXRlS2V5KTsgLy8gY2hlY2tzIGZvciBpc1dpdGhpbkN1cnZlT3JkZXJcbiAgICBjb25zdCBhID0gZW5zdXJlQnl0ZXMoJ2F1eFJhbmQnLCBhdXhSYW5kLCAzMik7IC8vIEF1eGlsaWFyeSByYW5kb20gZGF0YSBhOiBhIDMyLWJ5dGUgYXJyYXlcbiAgICBjb25zdCB0ID0gbnVtVG8zMmIoZCBeIG51bSh0YWdnZWRIYXNoKCdCSVAwMzQwL2F1eCcsIGEpKSk7IC8vIExldCB0IGJlIHRoZSBieXRlLXdpc2UgeG9yIG9mIGJ5dGVzKGQpIGFuZCBoYXNoL2F1eChhKVxuICAgIGNvbnN0IHJhbmQgPSB0YWdnZWRIYXNoKCdCSVAwMzQwL25vbmNlJywgdCwgcHgsIG0pOyAvLyBMZXQgcmFuZCA9IGhhc2gvbm9uY2UodCB8fCBieXRlcyhQKSB8fCBtKVxuICAgIGNvbnN0IGtfID0gbW9kTihudW0ocmFuZCkpOyAvLyBMZXQgaycgPSBpbnQocmFuZCkgbW9kIG5cbiAgICBpZiAoa18gPT09IF8wbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduIGZhaWxlZDogayBpcyB6ZXJvJyk7IC8vIEZhaWwgaWYgaycgPSAwLlxuICAgIGNvbnN0IHsgYnl0ZXM6IHJ4LCBzY2FsYXI6IGsgfSA9IHNjaG5vcnJHZXRFeHRQdWJLZXkoa18pOyAvLyBMZXQgUiA9IGsn4ouFRy5cbiAgICBjb25zdCBlID0gY2hhbGxlbmdlKHJ4LCBweCwgbSk7IC8vIExldCBlID0gaW50KGhhc2gvY2hhbGxlbmdlKGJ5dGVzKFIpIHx8IGJ5dGVzKFApIHx8IG0pKSBtb2Qgbi5cbiAgICBjb25zdCBzaWcgPSBuZXcgVWludDhBcnJheSg2NCk7IC8vIExldCBzaWcgPSBieXRlcyhSKSB8fCBieXRlcygoayArIGVkKSBtb2QgbikuXG4gICAgc2lnLnNldChyeCwgMCk7XG4gICAgc2lnLnNldChudW1UbzMyYihtb2ROKGsgKyBlICogZCkpLCAzMik7XG4gICAgLy8gSWYgVmVyaWZ5KGJ5dGVzKFApLCBtLCBzaWcpIChzZWUgYmVsb3cpIHJldHVybnMgZmFpbHVyZSwgYWJvcnRcbiAgICBpZiAoIXNjaG5vcnJWZXJpZnkoc2lnLCBtLCBweCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2lnbjogSW52YWxpZCBzaWduYXR1cmUgcHJvZHVjZWQnKTtcbiAgICByZXR1cm4gc2lnO1xufVxuLyoqXG4gKiBWZXJpZmllcyBTY2hub3JyIHNpZ25hdHVyZS5cbiAqIFdpbGwgc3dhbGxvdyBlcnJvcnMgJiByZXR1cm4gZmFsc2UgZXhjZXB0IGZvciBpbml0aWFsIHR5cGUgdmFsaWRhdGlvbiBvZiBhcmd1bWVudHMuXG4gKi9cbmZ1bmN0aW9uIHNjaG5vcnJWZXJpZnkoc2lnbmF0dXJlLCBtZXNzYWdlLCBwdWJsaWNLZXkpIHtcbiAgICBjb25zdCBzaWcgPSBlbnN1cmVCeXRlcygnc2lnbmF0dXJlJywgc2lnbmF0dXJlLCA2NCk7XG4gICAgY29uc3QgbSA9IGVuc3VyZUJ5dGVzKCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgY29uc3QgcHViID0gZW5zdXJlQnl0ZXMoJ3B1YmxpY0tleScsIHB1YmxpY0tleSwgMzIpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFAgPSBsaWZ0X3gobnVtKHB1YikpOyAvLyBQID0gbGlmdF94KGludChwaykpOyBmYWlsIGlmIHRoYXQgZmFpbHNcbiAgICAgICAgY29uc3QgciA9IG51bShzaWcuc3ViYXJyYXkoMCwgMzIpKTsgLy8gTGV0IHIgPSBpbnQoc2lnWzA6MzJdKTsgZmFpbCBpZiByIOKJpSBwLlxuICAgICAgICBpZiAoIWluUmFuZ2UociwgXzFuLCBzZWNwMjU2azFQKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgcyA9IG51bShzaWcuc3ViYXJyYXkoMzIsIDY0KSk7IC8vIExldCBzID0gaW50KHNpZ1szMjo2NF0pOyBmYWlsIGlmIHMg4omlIG4uXG4gICAgICAgIGlmICghaW5SYW5nZShzLCBfMW4sIHNlY3AyNTZrMU4pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBlID0gY2hhbGxlbmdlKG51bVRvMzJiKHIpLCBwb2ludFRvQnl0ZXMoUCksIG0pOyAvLyBpbnQoY2hhbGxlbmdlKGJ5dGVzKHIpfHxieXRlcyhQKXx8bSkpJW5cbiAgICAgICAgY29uc3QgUiA9IEdtdWxBZGQoUCwgcywgbW9kTigtZSkpOyAvLyBSID0gc+KLhUcgLSBl4ouFUFxuICAgICAgICBpZiAoIVIgfHwgIVIuaGFzRXZlblkoKSB8fCBSLnRvQWZmaW5lKCkueCAhPT0gcilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gLWVQID09IChuLWUpUFxuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gRmFpbCBpZiBpc19pbmZpbml0ZShSKSAvIG5vdCBoYXNfZXZlbl95KFIpIC8geChSKSDiiaAgci5cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIFNjaG5vcnIgc2lnbmF0dXJlcyBvdmVyIHNlY3AyNTZrMS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAzNDAubWVkaWF3aWtpXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IHNjaG5vcnIgfSBmcm9tICdAbm9ibGUvY3VydmVzL3NlY3AyNTZrMSc7XG4gKiBjb25zdCBwcml2ID0gc2Nobm9yci51dGlscy5yYW5kb21Qcml2YXRlS2V5KCk7XG4gKiBjb25zdCBwdWIgPSBzY2hub3JyLmdldFB1YmxpY0tleShwcml2KTtcbiAqIGNvbnN0IG1zZyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSgnaGVsbG8nKTtcbiAqIGNvbnN0IHNpZyA9IHNjaG5vcnIuc2lnbihtc2csIHByaXYpO1xuICogY29uc3QgaXNWYWxpZCA9IHNjaG5vcnIudmVyaWZ5KHNpZywgbXNnLCBwdWIpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBzY2hub3JyID0gLyogQF9fUFVSRV9fICovICgoKSA9PiAoe1xuICAgIGdldFB1YmxpY0tleTogc2Nobm9yckdldFB1YmxpY0tleSxcbiAgICBzaWduOiBzY2hub3JyU2lnbixcbiAgICB2ZXJpZnk6IHNjaG5vcnJWZXJpZnksXG4gICAgdXRpbHM6IHtcbiAgICAgICAgcmFuZG9tUHJpdmF0ZUtleTogc2VjcDI1NmsxLnV0aWxzLnJhbmRvbVByaXZhdGVLZXksXG4gICAgICAgIGxpZnRfeCxcbiAgICAgICAgcG9pbnRUb0J5dGVzLFxuICAgICAgICBudW1iZXJUb0J5dGVzQkUsXG4gICAgICAgIGJ5dGVzVG9OdW1iZXJCRSxcbiAgICAgICAgdGFnZ2VkSGFzaCxcbiAgICAgICAgbW9kLFxuICAgIH0sXG59KSkoKTtcbmNvbnN0IGlzb01hcCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gaXNvZ2VueU1hcChGcGsxLCBbXG4gICAgLy8geE51bVxuICAgIFtcbiAgICAgICAgJzB4OGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGRhYWFhYThjNycsXG4gICAgICAgICcweDdkM2Q0YzgwYmMzMjFkNWI5ZjMxNWNlYTdmZDQ0YzVkNTk1ZDJmYzBiZjYzYjkyZGZmZjEwNDRmMTdjNjU4MScsXG4gICAgICAgICcweDUzNGMzMjhkMjNmMjM0ZTZlMmE0MTNkZWNhMjVjYWVjZTQ1MDYxNDQwMzdjNDAzMTRlY2JkMGI1M2Q5ZGQyNjInLFxuICAgICAgICAnMHg4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZGFhYWFhODhjJyxcbiAgICBdLFxuICAgIC8vIHhEZW5cbiAgICBbXG4gICAgICAgICcweGQzNTc3MTE5M2Q5NDkxOGE5Y2EzNGNjYmI3YjY0MGRkODZjZDQwOTU0MmY4NDg3ZDlmZTZiNzQ1NzgxZWI0OWInLFxuICAgICAgICAnMHhlZGFkYzZmNjQzODNkYzFkZjdjNGIyZDUxYjU0MjI1NDA2ZDM2YjY0MWY1ZTQxYmJjNTJhNTY2MTJhOGM2ZDE0JyxcbiAgICAgICAgJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsIC8vIExBU1QgMVxuICAgIF0sXG4gICAgLy8geU51bVxuICAgIFtcbiAgICAgICAgJzB4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGI4ZTM4ZTIzYycsXG4gICAgICAgICcweGM3NWUwYzMyZDVjYjdjMGZhOWQwYTU0YjEyYTBhNmQ1NjQ3YWIwNDZkNjg2ZGE2ZmRmZmM5MGZjMjAxZDcxYTMnLFxuICAgICAgICAnMHgyOWE2MTk0NjkxZjkxYTczNzE1MjA5ZWY2NTEyZTU3NjcyMjgzMGEyMDFiZTIwMThhNzY1ZTg1YTllY2VlOTMxJyxcbiAgICAgICAgJzB4MmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmYzOGUzOGQ4NCcsXG4gICAgXSxcbiAgICAvLyB5RGVuXG4gICAgW1xuICAgICAgICAnMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmOTNiJyxcbiAgICAgICAgJzB4N2EwNjUzNGJiOGJkYjQ5ZmQ1ZTllNjYzMjcyMmMyOTg5NDY3YzFiZmM4ZThkOTc4ZGZiNDI1ZDI2ODVjMjU3MycsXG4gICAgICAgICcweDY0ODRhYTcxNjU0NWNhMmNmM2E3MGMzZmE4ZmUzMzdlMGEzZDIxMTYyZjBkNjI5OWE3YmY4MTkyYmZkMmE3NmYnLFxuICAgICAgICAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJywgLy8gTEFTVCAxXG4gICAgXSxcbl0ubWFwKChpKSA9PiBpLm1hcCgoaikgPT4gQmlnSW50KGopKSkpKSgpO1xuY29uc3QgbWFwU1dVID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBtYXBUb0N1cnZlU2ltcGxlU1dVKEZwazEsIHtcbiAgICBBOiBCaWdJbnQoJzB4M2Y4NzMxYWJkZDY2MWFkY2EwOGE1NTU4ZjBmNWQyNzJlOTUzZDM2M2NiNmYwZTVkNDA1NDQ3YzAxYTQ0NDUzMycpLFxuICAgIEI6IEJpZ0ludCgnMTc3MScpLFxuICAgIFo6IEZwazEuY3JlYXRlKEJpZ0ludCgnLTExJykpLFxufSkpKCk7XG4vKiogSGFzaGluZyAvIGVuY29kaW5nIHRvIHNlY3AyNTZrMSBwb2ludHMgLyBmaWVsZC4gUkZDIDkzODAgbWV0aG9kcy4gKi9cbmV4cG9ydCBjb25zdCBzZWNwMjU2azFfaGFzaGVyID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBjcmVhdGVIYXNoZXIoc2VjcDI1NmsxLlByb2plY3RpdmVQb2ludCwgKHNjYWxhcnMpID0+IHtcbiAgICBjb25zdCB7IHgsIHkgfSA9IG1hcFNXVShGcGsxLmNyZWF0ZShzY2FsYXJzWzBdKSk7XG4gICAgcmV0dXJuIGlzb01hcCh4LCB5KTtcbn0sIHtcbiAgICBEU1Q6ICdzZWNwMjU2azFfWE1EOlNIQS0yNTZfU1NXVV9ST18nLFxuICAgIGVuY29kZURTVDogJ3NlY3AyNTZrMV9YTUQ6U0hBLTI1Nl9TU1dVX05VXycsXG4gICAgcDogRnBrMS5PUkRFUixcbiAgICBtOiAxLFxuICAgIGs6IDEyOCxcbiAgICBleHBhbmQ6ICd4bWQnLFxuICAgIGhhc2g6IHNoYTI1Nixcbn0pKSgpO1xuZXhwb3J0IGNvbnN0IGhhc2hUb0N1cnZlID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBzZWNwMjU2azFfaGFzaGVyLmhhc2hUb0N1cnZlKSgpO1xuZXhwb3J0IGNvbnN0IGVuY29kZVRvQ3VydmUgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IHNlY3AyNTZrMV9oYXNoZXIuZW5jb2RlVG9DdXJ2ZSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlY3AyNTZrMS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/node_modules/@noble/curves/esm/secp256k1.js\n");

/***/ })

};
;